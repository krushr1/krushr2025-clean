import{a as me,b as Be,c as ce,e as Ke,f as X,g as ee,h as te}from"/chunks/chunk-R4CQANMW.js";import{A as Fe,F as Oe,G as f,I as He,J as Le,K as Re,P as c,Q as q,R as Ve,U as $e,b as ke,g as w,v as Ae}from"/chunks/chunk-YR3Q33FW.js";import{a as Pe}from"/chunks/chunk-IANVKD3C.js";import{f as u}from"/chunks/chunk-IAZQ4Y34.js";import{c as Ne}from"/chunks/chunk-6W2CN5GW.js";import"/chunks/chunk-SO64UZU4.js";import"/chunks/chunk-VGELVBOW.js";import{A as W,Aa as ze,C as De,D as G,Da as J,H as z,Ha as le,U as Ce,Va as Me,Z as Se,bb as O,c as A,cb as de,d as be,e as Y,fb as Ie,g as i,gb as Z,ia as Ee,oa as F,u as K,y as Te,z as oe}from"/chunks/chunk-UTGMEFH3.js";var p=A(be(),1);function pe(T){return f(T,Oe(T))}var _=A(be(),1);var r=A(Y(),1),ge=[{id:"1",title:"Leadership Team Sync",description:"Weekly leadership alignment - Q4 priorities, resource allocation, blockers",startTime:new Date(2025,6,4,9,0),endTime:new Date(2025,6,4,10,0),location:"Executive Conference Room",type:"meeting",priority:"high",status:"confirmed",attendees:["Sarah Chen","Mike Rodriguez","David Kim"],tags:["strategy","leadership"],notes:"Focus on API performance metrics and mobile release timeline"},{id:"2",title:"Review Sprint 23 Deliverables",description:"Final review of authentication system and user onboarding flow",startTime:new Date(2025,6,4,11,30),endTime:new Date(2025,6,4,12,30),type:"review",priority:"high",status:"confirmed",attendees:["Engineering Team","QA Team"],tags:["sprint-review","deliverables"],notes:"Security audit results due. Check penetration testing report."},{id:"3",title:"Client Check-in: TechCorp Integration",description:"Progress update on API integration, timeline confirmation",startTime:new Date(2025,6,4,14,0),endTime:new Date(2025,6,4,15,0),location:"Zoom",type:"call",priority:"critical",status:"confirmed",attendees:["Jennifer Walsh (TechCorp)","Alex Thompson"],tags:["client","integration"],notes:"$2.3M contract. Address their concerns about data migration timeline."},{id:"4",title:"Finalize Q4 Budget Proposal",description:"Complete budget analysis for additional engineering headcount",startTime:new Date(2025,6,4,16,30),endTime:new Date(2025,6,4,17,30),type:"task",priority:"high",status:"pending",tags:["budget","planning"],notes:"Include ROI projections for 3 senior engineers. CFO meeting Monday."},{id:"5",title:"Architecture Review Board",description:"Microservices migration proposal - security, scalability, timeline",startTime:new Date(2025,6,5,10,0),endTime:new Date(2025,6,5,11,30),location:"Tech Hub - Room 401",type:"meeting",priority:"critical",status:"confirmed",attendees:["CTO","Senior Architects","Security Team"],tags:["architecture","migration"],notes:"Present 6-month migration plan. Emphasize zero-downtime approach."},{id:"6",title:"All-Hands Presentation Prep",description:"Rehearse quarterly results presentation - focus on team achievements",startTime:new Date(2025,6,5,13,0),endTime:new Date(2025,6,5,14,0),type:"planning",priority:"medium",status:"confirmed",tags:["presentation","all-hands"],notes:"Highlight 40% performance improvement and 99.7% uptime achievement"},{id:"7",title:"Vendor Evaluation: Cloud Infrastructure",description:"Final decision on AWS vs Azure for new regions",startTime:new Date(2025,6,5,15,30),endTime:new Date(2025,6,5,16,30),type:"meeting",priority:"high",status:"confirmed",attendees:["DevOps Lead","Finance","Procurement"],tags:["vendor","infrastructure"],notes:"Cost analysis complete. AWS 23% more cost-effective for our use case."},{id:"8",title:"Product Roadmap Review",description:"H1 2026 feature prioritization with product and design teams",startTime:new Date(2025,6,6,9,30),endTime:new Date(2025,6,6,11,0),location:"Product Suite",type:"planning",priority:"high",status:"confirmed",attendees:["Product Team","Design Team","Engineering Leads"],tags:["roadmap","planning"],notes:"Focus on AI features and mobile-first initiatives"},{id:"9",title:"Security Incident Response Drill",description:"Quarterly security simulation - test response procedures",startTime:new Date(2025,6,6,14,0),endTime:new Date(2025,6,6,15,30),type:"task",priority:"medium",status:"confirmed",attendees:["Security Team","DevOps","On-call Engineers"],tags:["security","drill"],notes:"Simulating data breach scenario. Update runbooks based on results."},{id:"10",title:"Performance Review: Senior Engineers",description:"Quarterly performance discussions and career development planning",startTime:new Date(2025,6,6,16,0),endTime:new Date(2025,6,6,17,30),type:"meeting",priority:"high",status:"confirmed",tags:["performance","career-development"],notes:"Promotion recommendations due. Focus on growth paths and compensation."}],qe={meeting:O,task:G,deadline:Z,call:ze,review:Ce,planning:Me},We={low:"bg-gray-400",medium:"bg-krushr-priority-medium",high:"bg-krushr-priority-high",critical:"bg-krushr-priority-critical"};function he({workspaceId:T,className:H}){let[M,ue]=(0,_.useState)(new Set(["today"])),[o,D]=(0,_.useState)(null),h=(0,_.useMemo)(()=>{let d=new Date,g=me(d,1),y=me(d,2);return[{key:"today",label:"Today",date:d,items:ge.filter(n=>f(n.startTime,d))},{key:"tomorrow",label:`Tomorrow (${ce(g)})`,date:g,items:ge.filter(n=>f(n.startTime,g))},{key:"dayafter",label:ce(y),date:y,items:ge.filter(n=>f(n.startTime,y))}].filter(n=>n.items.length>0)},[]),L=d=>{let g=new Set(M);g.has(d)?g.delete(d):g.add(d),ue(g)},R=(d,g)=>`${c(d,"h:mm a")} - ${c(g,"h:mm a")}`,I=d=>{let g=d.filter(n=>n.type==="meeting"||n.type==="call").length,y=d.filter(n=>n.type==="task"||n.type==="review").length,N=d.filter(n=>n.priority==="critical").length;return{meetings:g,tasks:y,critical:N}};return(0,r.jsxs)("div",{className:i("flex h-full bg-white",H),children:[(0,r.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,r.jsx)("div",{className:"px-3 py-1.5 border-b border-gray-200",children:(0,r.jsx)("h2",{className:"text-sm font-medium text-gray-900 font-manrope",children:"Executive Agenda"})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto",children:h.map(d=>{let g=M.has(d.key),y=I(d.items),N=f(d.date,new Date);return(0,r.jsxs)("div",{className:"border-b border-gray-100/50",children:[(0,r.jsxs)("button",{onClick:()=>L(d.key),className:i("w-full px-3 py-1.5 flex items-center justify-between hover:bg-gray-50 transition-colors",N&&"bg-krushr-primary/5"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[g?(0,r.jsx)(Te,{className:"w-3 h-3 text-gray-400"}):(0,r.jsx)(W,{className:"w-3 h-3 text-gray-400"}),(0,r.jsxs)("h3",{className:i("font-medium text-xs font-manrope",N?"text-krushr-primary":"text-gray-900"),children:[d.label," (",d.items.length,")"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[y.critical>0&&(0,r.jsx)(w,{variant:"destructive",className:"text-xs px-1 py-0 h-3.5 text-xs",children:y.critical}),(0,r.jsxs)("span",{className:"text-xs text-gray-500 font-manrope",children:[y.meetings,"m \u2022 ",y.tasks,"t"]})]})]}),g&&(0,r.jsx)("div",{className:"px-3 pb-1",children:(0,r.jsx)("div",{className:"space-y-0.5",children:d.items.map(n=>{let B=qe[n.type],re=We[n.priority];return(0,r.jsxs)("div",{className:i("border-l-2 pl-2 py-1 cursor-pointer hover:bg-gray-50 transition-colors rounded-r text-xs",n.priority==="critical"&&"border-l-krushr-priority-critical bg-red-50/30",n.priority==="high"&&"border-l-krushr-priority-high bg-orange-50/30",n.priority==="medium"&&"border-l-krushr-priority-medium bg-yellow-50/30",n.priority==="low"&&"border-l-gray-400 bg-gray-50/30"),onClick:()=>D(n),children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5 mb-0.5",children:[(0,r.jsx)(B,{className:"w-2.5 h-2.5 text-krushr-primary flex-shrink-0"}),(0,r.jsx)("div",{className:i("w-1 h-1 rounded-full flex-shrink-0",re)}),(0,r.jsx)("h4",{className:"font-medium text-xs text-gray-900 font-manrope truncate flex-1",children:n.title}),(0,r.jsxs)("div",{className:"flex items-center gap-0.5 text-xs text-gray-500 font-manrope",children:[(0,r.jsx)(z,{className:"w-2.5 h-2.5"}),c(n.startTime,"h:mm a")]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-600 pl-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5 truncate",children:[n.location&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[n.location.includes("Zoom")||n.location.includes("Teams")?(0,r.jsx)(de,{className:"w-2.5 h-2.5"}):(0,r.jsx)(F,{className:"w-2.5 h-2.5"}),(0,r.jsx)("span",{className:"truncate text-xs",children:n.location})]}),n.attendees&&n.attendees.length>0&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(O,{className:"w-2.5 h-2.5"}),(0,r.jsx)("span",{className:"text-xs",children:n.attendees.length})]})]}),n.tags&&n.tags.length>0&&(0,r.jsxs)("div",{className:"flex gap-0.5",children:[n.tags.slice(0,1).map(j=>(0,r.jsx)(w,{variant:"outline",className:"text-xs px-1 py-0 h-3.5",children:j},j)),n.tags.length>1&&(0,r.jsxs)("span",{className:"text-xs text-gray-400",children:["+",n.tags.length-1]})]})]})]},n.id)})})})]},d.key)})})]}),o&&(0,r.jsx)("div",{className:"w-72 border-l border-gray-200 bg-gray-50",children:(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h3",{className:"font-medium text-sm text-gray-900 font-manrope",children:"Details"}),(0,r.jsx)(u,{variant:"ghost",size:"sm",onClick:()=>D(null),className:"p-1 h-5 w-5",children:"\u2715"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-sm text-gray-900 mb-1 font-manrope",children:o.title}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)(w,{variant:"outline",className:"text-xs px-1 py-0",children:o.type}),(0,r.jsx)("div",{className:i("w-2 h-2 rounded-full",We[o.priority])}),(0,r.jsx)("span",{className:"text-xs text-gray-600 capitalize",children:o.priority})]}),o.description&&(0,r.jsx)("p",{className:"text-xs text-gray-600 font-manrope leading-relaxed",children:o.description})]}),(0,r.jsxs)("div",{className:"space-y-1.5 text-xs",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(z,{className:"w-3 h-3 text-gray-400"}),(0,r.jsx)("span",{className:"font-manrope",children:R(o.startTime,o.endTime)})]}),o.location&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[o.location.includes("Zoom")||o.location.includes("Teams")?(0,r.jsx)(de,{className:"w-3 h-3 text-gray-400"}):(0,r.jsx)(F,{className:"w-3 h-3 text-gray-400"}),(0,r.jsx)("span",{className:"font-manrope",children:o.location})]}),o.attendees&&o.attendees.length>0&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(O,{className:"w-3 h-3 text-gray-400"}),(0,r.jsxs)("span",{className:"font-manrope",children:[o.attendees.length," attendees"]})]})]}),o.attendees&&o.attendees.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"font-medium text-xs text-gray-900 mb-1 font-manrope",children:"Attendees"}),(0,r.jsxs)("div",{className:"space-y-0.5",children:[o.attendees.slice(0,4).map(d=>(0,r.jsx)("div",{className:"text-xs text-gray-600 font-manrope",children:d},d)),o.attendees.length>4&&(0,r.jsxs)("div",{className:"text-xs text-gray-400",children:["+",o.attendees.length-4," more"]})]})]}),o.notes&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"font-medium text-xs text-gray-900 mb-1 font-manrope",children:"Notes"}),(0,r.jsx)("p",{className:"text-xs text-gray-600 font-manrope bg-white p-2 rounded border leading-relaxed",children:o.notes})]}),o.tags&&o.tags.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"font-medium text-xs text-gray-900 mb-1 font-manrope",children:"Tags"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:o.tags.map(d=>(0,r.jsx)(w,{variant:"outline",className:"text-xs px-1 py-0",children:d},d))})]})]})]})})]})}var e=A(Y(),1),ae={blue:{bg:"bg-krushr-primary/10",border:"border-krushr-primary/20",text:"text-krushr-primary"},green:{bg:"bg-krushr-success/10",border:"border-krushr-success/20",text:"text-krushr-success"},purple:{bg:"bg-krushr-purple/10",border:"border-krushr-purple/20",text:"text-krushr-purple"},orange:{bg:"bg-krushr-orange/10",border:"border-krushr-orange/20",text:"text-krushr-orange"},red:{bg:"bg-krushr-secondary/10",border:"border-krushr-secondary/20",text:"text-krushr-secondary"}},Ge={MEETING:O,TASK:G,REMINDER:De,EVENT:K,DEADLINE:Z,MILESTONE:G},_e={LOW:"bg-krushr-priority-low",MEDIUM:"bg-krushr-priority-medium",HIGH:"bg-krushr-priority-high",CRITICAL:"bg-krushr-priority-critical"};function Xe({workspaceId:T,className:H,showHolidays:M=!0,holidayCountry:ue="US"}){let[o,D]=(0,p.useState)(new Date),[h,L]=(0,p.useState)(null),[R,I]=(0,p.useState)("month"),[d,g]=(0,p.useState)(!1),[y,N]=(0,p.useState)(null),[n,B]=(0,p.useState)(""),[re,j]=(0,p.useState)(!1),[b,V]=(0,p.useState)(!1),[$,je]=(0,p.useState)({width:0,height:0}),C=(0,p.useRef)(null),Ue=(0,p.useMemo)(()=>M?[{date:"2024-01-01",name:"New Year's Day",type:"Federal Holiday"},{date:"2024-01-15",name:"Martin Luther King Jr. Day",type:"Federal Holiday"},{date:"2024-02-19",name:"Presidents Day",type:"Federal Holiday"},{date:"2024-05-27",name:"Memorial Day",type:"Federal Holiday"},{date:"2024-06-19",name:"Juneteenth",type:"Federal Holiday"},{date:"2024-07-04",name:"Independence Day",type:"Federal Holiday"},{date:"2024-09-02",name:"Labor Day",type:"Federal Holiday"},{date:"2024-10-14",name:"Columbus Day",type:"Federal Holiday"},{date:"2024-11-11",name:"Veterans Day",type:"Federal Holiday"},{date:"2024-11-28",name:"Thanksgiving Day",type:"Federal Holiday"},{date:"2024-12-25",name:"Christmas Day",type:"Federal Holiday"},{date:"2025-01-01",name:"New Year's Day",type:"Federal Holiday"},{date:"2025-01-20",name:"Martin Luther King Jr. Day",type:"Federal Holiday"},{date:"2025-02-17",name:"Presidents Day",type:"Federal Holiday"},{date:"2025-05-26",name:"Memorial Day",type:"Federal Holiday"},{date:"2025-06-19",name:"Juneteenth",type:"Federal Holiday"},{date:"2025-07-04",name:"Independence Day",type:"Federal Holiday"},{date:"2025-09-01",name:"Labor Day",type:"Federal Holiday"},{date:"2025-10-13",name:"Columbus Day",type:"Federal Holiday"},{date:"2025-11-11",name:"Veterans Day",type:"Federal Holiday"},{date:"2025-11-27",name:"Thanksgiving Day",type:"Federal Holiday"},{date:"2025-12-25",name:"Christmas Day",type:"Federal Holiday"}]:[],[M]),Qe=Re(o),Ye=He(o),ye=Fe(Qe,{weekStartsOn:0}),fe=Be(Ye,{weekStartsOn:0}),xe=Le({start:ye,end:fe}),{data:se,isLoading:Je}=Ne.calendar.list.useQuery({workspaceId:T,startDate:ye,endDate:fe},{retry:!1,refetchOnWindowFocus:!1}),U=(0,p.useMemo)(()=>se?se.map(t=>({...t,startTime:new Date(t.startTime),endTime:new Date(t.endTime)})):[],[se]),Q=t=>U.filter(s=>f(new Date(s.startTime),t)||s.allDay&&f(new Date(s.startTime),t)),ie=t=>{if(!M)return null;let s=c(t,"yyyy-MM-dd");return Ue.find(v=>v.date===s)||null};(0,p.useEffect)(()=>{let t=()=>{if(C.current){let v=C.current.getBoundingClientRect();je({width:v.width,height:v.height})}},s=new ResizeObserver(t);return C.current&&(s.observe(C.current),t()),()=>s.disconnect()},[]);let a=(0,p.useMemo)(()=>{let{width:t,height:s}=$;return t<300||s<200?{size:"micro",showSidebar:!1,showSearch:!0,showFilters:!0,showToday:!1,showViewToggle:!0,showEventButton:!0,headerPadding:"p-2",headerGap:"gap-1",gridCols:7,dayHeight:"min-h-[40px]",fontSize:"text-xs",buttonSize:"h-8 w-8",iconSize:"w-3 h-3",maxEventsPerDay:0,compactMode:!0}:t<500||s<300?{size:"small",showSidebar:!1,showSearch:!0,showFilters:!0,showToday:!1,showViewToggle:!0,showEventButton:!0,headerPadding:"p-2",headerGap:"gap-1",gridCols:7,dayHeight:"min-h-[50px]",fontSize:"text-xs",buttonSize:"h-8 w-8",iconSize:"w-3 h-3",maxEventsPerDay:1,compactMode:!0}:t<800||s<500?{size:"medium",showSidebar:!!h,showSearch:!0,showFilters:!0,showToday:!0,showViewToggle:!0,showEventButton:!0,headerPadding:"p-3",headerGap:"gap-2",gridCols:7,dayHeight:"min-h-[70px]",fontSize:"text-sm",buttonSize:"h-9 w-9",iconSize:"w-4 h-4",maxEventsPerDay:2,compactMode:!1}:{size:"large",showSidebar:!0,showSearch:b,showFilters:!0,showToday:!0,showViewToggle:!0,showEventButton:!0,headerPadding:"p-4",headerGap:"gap-3",gridCols:7,dayHeight:"min-h-[90px]",fontSize:"text-sm",buttonSize:"h-10 w-10",iconSize:"w-4 h-4",maxEventsPerDay:3,compactMode:!1}},[$,h,b]),et=(0,p.useMemo)(()=>n?U.filter(t=>t.title.toLowerCase().includes(n.toLowerCase())||t.description?.toLowerCase().includes(n.toLowerCase())||t.location?.toLowerCase().includes(n.toLowerCase())):U,[U,n]),S=t=>{D(t==="prev"?Ve(o,1):Ae(o,1))},ve=t=>{q(t,o)?L(f(t,h||new Date)?null:t):(D(t),L(t))},we=t=>{N(t),g(!0)};return p.default.useEffect(()=>{if(n===""&&b){let t=setTimeout(()=>{V(!1)},2e3);return()=>clearTimeout(t)}},[n,b]),p.default.useEffect(()=>{let t=s=>{if(!(s.target instanceof HTMLInputElement||s.target instanceof HTMLTextAreaElement))switch(s.key){case"Escape":b?(V(!1),B("")):h&&L(null);break;case"/":a.showSearch!==!1&&(s.preventDefault(),V(!0));break;case"ArrowLeft":(s.metaKey||s.ctrlKey)&&(s.preventDefault(),S("prev"));break;case"ArrowRight":(s.metaKey||s.ctrlKey)&&(s.preventDefault(),S("next"));break;case"t":!s.metaKey&&!s.ctrlKey&&!s.altKey&&(s.preventDefault(),D(new Date));break;case"m":a.showViewToggle&&!s.metaKey&&!s.ctrlKey&&!s.altKey&&(s.preventDefault(),I("month"));break;case"a":a.showViewToggle&&!s.metaKey&&!s.ctrlKey&&!s.altKey&&(s.preventDefault(),I("agenda"));break}};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[b,h,a,S]),Je?(0,e.jsx)("div",{ref:C,className:i("flex h-full bg-white",H),children:(0,e.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)(K,{className:i("text-krushr-primary mx-auto mb-2 animate-pulse",$.width<200?"w-4 h-4":"w-8 h-8")}),$.width>=200&&(0,e.jsx)("p",{className:"text-sm text-gray-500 font-manrope",children:"Loading..."})]})})}):a.size==="micro"&&$.height<150?(0,e.jsx)("div",{ref:C,className:i("flex h-full bg-white",H),children:(0,e.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,e.jsx)("div",{className:"p-2 border-b border-gray-200 bg-white",children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center gap-1",children:[(0,e.jsx)(u,{variant:"ghost",size:"sm",onClick:()=>S("prev"),className:"p-1 h-6 w-6 focus:ring-2 focus:ring-krushr-primary focus:outline-none",title:"Previous month",children:(0,e.jsx)(oe,{className:"w-3 h-3"})}),(0,e.jsx)("span",{className:"text-xs font-semibold text-gray-900 font-manrope min-w-0 px-1",children:c(o,"M/yy")}),(0,e.jsx)(u,{variant:"ghost",size:"sm",onClick:()=>S("next"),className:"p-1 h-6 w-6 focus:ring-2 focus:ring-krushr-primary focus:outline-none",title:"Next month",children:(0,e.jsx)(W,{className:"w-3 h-3"})})]}),(0,e.jsx)(u,{variant:"default",size:"sm",onClick:()=>g(!0),className:"bg-krushr-primary hover:bg-krushr-primary/90 text-white p-1 h-6 w-6 focus:ring-2 focus:ring-krushr-primary focus:outline-none",title:"Create new task",children:(0,e.jsx)(J,{className:"w-3 h-3"})})]})}),(0,e.jsx)("div",{className:"flex-1 p-1",children:(0,e.jsxs)("div",{className:"grid grid-cols-7 gap-px bg-gray-200 rounded overflow-hidden text-xs",children:[["S","M","T","W","T","F","S"].map((t,s)=>(0,e.jsx)("div",{className:"bg-gray-50 text-center p-0.5",children:(0,e.jsx)("span",{className:"text-xs font-medium text-gray-600",children:t})},s)),xe.map(t=>{let s=Q(t),v=q(t,o),P=pe(t),x=ie(t);return(0,e.jsx)("div",{onClick:()=>ve(t),className:i("bg-white cursor-pointer border-r border-b border-gray-100 hover:bg-gray-50 transition-colors min-h-[20px] p-0.5 text-center",!v&&"bg-gray-50/50 text-gray-400 hover:bg-gray-100",P&&"bg-krushr-primary/10 text-krushr-primary font-semibold",x&&"bg-red-50 border-red-200"),title:(()=>{let m=[];return x&&(m.push(`\u{1F389} ${x.name}`),x.type&&m.push(`(${x.type})`)),s.length>0&&(m.length>0&&m.push(`
---
`),m.push(`\u{1F4C5} ${s.length} event${s.length>1?"s":""}:`),s.slice(0,3).forEach(k=>{let l=k.allDay?"All day":c(new Date(k.startTime),"h:mm a");m.push(`\u2022 ${l}: ${k.title}`)}),s.length>3&&m.push(`\u2022 +${s.length-3} more events`)),m.length>0?m.join(`
`):void 0})(),children:(0,e.jsxs)("div",{className:"flex items-center justify-center h-full",children:[(0,e.jsx)("span",{className:i("text-xs",x&&"text-red-600 font-medium"),children:c(t,"d")}),(s.length>0||x)&&(0,e.jsx)("div",{className:i("w-1 h-1 rounded-full ml-0.5",x?"bg-red-500":"bg-krushr-primary")})]})},t.toISOString())})]})})]})}):(0,e.jsx)(Ke,{children:(0,e.jsxs)("div",{ref:C,className:i("flex h-full bg-white",H),children:[(0,e.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,e.jsxs)("div",{className:"border-b border-gray-200/80 bg-gradient-to-r from-white to-gray-50/30",children:[(0,e.jsxs)("div",{className:i("flex items-center justify-between",a.headerPadding),children:[(0,e.jsxs)("div",{className:"flex items-center min-w-0 flex-1",children:[(0,e.jsxs)("div",{className:"flex items-center bg-white/80 backdrop-blur-sm rounded-xl border border-gray-200/60 shadow-sm",children:[(0,e.jsx)(u,{variant:"ghost",size:"sm",onClick:()=>S("prev"),className:i("h-9 w-9 rounded-l-xl border-r border-gray-100/80 hover:bg-krushr-primary/5 hover:text-krushr-primary transition-all duration-200","focus:ring-2 focus:ring-krushr-primary/20 focus:outline-none"),title:"Previous month",children:(0,e.jsx)(oe,{className:"w-4 h-4"})}),(0,e.jsxs)("div",{className:i("text-center py-2",a.size==="micro"?"px-1 min-w-[50px]":a.size==="small"?"px-1.5 min-w-[60px]":"px-2 min-w-[80px]"),children:[(0,e.jsx)("h2",{className:"font-semibold text-gray-900 font-manrope text-sm leading-none",children:a.size==="micro"?c(o,"M/yy"):a.size==="small"?c(o,"MMM yy"):a.size==="medium"?c(o,"MMM yyyy"):c(o,"MMMM yyyy")}),a.size==="large"&&(0,e.jsx)("div",{className:"text-xs text-gray-500 mt-0.5 font-manrope",children:c(o,"yyyy")})]}),(0,e.jsx)(u,{variant:"ghost",size:"sm",onClick:()=>S("next"),className:i("h-9 w-9 rounded-r-xl border-l border-gray-100/80 hover:bg-krushr-primary/5 hover:text-krushr-primary transition-all duration-200","focus:ring-2 focus:ring-krushr-primary/20 focus:outline-none"),title:"Next month",children:(0,e.jsx)(W,{className:"w-4 h-4"})})]}),a.showToday&&a.size!=="micro"&&a.size!=="small"&&(0,e.jsxs)(u,{variant:"outline",size:"sm",onClick:()=>D(new Date),className:i("ml-3 bg-white/80 backdrop-blur-sm border-gray-200/60 hover:bg-krushr-primary hover:text-white hover:border-krushr-primary","shadow-sm transition-all duration-200 font-manrope px-3 h-9","focus:ring-2 focus:ring-krushr-primary/20 focus:outline-none"),title:"Go to today",children:[(0,e.jsx)(z,{className:"w-3.5 h-3.5 mr-1.5"}),"Today"]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[a.showViewToggle&&(0,e.jsx)("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl border border-gray-200/60 shadow-sm p-1",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsxs)(u,{variant:"ghost",size:"sm",onClick:()=>I("month"),className:i("h-8 px-3 rounded-lg transition-all duration-200 relative",R==="month"?"bg-krushr-primary text-white shadow-md":"text-gray-600 hover:bg-gray-50 hover:text-krushr-primary"),title:"Month view",children:[(0,e.jsx)(K,{className:"w-3.5 h-3.5"}),a.size==="large"&&(0,e.jsx)("span",{className:"ml-1.5 text-xs font-medium",children:"Month"})]}),(0,e.jsxs)(u,{variant:"ghost",size:"sm",onClick:()=>I("agenda"),className:i("h-8 px-3 rounded-lg transition-all duration-200 relative",R==="agenda"?"bg-krushr-primary text-white shadow-md":"text-gray-600 hover:bg-gray-50 hover:text-krushr-primary"),title:"Agenda view",children:[(0,e.jsx)(Ee,{className:"w-3.5 h-3.5"}),a.size==="large"&&(0,e.jsx)("span",{className:"ml-1.5 text-xs font-medium",children:"Agenda"})]})]})}),(0,e.jsxs)("div",{className:"flex items-center bg-white/80 backdrop-blur-sm rounded-xl border border-gray-200/60 shadow-sm",children:[a.showSearch!==!1&&(0,e.jsx)(u,{variant:"ghost",size:"sm",onClick:()=>V(!b),className:i("transition-all duration-200",a.size==="micro"?"h-8 w-8 rounded-l-lg":"h-9 w-9 rounded-l-xl",b?"bg-krushr-primary/10 text-krushr-primary":"hover:bg-gray-50 hover:text-krushr-primary text-gray-500","focus:ring-2 focus:ring-krushr-primary/20 focus:outline-none"),title:"Search events",children:(0,e.jsx)(le,{className:i(a.size==="micro"?"w-3.5 h-3.5":"w-4 h-4")})}),a.showFilters&&(0,e.jsx)(u,{variant:"ghost",size:"sm",onClick:()=>j(!re),className:i("border-l border-gray-100/80 hover:bg-gray-50 hover:text-krushr-primary text-gray-500 transition-all duration-200",a.size==="micro"?"h-8 w-8":"h-9 w-9","focus:ring-2 focus:ring-krushr-primary/20 focus:outline-none"),title:"Filter events",children:(0,e.jsx)(Se,{className:i(a.size==="micro"?"w-3.5 h-3.5":"w-4 h-4")})}),a.showEventButton&&(0,e.jsxs)(u,{variant:"default",size:"sm",onClick:()=>g(!0),className:i("bg-krushr-primary hover:bg-krushr-primary/90 text-white transition-all duration-200 shadow-md","focus:ring-2 focus:ring-krushr-primary/40 focus:outline-none",a.size==="micro"?"h-8 rounded-r-lg":"h-9 rounded-r-xl",a.showSearch!==!1?"border-l border-krushr-primary/20":"rounded-xl",a.size==="micro"?"px-2":"px-3"),title:"Create new task",children:[(0,e.jsx)(J,{className:i(a.size==="micro"?"w-3.5 h-3.5":"w-4 h-4")}),a.size==="large"&&(0,e.jsx)("span",{className:"ml-1.5 text-xs font-medium",children:"New Task"})]})]})]})]}),b&&a.showSearch!==!1&&(0,e.jsx)("div",{className:"px-4 pb-3 animate-in slide-in-from-top-2 duration-300",children:(0,e.jsxs)("div",{className:"relative bg-white/95 backdrop-blur-sm rounded-xl border border-gray-200/60 shadow-lg",children:[(0,e.jsx)(le,{className:i("absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",a.size==="micro"?"w-3.5 h-3.5":"w-4 h-4")}),(0,e.jsx)(Pe,{label:"Search events, locations, or attendees...",value:n,onChange:t=>B(t.target.value),className:"pl-12 pr-4 h-12 border-0 bg-transparent font-manrope text-sm focus:ring-2 focus:ring-krushr-primary/20",autoFocus:!0}),n&&(0,e.jsx)(u,{variant:"ghost",size:"sm",onClick:()=>{B(""),V(!1)},className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8 rounded-lg hover:bg-gray-100",children:(0,e.jsx)(Ie,{className:"w-4 h-4"})})]})})]}),R==="agenda"?(0,e.jsx)(he,{workspaceId:T,className:"flex-1"}):(0,e.jsx)("div",{className:i("flex-1",a.headerPadding),children:(0,e.jsxs)("div",{className:"grid grid-cols-7 gap-px bg-gray-200 rounded-lg overflow-hidden",children:[(a.size==="micro"?["S","M","T","W","T","F","S"]:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]).map((t,s)=>(0,e.jsx)("div",{className:i("bg-gray-50 text-center",a.size==="micro"?"p-1":"p-2"),children:(0,e.jsx)("span",{className:i("font-medium text-gray-600 font-manrope",a.fontSize),children:t})},s)),xe.map(t=>{let s=Q(t),v=h&&f(t,h),P=q(t,o),x=pe(t),m=ie(t),k=a.maxEventsPerDay;return(0,e.jsxs)("div",{onClick:()=>ve(t),className:i("bg-white cursor-pointer border-r border-b border-gray-100 hover:bg-gray-50 transition-colors",a.dayHeight,a.size==="micro"?"p-1":"p-2",!P&&"bg-gray-50/50 text-gray-400 hover:bg-gray-100",v&&"bg-krushr-primary/5 border-krushr-primary",x&&"bg-krushr-primary/10",m&&"bg-red-50/50 border-red-200/50"),title:(()=>{let l=[];return m&&(l.push(`\u{1F389} ${m.name}`),m.type&&l.push(`(${m.type})`)),s.length>0&&(l.length>0&&l.push(`
---
`),l.push(`\u{1F4C5} ${s.length} event${s.length>1?"s":""}:`),s.slice(0,3).forEach(E=>{let ne=E.allDay?"All day":c(new Date(E.startTime),"h:mm a");l.push(`\u2022 ${ne}: ${E.title}`)}),s.length>3&&l.push(`\u2022 +${s.length-3} more events`)),l.length>0?l.join(`
`):void 0})(),children:[(0,e.jsxs)("div",{className:i("flex items-center justify-between",a.size!=="micro"&&"mb-1"),children:[(0,e.jsx)("span",{className:i("font-manrope",a.fontSize,x&&"font-semibold text-krushr-primary",!P&&"text-gray-400 opacity-75",m&&P&&"text-red-600 font-medium"),children:c(t,"d")}),s.length>0&&a.size!=="micro"&&(0,e.jsx)(w,{variant:"secondary",className:i("px-1 py-0",(a.fontSize==="text-xs","text-xs")),children:s.length}),m&&a.size!=="micro"&&s.length===0&&(0,e.jsxs)(X,{children:[(0,e.jsx)(ee,{asChild:!0,children:(0,e.jsx)("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full cursor-pointer"})}),(0,e.jsx)(te,{side:"right",className:"max-w-xs",children:(0,e.jsxs)("div",{className:"space-y-1",children:[(0,e.jsxs)("div",{className:"font-semibold text-sm flex items-center gap-2",children:["\u{1F389} ",m.name]}),(0,e.jsx)("div",{className:"text-xs text-gray-600",children:m.type}),(0,e.jsx)("div",{className:"text-xs text-gray-500",children:c(t,"EEEE, MMMM d, yyyy")})]})})]}),(s.length>0||m)&&a.size==="micro"&&(0,e.jsxs)(X,{children:[(0,e.jsx)(ee,{asChild:!0,children:(0,e.jsx)("div",{className:i("w-1.5 h-1.5 rounded-full cursor-pointer",m?"bg-red-500":"bg-krushr-primary")})}),(0,e.jsx)(te,{side:"right",className:"max-w-xs",children:(0,e.jsxs)("div",{className:"space-y-1",children:[m&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"font-semibold text-sm flex items-center gap-2",children:["\u{1F389} ",m.name]}),(0,e.jsx)("div",{className:"text-xs text-gray-600",children:m.type})]}),s.length>0&&(0,e.jsxs)(e.Fragment,{children:[m&&(0,e.jsx)("div",{className:"border-t border-gray-100 pt-1 mt-1"}),(0,e.jsxs)("div",{className:"text-xs text-gray-600",children:["\u{1F4C5} ",s.length," event",s.length>1?"s":""]}),s.slice(0,3).map(l=>(0,e.jsxs)("div",{className:"text-xs text-gray-500",children:["\u2022 ",l.title]},l.id)),s.length>3&&(0,e.jsxs)("div",{className:"text-xs text-gray-400",children:["+",s.length-3," more"]})]}),(0,e.jsx)("div",{className:"text-xs text-gray-500 border-t border-gray-100 pt-1",children:c(t,"EEEE, MMMM d, yyyy")})]})})]})]}),k>0&&(0,e.jsxs)("div",{className:"space-y-0.5",children:[s.slice(0,k).map(l=>{let E=ae[l.color]||ae.blue,ne=Ge[l.type];return(0,e.jsxs)(X,{children:[(0,e.jsx)(ee,{asChild:!0,children:(0,e.jsx)("div",{onClick:Ze=>{Ze.stopPropagation(),we(l)},className:i("rounded truncate cursor-pointer transition-colors hover:opacity-80 border",E.bg,E.border,E.text,a.size==="small"?"p-0.5":"p-1",!P&&"opacity-60"),children:(0,e.jsxs)("div",{className:"flex items-center gap-1",children:[a.size!=="small"&&(0,e.jsx)(ne,{className:i("flex-shrink-0",a.iconSize)}),(0,e.jsx)("span",{className:i("truncate font-manrope",a.fontSize),children:l.title}),l.priority!=="LOW"&&a.size!=="small"&&(0,e.jsx)("div",{className:i("rounded-full flex-shrink-0",_e[l.priority],a.size==="medium"?"w-1 h-1":"w-1.5 h-1.5")})]})})}),(0,e.jsx)(te,{side:"right",className:"max-w-xs",children:(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("div",{className:"font-semibold text-sm",children:l.title}),(0,e.jsxs)("div",{className:"text-xs space-y-1",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("span",{className:"font-medium",children:"Type:"}),(0,e.jsx)(w,{variant:"secondary",className:"text-xs",children:l.type})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(z,{className:"w-3 h-3"}),(0,e.jsx)("span",{children:l.allDay?"All day":`${c(l.startTime,"h:mm a")} - ${c(l.endTime,"h:mm a")}`})]}),l.location&&(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(F,{className:"w-3 h-3"}),(0,e.jsx)("span",{children:l.location})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("span",{className:"font-medium",children:"Priority:"}),(0,e.jsx)(w,{variant:l.priority==="HIGH"?"destructive":l.priority==="MEDIUM"?"default":"secondary",className:"text-xs",children:l.priority})]}),l.description&&(0,e.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-100",children:(0,e.jsx)("span",{className:"text-gray-700",children:l.description})})]})]})})]},l.id)}),s.length>k&&(0,e.jsxs)("div",{className:i("text-gray-500 font-manrope pl-1",a.fontSize),children:["+",s.length-k," more"]})]})]},t.toISOString())})]})})]}),h&&a.showSidebar&&(0,e.jsx)("div",{className:i("border-l border-gray-200 bg-gray-50",a.size==="medium"?"w-64":"w-80"),children:(0,e.jsxs)("div",{className:a.headerPadding,children:[(0,e.jsx)("h3",{className:i("font-semibold text-gray-900 mb-2 font-manrope",a.fontSize),children:a.size==="medium"?c(h,"MMM d"):c(h,"EEEE, MMMM d")}),(()=>{let t=ie(h);return t?(0,e.jsxs)("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded-lg",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,e.jsx)("span",{className:i("text-red-700 font-medium font-manrope",a.fontSize),children:t.name})]}),t.type&&(0,e.jsx)("p",{className:i("text-red-600 mt-1 font-manrope",(a.fontSize==="text-sm","text-xs")),children:t.type})]}):null})(),Q(h).length===0?(0,e.jsxs)("div",{className:"text-center py-8",children:[(0,e.jsx)(K,{className:i("text-gray-400 mx-auto mb-2",a.iconSize==="w-4 h-4"?"w-6 h-6":"w-8 h-8")}),(0,e.jsx)("p",{className:i("text-gray-500 font-manrope",a.fontSize),children:"No events scheduled"}),(0,e.jsxs)(u,{variant:"outline",size:"sm",onClick:()=>g(!0),className:i("mt-2",a.buttonSize),children:[(0,e.jsx)(J,{className:a.iconSize}),(0,e.jsx)("span",{className:"ml-1",children:"Add Event"})]})]}):(0,e.jsx)("div",{className:i("space-y-2",a.size==="medium"&&"space-y-1"),children:Q(h).map(t=>{let s=ae[t.color]||ae.blue,v=Ge[t.type];return(0,e.jsx)(ke,{className:i("hover:shadow-sm transition-shadow cursor-pointer",a.size==="medium"?"p-2":"p-3"),onClick:()=>we(t),children:(0,e.jsxs)("div",{className:"flex items-start gap-2",children:[(0,e.jsx)("div",{className:i("rounded-lg",s.bg,a.size==="medium"?"p-1.5":"p-2"),children:(0,e.jsx)(v,{className:i(s.text,a.iconSize)})}),(0,e.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,e.jsx)("h4",{className:i("font-medium text-gray-900 truncate font-manrope",a.fontSize),children:t.title}),(0,e.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,e.jsx)(z,{className:i("text-gray-400",a.iconSize)}),(0,e.jsx)("span",{className:i("text-gray-600 font-manrope",a.fontSize),children:t.allDay?"All day":`${c(t.startTime,"h:mm a")} - ${c(t.endTime,"h:mm a")}`})]}),t.location&&(0,e.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,e.jsx)(F,{className:i("text-gray-400",a.iconSize)}),(0,e.jsx)("span",{className:i("text-gray-600 truncate font-manrope",a.fontSize),children:t.location})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,e.jsx)(w,{variant:"outline",className:a.fontSize,children:t.type}),t.priority!=="LOW"&&(0,e.jsx)("div",{className:i("rounded-full",_e[t.priority],a.size==="medium"?"w-1.5 h-1.5":"w-2 h-2")})]})]})]})},t.id)})})]})}),(0,e.jsx)($e,{open:d,onClose:()=>{g(!1),N(null)},onTaskCreated:()=>{window.location.reload()},workspaceId:T,task:y,isEditMode:!!y,mode:"calendar",selectedDate:h})]})})}export{Xe as default};
