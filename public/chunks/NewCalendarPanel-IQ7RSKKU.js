import{a as pe,b as Ve,c as he,d as ge,f as Ke,g as te,h as ae,i as re,j as Ge}from"/chunks/chunk-5OMVES6N.js";import{$ as We,G as He,I as Pe,M as b,O as Le,P as Ae,Q as Be,R as Re,W as p,X as ee,Y as $e,b as ke,g as v,n as Oe,z as Fe}from"/chunks/chunk-L4CZ4ABC.js";import"/chunks/chunk-FVIO3V6K.js";import{d as y}from"/chunks/chunk-JHM7S6XW.js";import{d as Z}from"/chunks/chunk-5JTNGE7Q.js";import"/chunks/chunk-UVQEY3UQ.js";import"/chunks/chunk-Y23ZUE4R.js";import{A as de,Ab as ce,B as K,Ca as A,D as Ce,Db as Ie,E as W,Eb as X,H as F,Qa as ze,Ta as q,Y as Se,Za as me,c as L,d as we,da as De,e as Q,g as i,ob as Me,v as $,wa as Ee,z as Te,zb as B}from"/chunks/chunk-XLF7ZOXQ.js";var h=L(we(),1);var G=L(we(),1);var r=L(Q(),1),Xe={meeting:B,task:W,deadline:X,call:ze,review:Se,planning:Me},Ue={low:"bg-gray-400",medium:"bg-krushr-priority-medium",high:"bg-krushr-priority-high",critical:"bg-krushr-priority-critical"};function ue({workspaceId:R,className:V}){let[H,ye]=(0,G.useState)(new Set(["today"])),[o,S]=(0,G.useState)(null),g=new Date,k=pe(g,1),N=pe(g,2),{data:T}=Z.calendar.list.useQuery({workspaceId:R,startDate:Pe(g).toISOString(),endDate:Le(N).toISOString()}),ie=(0,G.useMemo)(()=>{if(!T)return[];let l=T.map(m=>({id:m.id,title:m.title,description:m.description||void 0,startTime:new Date(m.startTime),endTime:new Date(m.endTime),location:m.location||void 0,type:m.type==="MEETING"?"meeting":m.type==="TASK"?"task":(m.type==="EVENT","meeting"),priority:"medium",status:"confirmed",attendees:m.attendees?.map(w=>w.user?.name||w.user?.email||"Unknown")||[],tags:m.type?[m.type.toLowerCase()]:[],notes:m.description||void 0}));return[{key:"today",label:"Today",date:g,items:l.filter(m=>b(m.startTime,g))},{key:"tomorrow",label:`Tomorrow (${ge(k)})`,date:k,items:l.filter(m=>b(m.startTime,k))},{key:"dayafter",label:ge(N),date:N,items:l.filter(m=>b(m.startTime,N))}].filter(m=>m.items.length>0)},[T,g,k,N]),D=l=>{let u=new Set(H);u.has(l)?u.delete(l):u.add(l),ye(u)},U=(l,u)=>`${p(l,"h:mm a")} - ${p(u,"h:mm a")}`,_=l=>{let u=l.filter(n=>n.type==="meeting"||n.type==="call").length,m=l.filter(n=>n.type==="task"||n.type==="review").length,w=l.filter(n=>n.priority==="critical").length;return{meetings:u,tasks:m,critical:w}};return(0,r.jsxs)("div",{className:i("flex h-full bg-white",V),children:[(0,r.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,r.jsx)("div",{className:"px-3 py-1.5 border-b border-gray-200",children:(0,r.jsx)("h2",{className:"text-sm font-medium text-gray-900 font-manrope",children:"Executive Agenda"})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto",children:ie.map(l=>{let u=H.has(l.key),m=_(l.items),w=b(l.date,new Date);return(0,r.jsxs)("div",{className:"border-b border-gray-100/50",children:[(0,r.jsxs)("button",{onClick:()=>D(l.key),className:i("w-full px-3 py-1.5 flex items-center justify-between hover:bg-gray-50 transition-colors",w&&"bg-krushr-primary/5"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[u?(0,r.jsx)(Te,{className:"w-3 h-3 text-gray-400"}):(0,r.jsx)(K,{className:"w-3 h-3 text-gray-400"}),(0,r.jsxs)("h3",{className:i("font-medium text-xs font-manrope",w?"text-krushr-primary":"text-gray-900"),children:[l.label," (",l.items.length,")"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[m.critical>0&&(0,r.jsx)(v,{variant:"destructive",className:"text-xs px-1 py-0 h-3.5 text-xs",children:m.critical}),(0,r.jsxs)("span",{className:"text-xs text-gray-500 font-manrope",children:[m.meetings,"m \u2022 ",m.tasks,"t"]})]})]}),u&&(0,r.jsx)("div",{className:"px-3 pb-1",children:(0,r.jsx)("div",{className:"space-y-0.5",children:l.items.map(n=>{let E=Xe[n.type],z=Ue[n.priority];return(0,r.jsxs)("div",{className:i("border-l-2 pl-2 py-1 cursor-pointer hover:bg-gray-50 transition-colors rounded-r text-xs",n.priority==="critical"&&"border-l-krushr-priority-critical bg-red-50/30",n.priority==="high"&&"border-l-krushr-priority-high bg-orange-50/30",n.priority==="medium"&&"border-l-krushr-priority-medium bg-yellow-50/30",n.priority==="low"&&"border-l-gray-400 bg-gray-50/30"),onClick:()=>S(n),children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5 mb-0.5",children:[(0,r.jsx)(E,{className:"w-2.5 h-2.5 text-krushr-primary flex-shrink-0"}),(0,r.jsx)("div",{className:i("w-1 h-1 rounded-full flex-shrink-0",z)}),(0,r.jsx)("h4",{className:"font-medium text-xs text-gray-900 font-manrope truncate flex-1",children:n.title}),(0,r.jsxs)("div",{className:"flex items-center gap-0.5 text-xs text-gray-500 font-manrope",children:[(0,r.jsx)(F,{className:"w-2.5 h-2.5"}),p(n.startTime,"h:mm a")]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-600 pl-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5 truncate",children:[n.location&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[n.location.includes("Zoom")||n.location.includes("Teams")?(0,r.jsx)(ce,{className:"w-2.5 h-2.5"}):(0,r.jsx)(A,{className:"w-2.5 h-2.5"}),(0,r.jsx)("span",{className:"truncate text-xs",children:n.location})]}),n.attendees&&n.attendees.length>0&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(B,{className:"w-2.5 h-2.5"}),(0,r.jsx)("span",{className:"text-xs",children:n.attendees.length})]})]}),n.tags&&n.tags.length>0&&(0,r.jsxs)("div",{className:"flex gap-0.5",children:[n.tags.slice(0,1).map(j=>(0,r.jsx)(v,{variant:"outline",className:"text-xs px-1 py-0 h-3.5",children:j},j)),n.tags.length>1&&(0,r.jsxs)("span",{className:"text-xs text-gray-400",children:["+",n.tags.length-1]})]})]})]},n.id)})})})]},l.key)})})]}),o&&(0,r.jsx)("div",{className:"w-72 border-l border-gray-200 bg-gray-50",children:(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h3",{className:"font-medium text-sm text-gray-900 font-manrope",children:"Details"}),(0,r.jsx)(y,{variant:"ghost",size:"sm",onClick:()=>S(null),className:"p-1 h-5 w-5",children:"\u2715"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-sm text-gray-900 mb-1 font-manrope",children:o.title}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)(v,{variant:"outline",className:"text-xs px-1 py-0",children:o.type}),(0,r.jsx)("div",{className:i("w-2 h-2 rounded-full",Ue[o.priority])}),(0,r.jsx)("span",{className:"text-xs text-gray-600 capitalize",children:o.priority})]}),o.description&&(0,r.jsx)("p",{className:"text-xs text-gray-600 font-manrope leading-relaxed",children:o.description})]}),(0,r.jsxs)("div",{className:"space-y-1.5 text-xs",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(F,{className:"w-3 h-3 text-gray-400"}),(0,r.jsx)("span",{className:"font-manrope",children:U(o.startTime,o.endTime)})]}),o.location&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[o.location.includes("Zoom")||o.location.includes("Teams")?(0,r.jsx)(ce,{className:"w-3 h-3 text-gray-400"}):(0,r.jsx)(A,{className:"w-3 h-3 text-gray-400"}),(0,r.jsx)("span",{className:"font-manrope",children:o.location})]}),o.attendees&&o.attendees.length>0&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(B,{className:"w-3 h-3 text-gray-400"}),(0,r.jsxs)("span",{className:"font-manrope",children:[o.attendees.length," attendees"]})]})]}),o.attendees&&o.attendees.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"font-medium text-xs text-gray-900 mb-1 font-manrope",children:"Attendees"}),(0,r.jsxs)("div",{className:"space-y-0.5",children:[o.attendees.slice(0,4).map(l=>(0,r.jsx)("div",{className:"text-xs text-gray-600 font-manrope",children:l},l)),o.attendees.length>4&&(0,r.jsxs)("div",{className:"text-xs text-gray-400",children:["+",o.attendees.length-4," more"]})]})]}),o.notes&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"font-medium text-xs text-gray-900 mb-1 font-manrope",children:"Notes"}),(0,r.jsx)("p",{className:"text-xs text-gray-600 font-manrope bg-white p-2 rounded border leading-relaxed",children:o.notes})]}),o.tags&&o.tags.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"font-medium text-xs text-gray-900 mb-1 font-manrope",children:"Tags"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:o.tags.map(l=>(0,r.jsx)(v,{variant:"outline",className:"text-xs px-1 py-0",children:l},l))})]})]})]})})]})}var e=L(Q(),1),se={blue:{bg:"bg-krushr-primary/10",border:"border-krushr-primary/20",text:"text-krushr-primary"},green:{bg:"bg-krushr-success/10",border:"border-krushr-success/20",text:"text-krushr-success"},purple:{bg:"bg-krushr-purple/10",border:"border-krushr-purple/20",text:"text-krushr-purple"},orange:{bg:"bg-krushr-orange/10",border:"border-krushr-orange/20",text:"text-krushr-orange"},red:{bg:"bg-krushr-secondary/10",border:"border-krushr-secondary/20",text:"text-krushr-secondary"}},_e={MEETING:B,TASK:W,REMINDER:Ce,EVENT:$,DEADLINE:X,MILESTONE:W},je={LOW:"bg-krushr-priority-low",MEDIUM:"bg-krushr-priority-medium",HIGH:"bg-krushr-priority-high",CRITICAL:"bg-krushr-priority-critical"};function et({workspaceId:R,className:V,showHolidays:H=!0,holidayCountry:ye="US"}){let[o,S]=(0,h.useState)(new Date),[g,k]=(0,h.useState)(null),[N,T]=(0,h.useState)("month"),[ie,D]=(0,h.useState)(!1),[U,_]=(0,h.useState)(null),[l,u]=(0,h.useState)(""),[m,w]=(0,h.useState)(!1),[n,E]=(0,h.useState)(!1),[z,j]=(0,h.useState)({width:0,height:0}),M=(0,h.useRef)(null),Ye=(0,h.useMemo)(()=>H?[{date:"2024-01-01",name:"New Year's Day",type:"Federal Holiday"},{date:"2024-01-15",name:"Martin Luther King Jr. Day",type:"Federal Holiday"},{date:"2024-02-19",name:"Presidents Day",type:"Federal Holiday"},{date:"2024-05-27",name:"Memorial Day",type:"Federal Holiday"},{date:"2024-06-19",name:"Juneteenth",type:"Federal Holiday"},{date:"2024-07-04",name:"Independence Day",type:"Federal Holiday"},{date:"2024-09-02",name:"Labor Day",type:"Federal Holiday"},{date:"2024-10-14",name:"Columbus Day",type:"Federal Holiday"},{date:"2024-11-11",name:"Veterans Day",type:"Federal Holiday"},{date:"2024-11-28",name:"Thanksgiving Day",type:"Federal Holiday"},{date:"2024-12-25",name:"Christmas Day",type:"Federal Holiday"},{date:"2025-01-01",name:"New Year's Day",type:"Federal Holiday"},{date:"2025-01-20",name:"Martin Luther King Jr. Day",type:"Federal Holiday"},{date:"2025-02-17",name:"Presidents Day",type:"Federal Holiday"},{date:"2025-05-26",name:"Memorial Day",type:"Federal Holiday"},{date:"2025-06-19",name:"Juneteenth",type:"Federal Holiday"},{date:"2025-07-04",name:"Independence Day",type:"Federal Holiday"},{date:"2025-09-01",name:"Labor Day",type:"Federal Holiday"},{date:"2025-10-13",name:"Columbus Day",type:"Federal Holiday"},{date:"2025-11-11",name:"Veterans Day",type:"Federal Holiday"},{date:"2025-11-27",name:"Thanksgiving Day",type:"Federal Holiday"},{date:"2025-12-25",name:"Christmas Day",type:"Federal Holiday"}]:[],[H]),Je=Re(o),Qe=Ae(o),fe=He(Je,{weekStartsOn:0}),xe=Ve(Qe,{weekStartsOn:0}),ve=Be({start:fe,end:xe}),{data:oe,isLoading:Ze}=Z.calendar.list.useQuery({workspaceId:R,startDate:fe,endDate:xe},{retry:!1,refetchOnWindowFocus:!1}),Y=(0,h.useMemo)(()=>oe?oe.map(t=>({...t,startTime:new Date(t.startTime),endTime:new Date(t.endTime)})):[],[oe]),J=t=>Y.filter(s=>b(new Date(s.startTime),t)||s.allDay&&b(new Date(s.startTime),t)),ne=t=>{if(!H)return null;let s=p(t,"yyyy-MM-dd");return Ye.find(x=>x.date===s)||null};(0,h.useEffect)(()=>{let t=()=>{if(M.current){let x=M.current.getBoundingClientRect();j({width:x.width,height:x.height})}},s=new ResizeObserver(t);return M.current&&(s.observe(M.current),t()),()=>s.disconnect()},[]);let a=(0,h.useMemo)(()=>{let{width:t,height:s}=z;return t<300||s<200?{size:"micro",showSidebar:!1,showSearch:!0,showFilters:!0,showToday:!1,showViewToggle:!0,showEventButton:!0,headerPadding:"p-2",headerGap:"gap-1",gridCols:7,dayHeight:"min-h-[40px]",fontSize:"text-xs",buttonSize:"h-8 w-8",iconSize:"w-3 h-3",maxEventsPerDay:0,compactMode:!0}:t<500||s<300?{size:"small",showSidebar:!1,showSearch:!0,showFilters:!0,showToday:!1,showViewToggle:!0,showEventButton:!0,headerPadding:"p-2",headerGap:"gap-1",gridCols:7,dayHeight:"min-h-[50px]",fontSize:"text-xs",buttonSize:"h-8 w-8",iconSize:"w-3 h-3",maxEventsPerDay:1,compactMode:!0}:t<800||s<500?{size:"medium",showSidebar:!!g,showSearch:!0,showFilters:!0,showToday:!0,showViewToggle:!0,showEventButton:!0,headerPadding:"p-3",headerGap:"gap-2",gridCols:7,dayHeight:"min-h-[70px]",fontSize:"text-sm",buttonSize:"h-9 w-9",iconSize:"w-4 h-4",maxEventsPerDay:2,compactMode:!1}:{size:"large",showSidebar:!0,showSearch:n,showFilters:!0,showToday:!0,showViewToggle:!0,showEventButton:!0,headerPadding:"p-4",headerGap:"gap-3",gridCols:7,dayHeight:"min-h-[90px]",fontSize:"text-sm",buttonSize:"h-10 w-10",iconSize:"w-4 h-4",maxEventsPerDay:3,compactMode:!1}},[z,g,n]),tt=(0,h.useMemo)(()=>l?Y.filter(t=>t.title.toLowerCase().includes(l.toLowerCase())||t.description?.toLowerCase().includes(l.toLowerCase())||t.location?.toLowerCase().includes(l.toLowerCase())):Y,[Y,l]),I=t=>{S(t==="prev"?$e(o,1):Fe(o,1))},be=t=>{ee(t,o)?k(b(t,g||new Date)?null:t):(S(t),k(t))},Ne=t=>{_(t),D(!0)};return h.default.useEffect(()=>{if(l===""&&n){let t=setTimeout(()=>{E(!1)},2e3);return()=>clearTimeout(t)}},[l,n]),h.default.useEffect(()=>{let t=s=>{if(Ge(s))switch(s.key){case"Escape":n?(E(!1),u("")):g&&k(null);break;case"/":a.showSearch!==!1&&(s.preventDefault(),E(!0));break;case"ArrowLeft":(s.metaKey||s.ctrlKey)&&(s.preventDefault(),I("prev"));break;case"ArrowRight":(s.metaKey||s.ctrlKey)&&(s.preventDefault(),I("next"));break;case"t":!s.metaKey&&!s.ctrlKey&&!s.altKey&&(s.preventDefault(),S(new Date));break;case"m":a.showViewToggle&&!s.metaKey&&!s.ctrlKey&&!s.altKey&&(s.preventDefault(),T("month"));break;case"a":a.showViewToggle&&!s.metaKey&&!s.ctrlKey&&!s.altKey&&(s.preventDefault(),T("agenda"));break}};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[n,g,a,I]),Ze?(0,e.jsx)("div",{ref:M,className:i("flex h-full bg-white",V),children:(0,e.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)($,{className:i("text-krushr-primary mx-auto mb-2 animate-pulse",z.width<200?"w-4 h-4":"w-8 h-8")}),z.width>=200&&(0,e.jsx)("p",{className:"text-sm text-gray-500 font-manrope",children:"Loading..."})]})})}):a.size==="micro"&&z.height<150?(0,e.jsx)("div",{ref:M,className:i("flex h-full bg-white",V),children:(0,e.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,e.jsx)("div",{className:"p-2 border-b border-gray-200 bg-white",children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center gap-1",children:[(0,e.jsx)(y,{variant:"ghost",size:"sm",onClick:()=>I("prev"),className:"p-1 h-6 w-6 focus:ring-2 focus:ring-krushr-primary focus:outline-none",title:"Previous month",children:(0,e.jsx)(de,{className:"w-3 h-3"})}),(0,e.jsx)("span",{className:"text-xs font-semibold text-gray-900 font-manrope min-w-0 px-1",children:p(o,"M/yy")}),(0,e.jsx)(y,{variant:"ghost",size:"sm",onClick:()=>I("next"),className:"p-1 h-6 w-6 focus:ring-2 focus:ring-krushr-primary focus:outline-none",title:"Next month",children:(0,e.jsx)(K,{className:"w-3 h-3"})})]}),(0,e.jsx)(y,{variant:"default",size:"sm",onClick:()=>D(!0),className:"bg-krushr-primary hover:bg-krushr-primary/90 text-white p-1 h-6 w-6 focus:ring-2 focus:ring-krushr-primary focus:outline-none",title:"Create new task",children:(0,e.jsx)(q,{className:"w-3 h-3"})})]})}),(0,e.jsx)("div",{className:"flex-1 p-1",children:(0,e.jsxs)("div",{className:"grid grid-cols-7 gap-px bg-gray-200 rounded overflow-hidden text-xs",children:[["S","M","T","W","T","F","S"].map((t,s)=>(0,e.jsx)("div",{className:"bg-gray-50 text-center p-0.5",children:(0,e.jsx)("span",{className:"text-xs font-medium text-gray-600",children:t})},s)),ve.map(t=>{let s=J(t),x=ee(t,o),P=he(t),f=ne(t);return(0,e.jsx)("div",{onClick:()=>be(t),className:i("bg-white cursor-pointer border-r border-b border-gray-100 hover:bg-gray-50 transition-colors min-h-[20px] p-0.5 text-center",!x&&"bg-gray-50/50 text-gray-400 hover:bg-gray-100",P&&"bg-krushr-primary/10 text-krushr-primary font-semibold",f&&"bg-red-50 border-red-200"),title:(()=>{let c=[];return f&&(c.push(`\u{1F389} ${f.name}`),f.type&&c.push(`(${f.type})`)),s.length>0&&(c.length>0&&c.push(`
---
`),c.push(`\u{1F4C5} ${s.length} event${s.length>1?"s":""}:`),s.slice(0,3).forEach(C=>{let d=C.allDay?"All day":p(new Date(C.startTime),"h:mm a");c.push(`\u2022 ${d}: ${C.title}`)}),s.length>3&&c.push(`\u2022 +${s.length-3} more events`)),c.length>0?c.join(`
`):void 0})(),children:(0,e.jsxs)("div",{className:"flex items-center justify-center h-full",children:[(0,e.jsx)("span",{className:i("text-xs",f&&"text-red-600 font-medium"),children:p(t,"d")}),(s.length>0||f)&&(0,e.jsx)("div",{className:i("w-1 h-1 rounded-full ml-0.5",f?"bg-red-500":"bg-krushr-primary")})]})},t.toISOString())})]})})]})}):(0,e.jsx)(Ke,{children:(0,e.jsxs)("div",{ref:M,className:i("flex h-full bg-white",V),children:[(0,e.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,e.jsxs)("div",{className:"border-b border-gray-200/80 bg-gradient-to-r from-white to-gray-50/30",children:[(0,e.jsxs)("div",{className:i("flex items-center justify-between",a.headerPadding),children:[(0,e.jsxs)("div",{className:"flex items-center min-w-0 flex-1",children:[(0,e.jsxs)("div",{className:"flex items-center bg-white/80 backdrop-blur-sm rounded-xl border border-gray-200/60 shadow-sm",children:[(0,e.jsx)(y,{variant:"ghost",size:"sm",onClick:()=>I("prev"),className:i("h-9 w-9 rounded-l-xl border-r border-gray-100/80 hover:bg-krushr-primary/5 hover:text-krushr-primary transition-all duration-200","focus:ring-2 focus:ring-krushr-primary/20 focus:outline-none"),title:"Previous month",children:(0,e.jsx)(de,{className:"w-4 h-4"})}),(0,e.jsxs)("div",{className:i("text-center py-2",a.size==="micro"?"px-1 min-w-[50px]":a.size==="small"?"px-1.5 min-w-[60px]":"px-2 min-w-[80px]"),children:[(0,e.jsx)("h2",{className:"font-semibold text-gray-900 font-manrope text-sm leading-none",children:a.size==="micro"?p(o,"M/yy"):a.size==="small"?p(o,"MMM yy"):a.size==="medium"?p(o,"MMM yyyy"):p(o,"MMMM yyyy")}),a.size==="large"&&(0,e.jsx)("div",{className:"text-xs text-gray-500 mt-0.5 font-manrope",children:p(o,"yyyy")})]}),(0,e.jsx)(y,{variant:"ghost",size:"sm",onClick:()=>I("next"),className:i("h-9 w-9 rounded-r-xl border-l border-gray-100/80 hover:bg-krushr-primary/5 hover:text-krushr-primary transition-all duration-200","focus:ring-2 focus:ring-krushr-primary/20 focus:outline-none"),title:"Next month",children:(0,e.jsx)(K,{className:"w-4 h-4"})})]}),a.showToday&&a.size!=="micro"&&a.size!=="small"&&(0,e.jsxs)(y,{variant:"outline",size:"sm",onClick:()=>S(new Date),className:i("ml-3 bg-white/80 backdrop-blur-sm border-gray-200/60 hover:bg-krushr-primary hover:text-white hover:border-krushr-primary","shadow-sm transition-all duration-200 font-manrope px-3 h-9","focus:ring-2 focus:ring-krushr-primary/20 focus:outline-none"),title:"Go to today",children:[(0,e.jsx)(F,{className:"w-3.5 h-3.5 mr-1.5"}),"Today"]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[a.showViewToggle&&(0,e.jsx)("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl border border-gray-200/60 shadow-sm p-1",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsxs)(y,{variant:"ghost",size:"sm",onClick:()=>T("month"),className:i("h-8 px-3 rounded-lg transition-all duration-200 relative",N==="month"?"bg-krushr-primary text-white shadow-md":"text-gray-600 hover:bg-gray-50 hover:text-krushr-primary"),title:"Month view",children:[(0,e.jsx)($,{className:"w-3.5 h-3.5"}),a.size==="large"&&(0,e.jsx)("span",{className:"ml-1.5 text-xs font-medium",children:"Month"})]}),(0,e.jsxs)(y,{variant:"ghost",size:"sm",onClick:()=>T("agenda"),className:i("h-8 px-3 rounded-lg transition-all duration-200 relative",N==="agenda"?"bg-krushr-primary text-white shadow-md":"text-gray-600 hover:bg-gray-50 hover:text-krushr-primary"),title:"Agenda view",children:[(0,e.jsx)(Ee,{className:"w-3.5 h-3.5"}),a.size==="large"&&(0,e.jsx)("span",{className:"ml-1.5 text-xs font-medium",children:"Agenda"})]})]})}),(0,e.jsxs)("div",{className:"flex items-center bg-white/80 backdrop-blur-sm rounded-xl border border-gray-200/60 shadow-sm",children:[a.showSearch!==!1&&(0,e.jsx)(y,{variant:"ghost",size:"sm",onClick:()=>E(!n),className:i("transition-all duration-200",a.size==="micro"?"h-8 w-8 rounded-l-lg":"h-9 w-9 rounded-l-xl",n?"bg-krushr-primary/10 text-krushr-primary":"hover:bg-gray-50 hover:text-krushr-primary text-gray-500","focus:ring-2 focus:ring-krushr-primary/20 focus:outline-none"),title:"Search events",children:(0,e.jsx)(me,{className:i(a.size==="micro"?"w-3.5 h-3.5":"w-4 h-4")})}),a.showFilters&&(0,e.jsx)(y,{variant:"ghost",size:"sm",onClick:()=>w(!m),className:i("border-l border-gray-100/80 hover:bg-gray-50 hover:text-krushr-primary text-gray-500 transition-all duration-200",a.size==="micro"?"h-8 w-8":"h-9 w-9","focus:ring-2 focus:ring-krushr-primary/20 focus:outline-none"),title:"Filter events",children:(0,e.jsx)(De,{className:i(a.size==="micro"?"w-3.5 h-3.5":"w-4 h-4")})}),a.showEventButton&&(0,e.jsxs)(y,{variant:"default",size:"sm",onClick:()=>D(!0),className:i("bg-krushr-primary hover:bg-krushr-primary/90 text-white transition-all duration-200 shadow-md","focus:ring-2 focus:ring-krushr-primary/40 focus:outline-none",a.size==="micro"?"h-8 rounded-r-lg":"h-9 rounded-r-xl",a.showSearch!==!1?"border-l border-krushr-primary/20":"rounded-xl",a.size==="micro"?"px-2":"px-3"),title:"Create new task",children:[(0,e.jsx)(q,{className:i(a.size==="micro"?"w-3.5 h-3.5":"w-4 h-4")}),a.size==="large"&&(0,e.jsx)("span",{className:"ml-1.5 text-xs font-medium",children:"New Task"})]})]})]})]}),n&&a.showSearch!==!1&&(0,e.jsx)("div",{className:"px-4 pb-3 animate-in slide-in-from-top-2 duration-300",children:(0,e.jsxs)("div",{className:"relative bg-white/95 backdrop-blur-sm rounded-xl border border-gray-200/60 shadow-lg",children:[(0,e.jsx)(me,{className:i("absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",a.size==="micro"?"w-3.5 h-3.5":"w-4 h-4")}),(0,e.jsx)(Oe,{label:"Search events, locations, or attendees...",value:l,onChange:t=>u(t.target.value),className:"pl-12 pr-4 h-12 border-0 bg-transparent font-manrope text-sm focus:ring-2 focus:ring-krushr-primary/20",autoFocus:!0}),l&&(0,e.jsx)(y,{variant:"ghost",size:"sm",onClick:()=>{u(""),E(!1)},className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8 rounded-lg hover:bg-gray-100",children:(0,e.jsx)(Ie,{className:"w-4 h-4"})})]})})]}),N==="agenda"?(0,e.jsx)(ue,{workspaceId:R,className:"flex-1"}):(0,e.jsx)("div",{className:i("flex-1",a.headerPadding),children:(0,e.jsxs)("div",{className:"grid grid-cols-7 gap-px bg-gray-200 rounded-lg overflow-hidden",children:[(a.size==="micro"?["S","M","T","W","T","F","S"]:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]).map((t,s)=>(0,e.jsx)("div",{className:i("bg-gray-50 text-center",a.size==="micro"?"p-1":"p-2"),children:(0,e.jsx)("span",{className:i("font-medium text-gray-600 font-manrope",a.fontSize),children:t})},s)),ve.map(t=>{let s=J(t),x=g&&b(t,g),P=ee(t,o),f=he(t),c=ne(t),C=a.maxEventsPerDay;return(0,e.jsxs)("div",{onClick:()=>be(t),className:i("bg-white cursor-pointer border-r border-b border-gray-100 hover:bg-gray-50 transition-colors",a.dayHeight,a.size==="micro"?"p-1":"p-2",!P&&"bg-gray-50/50 text-gray-400 hover:bg-gray-100",x&&"bg-krushr-primary/5 border-krushr-primary",f&&"bg-krushr-primary/10",c&&"bg-red-50/50 border-red-200/50"),title:(()=>{let d=[];return c&&(d.push(`\u{1F389} ${c.name}`),c.type&&d.push(`(${c.type})`)),s.length>0&&(d.length>0&&d.push(`
---
`),d.push(`\u{1F4C5} ${s.length} event${s.length>1?"s":""}:`),s.slice(0,3).forEach(O=>{let le=O.allDay?"All day":p(new Date(O.startTime),"h:mm a");d.push(`\u2022 ${le}: ${O.title}`)}),s.length>3&&d.push(`\u2022 +${s.length-3} more events`)),d.length>0?d.join(`
`):void 0})(),children:[(0,e.jsxs)("div",{className:i("flex items-center justify-between",a.size!=="micro"&&"mb-1"),children:[(0,e.jsx)("span",{className:i("font-manrope",a.fontSize,f&&"font-semibold text-krushr-primary",!P&&"text-gray-400 opacity-75",c&&P&&"text-red-600 font-medium"),children:p(t,"d")}),s.length>0&&a.size!=="micro"&&(0,e.jsx)(v,{variant:"secondary",className:i("px-1 py-0",(a.fontSize==="text-xs","text-xs")),children:s.length}),c&&a.size!=="micro"&&s.length===0&&(0,e.jsxs)(te,{children:[(0,e.jsx)(ae,{asChild:!0,children:(0,e.jsx)("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full cursor-pointer"})}),(0,e.jsx)(re,{side:"right",className:"max-w-xs",children:(0,e.jsxs)("div",{className:"space-y-1",children:[(0,e.jsxs)("div",{className:"font-semibold text-sm flex items-center gap-2",children:["\u{1F389} ",c.name]}),(0,e.jsx)("div",{className:"text-xs text-gray-600",children:c.type}),(0,e.jsx)("div",{className:"text-xs text-gray-500",children:p(t,"EEEE, MMMM d, yyyy")})]})})]}),(s.length>0||c)&&a.size==="micro"&&(0,e.jsxs)(te,{children:[(0,e.jsx)(ae,{asChild:!0,children:(0,e.jsx)("div",{className:i("w-1.5 h-1.5 rounded-full cursor-pointer",c?"bg-red-500":"bg-krushr-primary")})}),(0,e.jsx)(re,{side:"right",className:"max-w-xs",children:(0,e.jsxs)("div",{className:"space-y-1",children:[c&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"font-semibold text-sm flex items-center gap-2",children:["\u{1F389} ",c.name]}),(0,e.jsx)("div",{className:"text-xs text-gray-600",children:c.type})]}),s.length>0&&(0,e.jsxs)(e.Fragment,{children:[c&&(0,e.jsx)("div",{className:"border-t border-gray-100 pt-1 mt-1"}),(0,e.jsxs)("div",{className:"text-xs text-gray-600",children:["\u{1F4C5} ",s.length," event",s.length>1?"s":""]}),s.slice(0,3).map(d=>(0,e.jsxs)("div",{className:"text-xs text-gray-500",children:["\u2022 ",d.title]},d.id)),s.length>3&&(0,e.jsxs)("div",{className:"text-xs text-gray-400",children:["+",s.length-3," more"]})]}),(0,e.jsx)("div",{className:"text-xs text-gray-500 border-t border-gray-100 pt-1",children:p(t,"EEEE, MMMM d, yyyy")})]})})]})]}),C>0&&(0,e.jsxs)("div",{className:"space-y-0.5",children:[s.slice(0,C).map(d=>{let O=se[d.color]||se.blue,le=_e[d.type];return(0,e.jsxs)(te,{children:[(0,e.jsx)(ae,{asChild:!0,children:(0,e.jsx)("div",{onClick:qe=>{qe.stopPropagation(),Ne(d)},className:i("rounded truncate cursor-pointer transition-colors hover:opacity-80 border",O.bg,O.border,O.text,a.size==="small"?"p-0.5":"p-1",!P&&"opacity-60"),children:(0,e.jsxs)("div",{className:"flex items-center gap-1",children:[a.size!=="small"&&(0,e.jsx)(le,{className:i("flex-shrink-0",a.iconSize)}),(0,e.jsx)("span",{className:i("truncate font-manrope",a.fontSize),children:d.title}),d.priority!=="LOW"&&a.size!=="small"&&(0,e.jsx)("div",{className:i("rounded-full flex-shrink-0",je[d.priority],a.size==="medium"?"w-1 h-1":"w-1.5 h-1.5")})]})})}),(0,e.jsx)(re,{side:"right",className:"max-w-xs",children:(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("div",{className:"font-semibold text-sm",children:d.title}),(0,e.jsxs)("div",{className:"text-xs space-y-1",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("span",{className:"font-medium",children:"Type:"}),(0,e.jsx)(v,{variant:"secondary",className:"text-xs",children:d.type})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(F,{className:"w-3 h-3"}),(0,e.jsx)("span",{children:d.allDay?"All day":`${p(d.startTime,"h:mm a")} - ${p(d.endTime,"h:mm a")}`})]}),d.location&&(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(A,{className:"w-3 h-3"}),(0,e.jsx)("span",{children:d.location})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("span",{className:"font-medium",children:"Priority:"}),(0,e.jsx)(v,{variant:d.priority==="HIGH"?"destructive":d.priority==="MEDIUM"?"default":"secondary",className:"text-xs",children:d.priority})]}),d.description&&(0,e.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-100",children:(0,e.jsx)("span",{className:"text-gray-700",children:d.description})})]})]})})]},d.id)}),s.length>C&&(0,e.jsxs)("div",{className:i("text-gray-500 font-manrope pl-1",a.fontSize),children:["+",s.length-C," more"]})]})]},t.toISOString())})]})})]}),g&&a.showSidebar&&(0,e.jsx)("div",{className:i("border-l border-gray-200 bg-gray-50",a.size==="medium"?"w-64":"w-80"),children:(0,e.jsxs)("div",{className:a.headerPadding,children:[(0,e.jsx)("h3",{className:i("font-semibold text-gray-900 mb-2 font-manrope",a.fontSize),children:a.size==="medium"?p(g,"MMM d"):p(g,"EEEE, MMMM d")}),(()=>{let t=ne(g);return t?(0,e.jsxs)("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded-lg",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,e.jsx)("span",{className:i("text-red-700 font-medium font-manrope",a.fontSize),children:t.name})]}),t.type&&(0,e.jsx)("p",{className:i("text-red-600 mt-1 font-manrope",(a.fontSize==="text-sm","text-xs")),children:t.type})]}):null})(),J(g).length===0?(0,e.jsxs)("div",{className:"text-center py-8",children:[(0,e.jsx)($,{className:i("text-gray-400 mx-auto mb-2",a.iconSize==="w-4 h-4"?"w-6 h-6":"w-8 h-8")}),(0,e.jsx)("p",{className:i("text-gray-500 font-manrope",a.fontSize),children:"No events scheduled"}),(0,e.jsxs)(y,{variant:"outline",size:"sm",onClick:()=>D(!0),className:i("mt-2",a.buttonSize),children:[(0,e.jsx)(q,{className:a.iconSize}),(0,e.jsx)("span",{className:"ml-1",children:"Add Event"})]})]}):(0,e.jsx)("div",{className:i("space-y-2",a.size==="medium"&&"space-y-1"),children:J(g).map(t=>{let s=se[t.color]||se.blue,x=_e[t.type];return(0,e.jsx)(ke,{className:i("hover:shadow-sm transition-shadow cursor-pointer",a.size==="medium"?"p-2":"p-3"),onClick:()=>Ne(t),children:(0,e.jsxs)("div",{className:"flex items-start gap-2",children:[(0,e.jsx)("div",{className:i("rounded-lg",s.bg,a.size==="medium"?"p-1.5":"p-2"),children:(0,e.jsx)(x,{className:i(s.text,a.iconSize)})}),(0,e.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,e.jsx)("h4",{className:i("font-medium text-gray-900 truncate font-manrope",a.fontSize),children:t.title}),(0,e.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,e.jsx)(F,{className:i("text-gray-400",a.iconSize)}),(0,e.jsx)("span",{className:i("text-gray-600 font-manrope",a.fontSize),children:t.allDay?"All day":`${p(t.startTime,"h:mm a")} - ${p(t.endTime,"h:mm a")}`})]}),t.location&&(0,e.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,e.jsx)(A,{className:i("text-gray-400",a.iconSize)}),(0,e.jsx)("span",{className:i("text-gray-600 truncate font-manrope",a.fontSize),children:t.location})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,e.jsx)(v,{variant:"outline",className:a.fontSize,children:t.type}),t.priority!=="LOW"&&(0,e.jsx)("div",{className:i("rounded-full",je[t.priority],a.size==="medium"?"w-1.5 h-1.5":"w-2 h-2")})]})]})]})},t.id)})})]})}),(0,e.jsx)(We,{open:ie,onClose:()=>{D(!1),_(null)},onTaskCreated:()=>{window.location.reload()},workspaceId:R,task:U,isEditMode:!!U,mode:"calendar",selectedDate:g})]})})}export{et as default};
