import{c as W,d as te,e as Ct}from"/chunks/chunk-XLF7ZOXQ.js";var G=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};var Y=typeof window>"u"||"Deno"in globalThis;function F(){}function pr(e,t){return typeof e=="function"?e(t):e}function Fe(e){return typeof e=="number"&&e>=0&&e!==1/0}function rt(e,t){return Math.max(e+(t||0)-Date.now(),0)}function re(e,t){return typeof e=="function"?e(t):e}function V(e,t){return typeof e=="function"?e(t):e}function nt(e,t){let{type:r="all",exact:o,fetchStatus:n,predicate:s,queryKey:i,stale:a}=e;if(i){if(o){if(t.queryHash!==Ue(i,t.options))return!1}else if(!we(t.queryKey,i))return!1}if(r!=="all"){let u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||n&&n!==t.state.fetchStatus||s&&!s(t))}function ot(e,t){let{exact:r,status:o,predicate:n,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(X(t.options.mutationKey)!==X(s))return!1}else if(!we(t.options.mutationKey,s))return!1}return!(o&&t.state.status!==o||n&&!n(t))}function Ue(e,t){return(t?.queryKeyHashFn||X)(e)}function X(e){return JSON.stringify(e,(t,r)=>Tt(r)?Object.keys(r).sort().reduce((o,n)=>(o[n]=r[n],o),{}):r)}function we(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>we(e[r],t[r])):!1}function Ne(e,t){if(e===t)return e;let r=fr(e)&&fr(t);if(r||Tt(e)&&Tt(t)){let o=r?e:Object.keys(e),n=o.length,s=r?t:Object.keys(t),i=s.length,a=r?[]:{},u=new Set(o),c=0;for(let f=0;f<i;f++){let p=r?f:s[f];(!r&&u.has(p)||r)&&e[p]===void 0&&t[p]===void 0?(a[p]=void 0,c++):(a[p]=Ne(e[p],t[p]),a[p]===e[p]&&e[p]!==void 0&&c++)}return n===i&&c===n?e:a}return t}function xe(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}function fr(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Tt(e){if(!dr(e))return!1;let t=e.constructor;if(t===void 0)return!0;let r=t.prototype;return!(!dr(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function dr(e){return Object.prototype.toString.call(e)==="[object Object]"}function hr(e){return new Promise(t=>{setTimeout(t,e)})}function Le(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Ne(e,t):t}function mr(e,t,r=0){let o=[...e,t];return r&&o.length>r?o.slice(1):o}function yr(e,t,r=0){let o=[t,...e];return r&&o.length>r?o.slice(0,-1):o}var K=Symbol();function st(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===K?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Be(e,t){return typeof e=="function"?e(...t):!!e}var _n=class extends G{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!Y&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Ce=new _n;var Pn=class extends G{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!Y&&window.addEventListener){let t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},Te=new Pn;function Ke(){let e,t,r=new Promise((n,s)=>{e=n,t=s});r.status="pending",r.catch(()=>{});function o(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{o({status:"fulfilled",value:n}),e(n)},r.reject=n=>{o({status:"rejected",reason:n}),t(n)},r}function wn(e){return Math.min(1e3*2**e,3e4)}function jt(e){return(e??"online")==="online"?Te.isOnline():!0}var vr=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function it(e){return e instanceof vr}function at(e){let t=!1,r=0,o=!1,n,s=Ke(),i=m=>{o||(y(new vr(m)),e.abort?.())},a=()=>{t=!0},u=()=>{t=!1},c=()=>Ce.isFocused()&&(e.networkMode==="always"||Te.isOnline())&&e.canRun(),f=()=>jt(e.networkMode)&&e.canRun(),p=m=>{o||(o=!0,e.onSuccess?.(m),n?.(),s.resolve(m))},y=m=>{o||(o=!0,e.onError?.(m),n?.(),s.reject(m))},P=()=>new Promise(m=>{n=M=>{(o||c())&&m(M)},e.onPause?.()}).then(()=>{n=void 0,o||e.onContinue?.()}),R=()=>{if(o)return;let m,M=r===0?e.initialPromise:void 0;try{m=M??e.fn()}catch(j){m=Promise.reject(j)}Promise.resolve(m).then(p).catch(j=>{if(o)return;let $=e.retry??(Y?0:3),ee=e.retryDelay??wn,ye=typeof ee=="function"?ee(r,j):ee,ve=$===!0||typeof $=="number"&&r<$||typeof $=="function"&&$(r,j);if(t||!ve){y(j);return}r++,e.onFail?.(r,j),hr(ye).then(()=>c()?void 0:P()).then(()=>{t?y(j):R()})})};return{promise:s,cancel:i,continue:()=>(n?.(),s),cancelRetry:a,continueRetry:u,canStart:f,start:()=>(f()?R():P().then(R),s)}}var br=e=>setTimeout(e,0);function Rn(){let e=[],t=0,r=a=>{a()},o=a=>{a()},n=br,s=a=>{t?e.push(a):n(()=>{r(a)})},i=()=>{let a=e;e=[],a.length&&n(()=>{o(()=>{a.forEach(u=>{r(u)})})})};return{batch:a=>{let u;t++;try{u=a()}finally{t--,t||i()}return u},batchCalls:a=>(...u)=>{s(()=>{a(...u)})},schedule:s,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{o=a},setScheduler:a=>{n=a}}}var w=Rn();var ut=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fe(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Y?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}};var gr=class extends ut{#t;#e;#r;#n;#o;#s;#a;constructor(e){super(),this.#a=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=En(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#o?.promise}setOptions(e){this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){let r=Le(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#o?.promise;return this.#o?.cancel(e),t?t.then(F).catch(F):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>V(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===K||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>re(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!rt(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#o?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#o?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#o&&(this.#a?this.#o.cancel({revert:!0}):this.#o.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#o)return this.#o.continueRetry(),this.#o.promise}if(e&&this.setOptions(e),!this.options.queryFn){let u=this.observers.find(c=>c.options.queryFn);u&&this.setOptions(u.options)}let r=new AbortController,o=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},n=()=>{let u=st(this.options,t),f=(()=>{let p={client:this.#n,queryKey:this.queryKey,meta:this.meta};return o(p),p})();return this.#a=!1,this.options.persister?this.options.persister(u,f,this):u(f)},i=(()=>{let u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:n};return o(u),u})();this.options.behavior?.onFetch(i,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#i({type:"fetch",meta:i.fetchOptions?.meta});let a=u=>{it(u)&&u.silent||this.#i({type:"error",error:u}),it(u)||(this.#r.config.onError?.(u,this),this.#r.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#o=at({initialPromise:t?.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(c){a(c);return}this.#r.config.onSuccess?.(u,this),this.#r.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,c)=>{this.#i({type:"failed",failureCount:u,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#o.start()}#i(e){let t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...kt(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let o=e.error;return it(o)&&o.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),w.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function kt(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jt(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function En(e){let t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,o=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Or=class extends G{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){let o=t.queryKey,n=t.queryHash??Ue(o,t),s=this.get(n);return s||(s=new gr({client:e,queryKey:o,queryHash:n,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(o)}),this.add(s)),s}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){w.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(r=>nt(t,r))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(r=>nt(e,r)):t}notify(e){w.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){w.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){w.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}};var Sr=class extends ut{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||Dt(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#n({type:"continue"})};this.#r=at({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(n,s)=>{this.#n({type:"failed",failureCount:n,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});let r=this.state.status==="pending",o=!this.#r.canStart();try{if(r)t();else{this.#n({type:"pending",variables:e,isPaused:o}),await this.#e.config.onMutate?.(e,this);let s=await this.options.onMutate?.(e);s!==this.state.context&&this.#n({type:"pending",context:s,variables:e,isPaused:o})}let n=await this.#r.start();return await this.#e.config.onSuccess?.(n,e,this.state.context,this),await this.options.onSuccess?.(n,e,this.state.context),await this.#e.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,e,this.state.context),this.#n({type:"success",data:n}),n}catch(n){try{throw await this.#e.config.onError?.(n,e,this.state.context,this),await this.options.onError?.(n,e,this.state.context),await this.#e.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,e,this.state.context),n}finally{this.#n({type:"error",error:n})}}finally{this.#e.runNext(this)}}#n(e){let t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),w.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function Dt(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _r=class extends G{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){let o=new Sr({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(o),o}add(e){this.#t.add(e);let t=ct(e);if(typeof t=="string"){let r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){let t=ct(e);if(typeof t=="string"){let r=this.#e.get(t);if(r)if(r.length>1){let o=r.indexOf(e);o!==-1&&r.splice(o,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=ct(e);if(typeof t=="string"){let o=this.#e.get(t)?.find(n=>n.state.status==="pending");return!o||o===e}else return!0}runNext(e){let t=ct(e);return typeof t=="string"?this.#e.get(t)?.find(o=>o!==e&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){w.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){let t={exact:!0,...e};return this.getAll().find(r=>ot(t,r))}findAll(e={}){return this.getAll().filter(t=>ot(e,t))}notify(e){w.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(t=>t.state.isPaused);return w.batch(()=>Promise.all(e.map(t=>t.continue().catch(F))))}};function ct(e){return e.options.scope?.id}function je(e){return{onFetch:(t,r)=>{let o=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],i=t.state.data?.pageParams||[],a={pages:[],pageParams:[]},u=0,c=async()=>{let f=!1,p=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},y=st(t.options,t.fetchOptions),P=async(R,m,M)=>{if(f)return Promise.reject();if(m==null&&R.pages.length)return Promise.resolve(R);let $=(()=>{let O={client:t.client,queryKey:t.queryKey,pageParam:m,direction:M?"backward":"forward",meta:t.options.meta};return p(O),O})(),ee=await y($),{maxPages:ye}=t.options,ve=M?yr:mr;return{pages:ve(R.pages,ee,ye),pageParams:ve(R.pageParams,m,ye)}};if(n&&s.length){let R=n==="backward",m=R?Pr:Mt,M={pages:s,pageParams:i},j=m(o,M);a=await P(M,j,R)}else{let R=e??s.length;do{let m=u===0?i[0]??o.initialPageParam:Mt(o,a);if(u>0&&m==null)break;a=await P(a,m),u++}while(u<R)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function Mt(e,{pages:t,pageParams:r}){let o=t.length-1;return t.length>0?e.getNextPageParam(t[o],t,r[o],r):void 0}function Pr(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}function wr(e,t){return t?Mt(e,t)!=null:!1}function Rr(e,t){return!t||!e.getPreviousPageParam?!1:Pr(e,t)!=null}var Er=class{#t;#e;#r;#n;#o;#s;#a;#i;constructor(e={}){this.#t=e.queryCache||new Or,this.#e=e.mutationCache||new _r,this.#r=e.defaultOptions||{},this.#n=new Map,this.#o=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=Ce.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#i=Te.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),r=this.#t.build(this,t),o=r.state.data;return o===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(re(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(o))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{let o=r.data;return[t,o]})}setQueryData(e,t,r){let o=this.defaultQueryOptions({queryKey:e}),s=this.#t.get(o.queryHash)?.state.data,i=pr(t,s);if(i!==void 0)return this.#t.build(this,o).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return w.batch(()=>this.#t.findAll(e).map(({queryKey:o})=>[o,this.setQueryData(o,t,r)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){let t=this.#t;w.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){let r=this.#t;return w.batch(()=>(r.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let r={revert:!0,...t},o=w.batch(()=>this.#t.findAll(e).map(n=>n.cancel(r)));return Promise.all(o).then(F).catch(F)}invalidateQueries(e,t={}){return w.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){let r={...t,cancelRefetch:t.cancelRefetch??!0},o=w.batch(()=>this.#t.findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let s=n.fetch(void 0,r);return r.throwOnError||(s=s.catch(F)),n.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(o).then(F)}fetchQuery(e){let t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);let r=this.#t.build(this,t);return r.isStaleByTime(re(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(F).catch(F)}fetchInfiniteQuery(e){return e.behavior=je(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(F).catch(F)}ensureInfiniteQueryData(e){return e.behavior=je(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Te.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(X(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#n.values()],r={};return t.forEach(o=>{we(e,o.queryKey)&&Object.assign(r,o.defaultOptions)}),r}setMutationDefaults(e,t){this.#o.set(X(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#o.values()],r={};return t.forEach(o=>{we(e,o.mutationKey)&&Object.assign(r,o.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ue(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===K&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}};var ne=class extends G{constructor(e,t){super(),this.options=t,this.#t=e,this.#i=null,this.#a=Ke(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#o;#s;#a;#i;#p;#f;#d;#c;#l;#u;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),xr(this.#e,this.options)?this.#h():this.updateResult(),this.#g())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Qt(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Qt(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#O(),this.#S(),this.#e.removeObserver(this)}setOptions(e){let t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof V(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!xe(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});let o=this.hasListeners();o&&Cr(this.#e,r,this.options,t)&&this.#h(),this.updateResult(),o&&(this.#e!==r||V(this.options.enabled,this.#e)!==V(t.enabled,this.#e)||re(this.options.staleTime,this.#e)!==re(t.staleTime,this.#e))&&this.#y();let n=this.#v();o&&(this.#e!==r||V(this.options.enabled,this.#e)!==V(t.enabled,this.#e)||n!==this.#u)&&this.#b(n)}getOptimisticResult(e){let t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return Cn(this,r)&&(this.#n=r,this.#s=this.options,this.#o=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(r,o)=>(this.trackProp(o),t?.(o),Reflect.get(r,o))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#h({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#h(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(F)),t}#y(){this.#O();let e=re(this.options.staleTime,this.#e);if(Y||this.#n.isStale||!Fe(e))return;let r=rt(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(e){this.#S(),this.#u=e,!(Y||V(this.options.enabled,this.#e)===!1||!Fe(this.#u)||this.#u===0)&&(this.#l=setInterval(()=>{(this.options.refetchIntervalInBackground||Ce.isFocused())&&this.#h()},this.#u))}#g(){this.#y(),this.#b(this.#v())}#O(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#S(){this.#l&&(clearInterval(this.#l),this.#l=void 0)}createResult(e,t){let r=this.#e,o=this.options,n=this.#n,s=this.#o,i=this.#s,u=e!==r?e.state:this.#r,{state:c}=e,f={...c},p=!1,y;if(t._optimisticResults){let l=this.hasListeners(),v=!l&&xr(e,t),b=l&&Cr(e,r,t,o);(v||b)&&(f={...f,...kt(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:P,errorUpdatedAt:R,status:m}=f;y=f.data;let M=!1;if(t.placeholderData!==void 0&&y===void 0&&m==="pending"){let l;n?.isPlaceholderData&&t.placeholderData===i?.placeholderData?(l=n.data,M=!0):l=typeof t.placeholderData=="function"?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,l!==void 0&&(m="success",y=Le(n?.data,l,t),p=!0)}if(t.select&&y!==void 0&&!M)if(n&&y===s?.data&&t.select===this.#p)y=this.#f;else try{this.#p=t.select,y=t.select(y),y=Le(n?.data,y,t),this.#f=y,this.#i=null}catch(l){this.#i=l}this.#i&&(P=this.#i,y=this.#f,R=Date.now(),m="error");let j=f.fetchStatus==="fetching",$=m==="pending",ee=m==="error",ye=$&&j,ve=y!==void 0,h={status:m,fetchStatus:f.fetchStatus,isPending:$,isSuccess:m==="success",isError:ee,isInitialLoading:ye,isLoading:ye,data:y,dataUpdatedAt:f.dataUpdatedAt,error:P,errorUpdatedAt:R,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:j,isRefetching:j&&!$,isLoadingError:ee&&!ve,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:ee&&ve,isStale:qt(e,t),refetch:this.refetch,promise:this.#a};if(this.options.experimental_prefetchInRender){let l=g=>{h.status==="error"?g.reject(h.error):h.data!==void 0&&g.resolve(h.data)},v=()=>{let g=this.#a=h.promise=Ke();l(g)},b=this.#a;switch(b.status){case"pending":e.queryHash===r.queryHash&&l(b);break;case"fulfilled":(h.status==="error"||h.data!==b.value)&&v();break;case"rejected":(h.status!=="error"||h.error!==b.reason)&&v();break}}return h}updateResult(){let e=this.#n,t=this.createResult(this.#e,this.options);if(this.#o=this.#e.state,this.#s=this.options,this.#o.data!==void 0&&(this.#d=this.#e),xe(t,e))return;this.#n=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:o}=this.options,n=typeof o=="function"?o():o;if(n==="all"||!n&&!this.#m.size)return!0;let s=new Set(n??this.#m);return this.options.throwOnError&&s.add("error"),Object.keys(this.#n).some(i=>{let a=i;return this.#n[a]!==e[a]&&s.has(a)})};this.#P({listeners:r()})}#_(){let e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;let t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#g()}#P(e){w.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function xn(e,t){return V(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function xr(e,t){return xn(e,t)||e.state.data!==void 0&&Qt(e,t,t.refetchOnMount)}function Qt(e,t,r){if(V(t.enabled,e)!==!1&&re(t.staleTime,e)!=="static"){let o=typeof r=="function"?r(e):r;return o==="always"||o!==!1&&qt(e,t)}return!1}function Cr(e,t,r,o){return(e!==t||V(o.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&qt(e,r)}function qt(e,t){return V(t.enabled,e)!==!1&&e.isStaleByTime(re(t.staleTime,e))}function Cn(e,t){return!xe(e.getCurrentResult(),t)}function Tr(e,t){let r=new Set(t);return e.filter(o=>!r.has(o))}function Tn(e,t,r){let o=e.slice(0);return o[t]=r,o}var It=class extends G{#t;#e;#r;#n;#o;#s;#a;#i;#p=[];constructor(e,t,r){super(),this.#t=e,this.#n=r,this.#r=[],this.#o=[],this.#e=[],this.setQueries(t)}onSubscribe(){this.listeners.size===1&&this.#o.forEach(e=>{e.subscribe(t=>{this.#l(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#o.forEach(e=>{e.destroy()})}setQueries(e,t){this.#r=e,this.#n=t,w.batch(()=>{let r=this.#o,o=this.#c(this.#r);this.#p=o,o.forEach(a=>a.observer.setOptions(a.defaultedQueryOptions));let n=o.map(a=>a.observer),s=n.map(a=>a.getCurrentResult()),i=n.some((a,u)=>a!==r[u]);r.length===n.length&&!i||(this.#o=n,this.#e=s,this.hasListeners()&&(Tr(r,n).forEach(a=>{a.destroy()}),Tr(n,r).forEach(a=>{a.subscribe(u=>{this.#l(a,u)})}),this.#u()))})}getCurrentResult(){return this.#e}getQueries(){return this.#o.map(e=>e.getCurrentQuery())}getObservers(){return this.#o}getOptimisticResult(e,t){let r=this.#c(e),o=r.map(n=>n.observer.getOptimisticResult(n.defaultedQueryOptions));return[o,n=>this.#d(n??o,t),()=>this.#f(o,r)]}#f(e,t){return t.map((r,o)=>{let n=e[o];return r.defaultedQueryOptions.notifyOnChangeProps?n:r.observer.trackResult(n,s=>{t.forEach(i=>{i.observer.trackProp(s)})})})}#d(e,t){return t?((!this.#s||this.#e!==this.#i||t!==this.#a)&&(this.#a=t,this.#i=this.#e,this.#s=Ne(this.#s,t(e))),this.#s):e}#c(e){let t=new Map(this.#o.map(o=>[o.options.queryHash,o])),r=[];return e.forEach(o=>{let n=this.#t.defaultQueryOptions(o),s=t.get(n.queryHash);s?r.push({defaultedQueryOptions:n,observer:s}):r.push({defaultedQueryOptions:n,observer:new ne(this.#t,n)})}),r}#l(e,t){let r=this.#o.indexOf(e);r!==-1&&(this.#e=Tn(this.#e,r,t),this.#u())}#u(){if(this.hasListeners()){let e=this.#s,t=this.#f(this.#e,this.#p),r=this.#d(t,this.#n?.combine);e!==r&&w.batch(()=>{this.listeners.forEach(o=>{o(this.#e)})})}}};var He=class extends ne{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:je()})}getOptimisticResult(e){return e.behavior=je(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){let{state:r}=e,o=super.createResult(e,t),{isFetching:n,isRefetching:s,isError:i,isRefetchError:a}=o,u=r.fetchMeta?.fetchMore?.direction,c=i&&u==="forward",f=n&&u==="forward",p=i&&u==="backward",y=n&&u==="backward";return{...o,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:wr(t,r.data),hasPreviousPage:Rr(t,r.data),isFetchNextPageError:c,isFetchingNextPage:f,isFetchPreviousPageError:p,isFetchingPreviousPage:y,isRefetchError:a&&!c&&!p,isRefetching:s&&!f&&!y}}};var At=class extends G{#t;#e=void 0;#r;#n;constructor(e,t){super(),this.#t=e,this.setOptions(t),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#t.defaultMutationOptions(e),xe(this.options,t)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&X(t.mutationKey)!==X(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#o(),this.#s(e)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#o(),this.#s()}mutate(e,t){return this.#n=t,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(e)}#o(){let e=this.#r?.state??Dt();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){w.batch(()=>{if(this.#n&&this.hasListeners()){let t=this.#e.variables,r=this.#e.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,t,r),this.#n.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#n.onError?.(e.error,t,r),this.#n.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(t=>{t(this.#e)})})}};var ce=W(te(),1);var ke=W(te(),1),jr=W(Ct(),1),Ft=ke.createContext(void 0),oe=e=>{let t=ke.useContext(Ft);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},jn=({client:e,children:t})=>(ke.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,jr.jsx)(Ft.Provider,{value:e,children:t}));var lt=W(te(),1),kr=lt.createContext(!1),ft=()=>lt.useContext(kr),ki=kr.Provider;var $e=W(te(),1),kn=W(Ct(),1);function Dn(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Mn=$e.createContext(Dn()),dt=()=>$e.useContext(Mn);var Dr=W(te(),1);var pt=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},ht=e=>{Dr.useEffect(()=>{e.clearReset()},[e])},mt=({result:e,errorResetBoundary:t,throwOnError:r,query:o,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&o&&(n&&e.data===void 0||Be(r,[e.error,o]));var De=(e,t)=>t.state.data===void 0,yt=e=>{if(e.suspense){let t=o=>o==="static"?o:Math.max(o??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...o)=>t(r(...o)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},vt=(e,t)=>e.isLoading&&e.isFetching&&!t,ze=(e,t)=>e?.suspense&&t.isPending,Me=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function We({queries:e,...t},r){let o=oe(r),n=ft(),s=dt(),i=ce.useMemo(()=>e.map(m=>{let M=o.defaultQueryOptions(m);return M._optimisticResults=n?"isRestoring":"optimistic",M}),[e,o,n]);i.forEach(m=>{yt(m),pt(m,s)}),ht(s);let[a]=ce.useState(()=>new It(o,i,t)),[u,c,f]=a.getOptimisticResult(i,t.combine),p=!n&&t.subscribed!==!1;ce.useSyncExternalStore(ce.useCallback(m=>p?a.subscribe(w.batchCalls(m)):F,[a,p]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),ce.useEffect(()=>{a.setQueries(i,t)},[i,t,a]);let P=u.some((m,M)=>ze(i[M],m))?u.flatMap((m,M)=>{let j=i[M];if(j){let $=new ne(o,j);if(ze(j,m))return Me(j,$,s);vt(m,n)&&Me(j,$,s)}return[]}):[];if(P.length>0)throw Promise.all(P);let R=u.find((m,M)=>{let j=i[M];return j&&mt({result:m,errorResetBoundary:s,throwOnError:j.throwOnError,query:o.getQueryCache().get(j.queryHash),suspense:j.suspense})});if(R?.error)throw R.error;return c(f())}var be=W(te(),1);function ge(e,t,r){let o=ft(),n=dt(),s=oe(r),i=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(i),i._optimisticResults=o?"isRestoring":"optimistic",yt(i),pt(i,n),ht(n);let a=!s.getQueryCache().get(i.queryHash),[u]=be.useState(()=>new t(s,i)),c=u.getOptimisticResult(i),f=!o&&e.subscribed!==!1;if(be.useSyncExternalStore(be.useCallback(p=>{let y=f?u.subscribe(w.batchCalls(p)):F;return u.updateResult(),y},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),be.useEffect(()=>{u.setOptions(i)},[i,u]),ze(i,c))throw Me(i,u,n);if(mt({result:c,errorResetBoundary:n,throwOnError:i.throwOnError,query:s.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw c.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(i,c),i.experimental_prefetchInRender&&!Y&&vt(c,o)&&(a?Me(i,u,n):s.getQueryCache().get(i.queryHash)?.promise)?.catch(F).finally(()=>{u.updateResult()}),i.notifyOnChangeProps?c:u.trackResult(c)}function Ut(e,t){return ge(e,ne,t)}function Nt(e,t){return ge({...e,enabled:!0,suspense:!0,throwOnError:De,placeholderData:void 0},ne,t)}function Lt(e,t){return ge({...e,enabled:!0,suspense:!0,throwOnError:De},He,t)}function Bt(e,t){return We({...e,queries:e.queries.map(r=>({...r,suspense:!0,throwOnError:De,enabled:!0,placeholderData:void 0}))},t)}function Kt(e,t){let r=oe(t);r.getQueryState(e.queryKey)||r.prefetchQuery(e)}function Ht(e,t){let r=oe(t);r.getQueryState(e.queryKey)||r.prefetchInfiniteQuery(e)}var de=W(te(),1);function $t(e,t){let r=oe(t),[o]=de.useState(()=>new At(r,e));de.useEffect(()=>{o.setOptions(e)},[o,e]);let n=de.useSyncExternalStore(de.useCallback(i=>o.subscribe(w.batchCalls(i)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),s=de.useCallback((i,a)=>{o.mutate(i,a).catch(F)},[o]);if(n.error&&Be(o.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:s,mutateAsync:n.mutate}}function zt(e,t){return ge(e,He,t)}var Ge={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,BAD_GATEWAY:-32603,SERVICE_UNAVAILABLE:-32603,GATEWAY_TIMEOUT:-32603,UNAUTHORIZED:-32001,PAYMENT_REQUIRED:-32002,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNSUPPORTED_MEDIA_TYPE:-32015,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};var Mr=[Ge.BAD_GATEWAY,Ge.SERVICE_UNAVAILABLE,Ge.GATEWAY_TIMEOUT,Ge.INTERNAL_SERVER_ERROR];function se(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}var Qn=typeof Symbol=="function"&&!!Symbol.asyncIterator;function Ye(e){return Qn&&se(e)&&Symbol.asyncIterator in e}var qn=Object.create,qr=Object.defineProperty,In=Object.getOwnPropertyDescriptor,Ir=Object.getOwnPropertyNames,An=Object.getPrototypeOf,Fn=Object.prototype.hasOwnProperty,Ve=(e,t)=>function(){return t||(0,e[Ir(e)[0]])((t={exports:{}}).exports,t),t.exports},Un=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(var n=Ir(t),s=0,i=n.length,a;s<i;s++)a=n[s],!Fn.call(e,a)&&a!==r&&qr(e,a,{get:(u=>t[u]).bind(null,a),enumerable:!(o=In(t,a))||o.enumerable});return e},Je=(e,t,r)=>(r=e!=null?qn(An(e)):{},Un(t||!e||!e.__esModule?qr(r,"default",{value:e,enumerable:!0}):r,e)),Ar=()=>{},Qr=e=>{Object.freeze&&Object.freeze(e)};function Fr(e,t,r){var o;let n=t.join(".");return(o=r[n])!==null&&o!==void 0||(r[n]=new Proxy(Ar,{get(s,i){if(!(typeof i!="string"||i==="then"))return Fr(e,[...t,i],r)},apply(s,i,a){let u=t[t.length-1],c={args:a,path:t};return u==="call"?c={args:a.length>=2?[a[1]]:[],path:t.slice(0,-1)}:u==="apply"&&(c={args:a.length>=2?a[1]:[],path:t.slice(0,-1)}),Qr(c.args),Qr(c.path),e(c)}})),r[n]}var Oe=e=>Fr(e,[],Object.create(null)),Re=e=>new Proxy(Ar,{get(t,r){if(r!=="then")return e(r)}});var Ur=Ve({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,t){function r(o){"@babel/helpers - typeof";return t.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,r(o)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),Nn=Ve({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,t){var r=Ur().default;function o(n,s){if(r(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var a=i.call(n,s||"default");if(r(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(n)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}}),Ln=Ve({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,t){var r=Ur().default,o=Nn();function n(s){var i=o(s,"string");return r(i)=="symbol"?i:i+""}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),Wt=Ve({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,t){var r=Ln();function o(n,s,i){return(s=r(s))in n?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i,n}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}}),bt=Ve({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,t){var r=Wt();function o(s,i){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);i&&(u=u.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),a.push.apply(a,u)}return a}function n(s){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?o(Object(a),!0).forEach(function(u){r(s,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(u){Object.defineProperty(s,u,Object.getOwnPropertyDescriptor(a,u))})}return s}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),Aa=Je(bt(),1);var La=Je(Wt(),1);var gt=Je(bt(),1);function $n(e,t){if("error"in e){let o=t.deserialize(e.error);return{ok:!1,error:(0,gt.default)((0,gt.default)({},e),{},{error:o})}}return{ok:!0,result:(0,gt.default)((0,gt.default)({},e.result),(!e.result.type||e.result.type==="data")&&{type:"data",data:t.deserialize(e.result.data)})}}var Gt=class extends Error{constructor(){super("Unable to transform response from server")}};function Yt(e,t){let r;try{r=$n(e,t)}catch{throw new Gt}if(!r.ok&&(!se(r.error.error)||typeof r.error.error.code!="number"))throw new Gt;if(r.ok&&!se(r.result))throw new Gt;return r}var Ba=Je(bt(),1),Ka=Symbol("lazy");var Ha=Symbol();function J(e){let t={subscribe(r){let o=null,n=!1,s=!1,i=!1;function a(){if(o===null){i=!0;return}s||(s=!0,typeof o=="function"?o():o&&o.unsubscribe())}return o=e({next(u){var c;n||(c=r.next)===null||c===void 0||c.call(r,u)},error(u){var c;n||(n=!0,(c=r.error)===null||c===void 0||c.call(r,u),a())},complete(){var u;n||(n=!0,(u=r.complete)===null||u===void 0||u.call(r),a())}}),i&&a(),{unsubscribe:a}},pipe(...r){return r.reduce(zn,t)}};return t}function zn(e,t){return t(e)}function Vt(e){let t=new AbortController;return new Promise((o,n)=>{let s=!1;function i(){s||(s=!0,a.unsubscribe())}t.signal.addEventListener("abort",()=>{n(t.signal.reason)});let a=e.subscribe({next(u){s=!0,o(u),i()},error(u){n(u)},complete(){t.abort(),i()}})})}var Yn=Object.create,Lr=Object.defineProperty,Vn=Object.getOwnPropertyDescriptor,Br=Object.getOwnPropertyNames,Jn=Object.getPrototypeOf,Zn=Object.prototype.hasOwnProperty,pe=(e,t)=>function(){return t||(0,e[Br(e)[0]])((t={exports:{}}).exports,t),t.exports},Xn=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(var n=Br(t),s=0,i=n.length,a;s<i;s++)a=n[s],!Zn.call(e,a)&&a!==r&&Lr(e,a,{get:(u=>t[u]).bind(null,a),enumerable:!(o=Vn(t,a))||o.enumerable});return e},Se=(e,t,r)=>(r=e!=null?Yn(Jn(e)):{},Xn(t||!e||!e.__esModule?Lr(r,"default",{value:e,enumerable:!0}):r,e)),eo=pe({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutPropertiesLoose.js"(e,t){function r(o,n){if(o==null)return{};var s={};for(var i in o)if({}.hasOwnProperty.call(o,i)){if(n.includes(i))continue;s[i]=o[i]}return s}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),to=pe({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutProperties.js"(e,t){var r=eo();function o(n,s){if(n==null)return{};var i,a,u=r(n,s);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(a=0;a<c.length;a++)i=c[a],s.includes(i)||{}.propertyIsEnumerable.call(n,i)&&(u[i]=n[i])}return u}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}}),Kr=pe({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,t){function r(o){"@babel/helpers - typeof";return t.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,r(o)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),ro=pe({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,t){var r=Kr().default;function o(n,s){if(r(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var a=i.call(n,s||"default");if(r(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(n)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}}),no=pe({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,t){var r=Kr().default,o=ro();function n(s){var i=o(s,"string");return r(i)=="symbol"?i:i+""}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),oo=pe({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,t){var r=no();function o(n,s,i){return(s=r(s))in n?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i,n}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}}),Qe=pe({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,t){var r=oo();function o(s,i){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);i&&(u=u.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),a.push.apply(a,u)}return a}function n(s){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?o(Object(a),!0).forEach(function(u){r(s,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(u){Object.defineProperty(s,u,Object.getOwnPropertyDescriptor(a,u))})}return s}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),so=Se(to(),1),Nr=Se(Qe(),1),io=["cursor","direction"];function ie(e,t,r){let o=e.flatMap(n=>n.split("."));if(!t&&(!r||r==="any"))return o.length?[o]:[];if(r==="infinite"&&se(t)&&("direction"in t||"cursor"in t)){let{cursor:n,direction:s}=t,i=(0,so.default)(t,io);return[o,{input:i,type:"infinite"}]}return[o,(0,Nr.default)((0,Nr.default)({},typeof t<"u"&&t!==K&&{input:t}),r&&r!=="any"&&{type:r})]}function Ze(e){return ie(e,void 0,"any")}var ao=Object.create,Hr=Object.defineProperty,uo=Object.getOwnPropertyDescriptor,$r=Object.getOwnPropertyNames,co=Object.getPrototypeOf,lo=Object.prototype.hasOwnProperty,ae=(e,t)=>function(){return t||(0,e[$r(e)[0]])((t={exports:{}}).exports,t),t.exports},fo=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(var n=$r(t),s=0,i=n.length,a;s<i;s++)a=n[s],!lo.call(e,a)&&a!==r&&Hr(e,a,{get:(u=>t[u]).bind(null,a),enumerable:!(o=uo(t,a))||o.enumerable});return e},T=(e,t,r)=>(r=e!=null?ao(co(e)):{},fo(t||!e||!e.__esModule?Hr(r,"default",{value:e,enumerable:!0}):r,e)),zr=ae({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,t){function r(o){"@babel/helpers - typeof";return t.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,r(o)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),po=ae({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,t){var r=zr().default;function o(n,s){if(r(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var a=i.call(n,s||"default");if(r(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(n)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}}),ho=ae({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,t){var r=zr().default,o=po();function n(s){var i=o(s,"string");return r(i)=="symbol"?i:i+""}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),le=ae({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,t){var r=ho();function o(n,s,i){return(s=r(s))in n?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i,n}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}}),H=ae({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,t){var r=le();function o(s,i){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);i&&(u=u.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),a.push.apply(a,u)}return a}function n(s){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?o(Object(a),!0).forEach(function(u){r(s,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(u){Object.defineProperty(s,u,Object.getOwnPropertyDescriptor(a,u))})}return s}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}});function Jt(e){return t=>{let r=0,o=null,n=[];function s(){o||(o=t.subscribe({next(a){for(let c of n){var u;(u=c.next)===null||u===void 0||u.call(c,a)}},error(a){for(let c of n){var u;(u=c.error)===null||u===void 0||u.call(c,a)}},complete(){for(let u of n){var a;(a=u.complete)===null||a===void 0||a.call(u)}}}))}function i(){if(r===0&&o){let a=o;o=null,a.unsubscribe()}}return J(a=>(r++,n.push(a),s(),{unsubscribe(){r--,i();let u=n.findIndex(c=>c===a);u>-1&&n.splice(u,1)}}))}}function Zt(e){return t=>J(r=>t.subscribe({next(o){var n;(n=e.next)===null||n===void 0||n.call(e,o),r.next(o)},error(o){var n;(n=e.error)===null||n===void 0||n.call(e,o),r.error(o)},complete(){var o;(o=e.complete)===null||o===void 0||o.call(e),r.complete()}}))}var ku=Symbol();function Ot(e){let t=e,r=[],o=i=>{t!==void 0&&i.next(t),r.push(i)},n=i=>{r.splice(r.indexOf(i),1)},s=J(i=>(o(i),()=>{n(i)}));return s.next=i=>{if(t!==i){t=i;for(let a of r)a.next(i)}},s.get=()=>t,s}function Wr(e){return J(t=>{function r(n=0,s=e.op){let i=e.links[n];if(!i)throw new Error("No more links to execute - did you forget to add an ending link?");return i({op:s,next(u){return r(n+1,u)}})}return r().subscribe(t)})}var St=T(le(),1),qe=T(H(),1);function Gr(e){return e instanceof _e}function mo(e){return se(e)&&se(e.error)&&typeof e.error.code=="number"&&typeof e.error.message=="string"}function yo(e,t){return typeof e=="string"?e:se(e)&&typeof e.message=="string"?e.message:t}var _e=class _t extends Error{constructor(t,r){var o,n;let s=r?.cause;super(t,{cause:s}),(0,St.default)(this,"cause",void 0),(0,St.default)(this,"shape",void 0),(0,St.default)(this,"data",void 0),(0,St.default)(this,"meta",void 0),this.meta=r?.meta,this.cause=s,this.shape=r==null||(o=r.result)===null||o===void 0?void 0:o.error,this.data=r==null||(n=r.result)===null||n===void 0?void 0:n.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,_t.prototype)}static from(t,r={}){let o=t;return Gr(o)?(r.meta&&(o.meta=(0,qe.default)((0,qe.default)({},o.meta),r.meta)),o):mo(o)?new _t(o.error.message,(0,qe.default)((0,qe.default)({},r),{},{result:o})):new _t(yo(o,"Unknown error"),(0,qe.default)((0,qe.default)({},r),{},{cause:o}))}};function Pt(e){let t=e;return t?"input"in t?t:{input:t,output:t}:{input:{serialize:r=>r,deserialize:r=>r},output:{serialize:r=>r,deserialize:r=>r}}}var Yr=e=>typeof e=="function";function Vr(e){if(e)return e;if(typeof window<"u"&&Yr(window.fetch))return window.fetch;if(typeof globalThis<"u"&&Yr(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}var Xe=T(H(),1);function wt(e){return{url:e.url.toString(),fetch:e.fetch,transformer:Pt(e.transformer),methodOverride:e.methodOverride}}function vo(e){let t={};for(let r=0;r<e.length;r++){let o=e[r];t[r]=o}return t}var bo={query:"GET",mutation:"POST",subscription:"PATCH"};function Jr(e){return"input"in e?e.transformer.input.serialize(e.input):vo(e.inputs.map(t=>e.transformer.input.serialize(t)))}var Ie=e=>{let t=e.url.split("?"),o=t[0].replace(/\/$/,"")+"/"+e.path,n=[];if(t[1]&&n.push(t[1]),"inputs"in e&&n.push("batch=1"),e.type==="query"||e.type==="subscription"){let s=Jr(e);s!==void 0&&e.methodOverride!=="POST"&&n.push(`input=${encodeURIComponent(JSON.stringify(s))}`)}return n.length&&(o+="?"+n.join("&")),o},Zr=e=>{if(e.type==="query"&&e.methodOverride!=="POST")return;let t=Jr(e);return t!==void 0?JSON.stringify(t):void 0},Xt=e=>Rt((0,Xe.default)((0,Xe.default)({},e),{},{contentTypeHeader:"application/json",getUrl:Ie,getBody:Zr})),go=class extends Error{constructor(){let e="AbortError";super(e),this.name=e,this.message=e}},Oo=e=>{var t;if(e?.aborted)throw(t=e.throwIfAborted)===null||t===void 0||t.call(e),typeof DOMException<"u"?new DOMException("AbortError","AbortError"):new go};async function Xr(e){var t;Oo(e.signal);let r=e.getUrl(e),o=e.getBody(e),{type:n}=e,s=await(async()=>{let a=await e.headers();return Symbol.iterator in a?Object.fromEntries(a):a})(),i=(0,Xe.default)((0,Xe.default)((0,Xe.default)({},e.contentTypeHeader?{"content-type":e.contentTypeHeader}:{}),e.trpcAcceptHeader?{"trpc-accept":e.trpcAcceptHeader}:void 0),s);return Vr(e.fetch)(r,{method:(t=e.methodOverride)!==null&&t!==void 0?t:bo[n],signal:e.signal,body:o,headers:i})}async function Rt(e){let t={},r=await Xr(e);t.response=r;let o=await r.json();return t.responseJSON=o,{json:o,meta:t}}function en(e){return e instanceof Uint8Array||e instanceof Blob}function tn(e){return e instanceof FormData}var Ae=T(H(),1),So=e=>{if("input"in e){let{input:t}=e;if(tn(t)){if(e.type!=="mutation"&&e.methodOverride!=="POST")throw new Error("FormData is only supported for mutations");return Rt((0,Ae.default)((0,Ae.default)({},e),{},{contentTypeHeader:void 0,getUrl:Ie,getBody:()=>t}))}if(en(t)){if(e.type!=="mutation"&&e.methodOverride!=="POST")throw new Error("Octet type input is only supported for mutations");return Rt((0,Ae.default)((0,Ae.default)({},e),{},{contentTypeHeader:"application/octet-stream",getUrl:Ie,getBody:()=>t}))}}return Xt(e)};function er(e){let t=wt(e);return()=>({op:r})=>J(o=>{let{path:n,input:s,type:i}=r;if(i==="subscription")throw new Error("Subscriptions are unsupported by `httpLink` - use `httpSubscriptionLink` or `wsLink`");let a=So((0,Ae.default)((0,Ae.default)({},t),{},{type:i,path:n,input:s,signal:r.signal,headers(){return e.headers?typeof e.headers=="function"?e.headers({op:r}):e.headers:{}}})),u;return a.then(c=>{u=c.meta;let f=Yt(c.json,t.transformer.output);if(!f.ok){o.error(_e.from(f.error,{meta:u}));return}o.next({context:c.meta,result:f.result}),o.complete()}).catch(c=>{o.error(_e.from(c,{meta:u}))}),()=>{}})}var ic=T(H(),1);var ue=T(H(),1);function _o(e){return typeof FormData>"u"?!1:e instanceof FormData}var tr={css:{query:["72e3ff","3fb0d8"],mutation:["c5a3fc","904dfc"],subscription:["ff49e1","d83fbe"]},ansi:{regular:{query:["\x1B[30;46m","\x1B[97;46m"],mutation:["\x1B[30;45m","\x1B[97;45m"],subscription:["\x1B[30;42m","\x1B[97;42m"]},bold:{query:["\x1B[1;30;46m","\x1B[1;97;46m"],mutation:["\x1B[1;30;45m","\x1B[1;97;45m"],subscription:["\x1B[1;30;42m","\x1B[1;97;42m"]}}};function Po(e){let{direction:t,type:r,withContext:o,path:n,id:s,input:i}=e,a=[],u=[];if(e.colorMode==="none")a.push(t==="up"?">>":"<<",r,`#${s}`,n);else if(e.colorMode==="ansi"){let[c,f]=tr.ansi.regular[r],[p,y]=tr.ansi.bold[r];a.push(t==="up"?c:f,t==="up"?">>":"<<",r,t==="up"?p:y,`#${s}`,n,"\x1B[0m")}else{let[c,f]=tr.css[r],p=`
    background-color: #${t==="up"?c:f};
    color: ${t==="up"?"black":"white"};
    padding: 2px;
  `;a.push("%c",t==="up"?">>":"<<",r,`#${s}`,`%c${n}%c`,"%O"),u.push(p,`${p}; font-weight: bold;`,`${p}; font-weight: normal;`)}return t==="up"?u.push(o?{input:i,context:e.context}:{input:i}):u.push((0,ue.default)({input:i,result:e.result,elapsedMs:e.elapsedMs},o&&{context:e.context})),{parts:a,args:u}}var wo=({c:e=console,colorMode:t="css",withContext:r})=>o=>{let n=o.input,s=_o(n)?Object.fromEntries(n):n,{parts:i,args:a}=Po((0,ue.default)((0,ue.default)({},o),{},{colorMode:t,input:s,withContext:r})),u=o.direction==="down"&&o.result&&(o.result instanceof Error||"error"in o.result.result&&o.result.result.error)?"error":"log";e[u].apply(null,[i.join(" ")].concat(a))};function rr(e={}){var t,r;let{enabled:o=()=>!0}=e,n=(t=e.colorMode)!==null&&t!==void 0?t:typeof window>"u"?"ansi":"css",s=(r=e.withContext)!==null&&r!==void 0?r:n==="css",{logger:i=wo({c:e.console,colorMode:n,withContext:s})}=e;return()=>({op:a,next:u})=>J(c=>{o((0,ue.default)((0,ue.default)({},a),{},{direction:"up"}))&&i((0,ue.default)((0,ue.default)({},a),{},{direction:"up"}));let f=Date.now();function p(y){let P=Date.now()-f;o((0,ue.default)((0,ue.default)({},a),{},{direction:"down",result:y}))&&i((0,ue.default)((0,ue.default)({},a),{},{direction:"down",elapsedMs:P,result:y}))}return u(a).pipe(Zt({next(y){p(y)},error(y){p(y)}})).subscribe(c)})}var or=(e,...t)=>typeof e=="function"?e(...t):e,mc=T(le(),1);function Ro(){let e,t;return{promise:new Promise((o,n)=>{e=o,t=n}),resolve:e,reject:t}}async function Eo(e){let t=await or(e.url);if(!e.connectionParams)return t;let o=`${t.includes("?")?"&":"?"}connectionParams=1`;return t+o}async function xo(e){let t={method:"connectionParams",data:await or(e)};return JSON.stringify(t)}var yc=T(le(),1);var Ee=T(le(),1);function Co(e){let{promise:t,resolve:r,reject:o}=Ro();return e.addEventListener("open",()=>{e.removeEventListener("error",o),r()}),e.addEventListener("error",o),t}function To(e,{intervalMs:t,pongTimeoutMs:r}){let o,n;function s(){o=setTimeout(()=>{e.send("PING"),n=setTimeout(()=>{e.close()},r)},t)}function i(){clearTimeout(o),s()}function a(){clearTimeout(n),i()}e.addEventListener("open",s),e.addEventListener("message",({data:u})=>{clearTimeout(o),s(),u==="PONG"&&a()}),e.addEventListener("close",()=>{clearTimeout(o),clearTimeout(n)})}var jo=class nr{constructor(t){var r;if((0,Ee.default)(this,"id",++nr.connectCount),(0,Ee.default)(this,"WebSocketPonyfill",void 0),(0,Ee.default)(this,"urlOptions",void 0),(0,Ee.default)(this,"keepAliveOpts",void 0),(0,Ee.default)(this,"wsObservable",Ot(null)),(0,Ee.default)(this,"openPromise",null),this.WebSocketPonyfill=(r=t.WebSocketPonyfill)!==null&&r!==void 0?r:WebSocket,!this.WebSocketPonyfill)throw new Error("No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill");this.urlOptions=t.urlOptions,this.keepAliveOpts=t.keepAlive}get ws(){return this.wsObservable.get()}set ws(t){this.wsObservable.next(t)}isOpen(){return!!this.ws&&this.ws.readyState===this.WebSocketPonyfill.OPEN&&!this.openPromise}isClosed(){return!!this.ws&&(this.ws.readyState===this.WebSocketPonyfill.CLOSING||this.ws.readyState===this.WebSocketPonyfill.CLOSED)}async open(){var t=this;if(t.openPromise)return t.openPromise;t.id=++nr.connectCount;let r=Eo(t.urlOptions).then(o=>new t.WebSocketPonyfill(o));t.openPromise=r.then(async o=>{t.ws=o,o.addEventListener("message",function({data:n}){n==="PING"&&this.send("PONG")}),t.keepAliveOpts.enabled&&To(o,t.keepAliveOpts),o.addEventListener("close",()=>{t.ws===o&&(t.ws=null)}),await Co(o),t.urlOptions.connectionParams&&o.send(await xo(t.urlOptions.connectionParams))});try{await t.openPromise}finally{t.openPromise=null}}async close(){var t=this;try{await t.openPromise}finally{var r;(r=t.ws)===null||r===void 0||r.close()}}};(0,Ee.default)(jo,"connectCount",0);var vc=T(le(),1),bc=T(H(),1);var sr=T(le(),1),rn=T(H(),1),et=class{constructor(e){(0,sr.default)(this,"links",void 0),(0,sr.default)(this,"runtime",void 0),(0,sr.default)(this,"requestId",void 0),this.requestId=0,this.runtime={},this.links=e.links.map(t=>t(this.runtime))}$request(e){var t;return Wr({links:this.links,op:(0,rn.default)((0,rn.default)({},e),{},{context:(t=e.context)!==null&&t!==void 0?t:{},id:++this.requestId})}).pipe(Jt())}async requestAsPromise(e){var t=this;try{let r=t.$request(e);return(await Vt(r)).result.data}catch(r){throw _e.from(r)}}query(e,t,r){return this.requestAsPromise({type:"query",path:e,input:t,context:r?.context,signal:r?.signal})}mutation(e,t,r){return this.requestAsPromise({type:"mutation",path:e,input:t,context:r?.context,signal:r?.signal})}subscription(e,t,r){return this.$request({type:"subscription",path:e,input:t,context:r.context,signal:r.signal}).subscribe({next(n){switch(n.result.type){case"state":{var s;(s=r.onConnectionStateChange)===null||s===void 0||s.call(r,n.result);break}case"started":{var i;(i=r.onStarted)===null||i===void 0||i.call(r,{context:n.context});break}case"stopped":{var a;(a=r.onStopped)===null||a===void 0||a.call(r);break}case"data":case void 0:{var u;(u=r.onData)===null||u===void 0||u.call(r,n.result.data);break}}},error(n){var s;(s=r.onError)===null||s===void 0||s.call(r,n)},complete(){var n;(n=r.onComplete)===null||n===void 0||n.call(r)}})}};var nn=Symbol.for("trpc_untypedClient"),ko={query:"query",mutate:"mutation",subscribe:"subscription"},Do=e=>ko[e];function ir(e){let t=Oe(({path:r,args:o})=>{let n=[...r],s=Do(n.pop()),i=n.join(".");return e[s](i,...o)});return Re(r=>r===nn?e:t[r])}function on(e){let t=new et(e);return ir(t)}function Et(e){return e[nn]}var $c=T(H(),1);var zc=T(H(),1);var Mo=ae({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(e,t){function r(n){var s,i,a,u=2;for(typeof Symbol<"u"&&(i=Symbol.asyncIterator,a=Symbol.iterator);u--;){if(i&&(s=n[i])!=null)return s.call(n);if(a&&(s=n[a])!=null)return new o(s.call(n));i="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function o(n){function s(i){if(Object(i)!==i)return Promise.reject(new TypeError(i+" is not an object."));var a=i.done;return Promise.resolve(i.value).then(function(u){return{value:u,done:a}})}return o=function(a){this.s=a,this.n=a.next},o.prototype={s:null,n:null,next:function(){return s(this.n.apply(this.s,arguments))},return:function(a){var u=this.s.return;return u===void 0?Promise.resolve({value:a,done:!0}):s(u.apply(this.s,arguments))},throw:function(a){var u=this.s.return;return u===void 0?Promise.reject(a):s(u.apply(this.s,arguments))}},new o(n)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),Wc=T(Mo(),1);var Gc=T(H(),1);var Qo=ae({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/usingCtx.js"(e,t){function r(){var o=typeof SuppressedError=="function"?SuppressedError:function(a,u){var c=Error();return c.name="SuppressedError",c.error=a,c.suppressed=u,c},n={},s=[];function i(a,u){if(u!=null){if(Object(u)!==u)throw new TypeError("using declarations can only be used with objects, functions, null, or undefined.");if(a)var c=u[Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose")];if(c===void 0&&(c=u[Symbol.dispose||Symbol.for("Symbol.dispose")],a))var f=c;if(typeof c!="function")throw new TypeError("Object is not disposable.");f&&(c=function(){try{f.call(u)}catch(y){return Promise.reject(y)}}),s.push({v:u,d:c,a})}else a&&s.push({d:u,a});return u}return{e:n,u:i.bind(null,!1),a:i.bind(null,!0),d:function(){var u,c=this.e,f=0;function p(){for(;u=s.pop();)try{if(!u.a&&f===1)return f=0,s.push(u),Promise.resolve().then(p);if(u.d){var P=u.d.call(u.v);if(u.a)return f|=2,Promise.resolve(P).then(p,y)}else f|=1}catch(R){return y(R)}if(f===1)return c!==n?Promise.reject(c):Promise.resolve();if(c!==n)throw c}function y(P){return c=c!==n?new o(P,c):P,p()}return p()}}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),sn=ae({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/OverloadYield.js"(e,t){function r(o,n){this.v=o,this.k=n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),qo=ae({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/awaitAsyncGenerator.js"(e,t){var r=sn();function o(n){return new r(n,0)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}}),Io=ae({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/wrapAsyncGenerator.js"(e,t){var r=sn();function o(s){return function(){return new n(s.apply(this,arguments))}}function n(s){var i,a;function u(f,p){try{var y=s[f](p),P=y.value,R=P instanceof r;Promise.resolve(R?P.v:P).then(function(m){if(R){var M=f==="return"?"return":"next";if(!P.k||m.done)return u(M,m);m=s[M](m).value}c(y.done?"return":"normal",m)},function(m){u("throw",m)})}catch(m){c("throw",m)}}function c(f,p){switch(f){case"return":i.resolve({value:p,done:!0});break;case"throw":i.reject(p);break;default:i.resolve({value:p,done:!1})}(i=i.next)?u(i.key,i.arg):a=null}this._invoke=function(f,p){return new Promise(function(y,P){var R={key:f,arg:p,resolve:y,reject:P,next:null};a?a=a.next=R:(i=a=R,u(f,p))})},typeof s.return!="function"&&(this.return=void 0)}n.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},n.prototype.next=function(s){return this._invoke("next",s)},n.prototype.throw=function(s){return this._invoke("throw",s)},n.prototype.return=function(s){return this._invoke("return",s)},t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}}),Yc=T(Qo(),1),Vc=T(qo(),1),Jc=T(Io(),1),Zc=T(H(),1);var lr=W(te(),1),cn=W(te(),1),U=W(te(),1),ln=W(Ct(),1);function fn(e){return Oe(({path:t,args:r})=>{var o;let n=[...t],s=n.pop();if(s==="useMutation")return e[s](n,...r);if(s==="_def")return{path:n};let[i,...a]=r,u=(o=a[0])!==null&&o!==void 0?o:{};return e[s](n,i,u)})}var ar,Ao=["client","ssrContext","ssrState","abortOnUnmount"],Fo=(ar=lr.createContext)===null||ar===void 0?void 0:ar.call(lr,null),Uo=e=>{switch(e){case"queryOptions":case"fetch":case"ensureData":case"prefetch":case"getData":case"setData":case"setQueriesData":return"query";case"infiniteQueryOptions":case"fetchInfinite":case"prefetchInfinite":case"getInfiniteData":case"setInfiniteData":return"infinite";case"setMutationDefaults":case"getMutationDefaults":case"isMutating":case"cancel":case"invalidate":case"refetch":case"reset":return"any"}};function No(e){return Oe(t=>{let r=[...t.path],o=r.pop(),n=[...t.args],s=n.shift(),i=Uo(o),a=ie(r,s,i);return{infiniteQueryOptions:()=>e.infiniteQueryOptions(r,a,n[0]),queryOptions:()=>e.queryOptions(r,a,...n),fetch:()=>e.fetchQuery(a,...n),fetchInfinite:()=>e.fetchInfiniteQuery(a,n[0]),prefetch:()=>e.prefetchQuery(a,...n),prefetchInfinite:()=>e.prefetchInfiniteQuery(a,n[0]),ensureData:()=>e.ensureQueryData(a,...n),invalidate:()=>e.invalidateQueries(a,...n),reset:()=>e.resetQueries(a,...n),refetch:()=>e.refetchQueries(a,...n),cancel:()=>e.cancelQuery(a,...n),setData:()=>{e.setQueryData(a,n[0],n[1])},setQueriesData:()=>e.setQueriesData(a,n[0],n[1],n[2]),setInfiniteData:()=>{e.setInfiniteQueryData(a,n[0],n[1])},getData:()=>e.getQueryData(a),getInfiniteData:()=>e.getInfiniteQueryData(a),setMutationDefaults:()=>e.setMutationDefaults(Ze(r),s),getMutationDefaults:()=>e.getMutationDefaults(Ze(r)),isMutating:()=>e.isMutating({mutationKey:Ze(r)})}[o]()})}function dn(e){let t=ir(e.client),r=No(e);return Re(o=>{let n=o;return n==="client"?t:Ao.includes(n)?e[n]:r[o]})}var Lo=Se(Qe(),1);function an(e){let t=e instanceof et?e:Et(e);return Oe(r=>{let o=r.path,n=o.join("."),[s,i]=r.args;return(0,Lo.default)({queryKey:ie(o,s,"query"),queryFn:()=>t.query(n,s,i?.trpc)},i)})}var ur=Se(Qe(),1);function z(e,t,r){var o;let n=e[0],s=(o=e[1])===null||o===void 0?void 0:o.input;if(r){var i;s=(0,ur.default)((0,ur.default)((0,ur.default)({},(i=s)!==null&&i!==void 0?i:{}),r.pageParam?{cursor:r.pageParam}:{}),{},{direction:r.direction})}return[n.join("."),s,t?.trpc]}var Bo=pe({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(e,t){function r(n){var s,i,a,u=2;for(typeof Symbol<"u"&&(i=Symbol.asyncIterator,a=Symbol.iterator);u--;){if(i&&(s=n[i])!=null)return s.call(n);if(a&&(s=n[a])!=null)return new o(s.call(n));i="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function o(n){function s(i){if(Object(i)!==i)return Promise.reject(new TypeError(i+" is not an object."));var a=i.done;return Promise.resolve(i.value).then(function(u){return{value:u,done:a}})}return o=function(a){this.s=a,this.n=a.next},o.prototype={s:null,n:null,next:function(){return s(this.n.apply(this.s,arguments))},return:function(a){var u=this.s.return;return u===void 0?Promise.resolve({value:a,done:!0}):s(u.apply(this.s,arguments))},throw:function(a){var u=this.s.return;return u===void 0?Promise.reject(a):s(u.apply(this.s,arguments))}},new o(n)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),Ko=Se(Bo(),1);function cr(e){return{path:e.path.join(".")}}function tt(e){let t=cr(e);return cn.useMemo(()=>t,[t])}async function pn(e,t,r){let n=t.getQueryCache().build(t,{queryKey:r});n.setState({data:[],status:"success"});let s=[];var i=!1,a=!1,u;try{for(var c=(0,Ko.default)(e),f;i=!(f=await c.next()).done;i=!1){let p=f.value;s.push(p),n.setState({data:[...s]})}}catch(p){a=!0,u=p}finally{try{i&&c.return!=null&&await c.return()}finally{if(a)throw u}}return s}var E=Se(Qe(),1);function hn(e){let{client:t,queryClient:r}=e,o=t instanceof et?t:Et(t);return{infiniteQueryOptions:(n,s,i)=>{var a,u;let c=((a=s[1])===null||a===void 0?void 0:a.input)===K,f=async p=>{var y;let P=(0,E.default)((0,E.default)({},i),{},{trpc:(0,E.default)((0,E.default)({},i?.trpc),!(i==null||(y=i.trpc)===null||y===void 0)&&y.abortOnUnmount?{signal:p.signal}:{signal:null})});return await o.query(...z(s,P,{direction:p.direction,pageParam:p.pageParam}))};return Object.assign((0,E.default)((0,E.default)({},i),{},{initialData:i?.initialData,queryKey:s,queryFn:c?K:f,initialPageParam:(u=i?.initialCursor)!==null&&u!==void 0?u:null}),{trpc:cr({path:n})})},queryOptions:(n,s,i)=>{var a;let u=((a=s[1])===null||a===void 0?void 0:a.input)===K,c=async f=>{var p;let y=(0,E.default)((0,E.default)({},i),{},{trpc:(0,E.default)((0,E.default)({},i?.trpc),!(i==null||(p=i.trpc)===null||p===void 0)&&p.abortOnUnmount?{signal:f.signal}:{signal:null})}),P=await o.query(...z(s,y));return Ye(P)?pn(P,r,s):P};return Object.assign((0,E.default)((0,E.default)({},i),{},{initialData:i?.initialData,queryKey:s,queryFn:u?K:c}),{trpc:cr({path:n})})},fetchQuery:(n,s)=>r.fetchQuery((0,E.default)((0,E.default)({},s),{},{queryKey:n,queryFn:()=>o.query(...z(n,s))})),fetchInfiniteQuery:(n,s)=>{var i;return r.fetchInfiniteQuery((0,E.default)((0,E.default)({},s),{},{queryKey:n,queryFn:({pageParam:a,direction:u})=>o.query(...z(n,s,{pageParam:a,direction:u})),initialPageParam:(i=s?.initialCursor)!==null&&i!==void 0?i:null}))},prefetchQuery:(n,s)=>r.prefetchQuery((0,E.default)((0,E.default)({},s),{},{queryKey:n,queryFn:()=>o.query(...z(n,s))})),prefetchInfiniteQuery:(n,s)=>{var i;return r.prefetchInfiniteQuery((0,E.default)((0,E.default)({},s),{},{queryKey:n,queryFn:({pageParam:a,direction:u})=>o.query(...z(n,s,{pageParam:a,direction:u})),initialPageParam:(i=s?.initialCursor)!==null&&i!==void 0?i:null}))},ensureQueryData:(n,s)=>r.ensureQueryData((0,E.default)((0,E.default)({},s),{},{queryKey:n,queryFn:()=>o.query(...z(n,s))})),invalidateQueries:(n,s,i)=>r.invalidateQueries((0,E.default)((0,E.default)({},s),{},{queryKey:n}),i),resetQueries:(n,s,i)=>r.resetQueries((0,E.default)((0,E.default)({},s),{},{queryKey:n}),i),refetchQueries:(n,s,i)=>r.refetchQueries((0,E.default)((0,E.default)({},s),{},{queryKey:n}),i),cancelQuery:(n,s)=>r.cancelQueries({queryKey:n},s),setQueryData:(n,s,i)=>r.setQueryData(n,s,i),setQueriesData:(n,s,i,a)=>r.setQueriesData((0,E.default)((0,E.default)({},s),{},{queryKey:n}),i,a),getQueryData:n=>r.getQueryData(n),setInfiniteQueryData:(n,s,i)=>r.setQueryData(n,s,i),getInfiniteQueryData:n=>r.getQueryData(n),setMutationDefaults:(n,s)=>{let i=n[0],a=u=>o.mutation(...z([i,{input:u}],e));return r.setMutationDefaults(n,typeof s=="function"?s({canonicalMutationFn:a}):s)},getMutationDefaults:n=>r.getMutationDefaults(n),isMutating:n=>r.isMutating((0,E.default)((0,E.default)({},n),{},{exact:!0}))}}var d=Se(Qe()),un=(e,t)=>new Proxy(e,{get(o,n){return t(n),o[n]}});function mn(e){var t,r,o;let n=(t=e==null||(r=e.overrides)===null||r===void 0||(r=r.useMutation)===null||r===void 0?void 0:r.onSuccess)!==null&&t!==void 0?t:O=>O.originalFn(),s=(o=e?.context)!==null&&o!==void 0?o:Fo,i=on,a=O=>{var h;let{abortOnUnmount:l=!1,queryClient:v,ssrContext:b}=O,[g,_]=U.useState((h=O.ssrState)!==null&&h!==void 0?h:!1),S=O.client instanceof et?O.client:Et(O.client),k=U.useMemo(()=>hn({client:S,queryClient:v}),[S,v]),x=U.useMemo(()=>(0,d.default)({abortOnUnmount:l,queryClient:v,client:S,ssrContext:b??null,ssrState:g},k),[l,S,k,v,b,g]);return U.useEffect(()=>{_(Q=>Q?"mounted":!1)},[]),(0,ln.jsx)(s.Provider,{value:x,children:O.children})};function u(){let O=U.useContext(s);if(!O)throw new Error("Unable to find tRPC Context. Did you forget to wrap your App inside `withTRPC` HoC?");return O}function c(O,h){var l;let{queryClient:v,ssrState:b}=u();return b&&b!=="mounted"&&((l=v.getQueryCache().find({queryKey:O}))===null||l===void 0?void 0:l.state.status)==="error"?(0,d.default)({retryOnMount:!1},h):h}function f(O,h,l){var v,b,g,_,S;let k=u(),{abortOnUnmount:x,client:Q,ssrState:C,queryClient:I,prefetchQuery:A}=k,L=ie(O,h,"query"),fe=I.getQueryDefaults(L),N=h===K;typeof window>"u"&&C==="prepass"&&(l==null||(v=l.trpc)===null||v===void 0?void 0:v.ssr)!==!1&&((b=l?.enabled)!==null&&b!==void 0?b:fe?.enabled)!==!1&&!N&&!I.getQueryCache().find({queryKey:L})&&A(L,l);let Z=c(L,(0,d.default)((0,d.default)({},fe),l)),q=(g=(_=l==null||(S=l.trpc)===null||S===void 0?void 0:S.abortOnUnmount)!==null&&_!==void 0?_:e?.abortOnUnmount)!==null&&g!==void 0?g:x,D=Ut((0,d.default)((0,d.default)({},Z),{},{queryKey:L,queryFn:N?h:async B=>{let Pe=(0,d.default)((0,d.default)({},Z),{},{trpc:(0,d.default)((0,d.default)({},Z?.trpc),q?{signal:B.signal}:{signal:null})}),xt=await Q.query(...z(L,Pe));return Ye(xt)?pn(xt,I,L):xt}}),I);return D.trpc=tt({path:O}),D}function p(O,h,l){var v,b,g;let _=u(),S=ie(O,h,"query"),k=h===K,x=(v=(b=l==null||(g=l.trpc)===null||g===void 0?void 0:g.abortOnUnmount)!==null&&b!==void 0?b:e?.abortOnUnmount)!==null&&v!==void 0?v:_.abortOnUnmount;Kt((0,d.default)((0,d.default)({},l),{},{queryKey:S,queryFn:k?h:Q=>{let C={trpc:(0,d.default)((0,d.default)({},l?.trpc),x?{signal:Q.signal}:{})};return _.client.query(...z(S,C))}}))}function y(O,h,l){var v,b,g;let _=u(),S=ie(O,h,"query"),k=(v=(b=l==null||(g=l.trpc)===null||g===void 0?void 0:g.abortOnUnmount)!==null&&b!==void 0?b:e?.abortOnUnmount)!==null&&v!==void 0?v:_.abortOnUnmount,x=Nt((0,d.default)((0,d.default)({},l),{},{queryKey:S,queryFn:Q=>{let C=(0,d.default)((0,d.default)({},l),{},{trpc:(0,d.default)((0,d.default)({},l?.trpc),k?{signal:Q.signal}:{signal:null})});return _.client.query(...z(S,C))}}),_.queryClient);return x.trpc=tt({path:O}),[x.data,x]}function P(O,h){let{client:l,queryClient:v}=u(),b=Ze(O),g=v.defaultMutationOptions(v.getMutationDefaults(b)),_=$t((0,d.default)((0,d.default)({},h),{},{mutationKey:b,mutationFn:S=>l.mutation(...z([O,{input:S}],h)),onSuccess(...S){var k,x;return n({originalFn:()=>{var C,I,A;return(C=h==null||(I=h.onSuccess)===null||I===void 0?void 0:I.call(h,...S))!==null&&C!==void 0?C:g==null||(A=g.onSuccess)===null||A===void 0?void 0:A.call(g,...S)},queryClient:v,meta:(k=(x=h?.meta)!==null&&x!==void 0?x:g?.meta)!==null&&k!==void 0?k:{}})}}),v);return _.trpc=tt({path:O}),_}let R={data:void 0,error:null,status:"idle"},m={data:void 0,error:null,status:"connecting"};function M(O,h,l){var v;let b=(v=l?.enabled)!==null&&v!==void 0?v:h!==K,g=X(ie(O,h,"any")),{client:_}=u(),S=U.useRef(l);U.useEffect(()=>{S.current=l});let[k]=U.useState(new Set([])),x=U.useCallback(N=>{k.add(N)},[k]),Q=U.useRef(null),C=U.useCallback(N=>{let Z=A.current,q=A.current=N(Z),D=!1;for(let B of k)if(Z[B]!==q[B]){D=!0;break}D&&fe(un(q,x))},[x,k]),I=U.useCallback(()=>{var N;if((N=Q.current)===null||N===void 0||N.unsubscribe(),!b){C(()=>(0,d.default)((0,d.default)({},R),{},{reset:I}));return}C(()=>(0,d.default)((0,d.default)({},m),{},{reset:I}));let Z=_.subscription(O.join("."),h??void 0,{onStarted:()=>{var q,D;(q=(D=S.current).onStarted)===null||q===void 0||q.call(D),C(B=>(0,d.default)((0,d.default)({},B),{},{status:"pending",error:null}))},onData:q=>{var D,B;(D=(B=S.current).onData)===null||D===void 0||D.call(B,q),C(Pe=>(0,d.default)((0,d.default)({},Pe),{},{status:"pending",data:q,error:null}))},onError:q=>{var D,B;(D=(B=S.current).onError)===null||D===void 0||D.call(B,q),C(Pe=>(0,d.default)((0,d.default)({},Pe),{},{status:"error",error:q}))},onConnectionStateChange:q=>{C(D=>{switch(q.state){case"idle":return(0,d.default)((0,d.default)({},D),{},{status:q.state,error:null,data:void 0});case"connecting":return(0,d.default)((0,d.default)({},D),{},{error:q.error,status:q.state});case"pending":return D}})},onComplete:()=>{var q,D;(q=(D=S.current).onComplete)===null||q===void 0||q.call(D),C(B=>(0,d.default)((0,d.default)({},B),{},{status:"idle",error:null,data:void 0}))}});Q.current=Z},[_,g,b,C]);U.useEffect(()=>(I(),()=>{var N;(N=Q.current)===null||N===void 0||N.unsubscribe()}),[I]);let A=U.useRef(b?(0,d.default)((0,d.default)({},m),{},{reset:I}):(0,d.default)((0,d.default)({},R),{},{reset:I})),[L,fe]=U.useState(un(A.current,x));return L}function j(O,h,l){var v,b,g,_,S;let{client:k,ssrState:x,prefetchInfiniteQuery:Q,queryClient:C,abortOnUnmount:I}=u(),A=ie(O,h,"infinite"),L=C.getQueryDefaults(A),fe=h===K;typeof window>"u"&&x==="prepass"&&(l==null||(v=l.trpc)===null||v===void 0?void 0:v.ssr)!==!1&&((b=l?.enabled)!==null&&b!==void 0?b:L?.enabled)!==!1&&!fe&&!C.getQueryCache().find({queryKey:A})&&Q(A,(0,d.default)((0,d.default)({},L),l));let N=c(A,(0,d.default)((0,d.default)({},L),l)),Z=(g=l==null||(_=l.trpc)===null||_===void 0?void 0:_.abortOnUnmount)!==null&&g!==void 0?g:I,q=zt((0,d.default)((0,d.default)({},N),{},{initialPageParam:(S=l.initialCursor)!==null&&S!==void 0?S:null,persister:l.persister,queryKey:A,queryFn:fe?h:D=>{var B;let Pe=(0,d.default)((0,d.default)({},N),{},{trpc:(0,d.default)((0,d.default)({},N?.trpc),Z?{signal:D.signal}:{signal:null})});return k.query(...z(A,Pe,{pageParam:(B=D.pageParam)!==null&&B!==void 0?B:l.initialCursor,direction:D.direction}))}}),C);return q.trpc=tt({path:O}),q}function $(O,h,l){var v,b,g;let _=u(),S=ie(O,h,"infinite"),k=_.queryClient.getQueryDefaults(S),x=h===K,Q=c(S,(0,d.default)((0,d.default)({},k),l)),C=(v=l==null||(b=l.trpc)===null||b===void 0?void 0:b.abortOnUnmount)!==null&&v!==void 0?v:_.abortOnUnmount;Ht((0,d.default)((0,d.default)({},l),{},{initialPageParam:(g=l.initialCursor)!==null&&g!==void 0?g:null,queryKey:S,queryFn:x?h:I=>{var A;let L=(0,d.default)((0,d.default)({},Q),{},{trpc:(0,d.default)((0,d.default)({},Q?.trpc),C?{signal:I.signal}:{})});return _.client.query(...z(S,L,{pageParam:(A=I.pageParam)!==null&&A!==void 0?A:l.initialCursor,direction:I.direction}))}}))}function ee(O,h,l){var v,b,g;let _=u(),S=ie(O,h,"infinite"),k=_.queryClient.getQueryDefaults(S),x=c(S,(0,d.default)((0,d.default)({},k),l)),Q=(v=l==null||(b=l.trpc)===null||b===void 0?void 0:b.abortOnUnmount)!==null&&v!==void 0?v:_.abortOnUnmount,C=Lt((0,d.default)((0,d.default)({},l),{},{initialPageParam:(g=l.initialCursor)!==null&&g!==void 0?g:null,queryKey:S,queryFn:I=>{var A;let L=(0,d.default)((0,d.default)({},x),{},{trpc:(0,d.default)((0,d.default)({},x?.trpc),Q?{signal:I.signal}:{})});return _.client.query(...z(S,L,{pageParam:(A=I.pageParam)!==null&&A!==void 0?A:l.initialCursor,direction:I.direction}))}}),_.queryClient);return C.trpc=tt({path:O}),[C.data,C]}return{Provider:a,createClient:i,useContext:u,useUtils:u,useQuery:f,usePrefetchQuery:p,useSuspenseQuery:y,useQueries:(O,h)=>{let{ssrState:l,queryClient:v,prefetchQuery:b,client:g}=u(),_=an(g),S=O(_);if(typeof window>"u"&&l==="prepass")for(let x of S){var k;let Q=x;((k=Q.trpc)===null||k===void 0?void 0:k.ssr)!==!1&&!v.getQueryCache().find({queryKey:Q.queryKey})&&b(Q.queryKey,Q)}return We({queries:S.map(x=>(0,d.default)((0,d.default)({},x),{},{queryKey:x.queryKey})),combine:h?.combine},v)},useSuspenseQueries:O=>{let{queryClient:h,client:l}=u(),v=an(l),b=O(v),g=Bt({queries:b.map(_=>(0,d.default)((0,d.default)({},_),{},{queryFn:_.queryFn,queryKey:_.queryKey}))},h);return[g.map(_=>_.data),g]},useMutation:P,useSubscription:M,useInfiniteQuery:j,usePrefetchInfiniteQuery:$,useSuspenseInfiniteQuery:ee}}var yn=W(te(),1);function Ho(e){let t=fn(e);return Re(r=>r==="useContext"||r==="useUtils"?()=>{let o=e.useUtils();return yn.useMemo(()=>dn(o),[o])}:e.hasOwnProperty(r)?e[r]:t[r])}function vn(e){let t=mn(e);return Ho(t)}var bn=()=>typeof window<"u"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1",he={user:{id:"demo-user",name:"Demo User",email:"demo@krushr.com",avatar:void 0,createdAt:new Date().toISOString()},workspaces:[{id:"demo-workspace",name:"Demo Workspace",description:"Experience Krushr's features",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),ownerId:"demo-user"}],tasks:[{id:"task-1",title:"Welcome to Krushr!",description:"This is a demo task. In the full version, you can create, edit, and manage tasks with your team.",status:"todo",priority:"high",workspaceId:"demo-workspace",createdById:"demo-user",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"task-2",title:"Explore the Kanban Board",description:"Drag and drop tasks between columns. Full version includes real-time collaboration.",status:"in_progress",priority:"medium",workspaceId:"demo-workspace",createdById:"demo-user",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"task-3",title:"Try the Calendar View",description:"Schedule tasks and meetings. Backend required for full functionality.",status:"done",priority:"low",workspaceId:"demo-workspace",createdById:"demo-user",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],notes:[{id:"note-1",title:"Welcome to Notes",content:"<p>This is a demo note. The full version includes rich text editing, folders, and real-time collaboration.</p>",workspaceId:"demo-workspace",createdById:"demo-user",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],notifications:[]},me=()=>new Promise(e=>setTimeout(e,300)),gn={"user.me":async()=>(await me(),{result:{data:he.user}}),"auth.login":async()=>(await me(),{result:{data:{token:"demo-token",user:he.user}}}),"workspace.list":async()=>(await me(),{result:{data:he.workspaces}}),"workspace.get":async()=>(await me(),{result:{data:he.workspaces[0]}}),"task.list":async()=>(await me(),{result:{data:he.tasks}}),"task.create":async()=>(await me(),{result:{data:{...he.tasks[0],id:`task-${Date.now()}`,title:"New Demo Task",createdAt:new Date().toISOString()}}}),"task.update":async()=>(await me(),{result:{data:{...he.tasks[0],updatedAt:new Date().toISOString()}}}),"notes.list":async()=>(await me(),{result:{data:he.notes}}),"notification.list":async()=>(await me(),{result:{data:he.notifications}})},On=e=>{let t=e.match(/\/trpc\/([^?]+)/);return t?t[1]:""};var $o=vn();function zo(){if(typeof window<"u"){let e=localStorage.getItem("auth-token");return e}return null}function Sn(){return typeof window<"u"&&window.location.hostname!=="localhost"?`${window.location.origin}/api/trpc`:"http://127.0.0.1:3002/trpc"}var Wo=async(e,t)=>{if(bn()&&typeof e=="string"){let r=On(e),o=gn[r];if(o){console.log(`[Demo Mode] Intercepting ${r}`);let n=await o();return new Response(JSON.stringify(n),{status:200,headers:{"Content-Type":"application/json"}})}}return fetch(e,t)},Ol=$o.createClient({links:[rr({enabled:()=>!1}),er({url:Sn(),fetch:Wo,headers(){let e=zo(),r=Sn().includes("localhost")?"http://127.0.0.1:8001":window.location.origin;return{...e?{authorization:`Bearer ${e}`}:{},Origin:r}}})]});export{Er as a,oe as b,jn as c,bn as d,gn as e,$o as f,Ol as g};
/*! Bundled license information:

@trpc/client/dist/httpLink-CYOcG9kQ.mjs:
  (* istanbul ignore if -- @preserve *)

@trpc/react-query/dist/shared-JtnEvJvB.mjs:
  (* istanbul ignore next -- @preserve *)
*/
