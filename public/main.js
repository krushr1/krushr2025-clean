import{A as js,B as Hs,C as Mf,D as Bs,E as Lf,F as If,G as Mc,H as zf,I as jf,J as Ws,K as Sn,L as Dn,M as En,N as dr,O as Pn,P as ga,Q as bi,R as Uf,S as Wf,T as $f,a as ff,b as gf,c as ro,d as hf,e as vf,f as Sc,g as bf,h as yn,i as Ts,j as wn,k as Po,l as To,m as fi,n as gi,o as hi,p as yf,q as _s,r as ao,s as oo,t as no,u as io,v as It,w as kn,x as Ls,y as Is,z as _f}from"/chunks/chunk-M2KD22DN.js";import{a as Tn,b as Yf}from"/chunks/chunk-MVYJ4DKI.js";import{a as tt,b as Us}from"/chunks/chunk-JTMKD6PY.js";import{a as Kt,b as vi,c as zs,d as Hf,e as Cn,f as Mo,g as oa,h as na,i as ia,j as An}from"/chunks/chunk-5OMVES6N.js";import{$ as Bf,A as Cf,B as Rf,C as Sf,G as Ao,H as Ms,I as Tc,J as Ac,K as aa,L as Df,M as Xt,N as _c,P as Os,R as cr,S as Ef,T as Pf,U as Tf,V as Af,W as kt,X as Fs,Z as Nn,_ as Of,a as Ye,b as Pe,c as st,d as _t,e as cs,f as Qe,g as ye,h as fa,i as Ea,j as uf,k as pf,l as mf,m as Ps,n as Ie,o as As,p as Dc,q as xf,r as Ec,s as kf,t as Nf,v as Pc,x as St,y as xn,z as Br}from"/chunks/chunk-L4CZ4ABC.js";import{a as ut,b as jt,c as bt}from"/chunks/chunk-WIV7UOIL.js";import{a as Qt,b as or,c as Ff}from"/chunks/chunk-SJOFKG7W.js";import"/chunks/chunk-OBSEXZVO.js";import"/chunks/chunk-FVIO3V6K.js";import{b as on,c as nn,d as T,e as Rn}from"/chunks/chunk-JHM7S6XW.js";import{a as Rm,b as Sm,c as Dm,d as q,e as Em}from"/chunks/chunk-5JTNGE7Q.js";import{a as _o}from"/chunks/chunk-UDXFJ6OX.js";import{b as wf}from"/chunks/chunk-GVUCDI63.js";import{a as vt,c as ra,d as cf,e as Je,f as df,g as mi,h as ja}from"/chunks/chunk-UVQEY3UQ.js";import{a as ii,b as an,c as fr,d as Pm,f as Tm}from"/chunks/chunk-Y23ZUE4R.js";import{$ as Wm,$a as Nc,A as cn,Aa as Eo,Ab as Es,B as hr,Ba as jr,Bb as lf,C as Om,Ca as qm,Cb as Rc,D as pa,Da as xs,Db as ht,E as vr,Ea as mn,Eb as ma,F as Fm,Fa as ks,G as zm,Ga as Wt,H as Zt,Ha as fn,J as ms,Ja as ui,K as Za,Ka as gn,L as jm,La as hn,Ma as vn,Na as pi,O as Hm,Oa as Vm,P as br,Pa as Gm,Q as Oa,Qa as Xm,R as li,Ra as Qm,S as Bm,Sa as Jm,T as dn,Ta as je,U as Um,V as un,Va as to,W as fs,Wa as Zm,X as gs,Xa as kc,Y as gt,Ya as za,Z as hs,Za as $t,_ as ci,_a as Ns,a as ot,aa as vs,ab as yr,ba as Fa,bb as ef,c as w,ca as Ca,cb as tf,d as X,da as eo,db as Cs,e as z,ea as $m,eb as rf,fa as Ym,fb as Cc,g as D,ga as bs,ha as yc,hb as af,i as sn,ia as di,ib as bn,j as ds,kb as Ra,l as si,lb as Sa,m as Am,ma as Do,n as _m,nb as Rs,o as gr,ob as Ss,pa as wc,pb as of,q as Mm,qa as xc,qb as Hr,r as us,ra as pn,rb as nf,s as ps,sb as sf,t as Lm,tb as Da,ua as Km,ub as ar,v as Ae,w as ln,wa as ys,wb as ta,x as Im,xa as Xe,xb as Ds,y as Ja,ya as ws,yb as lr,z as sr,za as ea,zb as xt}from"/chunks/chunk-XLF7ZOXQ.js";var qf=ot(Lc=>{"use strict";var Kf=ii();Lc.createRoot=Kf.createRoot,Lc.hydrateRoot=Kf.hydrateRoot;var P5});var Xf=ot($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.parse=F0;$s.serialize=z0;var A0=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,_0=/^[\u0021-\u003A\u003C-\u007E]*$/,M0=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,L0=/^[\u0020-\u003A\u003D-\u007E]*$/,I0=Object.prototype.toString,O0=(()=>{let e=function(){};return e.prototype=Object.create(null),e})();function F0(e,t){let r=new O0,a=e.length;if(a<2)return r;let o=t?.decode||j0,n=0;do{let i=e.indexOf("=",n);if(i===-1)break;let l=e.indexOf(";",n),s=l===-1?a:l;if(i>s){n=e.lastIndexOf(";",i-1)+1;continue}let c=Vf(e,n,i),d=Gf(e,i,c),u=e.slice(c,d);if(r[u]===void 0){let p=Vf(e,i+1,s),g=Gf(e,s,p),m=o(e.slice(p,g));r[u]=m}n=s+1}while(n<a);return r}function Vf(e,t,r){do{let a=e.charCodeAt(t);if(a!==32&&a!==9)return t}while(++t<r);return r}function Gf(e,t,r){for(;t>r;){let a=e.charCodeAt(--t);if(a!==32&&a!==9)return t+1}return r}function z0(e,t,r){let a=r?.encode||encodeURIComponent;if(!A0.test(e))throw new TypeError(`argument name is invalid: ${e}`);let o=a(t);if(!_0.test(o))throw new TypeError(`argument val is invalid: ${t}`);let n=e+"="+o;if(!r)return n;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);n+="; Max-Age="+r.maxAge}if(r.domain){if(!M0.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);n+="; Domain="+r.domain}if(r.path){if(!L0.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);n+="; Path="+r.path}if(r.expires){if(!H0(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);n+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(n+="; HttpOnly"),r.secure&&(n+="; Secure"),r.partitioned&&(n+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":n+="; Priority=Low";break;case"medium":n+="; Priority=Medium";break;case"high":n+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":n+="; SameSite=Strict";break;case"lax":n+="; SameSite=Lax";break;case"none":n+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return n}function j0(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function H0(e){return I0.call(e)==="[object Date]"}});var ev=ot((PE,Zh)=>{"use strict";var sk="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";Zh.exports=sk});var ov=ot((TE,av)=>{"use strict";var lk=ev();function tv(){}function rv(){}rv.resetWarningCache=tv;av.exports=function(){function e(a,o,n,i,l,s){if(s!==lk){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:rv,resetWarningCache:tv};return r.PropTypes=r,r}});var Aa=ot((ME,nv)=>{nv.exports=ov()();var AE,_E});var uv=ot(Md=>{"use strict";Md.__esModule=!0;Md.default=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(r.length===0)return!0;var a=e.name||"",o=(e.type||"").toLowerCase(),n=o.replace(/\/.*$/,"");return r.some(function(i){var l=i.trim().toLowerCase();return l.charAt(0)==="."?a.toLowerCase().endsWith(l):l.endsWith("/*")?n===l.replace(/\/.*$/,""):o===l})}return!0}});var Il=ot((Ll,Tb)=>{(function(e,t){typeof Ll=="object"&&typeof Tb<"u"?t(Ll):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e["fast-equals"]={}))})(Ll,function(e){"use strict";function t(b){return function(U,$,ie,W,de,He,et){return b(U,$,et)}}function r(b){return function(U,$,ie,W){if(!U||!$||typeof U!="object"||typeof $!="object")return b(U,$,ie,W);var de=W.get(U),He=W.get($);if(de&&He)return de===$&&He===U;W.set(U,$),W.set($,U);var et=b(U,$,ie,W);return W.delete(U),W.delete($),et}}function a(b,O){var U={};for(var $ in b)U[$]=b[$];for(var $ in O)U[$]=O[$];return U}function o(b){return b.constructor===Object||b.constructor==null}function n(b){return typeof b.then=="function"}function i(b,O){return b===O||b!==b&&O!==O}var l="[object Arguments]",s="[object Boolean]",c="[object Date]",d="[object RegExp]",u="[object Map]",p="[object Number]",g="[object Object]",m="[object Set]",f="[object String]",v=Object.prototype.toString;function h(b){var O=b.areArraysEqual,U=b.areDatesEqual,$=b.areMapsEqual,ie=b.areObjectsEqual,W=b.areRegExpsEqual,de=b.areSetsEqual,He=b.createIsNestedEqual,et=He(Fr);function Fr(wt,ft,Dr){if(wt===ft)return!0;if(!wt||!ft||typeof wt!="object"||typeof ft!="object")return wt!==wt&&ft!==ft;if(o(wt)&&o(ft))return ie(wt,ft,et,Dr);var Ro=Array.isArray(wt),So=Array.isArray(ft);if(Ro||So)return Ro===So&&O(wt,ft,et,Dr);var Zr=v.call(wt);return Zr!==v.call(ft)?!1:Zr===c?U(wt,ft,et,Dr):Zr===d?W(wt,ft,et,Dr):Zr===u?$(wt,ft,et,Dr):Zr===m?de(wt,ft,et,Dr):Zr===g||Zr===l?n(wt)||n(ft)?!1:ie(wt,ft,et,Dr):Zr===s||Zr===p||Zr===f?i(wt.valueOf(),ft.valueOf()):!1}return Fr}function N(b,O,U,$){var ie=b.length;if(O.length!==ie)return!1;for(;ie-- >0;)if(!U(b[ie],O[ie],ie,ie,b,O,$))return!1;return!0}var C=r(N);function F(b,O){return i(b.valueOf(),O.valueOf())}function M(b,O,U,$){var ie=b.size===O.size;if(!ie)return!1;if(!b.size)return!0;var W={},de=0;return b.forEach(function(He,et){if(ie){var Fr=!1,wt=0;O.forEach(function(ft,Dr){!Fr&&!W[wt]&&(Fr=U(et,Dr,de,wt,b,O,$)&&U(He,ft,et,Dr,b,O,$))&&(W[wt]=!0),wt++}),de++,ie=Fr}}),ie}var j=r(M),B="_owner",le=Object.prototype.hasOwnProperty;function ee(b,O,U,$){var ie=Object.keys(b),W=ie.length;if(Object.keys(O).length!==W)return!1;for(var de;W-- >0;){if(de=ie[W],de===B){var He=!!b.$$typeof,et=!!O.$$typeof;if((He||et)&&He!==et)return!1}if(!le.call(O,de)||!U(b[de],O[de],de,de,b,O,$))return!1}return!0}var ne=r(ee);function ue(b,O){return b.source===O.source&&b.flags===O.flags}function A(b,O,U,$){var ie=b.size===O.size;if(!ie)return!1;if(!b.size)return!0;var W={};return b.forEach(function(de,He){if(ie){var et=!1,Fr=0;O.forEach(function(wt,ft){!et&&!W[Fr]&&(et=U(de,wt,He,ft,b,O,$))&&(W[Fr]=!0),Fr++}),ie=et}}),ie}var k=r(A),y=Object.freeze({areArraysEqual:N,areDatesEqual:F,areMapsEqual:M,areObjectsEqual:ee,areRegExpsEqual:ue,areSetsEqual:A,createIsNestedEqual:t}),E=Object.freeze({areArraysEqual:C,areDatesEqual:F,areMapsEqual:j,areObjectsEqual:ne,areRegExpsEqual:ue,areSetsEqual:k,createIsNestedEqual:t}),x=h(y);function S(b,O){return x(b,O,void 0)}var P=h(a(y,{createIsNestedEqual:function(){return i}}));function Y(b,O){return P(b,O,void 0)}var be=h(E);function K(b,O){return be(b,O,new WeakMap)}var _=h(a(E,{createIsNestedEqual:function(){return i}}));function re(b,O){return _(b,O,new WeakMap)}function Q(b){return h(a(y,b(y)))}function J(b){var O=h(a(E,b(E)));return function(U,$,ie){return ie===void 0&&(ie=new WeakMap),O(U,$,ie)}}e.circularDeepEqual=K,e.circularShallowEqual=re,e.createCustomCircularEqual=J,e.createCustomEqual=Q,e.deepEqual=S,e.sameValueZeroEqual=i,e.shallowEqual=Y,Object.defineProperty(e,"__esModule",{value:!0})})});var Gi=ot((zI,ju)=>{function _b(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=_b(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Ab(){for(var e,t,r=0,a="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=_b(e))&&(a&&(a+=" "),a+=t);return a}ju.exports=Ab,ju.exports.clsx=Ab});var Lb=ot((jI,Mb)=>{Mb.exports=function(t,r,a){return t===r?!0:t.className===r.className&&a(t.style,r.style)&&t.width===r.width&&t.autoSize===r.autoSize&&t.cols===r.cols&&t.draggableCancel===r.draggableCancel&&t.draggableHandle===r.draggableHandle&&a(t.verticalCompact,r.verticalCompact)&&a(t.compactType,r.compactType)&&a(t.layout,r.layout)&&a(t.margin,r.margin)&&a(t.containerPadding,r.containerPadding)&&t.rowHeight===r.rowHeight&&t.maxRows===r.maxRows&&t.isBounded===r.isBounded&&t.isDraggable===r.isDraggable&&t.isResizable===r.isResizable&&t.allowOverlap===r.allowOverlap&&t.preventCollision===r.preventCollision&&t.useCSSTransforms===r.useCSSTransforms&&t.transformScale===r.transformScale&&t.isDroppable===r.isDroppable&&a(t.resizeHandles,r.resizeHandles)&&a(t.resizeHandle,r.resizeHandle)&&t.onLayoutChange===r.onLayoutChange&&t.onDragStart===r.onDragStart&&t.onDrag===r.onDrag&&t.onDragStop===r.onDragStop&&t.onResizeStart===r.onResizeStart&&t.onResize===r.onResize&&t.onResizeStop===r.onResizeStop&&t.onDrop===r.onDrop&&a(t.droppingItem,r.droppingItem)&&a(t.innerRef,r.innerRef)}});var Ko=ot(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.bottom=Uu;at.childrenEqual=j2;at.cloneLayout=Ob;at.cloneLayoutItem=Yo;at.collides=Fl;at.compact=zb;at.compactItem=jb;at.compactType=J2;at.correctBounds=Hb;at.fastPositionEqual=H2;at.fastRGLPropsEqual=void 0;at.getAllCollisions=Bb;at.getFirstCollision=$o;at.getLayoutItem=Wu;at.getStatics=$u;at.modifyLayout=Fb;at.moveElement=Qi;at.moveElementAwayFromCollision=Bu;at.noop=void 0;at.perc=U2;at.resizeItemInDirection=V2;at.setTopLeft=X2;at.setTransform=G2;at.sortLayoutItems=Xu;at.sortLayoutItemsByColRow=Kb;at.sortLayoutItemsByRowCol=Yb;at.synchronizeLayoutWithChildren=Q2;at.validateLayout=qb;at.withLayoutItem=z2;var Ib=Il(),Xi=I2(X());function I2(e){return e&&e.__esModule?e:{default:e}}var O2=!0,F2=!1;function Uu(e){let t=0,r;for(let a=0,o=e.length;a<o;a++)r=e[a].y+e[a].h,r>t&&(t=r);return t}function Ob(e){let t=Array(e.length);for(let r=0,a=e.length;r<a;r++)t[r]=Yo(e[r]);return t}function Fb(e,t){let r=Array(e.length);for(let a=0,o=e.length;a<o;a++)t.i===e[a].i?r[a]=t:r[a]=e[a];return r}function z2(e,t,r){let a=Wu(e,t);return a?(a=r(Yo(a)),e=Fb(e,a),[e,a]):[e,null]}function Yo(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:!!e.moved,static:!!e.static,isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}function j2(e,t){return(0,Ib.deepEqual)(Xi.default.Children.map(e,r=>r?.key),Xi.default.Children.map(t,r=>r?.key))&&(0,Ib.deepEqual)(Xi.default.Children.map(e,r=>r?.props["data-grid"]),Xi.default.Children.map(t,r=>r?.props["data-grid"]))}var HI=at.fastRGLPropsEqual=Lb();function H2(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height}function Fl(e,t){return!(e.i===t.i||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function zb(e,t,r,a){let o=$u(e),n=Xu(e,t),i=Array(e.length);for(let l=0,s=n.length;l<s;l++){let c=Yo(n[l]);c.static||(c=jb(o,c,t,r,n,a),o.push(c)),i[e.indexOf(n[l])]=c,c.moved=!1}return i}var B2={x:"w",y:"h"};function Hu(e,t,r,a){let o=B2[a];t[a]+=1;let n=e.map(i=>i.i).indexOf(t.i);for(let i=n+1;i<e.length;i++){let l=e[i];if(!l.static){if(l.y>t.y+t.h)break;Fl(t,l)&&Hu(e,l,r+t[o],a)}}t[a]=r}function jb(e,t,r,a,o,n){let i=r==="vertical",l=r==="horizontal";if(i)for(t.y=Math.min(Uu(e),t.y);t.y>0&&!$o(e,t);)t.y--;else if(l)for(;t.x>0&&!$o(e,t);)t.x--;let s;for(;(s=$o(e,t))&&!(r===null&&n);)if(l?Hu(o,t,s.x+s.w,"x"):Hu(o,t,s.y+s.h,"y"),l&&t.x+t.w>a)for(t.x=a-t.w,t.y++;t.x>0&&!$o(e,t);)t.x--;return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function Hb(e,t){let r=$u(e);for(let a=0,o=e.length;a<o;a++){let n=e[a];if(n.x+n.w>t.cols&&(n.x=t.cols-n.w),n.x<0&&(n.x=0,n.w=t.cols),!n.static)r.push(n);else for(;$o(r,n);)n.y++}return e}function Wu(e,t){for(let r=0,a=e.length;r<a;r++)if(e[r].i===t)return e[r]}function $o(e,t){for(let r=0,a=e.length;r<a;r++)if(Fl(e[r],t))return e[r]}function Bb(e,t){return e.filter(r=>Fl(r,t))}function $u(e){return e.filter(t=>t.static)}function Qi(e,t,r,a,o,n,i,l,s){if(t.static&&t.isDraggable!==!0||t.y===a&&t.x===r)return e;Ol(`Moving element ${t.i} to [${String(r)},${String(a)}] from [${t.x},${t.y}]`);let c=t.x,d=t.y;typeof r=="number"&&(t.x=r),typeof a=="number"&&(t.y=a),t.moved=!0;let u=Xu(e,i);(i==="vertical"&&typeof a=="number"?d>=a:i==="horizontal"&&typeof r=="number"?c>=r:!1)&&(u=u.reverse());let g=Bb(u,t),m=g.length>0;if(m&&s)return Ob(e);if(m&&n)return Ol(`Collision prevented on ${t.i}, reverting.`),t.x=c,t.y=d,t.moved=!1,e;for(let f=0,v=g.length;f<v;f++){let h=g[f];Ol(`Resolving collision between ${t.i} at [${t.x},${t.y}] and ${h.i} at [${h.x},${h.y}]`),!h.moved&&(h.static?e=Bu(e,h,t,o,i,l):e=Bu(e,t,h,o,i,l))}return e}function Bu(e,t,r,a,o,n){let i=o==="horizontal",l=o==="vertical",s=t.static;if(a){a=!1;let u={x:i?Math.max(t.x-r.w,0):r.x,y:l?Math.max(t.y-r.h,0):r.y,w:r.w,h:r.h,i:"-1"},p=$o(e,u),g=p&&p.y+p.h>t.y,m=p&&t.x+t.w>p.x;if(p){if(g&&l)return Qi(e,r,void 0,t.y+1,a,s,o,n);if(g&&o==null)return t.y=r.y,r.y=r.y+r.h,e;if(m&&i)return Qi(e,t,r.x,void 0,a,s,o,n)}else return Ol(`Doing reverse collision on ${r.i} up to [${u.x},${u.y}].`),Qi(e,r,i?u.x:void 0,l?u.y:void 0,a,s,o,n)}let c=i?r.x+1:void 0,d=l?r.y+1:void 0;return c==null&&d==null?e:Qi(e,r,i?r.x+1:void 0,l?r.y+1:void 0,a,s,o,n)}function U2(e){return e*100+"%"}var Ub=(e,t,r,a)=>e+r>a?t:r,Wb=(e,t,r)=>e<0?t:r,$b=e=>Math.max(0,e),Yu=e=>Math.max(0,e),Ku=(e,t,r)=>{let{left:a,height:o,width:n}=t,i=e.top-(o-e.height);return{left:a,width:n,height:Wb(i,e.height,o),top:Yu(i)}},qu=(e,t,r)=>{let{top:a,left:o,height:n,width:i}=t;return{top:a,height:n,width:Ub(e.left,e.width,i,r),left:$b(o)}},Vu=(e,t,r)=>{let{top:a,height:o,width:n}=t,i=e.left-(n-e.width);return{height:o,width:i<0?e.width:Ub(e.left,e.width,n,r),top:Yu(a),left:$b(i)}},Gu=(e,t,r)=>{let{top:a,left:o,height:n,width:i}=t;return{width:i,left:o,height:Wb(a,e.height,n),top:Yu(a)}},W2=function(){return Ku(arguments.length<=0?void 0:arguments[0],qu(...arguments),arguments.length<=2?void 0:arguments[2])},$2=function(){return Ku(arguments.length<=0?void 0:arguments[0],Vu(...arguments),arguments.length<=2?void 0:arguments[2])},Y2=function(){return Gu(arguments.length<=0?void 0:arguments[0],qu(...arguments),arguments.length<=2?void 0:arguments[2])},K2=function(){return Gu(arguments.length<=0?void 0:arguments[0],Vu(...arguments),arguments.length<=2?void 0:arguments[2])},q2={n:Ku,ne:W2,e:qu,se:Y2,s:Gu,sw:K2,w:Vu,nw:$2};function V2(e,t,r,a){let o=q2[e];return o?o(t,{...t,...r},a):r}function G2(e){let{top:t,left:r,width:a,height:o}=e,n=`translate(${r}px,${t}px)`;return{transform:n,WebkitTransform:n,MozTransform:n,msTransform:n,OTransform:n,width:`${a}px`,height:`${o}px`,position:"absolute"}}function X2(e){let{top:t,left:r,width:a,height:o}=e;return{top:`${t}px`,left:`${r}px`,width:`${a}px`,height:`${o}px`,position:"absolute"}}function Xu(e,t){return t==="horizontal"?Kb(e):t==="vertical"?Yb(e):e}function Yb(e){return e.slice(0).sort(function(t,r){return t.y>r.y||t.y===r.y&&t.x>r.x?1:t.y===r.y&&t.x===r.x?0:-1})}function Kb(e){return e.slice(0).sort(function(t,r){return t.x>r.x||t.x===r.x&&t.y>r.y?1:-1})}function Q2(e,t,r,a,o){e=e||[];let n=[];Xi.default.Children.forEach(t,l=>{if(l?.key==null)return;let s=Wu(e,String(l.key)),c=l.props["data-grid"];s&&c==null?n.push(Yo(s)):c?(O2||qb([c],"ReactGridLayout.children"),n.push(Yo({...c,i:l.key}))):n.push(Yo({w:1,h:1,x:0,y:Uu(n),i:String(l.key)}))});let i=Hb(n,{cols:r});return o?i:zb(i,a,r)}function qb(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout",r=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(let a=0,o=e.length;a<o;a++){let n=e[a];for(let i=0;i<r.length;i++){let l=r[i],s=n[l];if(typeof s!="number"||Number.isNaN(s))throw new Error(`ReactGridLayout: ${t}[${a}].${l} must be a number! Received: ${s} (${typeof s})`)}if(typeof n.i<"u"&&typeof n.i!="string")throw new Error(`ReactGridLayout: ${t}[${a}].i must be a string! Received: ${n.i} (${typeof n.i})`)}}function J2(e){let{verticalCompact:t,compactType:r}=e||{};return t===!1?null:r}function Ol(){F2&&console.log(...arguments)}var Z2=()=>{};at.noop=Z2});var jl=ot(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.calcGridColWidth=zl;yo.calcGridItemPosition=eN;yo.calcGridItemWHPx=Qu;yo.calcWH=rN;yo.calcXY=tN;yo.clamp=qo;function zl(e){let{margin:t,containerPadding:r,containerWidth:a,cols:o}=e;return(a-t[0]*(o-1)-r[0]*2)/o}function Qu(e,t,r){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*r):e}function eN(e,t,r,a,o,n){let{margin:i,containerPadding:l,rowHeight:s}=e,c=zl(e),d={};return n&&n.resizing?(d.width=Math.round(n.resizing.width),d.height=Math.round(n.resizing.height)):(d.width=Qu(a,c,i[0]),d.height=Qu(o,s,i[1])),n&&n.dragging?(d.top=Math.round(n.dragging.top),d.left=Math.round(n.dragging.left)):n&&n.resizing&&typeof n.resizing.top=="number"&&typeof n.resizing.left=="number"?(d.top=Math.round(n.resizing.top),d.left=Math.round(n.resizing.left)):(d.top=Math.round((s+i[1])*r+l[1]),d.left=Math.round((c+i[0])*t+l[0])),d}function tN(e,t,r,a,o){let{margin:n,containerPadding:i,cols:l,rowHeight:s,maxRows:c}=e,d=zl(e),u=Math.round((r-i[0])/(d+n[0])),p=Math.round((t-i[1])/(s+n[1]));return u=qo(u,0,l-a),p=qo(p,0,c-o),{x:u,y:p}}function rN(e,t,r,a,o,n){let{margin:i,maxRows:l,cols:s,rowHeight:c}=e,d=zl(e),u=Math.round((t+i[0])/(d+i[0])),p=Math.round((r+i[1])/(c+i[1])),g=qo(u,0,s-a),m=qo(p,0,l-o);return["sw","w","nw"].indexOf(n)!==-1&&(g=qo(u,0,s)),["nw","n","ne"].indexOf(n)!==-1&&(m=qo(p,0,l)),{w:g,h:m}}function qo(e,t,r){return Math.max(Math.min(e,r),t)}});var Ji=ot(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.dontSetMe=sN;Vo.findInArray=aN;Vo.int=iN;Vo.isFunction=oN;Vo.isNum=nN;function aN(e,t){for(let r=0,a=e.length;r<a;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function oN(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function nN(e){return typeof e=="number"&&!isNaN(e)}function iN(e){return parseInt(e,10)}function sN(e,t,r){if(e[t])return new Error(`Invalid prop ${t} passed to ${r} - do not set this, set it on the child.`)}});var Xb=ot(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.browserPrefixToKey=Gb;Go.browserPrefixToStyle=lN;Go.default=void 0;Go.getPrefix=Vb;var Ju=["Moz","Webkit","O","ms"];function Vb(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";let t=window.document?.documentElement?.style;if(!t||e in t)return"";for(let r=0;r<Ju.length;r++)if(Gb(e,Ju[r])in t)return Ju[r];return""}function Gb(e,t){return t?`${t}${cN(e)}`:e}function lN(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function cN(e){let t="",r=!0;for(let a=0;a<e.length;a++)r?(t+=e[a].toUpperCase(),r=!1):e[a]==="-"?r=!0:t+=e[a];return t}var $I=Go.default=Vb()});var Bl=ot(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.addClassName=ty;Gt.addEvent=uN;Gt.addUserSelectStyles=kN;Gt.createCSSTransform=bN;Gt.createSVGTransform=yN;Gt.getTouch=wN;Gt.getTouchIdentifier=xN;Gt.getTranslation=Zu;Gt.innerHeight=gN;Gt.innerWidth=hN;Gt.matchesSelector=ey;Gt.matchesSelectorAndParentsTo=dN;Gt.offsetXYFromParent=vN;Gt.outerHeight=mN;Gt.outerWidth=fN;Gt.removeClassName=ry;Gt.removeEvent=pN;Gt.scheduleRemoveUserSelectStyles=NN;var Gr=Ji(),Qb=Zb(Xb());function Zb(e,t){if(typeof WeakMap=="function")var r=new WeakMap,a=new WeakMap;return(Zb=function(o,n){if(!n&&o&&o.__esModule)return o;var i,l,s={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return s;if(i=n?a:r){if(i.has(o))return i.get(o);i.set(o,s)}for(let c in o)c!=="default"&&{}.hasOwnProperty.call(o,c)&&((l=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,c))&&(l.get||l.set)?i(s,c,l):s[c]=o[c]);return s})(e,t)}var Hl="";function ey(e,t){return Hl||(Hl=(0,Gr.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,Gr.isFunction)(e[r])})),(0,Gr.isFunction)(e[Hl])?e[Hl](t):!1}function dN(e,t,r){let a=e;do{if(ey(a,t))return!0;if(a===r)return!1;a=a.parentNode}while(a);return!1}function uN(e,t,r,a){if(!e)return;let o={capture:!0,...a};e.addEventListener?e.addEventListener(t,r,o):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}function pN(e,t,r,a){if(!e)return;let o={capture:!0,...a};e.removeEventListener?e.removeEventListener(t,r,o):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}function mN(e){let t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Gr.int)(r.borderTopWidth),t+=(0,Gr.int)(r.borderBottomWidth),t}function fN(e){let t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Gr.int)(r.borderLeftWidth),t+=(0,Gr.int)(r.borderRightWidth),t}function gN(e){let t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Gr.int)(r.paddingTop),t-=(0,Gr.int)(r.paddingBottom),t}function hN(e){let t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Gr.int)(r.paddingLeft),t-=(0,Gr.int)(r.paddingRight),t}function vN(e,t,r){let o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),n=(e.clientX+t.scrollLeft-o.left)/r,i=(e.clientY+t.scrollTop-o.top)/r;return{x:n,y:i}}function bN(e,t){let r=Zu(e,t,"px");return{[(0,Qb.browserPrefixToKey)("transform",Qb.default)]:r}}function yN(e,t){return Zu(e,t,"")}function Zu(e,t,r){let{x:a,y:o}=e,n=`translate(${a}${r},${o}${r})`;if(t){let i=`${typeof t.x=="string"?t.x:t.x+r}`,l=`${typeof t.y=="string"?t.y:t.y+r}`;n=`translate(${i}, ${l})`+n}return n}function wN(e,t){return e.targetTouches&&(0,Gr.findInArray)(e.targetTouches,r=>t===r.identifier)||e.changedTouches&&(0,Gr.findInArray)(e.changedTouches,r=>t===r.identifier)}function xN(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function kN(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&ty(e.body,"react-draggable-transparent-selection")}function NN(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{Jb(e)}):Jb(e)}function Jb(e){if(e)try{if(e.body&&ry(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{let t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function ty(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function ry(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}});var tp=ot(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.canDragX=SN;Ga.canDragY=DN;Ga.createCoreData=PN;Ga.createDraggableData=TN;Ga.getBoundPosition=CN;Ga.getControlPosition=EN;Ga.snapToGrid=RN;var Xr=Ji(),$n=Bl();function CN(e,t,r){if(!e.props.bounds)return[t,r];let{bounds:a}=e.props;a=typeof a=="string"?a:AN(a);let o=ep(e);if(typeof a=="string"){let{ownerDocument:n}=o,i=n.defaultView,l;if(a==="parent"?l=o.parentNode:l=o.getRootNode().querySelector(a),!(l instanceof i.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');let s=l,c=i.getComputedStyle(o),d=i.getComputedStyle(s);a={left:-o.offsetLeft+(0,Xr.int)(d.paddingLeft)+(0,Xr.int)(c.marginLeft),top:-o.offsetTop+(0,Xr.int)(d.paddingTop)+(0,Xr.int)(c.marginTop),right:(0,$n.innerWidth)(s)-(0,$n.outerWidth)(o)-o.offsetLeft+(0,Xr.int)(d.paddingRight)-(0,Xr.int)(c.marginRight),bottom:(0,$n.innerHeight)(s)-(0,$n.outerHeight)(o)-o.offsetTop+(0,Xr.int)(d.paddingBottom)-(0,Xr.int)(c.marginBottom)}}return(0,Xr.isNum)(a.right)&&(t=Math.min(t,a.right)),(0,Xr.isNum)(a.bottom)&&(r=Math.min(r,a.bottom)),(0,Xr.isNum)(a.left)&&(t=Math.max(t,a.left)),(0,Xr.isNum)(a.top)&&(r=Math.max(r,a.top)),[t,r]}function RN(e,t,r){let a=Math.round(t/e[0])*e[0],o=Math.round(r/e[1])*e[1];return[a,o]}function SN(e){return e.props.axis==="both"||e.props.axis==="x"}function DN(e){return e.props.axis==="both"||e.props.axis==="y"}function EN(e,t,r){let a=typeof t=="number"?(0,$n.getTouch)(e,t):null;if(typeof t=="number"&&!a)return null;let o=ep(r),n=r.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,$n.offsetXYFromParent)(a||e,n,r.props.scale)}function PN(e,t,r){let a=!(0,Xr.isNum)(e.lastX),o=ep(e);return a?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:o,deltaX:t-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:r}}function TN(e,t){let r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function AN(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function ep(e){let t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}});var ap=ot(rp=>{"use strict";Object.defineProperty(rp,"__esModule",{value:!0});rp.default=_N;function _N(){}});var oy=ot(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.default=void 0;var op=ay(X()),kr=ip(Aa()),MN=ip(ii()),pr=Bl(),wo=tp(),np=Ji(),Zi=ip(ap());function ip(e){return e&&e.__esModule?e:{default:e}}function ay(e,t){if(typeof WeakMap=="function")var r=new WeakMap,a=new WeakMap;return(ay=function(o,n){if(!n&&o&&o.__esModule)return o;var i,l,s={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return s;if(i=n?a:r){if(i.has(o))return i.get(o);i.set(o,s)}for(let c in o)c!=="default"&&{}.hasOwnProperty.call(o,c)&&((l=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,c))&&(l.get||l.set)?i(s,c,l):s[c]=o[c]);return s})(e,t)}function Nr(e,t,r){return(t=LN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LN(e){var t=IN(e,"string");return typeof t=="symbol"?t:t+""}function IN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xa={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},xo=xa.mouse,Yn=class extends op.Component{constructor(){super(...arguments),Nr(this,"dragging",!1),Nr(this,"lastX",NaN),Nr(this,"lastY",NaN),Nr(this,"touchIdentifier",null),Nr(this,"mounted",!1),Nr(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;let r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");let{ownerDocument:a}=r;if(this.props.disabled||!(t.target instanceof a.defaultView.Node)||this.props.handle&&!(0,pr.matchesSelectorAndParentsTo)(t.target,this.props.handle,r)||this.props.cancel&&(0,pr.matchesSelectorAndParentsTo)(t.target,this.props.cancel,r))return;t.type==="touchstart"&&!this.props.allowMobileScroll&&t.preventDefault();let o=(0,pr.getTouchIdentifier)(t);this.touchIdentifier=o;let n=(0,wo.getControlPosition)(t,o,this);if(n==null)return;let{x:i,y:l}=n,s=(0,wo.createCoreData)(this,i,l);(0,Zi.default)("DraggableCore: handleDragStart: %j",s),(0,Zi.default)("calling",this.props.onStart),!(this.props.onStart(t,s)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,pr.addUserSelectStyles)(a),this.dragging=!0,this.lastX=i,this.lastY=l,(0,pr.addEvent)(a,xo.move,this.handleDrag),(0,pr.addEvent)(a,xo.stop,this.handleDragStop))}),Nr(this,"handleDrag",t=>{let r=(0,wo.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:a,y:o}=r;if(Array.isArray(this.props.grid)){let l=a-this.lastX,s=o-this.lastY;if([l,s]=(0,wo.snapToGrid)(this.props.grid,l,s),!l&&!s)return;a=this.lastX+l,o=this.lastY+s}let n=(0,wo.createCoreData)(this,a,o);if((0,Zi.default)("DraggableCore: handleDrag: %j",n),this.props.onDrag(t,n)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{let s=document.createEvent("MouseEvents");s.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(s)}return}this.lastX=a,this.lastY=o}),Nr(this,"handleDragStop",t=>{if(!this.dragging)return;let r=(0,wo.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:a,y:o}=r;if(Array.isArray(this.props.grid)){let s=a-this.lastX||0,c=o-this.lastY||0;[s,c]=(0,wo.snapToGrid)(this.props.grid,s,c),a=this.lastX+s,o=this.lastY+c}let n=(0,wo.createCoreData)(this,a,o);if(this.props.onStop(t,n)===!1||this.mounted===!1)return!1;let l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,pr.scheduleRemoveUserSelectStyles)(l.ownerDocument),(0,Zi.default)("DraggableCore: handleDragStop: %j",n),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,Zi.default)("DraggableCore: Removing handlers"),(0,pr.removeEvent)(l.ownerDocument,xo.move,this.handleDrag),(0,pr.removeEvent)(l.ownerDocument,xo.stop,this.handleDragStop))}),Nr(this,"onMouseDown",t=>(xo=xa.mouse,this.handleDragStart(t))),Nr(this,"onMouseUp",t=>(xo=xa.mouse,this.handleDragStop(t))),Nr(this,"onTouchStart",t=>(xo=xa.touch,this.handleDragStart(t))),Nr(this,"onTouchEnd",t=>(xo=xa.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;let t=this.findDOMNode();t&&(0,pr.addEvent)(t,xa.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;let t=this.findDOMNode();if(t){let{ownerDocument:r}=t;(0,pr.removeEvent)(r,xa.mouse.move,this.handleDrag),(0,pr.removeEvent)(r,xa.touch.move,this.handleDrag),(0,pr.removeEvent)(r,xa.mouse.stop,this.handleDragStop),(0,pr.removeEvent)(r,xa.touch.stop,this.handleDragStop),(0,pr.removeEvent)(t,xa.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,pr.scheduleRemoveUserSelectStyles)(r)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:MN.default.findDOMNode(this)}render(){return op.cloneElement(op.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Ul.default=Yn;Nr(Yn,"displayName","DraggableCore");Nr(Yn,"propTypes",{allowAnyClick:kr.default.bool,allowMobileScroll:kr.default.bool,children:kr.default.node.isRequired,disabled:kr.default.bool,enableUserSelectHack:kr.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:kr.default.arrayOf(kr.default.number),handle:kr.default.string,cancel:kr.default.string,nodeRef:kr.default.object,onStart:kr.default.func,onDrag:kr.default.func,onStop:kr.default.func,onMouseDown:kr.default.func,scale:kr.default.number,className:np.dontSetMe,style:np.dontSetMe,transform:np.dontSetMe});Nr(Yn,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})});var sy=ot(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});Object.defineProperty(es,"DraggableCore",{enumerable:!0,get:function(){return Yl.default}});es.default=void 0;var Wl=iy(X()),Lt=Kl(Aa()),ON=Kl(ii()),FN=Gi(),ny=Bl(),Kn=tp(),sp=Ji(),Yl=Kl(oy()),$l=Kl(ap());function Kl(e){return e&&e.__esModule?e:{default:e}}function iy(e,t){if(typeof WeakMap=="function")var r=new WeakMap,a=new WeakMap;return(iy=function(o,n){if(!n&&o&&o.__esModule)return o;var i,l,s={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return s;if(i=n?a:r){if(i.has(o))return i.get(o);i.set(o,s)}for(let c in o)c!=="default"&&{}.hasOwnProperty.call(o,c)&&((l=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,c))&&(l.get||l.set)?i(s,c,l):s[c]=o[c]);return s})(e,t)}function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},lp.apply(null,arguments)}function qn(e,t,r){return(t=zN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zN(e){var t=jN(e,"string");return typeof t=="symbol"?t:t+""}function jN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vn=class extends Wl.Component{static getDerivedStateFromProps(t,r){let{position:a}=t,{prevPropsPosition:o}=r;return a&&(!o||a.x!==o.x||a.y!==o.y)?((0,$l.default)("Draggable: getDerivedStateFromProps %j",{position:a,prevPropsPosition:o}),{x:a.x,y:a.y,prevPropsPosition:{...a}}):null}constructor(t){super(t),qn(this,"onDragStart",(r,a)=>{if((0,$l.default)("Draggable: onDragStart: %j",a),this.props.onStart(r,(0,Kn.createDraggableData)(this,a))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),qn(this,"onDrag",(r,a)=>{if(!this.state.dragging)return!1;(0,$l.default)("Draggable: onDrag: %j",a);let o=(0,Kn.createDraggableData)(this,a),n={x:o.x,y:o.y,slackX:0,slackY:0};if(this.props.bounds){let{x:l,y:s}=n;n.x+=this.state.slackX,n.y+=this.state.slackY;let[c,d]=(0,Kn.getBoundPosition)(this,n.x,n.y);n.x=c,n.y=d,n.slackX=this.state.slackX+(l-n.x),n.slackY=this.state.slackY+(s-n.y),o.x=n.x,o.y=n.y,o.deltaX=n.x-this.state.x,o.deltaY=n.y-this.state.y}if(this.props.onDrag(r,o)===!1)return!1;this.setState(n)}),qn(this,"onDragStop",(r,a)=>{if(!this.state.dragging||this.props.onStop(r,(0,Kn.createDraggableData)(this,a))===!1)return!1;(0,$l.default)("Draggable: onDragStop: %j",a);let n={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){let{x:l,y:s}=this.props.position;n.x=l,n.y=s}this.setState(n)}),this.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,prevPropsPosition:{...t.position},slackX:0,slackY:0,isElementSVG:!1},t.position&&!(t.onDrag||t.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??ON.default.findDOMNode(this)}render(){let{axis:t,bounds:r,children:a,defaultPosition:o,defaultClassName:n,defaultClassNameDragging:i,defaultClassNameDragged:l,position:s,positionOffset:c,scale:d,...u}=this.props,p={},g=null,f=!!!s||this.state.dragging,v=s||o,h={x:(0,Kn.canDragX)(this)&&f?this.state.x:v.x,y:(0,Kn.canDragY)(this)&&f?this.state.y:v.y};this.state.isElementSVG?g=(0,ny.createSVGTransform)(h,c):p=(0,ny.createCSSTransform)(h,c);let N=(0,FN.clsx)(a.props.className||"",n,{[i]:this.state.dragging,[l]:this.state.dragged});return Wl.createElement(Yl.default,lp({},u,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),Wl.cloneElement(Wl.Children.only(a),{className:N,style:{...a.props.style,...p},transform:g}))}};es.default=Vn;qn(Vn,"displayName","Draggable");qn(Vn,"propTypes",{...Yl.default.propTypes,axis:Lt.default.oneOf(["both","x","y","none"]),bounds:Lt.default.oneOfType([Lt.default.shape({left:Lt.default.number,right:Lt.default.number,top:Lt.default.number,bottom:Lt.default.number}),Lt.default.string,Lt.default.oneOf([!1])]),defaultClassName:Lt.default.string,defaultClassNameDragging:Lt.default.string,defaultClassNameDragged:Lt.default.string,defaultPosition:Lt.default.shape({x:Lt.default.number,y:Lt.default.number}),positionOffset:Lt.default.shape({x:Lt.default.oneOfType([Lt.default.number,Lt.default.string]),y:Lt.default.oneOfType([Lt.default.number,Lt.default.string])}),position:Lt.default.shape({x:Lt.default.number,y:Lt.default.number}),className:sp.dontSetMe,style:sp.dontSetMe,transform:sp.dontSetMe});qn(Vn,"defaultProps",{...Yl.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})});var Vl=ot((QI,ql)=>{"use strict";var{default:ly,DraggableCore:HN}=sy();ql.exports=ly;ql.exports.default=ly;ql.exports.DraggableCore=HN});var uy=ot(cp=>{"use strict";cp.__esModule=!0;cp.cloneElement=KN;var BN=UN(X());function UN(e){return e&&e.__esModule?e:{default:e}}function cy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function dy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cy(Object(r),!0).forEach(function(a){WN(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cy(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function WN(e,t,r){return t=$N(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $N(e){var t=YN(e,"string");return typeof t=="symbol"?t:String(t)}function YN(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KN(e,t){return t.style&&e.props.style&&(t.style=dy(dy({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),BN.default.cloneElement(e,t)}});var dp=ot(Gl=>{"use strict";Gl.__esModule=!0;Gl.resizableProps=void 0;var We=qN(Aa()),ZI=Vl();function qN(e){return e&&e.__esModule?e:{default:e}}var VN={axis:We.default.oneOf(["both","x","y","none"]),className:We.default.string,children:We.default.element.isRequired,draggableOpts:We.default.shape({allowAnyClick:We.default.bool,cancel:We.default.string,children:We.default.node,disabled:We.default.bool,enableUserSelectHack:We.default.bool,offsetParent:We.default.node,grid:We.default.arrayOf(We.default.number),handle:We.default.string,nodeRef:We.default.object,onStart:We.default.func,onDrag:We.default.func,onStop:We.default.func,onMouseDown:We.default.func,scale:We.default.number}),height:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=r[0];if(o.axis==="both"||o.axis==="y"){var n;return(n=We.default.number).isRequired.apply(n,r)}return We.default.number.apply(We.default,r)},handle:We.default.oneOfType([We.default.node,We.default.func]),handleSize:We.default.arrayOf(We.default.number),lockAspectRatio:We.default.bool,maxConstraints:We.default.arrayOf(We.default.number),minConstraints:We.default.arrayOf(We.default.number),onResizeStop:We.default.func,onResizeStart:We.default.func,onResize:We.default.func,resizeHandles:We.default.arrayOf(We.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:We.default.number,width:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=r[0];if(o.axis==="both"||o.axis==="x"){var n;return(n=We.default.number).isRequired.apply(n,r)}return We.default.number.apply(We.default,r)}};Gl.resizableProps=VN});var gp=ot(Xl=>{"use strict";Xl.__esModule=!0;Xl.default=void 0;var ts=ZN(X()),GN=Vl(),XN=uy(),QN=dp(),JN=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function my(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(my=function(o){return o?r:t})(e)}function ZN(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=my(t);if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(a,n,i):a[n]=e[n]}return a.default=e,r&&r.set(e,a),a}function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pp.apply(this,arguments)}function eC(e,t){if(e==null)return{};var r={},a=Object.keys(e),o,n;for(n=0;n<a.length;n++)o=a[n],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function py(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function up(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?py(Object(r),!0).forEach(function(a){tC(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):py(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tC(e,t,r){return t=rC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rC(e){var t=aC(e,"string");return typeof t=="symbol"?t:String(t)}function aC(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oC(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,mp(e,t)}function mp(e,t){return mp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,o){return a.__proto__=o,a},mp(e,t)}var fp=function(e){oC(t,e);function t(){for(var a,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return a=e.call.apply(e,[this].concat(n))||this,a.handleRefs={},a.lastHandleRect=null,a.slack=null,a}var r=t.prototype;return r.componentWillUnmount=function(){this.resetData()},r.resetData=function(){this.lastHandleRect=this.slack=null},r.runConstraints=function(o,n){var i=this.props,l=i.minConstraints,s=i.maxConstraints,c=i.lockAspectRatio;if(!l&&!s&&!c)return[o,n];if(c){var d=this.props.width/this.props.height,u=o-this.props.width,p=n-this.props.height;Math.abs(u)>Math.abs(p*d)?n=o/d:o=n*d}var g=o,m=n,f=this.slack||[0,0],v=f[0],h=f[1];return o+=v,n+=h,l&&(o=Math.max(l[0],o),n=Math.max(l[1],n)),s&&(o=Math.min(s[0],o),n=Math.min(s[1],n)),this.slack=[v+(g-o),h+(m-n)],[o,n]},r.resizeHandler=function(o,n){var i=this;return function(l,s){var c=s.node,d=s.deltaX,u=s.deltaY;o==="onResizeStart"&&i.resetData();var p=(i.props.axis==="both"||i.props.axis==="x")&&n!=="n"&&n!=="s",g=(i.props.axis==="both"||i.props.axis==="y")&&n!=="e"&&n!=="w";if(!(!p&&!g)){var m=n[0],f=n[n.length-1],v=c.getBoundingClientRect();if(i.lastHandleRect!=null){if(f==="w"){var h=v.left-i.lastHandleRect.left;d+=h}if(m==="n"){var N=v.top-i.lastHandleRect.top;u+=N}}i.lastHandleRect=v,f==="w"&&(d=-d),m==="n"&&(u=-u);var C=i.props.width+(p?d/i.props.transformScale:0),F=i.props.height+(g?u/i.props.transformScale:0),M=i.runConstraints(C,F);C=M[0],F=M[1];var j=C!==i.props.width||F!==i.props.height,B=typeof i.props[o]=="function"?i.props[o]:null,le=o==="onResize"&&!j;B&&!le&&(l.persist==null||l.persist(),B(l,{node:c,size:{width:C,height:F},handle:n})),o==="onResizeStop"&&i.resetData()}}},r.renderResizeHandle=function(o,n){var i=this.props.handle;if(!i)return ts.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+o,ref:n});if(typeof i=="function")return i(o,n);var l=typeof i.type=="string",s=up({ref:n},l?{}:{handleAxis:o});return ts.cloneElement(i,s)},r.render=function(){var o=this,n=this.props,i=n.children,l=n.className,s=n.draggableOpts,c=n.width,d=n.height,u=n.handle,p=n.handleSize,g=n.lockAspectRatio,m=n.axis,f=n.minConstraints,v=n.maxConstraints,h=n.onResize,N=n.onResizeStop,C=n.onResizeStart,F=n.resizeHandles,M=n.transformScale,j=eC(n,JN);return(0,XN.cloneElement)(i,up(up({},j),{},{className:(l?l+" ":"")+"react-resizable",children:[].concat(i.props.children,F.map(function(B){var le,ee=(le=o.handleRefs[B])!=null?le:o.handleRefs[B]=ts.createRef();return ts.createElement(GN.DraggableCore,pp({},s,{nodeRef:ee,key:"resizableHandle-"+B,onStop:o.resizeHandler("onResizeStop",B),onStart:o.resizeHandler("onResizeStart",B),onDrag:o.resizeHandler("onResize",B)}),o.renderResizeHandle(B,ee))}))}))},t}(ts.Component);Xl.default=fp;fp.propTypes=QN.resizableProps;fp.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}});var by=ot(Jl=>{"use strict";Jl.__esModule=!0;Jl.default=void 0;var hp=cC(X()),nC=gy(Aa()),iC=gy(gp()),sC=dp(),lC=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function gy(e){return e&&e.__esModule?e:{default:e}}function hy(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(hy=function(o){return o?r:t})(e)}function cC(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=hy(t);if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(a,n,i):a[n]=e[n]}return a.default=e,r&&r.set(e,a),a}function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vp.apply(this,arguments)}function fy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function Ql(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fy(Object(r),!0).forEach(function(a){dC(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fy(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function dC(e,t,r){return t=uC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uC(e){var t=pC(e,"string");return typeof t=="symbol"?t:String(t)}function pC(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mC(e,t){if(e==null)return{};var r={},a=Object.keys(e),o,n;for(n=0;n<a.length;n++)o=a[n],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function fC(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,bp(e,t)}function bp(e,t){return bp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,o){return a.__proto__=o,a},bp(e,t)}var vy=function(e){fC(t,e);function t(){for(var a,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return a=e.call.apply(e,[this].concat(n))||this,a.state={width:a.props.width,height:a.props.height,propsWidth:a.props.width,propsHeight:a.props.height},a.onResize=function(l,s){var c=s.size;a.props.onResize?(l.persist==null||l.persist(),a.setState(c,function(){return a.props.onResize&&a.props.onResize(l,s)})):a.setState(c)},a}t.getDerivedStateFromProps=function(o,n){return n.propsWidth!==o.width||n.propsHeight!==o.height?{width:o.width,height:o.height,propsWidth:o.width,propsHeight:o.height}:null};var r=t.prototype;return r.render=function(){var o=this.props,n=o.handle,i=o.handleSize,l=o.onResize,s=o.onResizeStart,c=o.onResizeStop,d=o.draggableOpts,u=o.minConstraints,p=o.maxConstraints,g=o.lockAspectRatio,m=o.axis,f=o.width,v=o.height,h=o.resizeHandles,N=o.style,C=o.transformScale,F=mC(o,lC);return hp.createElement(iC.default,{axis:m,draggableOpts:d,handle:n,handleSize:i,height:this.state.height,lockAspectRatio:g,maxConstraints:p,minConstraints:u,onResizeStart:s,onResize:this.onResize,onResizeStop:c,resizeHandles:h,transformScale:C,width:this.state.width},hp.createElement("div",vp({},F,{style:Ql(Ql({},N),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(hp.Component);Jl.default=vy;vy.propTypes=Ql(Ql({},sC.resizableProps),{},{children:nC.default.element})});var yy=ot((a6,Zl)=>{"use strict";Zl.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};Zl.exports.Resizable=gp().default;Zl.exports.ResizableBox=by().default});var yp=ot(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.resizeHandleType=ko.resizeHandleAxesType=ko.default=void 0;var $e=wy(Aa()),gC=wy(X());function wy(e){return e&&e.__esModule?e:{default:e}}var hC=ko.resizeHandleAxesType=$e.default.arrayOf($e.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),vC=ko.resizeHandleType=$e.default.oneOfType([$e.default.node,$e.default.func]),o6=ko.default={className:$e.default.string,style:$e.default.object,width:$e.default.number,autoSize:$e.default.bool,cols:$e.default.number,draggableCancel:$e.default.string,draggableHandle:$e.default.string,verticalCompact:function(e){e.verticalCompact},compactType:$e.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;t!==void 0&&Ko().validateLayout(t,"layout")},margin:$e.default.arrayOf($e.default.number),containerPadding:$e.default.arrayOf($e.default.number),rowHeight:$e.default.number,maxRows:$e.default.number,isBounded:$e.default.bool,isDraggable:$e.default.bool,isResizable:$e.default.bool,allowOverlap:$e.default.bool,preventCollision:$e.default.bool,useCSSTransforms:$e.default.bool,transformScale:$e.default.number,isDroppable:$e.default.bool,resizeHandles:hC,resizeHandle:vC,onLayoutChange:$e.default.func,onDragStart:$e.default.func,onDrag:$e.default.func,onDragStop:$e.default.func,onResizeStart:$e.default.func,onResize:$e.default.func,onResizeStop:$e.default.func,onDrop:$e.default.func,droppingItem:$e.default.shape({i:$e.default.string.isRequired,w:$e.default.number.isRequired,h:$e.default.number.isRequired}),children:function(e,t){let r=e[t],a={};gC.default.Children.forEach(r,function(o){if(o?.key!=null){if(a[o.key])throw new Error('Duplicate child key "'+o.key+'" found! This will cause problems in ReactGridLayout.');a[o.key]=!0}})},innerRef:$e.default.any}});var Ny=ot(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.default=void 0;var Gn=wp(X()),xy=ii(),ct=wp(Aa()),bC=Vl(),yC=yy(),Xn=Ko(),ir=jl(),ky=yp(),wC=wp(Gi());function wp(e){return e&&e.__esModule?e:{default:e}}function Ia(e,t,r){return(t=xC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xC(e){var t=kC(e,"string");return typeof t=="symbol"?t:t+""}function kC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rs=class extends Gn.default.Component{constructor(){super(...arguments),Ia(this,"state",{resizing:null,dragging:null,className:""}),Ia(this,"elementRef",Gn.default.createRef()),Ia(this,"onDragStart",(t,r)=>{let{node:a}=r,{onDragStart:o,transformScale:n}=this.props;if(!o)return;let i={top:0,left:0},{offsetParent:l}=a;if(!l)return;let s=l.getBoundingClientRect(),c=a.getBoundingClientRect(),d=c.left/n,u=s.left/n,p=c.top/n,g=s.top/n;i.left=d-u+l.scrollLeft,i.top=p-g+l.scrollTop,this.setState({dragging:i});let{x:m,y:f}=(0,ir.calcXY)(this.getPositionParams(),i.top,i.left,this.props.w,this.props.h);return o.call(this,this.props.i,m,f,{e:t,node:a,newPosition:i})}),Ia(this,"onDrag",(t,r,a)=>{let{node:o,deltaX:n,deltaY:i}=r,{onDrag:l}=this.props;if(!l)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let s=this.state.dragging.top+i,c=this.state.dragging.left+n,{isBounded:d,i:u,w:p,h:g,containerWidth:m}=this.props,f=this.getPositionParams();if(d){let{offsetParent:C}=o;if(C){let{margin:F,rowHeight:M}=this.props,j=C.clientHeight-(0,ir.calcGridItemWHPx)(g,M,F[1]);s=(0,ir.clamp)(s,0,j);let B=(0,ir.calcGridColWidth)(f),le=m-(0,ir.calcGridItemWHPx)(p,B,F[0]);c=(0,ir.clamp)(c,0,le)}}let v={top:s,left:c};a?this.setState({dragging:v}):(0,xy.flushSync)(()=>{this.setState({dragging:v})});let{x:h,y:N}=(0,ir.calcXY)(f,s,c,p,g);return l.call(this,u,h,N,{e:t,node:o,newPosition:v})}),Ia(this,"onDragStop",(t,r)=>{let{node:a}=r,{onDragStop:o}=this.props;if(!o)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");let{w:n,h:i,i:l}=this.props,{left:s,top:c}=this.state.dragging,d={top:c,left:s};this.setState({dragging:null});let{x:u,y:p}=(0,ir.calcXY)(this.getPositionParams(),c,s,n,i);return o.call(this,l,u,p,{e:t,node:a,newPosition:d})}),Ia(this,"onResizeStop",(t,r,a)=>this.onResizeHandler(t,r,a,"onResizeStop")),Ia(this,"onResizeStart",(t,r,a)=>this.onResizeHandler(t,r,a,"onResizeStart")),Ia(this,"onResize",(t,r,a)=>this.onResizeHandler(t,r,a,"onResize"))}shouldComponentUpdate(t,r){if(this.props.children!==t.children||this.props.droppingPosition!==t.droppingPosition)return!0;let a=(0,ir.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),o=(0,ir.calcGridItemPosition)(this.getPositionParams(t),t.x,t.y,t.w,t.h,r);return!(0,Xn.fastPositionEqual)(a,o)||this.props.useCSSTransforms!==t.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(t){this.moveDroppingItem(t)}moveDroppingItem(t){let{droppingPosition:r}=this.props;if(!r)return;let a=this.elementRef.current;if(!a)return;let o=t.droppingPosition||{left:0,top:0},{dragging:n}=this.state,i=n&&r.left!==o.left||r.top!==o.top;if(!n)this.onDragStart(r.e,{node:a,deltaX:r.left,deltaY:r.top});else if(i){let l=r.left-n.left,s=r.top-n.top;this.onDrag(r.e,{node:a,deltaX:l,deltaY:s},!0)}}getPositionParams(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:t.cols,containerPadding:t.containerPadding,containerWidth:t.containerWidth,margin:t.margin,maxRows:t.maxRows,rowHeight:t.rowHeight}}createStyle(t){let{usePercentages:r,containerWidth:a,useCSSTransforms:o}=this.props,n;return o?n=(0,Xn.setTransform)(t):(n=(0,Xn.setTopLeft)(t),r&&(n.left=(0,Xn.perc)(t.left/a),n.width=(0,Xn.perc)(t.width/a))),n}mixinDraggable(t,r){return Gn.default.createElement(bC.DraggableCore,{disabled:!r,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},t)}curryResizeHandler(t,r){return(a,o)=>r(a,o,t)}mixinResizable(t,r,a){let{cols:o,minW:n,minH:i,maxW:l,maxH:s,transformScale:c,resizeHandles:d,resizeHandle:u}=this.props,p=this.getPositionParams(),g=(0,ir.calcGridItemPosition)(p,0,0,o,0).width,m=(0,ir.calcGridItemPosition)(p,0,0,n,i),f=(0,ir.calcGridItemPosition)(p,0,0,l,s),v=[m.width,m.height],h=[Math.min(f.width,g),Math.min(f.height,1/0)];return Gn.default.createElement(yC.Resizable,{draggableOpts:{disabled:!a},className:a?void 0:"react-resizable-hide",width:r.width,height:r.height,minConstraints:v,maxConstraints:h,onResizeStop:this.curryResizeHandler(r,this.onResizeStop),onResizeStart:this.curryResizeHandler(r,this.onResizeStart),onResize:this.curryResizeHandler(r,this.onResize),transformScale:c,resizeHandles:d,handle:u},t)}onResizeHandler(t,r,a,o){let{node:n,size:i,handle:l}=r,s=this.props[o];if(!s)return;let{x:c,y:d,i:u,maxH:p,minH:g,containerWidth:m}=this.props,{minW:f,maxW:v}=this.props,h=i;n&&(h=(0,Xn.resizeItemInDirection)(l,a,i,m),(0,xy.flushSync)(()=>{this.setState({resizing:o==="onResizeStop"?null:h})}));let{w:N,h:C}=(0,ir.calcWH)(this.getPositionParams(),h.width,h.height,c,d,l);N=(0,ir.clamp)(N,Math.max(f,1),v),C=(0,ir.clamp)(C,g,p),s.call(this,u,N,C,{e:t,node:n,size:h,handle:l})}render(){let{x:t,y:r,w:a,h:o,isDraggable:n,isResizable:i,droppingPosition:l,useCSSTransforms:s}=this.props,c=(0,ir.calcGridItemPosition)(this.getPositionParams(),t,r,a,o,this.state),d=Gn.default.Children.only(this.props.children),u=Gn.default.cloneElement(d,{ref:this.elementRef,className:(0,wC.default)("react-grid-item",d.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":n,"react-draggable-dragging":!!this.state.dragging,dropping:!!l,cssTransforms:s}),style:{...this.props.style,...d.props.style,...this.createStyle(c)}});return u=this.mixinResizable(u,c,i),u=this.mixinDraggable(u,n),u}};ec.default=rs;Ia(rs,"propTypes",{children:ct.default.element,cols:ct.default.number.isRequired,containerWidth:ct.default.number.isRequired,rowHeight:ct.default.number.isRequired,margin:ct.default.array.isRequired,maxRows:ct.default.number.isRequired,containerPadding:ct.default.array.isRequired,x:ct.default.number.isRequired,y:ct.default.number.isRequired,w:ct.default.number.isRequired,h:ct.default.number.isRequired,minW:function(e,t){let r=e[t];if(typeof r!="number")return new Error("minWidth not Number");if(r>e.w||r>e.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(e,t){let r=e[t];if(typeof r!="number")return new Error("maxWidth not Number");if(r<e.w||r<e.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(e,t){let r=e[t];if(typeof r!="number")return new Error("minHeight not Number");if(r>e.h||r>e.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(e,t){let r=e[t];if(typeof r!="number")return new Error("maxHeight not Number");if(r<e.h||r<e.minH)return new Error("maxHeight smaller than item height/minHeight")},i:ct.default.string.isRequired,resizeHandles:ky.resizeHandleAxesType,resizeHandle:ky.resizeHandleType,onDragStop:ct.default.func,onDragStart:ct.default.func,onDrag:ct.default.func,onResizeStop:ct.default.func,onResizeStart:ct.default.func,onResize:ct.default.func,isDraggable:ct.default.bool.isRequired,isResizable:ct.default.bool.isRequired,isBounded:ct.default.bool.isRequired,static:ct.default.bool,useCSSTransforms:ct.default.bool.isRequired,transformScale:ct.default.number,className:ct.default.string,handle:ct.default.string,cancel:ct.default.string,droppingPosition:ct.default.shape({e:ct.default.object.isRequired,left:ct.default.number.isRequired,top:ct.default.number.isRequired})});Ia(rs,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})});var Np=ot(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.default=void 0;var Xo=Sy(X()),xp=Il(),NC=kp(Gi()),Oe=Ko(),CC=jl(),Cy=kp(Ny()),RC=kp(yp());function kp(e){return e&&e.__esModule?e:{default:e}}function Sy(e,t){if(typeof WeakMap=="function")var r=new WeakMap,a=new WeakMap;return(Sy=function(o,n){if(!n&&o&&o.__esModule)return o;var i,l,s={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return s;if(i=n?a:r){if(i.has(o))return i.get(o);i.set(o,s)}for(let c in o)c!=="default"&&{}.hasOwnProperty.call(o,c)&&((l=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,c))&&(l.get||l.set)?i(s,c,l):s[c]=o[c]);return s})(e,t)}function mr(e,t,r){return(t=SC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SC(e){var t=DC(e,"string");return typeof t=="symbol"?t:t+""}function DC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ry="react-grid-layout",Dy=!1;try{Dy=/firefox/i.test(navigator.userAgent)}catch{}var Qn=class extends Xo.Component{constructor(){super(...arguments),mr(this,"state",{activeDrag:null,layout:(0,Oe.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,Oe.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),mr(this,"dragEnterCounter",0),mr(this,"onDragStart",(t,r,a,o)=>{let{e:n,node:i}=o,{layout:l}=this.state,s=(0,Oe.getLayoutItem)(l,t);if(!s)return;let c={w:s.w,h:s.h,x:s.x,y:s.y,placeholder:!0,i:t};return this.setState({oldDragItem:(0,Oe.cloneLayoutItem)(s),oldLayout:l,activeDrag:c}),this.props.onDragStart(l,s,s,null,n,i)}),mr(this,"onDrag",(t,r,a,o)=>{let{e:n,node:i}=o,{oldDragItem:l}=this.state,{layout:s}=this.state,{cols:c,allowOverlap:d,preventCollision:u}=this.props,p=(0,Oe.getLayoutItem)(s,t);if(!p)return;let g={w:p.w,h:p.h,x:p.x,y:p.y,placeholder:!0,i:t};s=(0,Oe.moveElement)(s,p,r,a,!0,u,(0,Oe.compactType)(this.props),c,d),this.props.onDrag(s,l,p,g,n,i),this.setState({layout:d?s:(0,Oe.compact)(s,(0,Oe.compactType)(this.props),c),activeDrag:g})}),mr(this,"onDragStop",(t,r,a,o)=>{let{e:n,node:i}=o;if(!this.state.activeDrag)return;let{oldDragItem:l}=this.state,{layout:s}=this.state,{cols:c,preventCollision:d,allowOverlap:u}=this.props,p=(0,Oe.getLayoutItem)(s,t);if(!p)return;s=(0,Oe.moveElement)(s,p,r,a,!0,d,(0,Oe.compactType)(this.props),c,u);let m=u?s:(0,Oe.compact)(s,(0,Oe.compactType)(this.props),c);this.props.onDragStop(m,l,p,null,n,i);let{oldLayout:f}=this.state;this.setState({activeDrag:null,layout:m,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(m,f)}),mr(this,"onResizeStart",(t,r,a,o)=>{let{e:n,node:i}=o,{layout:l}=this.state,s=(0,Oe.getLayoutItem)(l,t);s&&(this.setState({oldResizeItem:(0,Oe.cloneLayoutItem)(s),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(l,s,s,null,n,i))}),mr(this,"onResize",(t,r,a,o)=>{let{e:n,node:i,size:l,handle:s}=o,{oldResizeItem:c}=this.state,{layout:d}=this.state,{cols:u,preventCollision:p,allowOverlap:g}=this.props,m=!1,f,v,h,[N,C]=(0,Oe.withLayoutItem)(d,t,M=>{let j;return v=M.x,h=M.y,["sw","w","nw","n","ne"].indexOf(s)!==-1&&(["sw","nw","w"].indexOf(s)!==-1&&(v=M.x+(M.w-r),r=M.x!==v&&v<0?M.w:r,v=v<0?0:v),["ne","n","nw"].indexOf(s)!==-1&&(h=M.y+(M.h-a),a=M.y!==h&&h<0?M.h:a,h=h<0?0:h),m=!0),p&&!g&&(j=(0,Oe.getAllCollisions)(d,{...M,w:r,h:a,x:v,y:h}).filter(le=>le.i!==M.i).length>0,j&&(h=M.y,a=M.h,v=M.x,r=M.w,m=!1)),M.w=r,M.h=a,M});if(!C)return;f=N,m&&(f=(0,Oe.moveElement)(N,C,v,h,!0,this.props.preventCollision,(0,Oe.compactType)(this.props),u,g));let F={w:C.w,h:C.h,x:C.x,y:C.y,static:!0,i:t};this.props.onResize(f,c,C,F,n,i),this.setState({layout:g?f:(0,Oe.compact)(f,(0,Oe.compactType)(this.props),u),activeDrag:F})}),mr(this,"onResizeStop",(t,r,a,o)=>{let{e:n,node:i}=o,{layout:l,oldResizeItem:s}=this.state,{cols:c,allowOverlap:d}=this.props,u=(0,Oe.getLayoutItem)(l,t),p=d?l:(0,Oe.compact)(l,(0,Oe.compactType)(this.props),c);this.props.onResizeStop(p,s,u,null,n,i);let{oldLayout:g}=this.state;this.setState({activeDrag:null,layout:p,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(p,g)}),mr(this,"onDragOver",t=>{if(t.preventDefault(),t.stopPropagation(),Dy&&!t.nativeEvent.target?.classList.contains(Ry))return!1;let{droppingItem:r,onDropDragOver:a,margin:o,cols:n,rowHeight:i,maxRows:l,width:s,containerPadding:c,transformScale:d}=this.props,u=a?.(t);if(u===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;let p={...r,...u},{layout:g}=this.state,m=t.currentTarget.getBoundingClientRect(),f=t.clientX-m.left,v=t.clientY-m.top,h={left:f/d,top:v/d,e:t};if(this.state.droppingDOMNode){if(this.state.droppingPosition){let{left:N,top:C}=this.state.droppingPosition;(N!=f||C!=v)&&this.setState({droppingPosition:h})}}else{let N={cols:n,margin:o,maxRows:l,rowHeight:i,containerWidth:s,containerPadding:c||o},C=(0,CC.calcXY)(N,v,f,p.w,p.h);this.setState({droppingDOMNode:Xo.createElement("div",{key:p.i}),droppingPosition:h,layout:[...g,{...p,x:C.x,y:C.y,static:!1,isDraggable:!0}]})}}),mr(this,"removeDroppingPlaceholder",()=>{let{droppingItem:t,cols:r}=this.props,{layout:a}=this.state,o=(0,Oe.compact)(a.filter(n=>n.i!==t.i),(0,Oe.compactType)(this.props),r,this.props.allowOverlap);this.setState({layout:o,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),mr(this,"onDragLeave",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),mr(this,"onDragEnter",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter++}),mr(this,"onDrop",t=>{t.preventDefault(),t.stopPropagation();let{droppingItem:r}=this.props,{layout:a}=this.state,o=a.find(n=>n.i===r.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(a,o,t)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(t,r){let a;return r.activeDrag?null:(!(0,xp.deepEqual)(t.layout,r.propsLayout)||t.compactType!==r.compactType?a=t.layout:(0,Oe.childrenEqual)(t.children,r.children)||(a=r.layout),a?{layout:(0,Oe.synchronizeLayoutWithChildren)(a,t.children,t.cols,(0,Oe.compactType)(t),t.allowOverlap),compactType:t.compactType,children:t.children,propsLayout:t.layout}:null)}shouldComponentUpdate(t,r){return this.props.children!==t.children||!(0,Oe.fastRGLPropsEqual)(this.props,t,xp.deepEqual)||this.state.activeDrag!==r.activeDrag||this.state.mounted!==r.mounted||this.state.droppingPosition!==r.droppingPosition}componentDidUpdate(t,r){if(!this.state.activeDrag){let a=this.state.layout,o=r.layout;this.onLayoutMaybeChanged(a,o)}}containerHeight(){if(!this.props.autoSize)return;let t=(0,Oe.bottom)(this.state.layout),r=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return t*this.props.rowHeight+(t-1)*this.props.margin[1]+r*2+"px"}onLayoutMaybeChanged(t,r){r||(r=this.state.layout),(0,xp.deepEqual)(r,t)||this.props.onLayoutChange(t)}placeholder(){let{activeDrag:t}=this.state;if(!t)return null;let{width:r,cols:a,margin:o,containerPadding:n,rowHeight:i,maxRows:l,useCSSTransforms:s,transformScale:c}=this.props;return Xo.createElement(Cy.default,{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:r,cols:a,margin:o,containerPadding:n||o,maxRows:l,rowHeight:i,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:s,transformScale:c},Xo.createElement("div",null))}processGridItem(t,r){if(!t||!t.key)return;let a=(0,Oe.getLayoutItem)(this.state.layout,String(t.key));if(!a)return null;let{width:o,cols:n,margin:i,containerPadding:l,rowHeight:s,maxRows:c,isDraggable:d,isResizable:u,isBounded:p,useCSSTransforms:g,transformScale:m,draggableCancel:f,draggableHandle:v,resizeHandles:h,resizeHandle:N}=this.props,{mounted:C,droppingPosition:F}=this.state,M=typeof a.isDraggable=="boolean"?a.isDraggable:!a.static&&d,j=typeof a.isResizable=="boolean"?a.isResizable:!a.static&&u,B=a.resizeHandles||h,le=M&&p&&a.isBounded!==!1;return Xo.createElement(Cy.default,{containerWidth:o,cols:n,margin:i,containerPadding:l||i,maxRows:c,rowHeight:s,cancel:f,handle:v,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:M,isResizable:j,isBounded:le,useCSSTransforms:g&&C,usePercentages:!C,transformScale:m,w:a.w,h:a.h,x:a.x,y:a.y,i:a.i,minH:a.minH,minW:a.minW,maxH:a.maxH,maxW:a.maxW,static:a.static,droppingPosition:r?F:void 0,resizeHandles:B,resizeHandle:N},t)}render(){let{className:t,style:r,isDroppable:a,innerRef:o}=this.props,n=(0,NC.default)(Ry,t),i={height:this.containerHeight(),...r};return Xo.createElement("div",{ref:o,className:n,style:i,onDrop:a?this.onDrop:Oe.noop,onDragLeave:a?this.onDragLeave:Oe.noop,onDragEnter:a?this.onDragEnter:Oe.noop,onDragOver:a?this.onDragOver:Oe.noop},Xo.Children.map(this.props.children,l=>this.processGridItem(l)),a&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}};tc.default=Qn;mr(Qn,"displayName","ReactGridLayout");mr(Qn,"propTypes",RC.default);mr(Qn,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:Oe.noop,onDragStart:Oe.noop,onDrag:Oe.noop,onDragStop:Oe.noop,onResizeStart:Oe.noop,onResize:Oe.noop,onResizeStop:Oe.noop,onDrop:Oe.noop,onDropDragOver:Oe.noop})});var Rp=ot(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.findOrGenerateResponsiveLayout=TC;Jn.getBreakpointFromWidth=EC;Jn.getColsFromBreakpoint=PC;Jn.sortBreakpoints=Cp;var rc=Ko();function EC(e,t){let r=Cp(e),a=r[0];for(let o=1,n=r.length;o<n;o++){let i=r[o];t>e[i]&&(a=i)}return a}function PC(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]}function TC(e,t,r,a,o,n){if(e[r])return(0,rc.cloneLayout)(e[r]);let i=e[a],l=Cp(t),s=l.slice(l.indexOf(r));for(let c=0,d=s.length;c<d;c++){let u=s[c];if(e[u]){i=e[u];break}}return i=(0,rc.cloneLayout)(i||[]),(0,rc.compact)((0,rc.correctBounds)(i,{cols:o}),n,o)}function Cp(e){return Object.keys(e).sort(function(r,a){return e[r]-e[a]})}});var _y=ot(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.default=void 0;var Ey=Ay(X()),Or=Ty(Aa()),Sp=Il(),Zn=Ko(),Qo=Rp(),AC=Ty(Np());function Ty(e){return e&&e.__esModule?e:{default:e}}function Ay(e,t){if(typeof WeakMap=="function")var r=new WeakMap,a=new WeakMap;return(Ay=function(o,n){if(!n&&o&&o.__esModule)return o;var i,l,s={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return s;if(i=n?a:r){if(i.has(o))return i.get(o);i.set(o,s)}for(let c in o)c!=="default"&&{}.hasOwnProperty.call(o,c)&&((l=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,c))&&(l.get||l.set)?i(s,c,l):s[c]=o[c]);return s})(e,t)}function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Dp.apply(null,arguments)}function oc(e,t,r){return(t=_C(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _C(e){var t=MC(e,"string");return typeof t=="symbol"?t:t+""}function MC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Py=e=>Object.prototype.toString.call(e);function ac(e,t){return e==null?null:Array.isArray(e)?e:e[t]}var as=class extends Ey.Component{constructor(){super(...arguments),oc(this,"state",this.generateInitialState()),oc(this,"onLayoutChange",t=>{this.props.onLayoutChange(t,{...this.props.layouts,[this.state.breakpoint]:t})})}generateInitialState(){let{width:t,breakpoints:r,layouts:a,cols:o}=this.props,n=(0,Qo.getBreakpointFromWidth)(r,t),i=(0,Qo.getColsFromBreakpoint)(n,o),l=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,Qo.findOrGenerateResponsiveLayout)(a,r,n,n,i,l),breakpoint:n,cols:i}}static getDerivedStateFromProps(t,r){if(!(0,Sp.deepEqual)(t.layouts,r.layouts)){let{breakpoint:a,cols:o}=r;return{layout:(0,Qo.findOrGenerateResponsiveLayout)(t.layouts,t.breakpoints,a,a,o,t.compactType),layouts:t.layouts}}return null}componentDidUpdate(t){(this.props.width!=t.width||this.props.breakpoint!==t.breakpoint||!(0,Sp.deepEqual)(this.props.breakpoints,t.breakpoints)||!(0,Sp.deepEqual)(this.props.cols,t.cols))&&this.onWidthChange(t)}onWidthChange(t){let{breakpoints:r,cols:a,layouts:o,compactType:n}=this.props,i=this.props.breakpoint||(0,Qo.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),l=this.state.breakpoint,s=(0,Qo.getColsFromBreakpoint)(i,a),c={...o};if(l!==i||t.breakpoints!==r||t.cols!==a){l in c||(c[l]=(0,Zn.cloneLayout)(this.state.layout));let p=(0,Qo.findOrGenerateResponsiveLayout)(c,r,i,l,s,n);p=(0,Zn.synchronizeLayoutWithChildren)(p,this.props.children,s,n,this.props.allowOverlap),c[i]=p,this.props.onBreakpointChange(i,s),this.props.onLayoutChange(p,c),this.setState({breakpoint:i,layout:p,cols:s})}let d=ac(this.props.margin,i),u=ac(this.props.containerPadding,i);this.props.onWidthChange(this.props.width,d,s,u)}render(){let{breakpoint:t,breakpoints:r,cols:a,layouts:o,margin:n,containerPadding:i,onBreakpointChange:l,onLayoutChange:s,onWidthChange:c,...d}=this.props;return Ey.createElement(AC.default,Dp({},d,{margin:ac(n,this.state.breakpoint),containerPadding:ac(i,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};nc.default=as;oc(as,"propTypes",{breakpoint:Or.default.string,breakpoints:Or.default.object,allowOverlap:Or.default.bool,cols:Or.default.object,margin:Or.default.oneOfType([Or.default.array,Or.default.object]),containerPadding:Or.default.oneOfType([Or.default.array,Or.default.object]),layouts(e,t){if(Py(e[t])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+Py(e[t]));Object.keys(e[t]).forEach(r=>{if(!(r in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,Zn.validateLayout)(e.layouts[r],"layouts."+r)})},width:Or.default.number.isRequired,onBreakpointChange:Or.default.func,onLayoutChange:Or.default.func,onWidthChange:Or.default.func});oc(as,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:Zn.noop,onLayoutChange:Zn.noop,onWidthChange:Zn.noop})});var My=ot((Ep,Pp)=>{(function(e,t){typeof Ep=="object"&&typeof Pp<"u"?Pp.exports=t():typeof define=="function"&&define.amd?define(t):e.ResizeObserver=t()})(Ep,function(){"use strict";var e=function(){if(typeof Map<"u")return Map;function k(y,E){var x=-1;return y.some(function(S,P){return S[0]===E?(x=P,!0):!1}),x}return function(){function y(){this.__entries__=[]}return Object.defineProperty(y.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),y.prototype.get=function(E){var x=k(this.__entries__,E),S=this.__entries__[x];return S&&S[1]},y.prototype.set=function(E,x){var S=k(this.__entries__,E);~S?this.__entries__[S][1]=x:this.__entries__.push([E,x])},y.prototype.delete=function(E){var x=this.__entries__,S=k(x,E);~S&&x.splice(S,1)},y.prototype.has=function(E){return!!~k(this.__entries__,E)},y.prototype.clear=function(){this.__entries__.splice(0)},y.prototype.forEach=function(E,x){x===void 0&&(x=null);for(var S=0,P=this.__entries__;S<P.length;S++){var Y=P[S];E.call(x,Y[1],Y[0])}},y}()}(),t=typeof window<"u"&&typeof document<"u"&&window.document===document,r=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),a=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(r):function(k){return setTimeout(function(){return k(Date.now())},1e3/60)}}(),o=2;function n(k,y){var E=!1,x=!1,S=0;function P(){E&&(E=!1,k()),x&&be()}function Y(){a(P)}function be(){var K=Date.now();if(E){if(K-S<o)return;x=!0}else E=!0,x=!1,setTimeout(Y,y);S=K}return be}var i=20,l=["top","right","bottom","left","width","height","size","weight"],s=typeof MutationObserver<"u",c=function(){function k(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=n(this.refresh.bind(this),i)}return k.prototype.addObserver=function(y){~this.observers_.indexOf(y)||this.observers_.push(y),this.connected_||this.connect_()},k.prototype.removeObserver=function(y){var E=this.observers_,x=E.indexOf(y);~x&&E.splice(x,1),!E.length&&this.connected_&&this.disconnect_()},k.prototype.refresh=function(){var y=this.updateObservers_();y&&this.refresh()},k.prototype.updateObservers_=function(){var y=this.observers_.filter(function(E){return E.gatherActive(),E.hasActive()});return y.forEach(function(E){return E.broadcastActive()}),y.length>0},k.prototype.connect_=function(){!t||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},k.prototype.disconnect_=function(){!t||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},k.prototype.onTransitionEnd_=function(y){var E=y.propertyName,x=E===void 0?"":E,S=l.some(function(P){return!!~x.indexOf(P)});S&&this.refresh()},k.getInstance=function(){return this.instance_||(this.instance_=new k),this.instance_},k.instance_=null,k}(),d=function(k,y){for(var E=0,x=Object.keys(y);E<x.length;E++){var S=x[E];Object.defineProperty(k,S,{value:y[S],enumerable:!1,writable:!1,configurable:!0})}return k},u=function(k){var y=k&&k.ownerDocument&&k.ownerDocument.defaultView;return y||r},p=j(0,0,0,0);function g(k){return parseFloat(k)||0}function m(k){for(var y=[],E=1;E<arguments.length;E++)y[E-1]=arguments[E];return y.reduce(function(x,S){var P=k["border-"+S+"-width"];return x+g(P)},0)}function f(k){for(var y=["top","right","bottom","left"],E={},x=0,S=y;x<S.length;x++){var P=S[x],Y=k["padding-"+P];E[P]=g(Y)}return E}function v(k){var y=k.getBBox();return j(0,0,y.width,y.height)}function h(k){var y=k.clientWidth,E=k.clientHeight;if(!y&&!E)return p;var x=u(k).getComputedStyle(k),S=f(x),P=S.left+S.right,Y=S.top+S.bottom,be=g(x.width),K=g(x.height);if(x.boxSizing==="border-box"&&(Math.round(be+P)!==y&&(be-=m(x,"left","right")+P),Math.round(K+Y)!==E&&(K-=m(x,"top","bottom")+Y)),!C(k)){var _=Math.round(be+P)-y,re=Math.round(K+Y)-E;Math.abs(_)!==1&&(be-=_),Math.abs(re)!==1&&(K-=re)}return j(S.left,S.top,be,K)}var N=function(){return typeof SVGGraphicsElement<"u"?function(k){return k instanceof u(k).SVGGraphicsElement}:function(k){return k instanceof u(k).SVGElement&&typeof k.getBBox=="function"}}();function C(k){return k===u(k).document.documentElement}function F(k){return t?N(k)?v(k):h(k):p}function M(k){var y=k.x,E=k.y,x=k.width,S=k.height,P=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,Y=Object.create(P.prototype);return d(Y,{x:y,y:E,width:x,height:S,top:E,right:y+x,bottom:S+E,left:y}),Y}function j(k,y,E,x){return{x:k,y,width:E,height:x}}var B=function(){function k(y){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=j(0,0,0,0),this.target=y}return k.prototype.isActive=function(){var y=F(this.target);return this.contentRect_=y,y.width!==this.broadcastWidth||y.height!==this.broadcastHeight},k.prototype.broadcastRect=function(){var y=this.contentRect_;return this.broadcastWidth=y.width,this.broadcastHeight=y.height,y},k}(),le=function(){function k(y,E){var x=M(E);d(this,{target:y,contentRect:x})}return k}(),ee=function(){function k(y,E,x){if(this.activeObservations_=[],this.observations_=new e,typeof y!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=y,this.controller_=E,this.callbackCtx_=x}return k.prototype.observe=function(y){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(y instanceof u(y).Element))throw new TypeError('parameter 1 is not of type "Element".');var E=this.observations_;E.has(y)||(E.set(y,new B(y)),this.controller_.addObserver(this),this.controller_.refresh())}},k.prototype.unobserve=function(y){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(y instanceof u(y).Element))throw new TypeError('parameter 1 is not of type "Element".');var E=this.observations_;E.has(y)&&(E.delete(y),E.size||this.controller_.removeObserver(this))}},k.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},k.prototype.gatherActive=function(){var y=this;this.clearActive(),this.observations_.forEach(function(E){E.isActive()&&y.activeObservations_.push(E)})},k.prototype.broadcastActive=function(){if(this.hasActive()){var y=this.callbackCtx_,E=this.activeObservations_.map(function(x){return new le(x.target,x.broadcastRect())});this.callback_.call(y,E,y),this.clearActive()}},k.prototype.clearActive=function(){this.activeObservations_.splice(0)},k.prototype.hasActive=function(){return this.activeObservations_.length>0},k}(),ne=typeof WeakMap<"u"?new WeakMap:new e,ue=function(){function k(y){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var E=c.getInstance(),x=new ee(y,E,this);ne.set(this,x)}return k}();["observe","unobserve","disconnect"].forEach(function(k){ue.prototype[k]=function(){var y;return(y=ne.get(this))[k].apply(y,arguments)}});var A=function(){return typeof r.ResizeObserver<"u"?r.ResizeObserver:ue}();return A})});var Iy=ot(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.default=HC;var ic=Ly(X()),LC=Ap(Aa()),IC=Ap(My()),OC=Ap(Gi());function Ap(e){return e&&e.__esModule?e:{default:e}}function Ly(e,t){if(typeof WeakMap=="function")var r=new WeakMap,a=new WeakMap;return(Ly=function(o,n){if(!n&&o&&o.__esModule)return o;var i,l,s={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return s;if(i=n?a:r){if(i.has(o))return i.get(o);i.set(o,s)}for(let c in o)c!=="default"&&{}.hasOwnProperty.call(o,c)&&((l=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,c))&&(l.get||l.set)?i(s,c,l):s[c]=o[c]);return s})(e,t)}function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Tp.apply(null,arguments)}function ei(e,t,r){return(t=FC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FC(e){var t=zC(e,"string");return typeof t=="symbol"?t:t+""}function zC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jC="react-grid-layout";function HC(e){var t;return t=class extends ic.Component{constructor(){super(...arguments),ei(this,"state",{width:1280}),ei(this,"elementRef",ic.createRef()),ei(this,"mounted",!1),ei(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new IC.default(o=>{if(this.elementRef.current instanceof HTMLElement){let i=o[0].contentRect.width;this.setState({width:i})}});let a=this.elementRef.current;a instanceof HTMLElement&&this.resizeObserver.observe(a)}componentWillUnmount(){this.mounted=!1;let a=this.elementRef.current;a instanceof HTMLElement&&this.resizeObserver.unobserve(a),this.resizeObserver.disconnect()}render(){let{measureBeforeMount:a,...o}=this.props;return a&&!this.mounted?ic.createElement("div",{className:(0,OC.default)(this.props.className,jC),style:this.props.style,ref:this.elementRef}):ic.createElement(e,Tp({innerRef:this.elementRef},o,this.state))}},ei(t,"defaultProps",{measureBeforeMount:!1}),ei(t,"propTypes",{measureBeforeMount:LC.default.bool}),t}});var Oy=ot((p6,Jo)=>{Jo.exports=Np().default;Jo.exports.utils=Ko();Jo.exports.calculateUtils=jl();Jo.exports.Responsive=_y().default;Jo.exports.Responsive.utils=Rp();Jo.exports.WidthProvider=Iy().default});var S0=w(qf(),1);var Mt=w(X(),1),Ta=w(X(),1),Re=w(X(),1),De=w(X(),1),lt=w(X(),1),ed=w(X(),1),Ww=w(X(),1),$w=w(X(),1),hg=w(X(),1),Yw=w(X(),1),_g=w(X(),1),ad=w(X(),1),Mg=w(X(),1),Lg=w(Xf(),1);var Qf="popstate";function B0(e={}){function t(o,n){let{pathname:i="/",search:l="",hash:s=""}=so(o.location.hash.substring(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),Fc("",{pathname:i,search:l,hash:s},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(o,n){let i=o.document.querySelector("base"),l="";if(i&&i.getAttribute("href")){let s=o.location.href,c=s.indexOf("#");l=c===-1?s:s.slice(0,c)}return l+"#"+(typeof n=="string"?n:_n(n))}function a(o,n){Ur(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(n)})`)}return W0(t,r,a,e)}function Dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ur(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function U0(){return Math.random().toString(36).substring(2,10)}function Jf(e,t){return{usr:e.state,key:e.key,idx:t}}function Fc(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?so(t):t,state:r,key:t&&t.key||a||U0()}}function _n({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function so(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function W0(e,t,r,a={}){let{window:o=document.defaultView,v5Compat:n=!1}=a,i=o.history,l="POP",s=null,c=d();c==null&&(c=0,i.replaceState({...i.state,idx:c},""));function d(){return(i.state||{idx:null}).idx}function u(){l="POP";let v=d(),h=v==null?null:v-c;c=v,s&&s({action:l,location:f.location,delta:h})}function p(v,h){l="PUSH";let N=Fc(f.location,v,h);r&&r(N,v),c=d()+1;let C=Jf(N,c),F=f.createHref(N);try{i.pushState(C,"",F)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;o.location.assign(F)}n&&s&&s({action:l,location:f.location,delta:1})}function g(v,h){l="REPLACE";let N=Fc(f.location,v,h);r&&r(N,v),c=d();let C=Jf(N,c),F=f.createHref(N);i.replaceState(C,"",F),n&&s&&s({action:l,location:f.location,delta:0})}function m(v){return $0(v)}let f={get action(){return l},get location(){return e(o,i)},listen(v){if(s)throw new Error("A history only accepts one active listener");return o.addEventListener(Qf,u),s=v,()=>{o.removeEventListener(Qf,u),s=null}},createHref(v){return t(o,v)},createURL:m,encodeLocation(v){let h=m(v);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:p,replace:g,go(v){return i.go(v)}};return f}function $0(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:_n(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}var Y0;Y0=new WeakMap;function Bc(e,t,r="/"){return K0(e,t,r,!1)}function K0(e,t,r,a){let o=typeof t=="string"?so(t):t,n=Pa(o.pathname||"/",r);if(n==null)return null;let i=rg(e);V0(i);let l=null;for(let s=0;l==null&&s<i.length;++s){let c=nw(n);l=aw(i[s],c,a)}return l}function q0(e,t){let{route:r,pathname:a,params:o}=e;return{id:r.id,pathname:a,params:o,data:t[r.id],handle:r.handle}}function rg(e,t=[],r=[],a=""){let o=(n,i,l)=>{let s={relativePath:l===void 0?n.path||"":l,caseSensitive:n.caseSensitive===!0,childrenIndex:i,route:n};s.relativePath.startsWith("/")&&(Dt(s.relativePath.startsWith(a),`Absolute route path "${s.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(a.length));let c=Ha([a,s.relativePath]),d=r.concat(s);n.children&&n.children.length>0&&(Dt(n.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),rg(n.children,t,d,c)),!(n.path==null&&!n.index)&&t.push({path:c,score:tw(c,n.index),routesMeta:d})};return e.forEach((n,i)=>{if(n.path===""||!n.path?.includes("?"))o(n,i);else for(let l of ag(n.path))o(n,i,l)}),t}function ag(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,o=r.endsWith("?"),n=r.replace(/\?$/,"");if(a.length===0)return o?[n,""]:[n];let i=ag(a.join("/")),l=[];return l.push(...i.map(s=>s===""?n:[n,s].join("/"))),o&&l.push(...i),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function V0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:rw(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var G0=/^:[\w-]+$/,X0=3,Q0=2,J0=1,Z0=10,ew=-2,Zf=e=>e==="*";function tw(e,t){let r=e.split("/"),a=r.length;return r.some(Zf)&&(a+=ew),t&&(a+=Q0),r.filter(o=>!Zf(o)).reduce((o,n)=>o+(G0.test(n)?X0:n===""?J0:Z0),a)}function rw(e,t){return e.length===t.length&&e.slice(0,-1).every((a,o)=>a===t[o])?e[e.length-1]-t[t.length-1]:0}function aw(e,t,r=!1){let{routesMeta:a}=e,o={},n="/",i=[];for(let l=0;l<a.length;++l){let s=a[l],c=l===a.length-1,d=n==="/"?t:t.slice(n.length)||"/",u=wi({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},d),p=s.route;if(!u&&c&&r&&!a[a.length-1].route.index&&(u=wi({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},d)),!u)return null;Object.assign(o,u.params),i.push({params:o,pathname:Ha([n,u.pathname]),pathnameBase:lw(Ha([n,u.pathnameBase])),route:p}),u.pathnameBase!=="/"&&(n=Ha([n,u.pathnameBase]))}return i}function wi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=ow(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let n=o[0],i=n.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((c,{paramName:d,isOptional:u},p)=>{if(d==="*"){let m=l[p]||"";i=n.slice(0,n.length-m.length).replace(/(.)\/+$/,"$1")}let g=l[p];return u&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:n,pathnameBase:i,pattern:e}}function ow(e,t=!1,r=!0){Ur(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,s)=>(a.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function nw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ur(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Pa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function og(e,t="/"){let{pathname:r,search:a="",hash:o=""}=typeof e=="string"?so(e):e;return{pathname:r?r.startsWith("/")?r:iw(r,t):t,search:cw(a),hash:dw(o)}}function iw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Ic(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sw(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Uc(e){let t=sw(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function Wc(e,t,r,a=!1){let o;typeof e=="string"?o=so(e):(o={...e},Dt(!o.pathname||!o.pathname.includes("?"),Ic("?","pathname","search",o)),Dt(!o.pathname||!o.pathname.includes("#"),Ic("#","pathname","hash",o)),Dt(!o.search||!o.search.includes("#"),Ic("#","search","hash",o)));let n=e===""||o.pathname==="",i=n?"/":o.pathname,l;if(i==null)l=r;else{let u=t.length-1;if(!a&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),u-=1;o.pathname=p.join("/")}l=u>=0?t[u]:"/"}let s=og(o,l),c=i&&i!=="/"&&i.endsWith("/"),d=(n||i===".")&&r.endsWith("/");return!s.pathname.endsWith("/")&&(c||d)&&(s.pathname+="/"),s}var Ha=e=>e.join("/").replace(/\/\/+/g,"/"),lw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ng(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var ig=["POST","PUT","PATCH","DELETE"],z5=new Set(ig),uw=["GET",...ig],j5=new Set(uw);var H5=Symbol("ResetLoaderData");var Lo=Ta.createContext(null);Lo.displayName="DataRouter";var Mn=Ta.createContext(null);Mn.displayName="DataRouterState";var $c=Ta.createContext({isTransitioning:!1});$c.displayName="ViewTransition";var sg=Ta.createContext(new Map);sg.displayName="Fetchers";var pw=Ta.createContext(null);pw.displayName="Await";var Er=Ta.createContext(null);Er.displayName="Navigation";var Ln=Ta.createContext(null);Ln.displayName="Location";var sa=Ta.createContext({outlet:null,matches:[],isDataRoute:!1});sa.displayName="Route";var Yc=Ta.createContext(null);Yc.displayName="RouteError";var zc=!0;function lg(e,{relative:t}={}){Dt(Io(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=Re.useContext(Er),{hash:o,pathname:n,search:i}=In(e,{relative:t}),l=n;return r!=="/"&&(l=n==="/"?r:Ha([r,n])),a.createHref({pathname:l,search:i,hash:o})}function Io(){return Re.useContext(Ln)!=null}function Wr(){return Dt(Io(),"useLocation() may be used only in the context of a <Router> component."),Re.useContext(Ln).location}var cg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dg(e){Re.useContext(Er).static||Re.useLayoutEffect(e)}function Nt(){let{isDataRoute:e}=Re.useContext(sa);return e?kw():mw()}function mw(){Dt(Io(),"useNavigate() may be used only in the context of a <Router> component.");let e=Re.useContext(Lo),{basename:t,navigator:r}=Re.useContext(Er),{matches:a}=Re.useContext(sa),{pathname:o}=Wr(),n=JSON.stringify(Uc(a)),i=Re.useRef(!1);return dg(()=>{i.current=!0}),Re.useCallback((s,c={})=>{if(Ur(i.current,cg),!i.current)return;if(typeof s=="number"){r.go(s);return}let d=Wc(s,JSON.parse(n),o,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ha([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,n,o,e])}var B5=Re.createContext(null);function Kc(){let{matches:e}=Re.useContext(sa),t=e[e.length-1];return t?t.params:{}}function In(e,{relative:t}={}){let{matches:r}=Re.useContext(sa),{pathname:a}=Wr(),o=JSON.stringify(Uc(r));return Re.useMemo(()=>Wc(e,JSON.parse(o),a,t==="path"),[e,o,a,t])}function ug(e,t){return pg(e,t)}function pg(e,t,r,a){Dt(Io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Re.useContext(Er),{matches:n}=Re.useContext(sa),i=n[n.length-1],l=i?i.params:{},s=i?i.pathname:"/",c=i?i.pathnameBase:"/",d=i&&i.route;if(zc){let h=d&&d.path||"";gg(s,!d||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${s}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let u=Wr(),p;if(t){let h=typeof t=="string"?so(t):t;Dt(c==="/"||h.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${h.pathname}" was given in the \`location\` prop.`),p=h}else p=u;let g=p.pathname||"/",m=g;if(c!=="/"){let h=c.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(h.length).join("/")}let f=Bc(e,{pathname:m});zc&&(Ur(d||f!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Ur(f==null||f[f.length-1].route.element!==void 0||f[f.length-1].route.Component!==void 0||f[f.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`));let v=bw(f&&f.map(h=>Object.assign({},h,{params:Object.assign({},l,h.params),pathname:Ha([c,o.encodeLocation?o.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?c:Ha([c,o.encodeLocation?o.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),n,r,a);return t&&v?Re.createElement(Ln.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},v):v}function fw(){let e=fg(),t=ng(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},n={padding:"2px 4px",backgroundColor:a},i=null;return zc&&(console.error("Error handled by React Router default ErrorBoundary:",e),i=Re.createElement(Re.Fragment,null,Re.createElement("p",null,"\u{1F4BF} Hey developer \u{1F44B}"),Re.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Re.createElement("code",{style:n},"ErrorBoundary")," or"," ",Re.createElement("code",{style:n},"errorElement")," prop on your route."))),Re.createElement(Re.Fragment,null,Re.createElement("h2",null,"Unexpected Application Error!"),Re.createElement("h3",{style:{fontStyle:"italic"}},t),r?Re.createElement("pre",{style:o},r):null,i)}var gw=Re.createElement(fw,null),hw=class extends Re.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Re.createElement(sa.Provider,{value:this.props.routeContext},Re.createElement(Yc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vw({routeContext:e,match:t,children:r}){let a=Re.useContext(Lo);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),Re.createElement(sa.Provider,{value:e},r)}function bw(e,t=[],r=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,n=r?.errors;if(n!=null){let s=o.findIndex(c=>c.route.id&&n?.[c.route.id]!==void 0);Dt(s>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(n).join(",")}`),o=o.slice(0,Math.min(o.length,s+1))}let i=!1,l=-1;if(r)for(let s=0;s<o.length;s++){let c=o[s];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=s),c.route.id){let{loaderData:d,errors:u}=r,p=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!u||u[c.route.id]===void 0);if(c.route.lazy||p){i=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((s,c,d)=>{let u,p=!1,g=null,m=null;r&&(u=n&&c.route.id?n[c.route.id]:void 0,g=c.route.errorElement||gw,i&&(l<0&&d===0?(gg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,m=null):l===d&&(p=!0,m=c.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,d+1)),v=()=>{let h;return u?h=g:p?h=m:c.route.Component?h=Re.createElement(c.route.Component,null):c.route.element?h=c.route.element:h=s,Re.createElement(vw,{match:c,routeContext:{outlet:s,matches:f,isDataRoute:r!=null},children:h})};return r&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?Re.createElement(hw,{location:r.location,revalidation:r.revalidation,component:g,error:u,children:v(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):v()},null)}function qc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yw(e){let t=Re.useContext(Lo);return Dt(t,qc(e)),t}function Vc(e){let t=Re.useContext(Mn);return Dt(t,qc(e)),t}function ww(e){let t=Re.useContext(sa);return Dt(t,qc(e)),t}function Gc(e){let t=ww(e),r=t.matches[t.matches.length-1];return Dt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function xw(){return Gc("useRouteId")}function mg(){return Vc("useNavigation").navigation}function Xc(){let{matches:e,loaderData:t}=Vc("useMatches");return Re.useMemo(()=>e.map(r=>q0(r,t)),[e,t])}function fg(){let e=Re.useContext(Yc),t=Vc("useRouteError"),r=Gc("useRouteError");return e!==void 0?e:t.errors?.[r]}function kw(){let{router:e}=yw("useNavigate"),t=Gc("useNavigate"),r=Re.useRef(!1);return dg(()=>{r.current=!0}),Re.useCallback(async(o,n={})=>{Ur(r.current,cg),r.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...n}))},[e,t])}var eg={};function gg(e,t,r){!t&&!eg[e]&&(eg[e]=!0,Ur(!1,r))}var U5=Mt.memo(Nw);function Nw({routes:e,future:t,state:r}){return pg(e,void 0,r,t)}function Xs({to:e,replace:t,state:r,relative:a}){Dt(Io(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Mt.useContext(Er);Ur(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:n}=Mt.useContext(sa),{pathname:i}=Wr(),l=Nt(),s=Wc(e,Uc(n),i,a==="path"),c=JSON.stringify(s);return Mt.useEffect(()=>{l(JSON.parse(c),{replace:t,state:r,relative:a})},[l,c,a,t,r]),null}function qt(e){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qc({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:o,static:n=!1}){Dt(!Io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),l=Mt.useMemo(()=>({basename:i,navigator:o,static:n,future:{}}),[i,o,n]);typeof r=="string"&&(r=so(r));let{pathname:s="/",search:c="",hash:d="",state:u=null,key:p="default"}=r,g=Mt.useMemo(()=>{let m=Pa(s,i);return m==null?null:{location:{pathname:m,search:c,hash:d,state:u,key:p},navigationType:a}},[i,s,c,d,u,p,a]);return Ur(g!=null,`<Router basename="${i}"> is not able to match the URL "${s}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:Mt.createElement(Er.Provider,{value:l},Mt.createElement(Ln.Provider,{children:t,value:g}))}function Jc({children:e,location:t}){return ug(Gs(e),t)}function Gs(e,t=[]){let r=[];return Mt.Children.forEach(e,(a,o)=>{if(!Mt.isValidElement(a))return;let n=[...t,o];if(a.type===Mt.Fragment){r.push.apply(r,Gs(a.props.children,n));return}Dt(a.type===qt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let i={id:a.props.id||n.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(i.children=Gs(a.props.children,n)),r.push(i)}),r}var qs="get",Vs="application/x-www-form-urlencoded";function Qs(e){return e!=null&&typeof e.tagName=="string"}function Cw(e){return Qs(e)&&e.tagName.toLowerCase()==="button"}function Rw(e){return Qs(e)&&e.tagName.toLowerCase()==="form"}function Sw(e){return Qs(e)&&e.tagName.toLowerCase()==="input"}function Dw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ew(e,t){return e.button===0&&(!t||t==="_self")&&!Dw(e)}var Ys=null;function Pw(){if(Ys===null)try{new FormData(document.createElement("form"),0),Ys=!1}catch{Ys=!0}return Ys}var Tw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Oc(e){return e!=null&&!Tw.has(e)?(Ur(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vs}"`),null):e}function Aw(e,t){let r,a,o,n,i;if(Rw(e)){let l=e.getAttribute("action");a=l?Pa(l,t):null,r=e.getAttribute("method")||qs,o=Oc(e.getAttribute("enctype"))||Vs,n=new FormData(e)}else if(Cw(e)||Sw(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||l.getAttribute("action");if(a=s?Pa(s,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||qs,o=Oc(e.getAttribute("formenctype"))||Oc(l.getAttribute("enctype"))||Vs,n=new FormData(l,e),!Pw()){let{name:c,type:d,value:u}=e;if(d==="image"){let p=c?`${c}.`:"";n.append(`${p}x`,"0"),n.append(`${p}y`,"0")}else c&&n.append(c,u)}}else{if(Qs(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=qs,a=null,o=Vs,i=e}return n&&o==="text/plain"&&(i=n,n=void 0),{action:a,method:r.toLowerCase(),encType:o,formData:n,body:i}}function Zc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function _w(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){if(console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode&&import.meta.hot)throw r;return window.location.reload(),new Promise(()=>{})}}function Mw(e){return e!=null&&typeof e.page=="string"}function Lw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Iw(e,t,r){let a=await Promise.all(e.map(async o=>{let n=t.routes[o.route.id];if(n){let i=await _w(n,r);return i.links?i.links():[]}return[]}));return jw(a.flat(1).filter(Lw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function tg(e,t,r,a,o,n){let i=(s,c)=>r[c]?s.route.id!==r[c].route.id:!0,l=(s,c)=>r[c].pathname!==s.pathname||r[c].route.path?.endsWith("*")&&r[c].params["*"]!==s.params["*"];return n==="assets"?t.filter((s,c)=>i(s,c)||l(s,c)):n==="data"?t.filter((s,c)=>{let d=a.routes[s.route.id];if(!d||!d.hasLoader)return!1;if(i(s,c)||l(s,c))return!0;if(s.route.shouldRevalidate){let u=s.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:s.params,defaultShouldRevalidate:!0});if(typeof u=="boolean")return u}return!0}):[]}function Ow(e,t,{includeHydrateFallback:r}={}){return Fw(e.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let n=[o.module];return o.clientActionModule&&(n=n.concat(o.clientActionModule)),o.clientLoaderModule&&(n=n.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(n=n.concat(o.hydrateFallbackModule)),o.imports&&(n=n.concat(o.imports)),n}).flat(1))}function Fw(e){return[...new Set(e)]}function zw(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function jw(e,t){let r=new Set,a=new Set(t);return e.reduce((o,n)=>{if(t&&!Mw(n)&&n.as==="script"&&n.href&&a.has(n.href))return o;let l=JSON.stringify(zw(n));return r.has(l)||(r.add(l),o.push({key:l,link:n})),o},[])}var W5=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Hw=Symbol("SingleFetchRedirect");var Bw=new Set([100,101,204,205]);function Uw(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&Pa(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function vg(){let e=lt.useContext(Lo);return Zc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Kw(){let e=lt.useContext(Mn);return Zc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var xi=lt.createContext(void 0);xi.displayName="FrameworkContext";function bg(){let e=lt.useContext(xi);return Zc(e,"You must render this element inside a <HydratedRouter> element"),e}function qw(e,t){let r=lt.useContext(xi),[a,o]=lt.useState(!1),[n,i]=lt.useState(!1),{onFocus:l,onBlur:s,onMouseEnter:c,onMouseLeave:d,onTouchStart:u}=t,p=lt.useRef(null);lt.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let f=h=>{h.forEach(N=>{i(N.isIntersecting)})},v=new IntersectionObserver(f,{threshold:.5});return p.current&&v.observe(p.current),()=>{v.disconnect()}}},[e]),lt.useEffect(()=>{if(a){let f=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(f)}}},[a]);let g=()=>{o(!0)},m=()=>{o(!1),i(!1)};return r?e!=="intent"?[n,p,{}]:[n,p,{onFocus:yi(l,g),onBlur:yi(s,m),onMouseEnter:yi(c,g),onMouseLeave:yi(d,m),onTouchStart:yi(u,g)}]:[!1,p,{}]}function yi(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function yg({page:e,...t}){let{router:r}=vg(),a=lt.useMemo(()=>Bc(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?lt.createElement(Gw,{page:e,matches:a,...t}):null}function Vw(e){let{manifest:t,routeModules:r}=bg(),[a,o]=lt.useState([]);return lt.useEffect(()=>{let n=!1;return Iw(e,t,r).then(i=>{n||o(i)}),()=>{n=!0}},[e,t,r]),a}function Gw({page:e,matches:t,...r}){let a=Wr(),{manifest:o,routeModules:n}=bg(),{basename:i}=vg(),{loaderData:l,matches:s}=Kw(),c=lt.useMemo(()=>tg(e,t,s,o,a,"data"),[e,t,s,o,a]),d=lt.useMemo(()=>tg(e,t,s,o,a,"assets"),[e,t,s,o,a]),u=lt.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let m=new Set,f=!1;if(t.forEach(h=>{let N=o.routes[h.route.id];!N||!N.hasLoader||(!c.some(C=>C.route.id===h.route.id)&&h.route.id in l&&n[h.route.id]?.shouldRevalidate||N.hasClientLoader?f=!0:m.add(h.route.id))}),m.size===0)return[];let v=Uw(e,i);return f&&m.size>0&&v.searchParams.set("_routes",t.filter(h=>m.has(h.route.id)).map(h=>h.route.id).join(",")),[v.pathname+v.search]},[i,l,a,o,c,t,e,n]),p=lt.useMemo(()=>Ow(d,o),[d,o]),g=Vw(d);return lt.createElement(lt.Fragment,null,u.map(m=>lt.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...r})),p.map(m=>lt.createElement("link",{key:m,rel:"modulepreload",href:m,...r})),g.map(({key:m,link:f})=>lt.createElement("link",{key:m,...f})))}function Xw(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var wg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wg&&(window.__reactRouterVersion="7.6.3")}catch{}function td({basename:e,children:t,window:r}){let a=De.useRef();a.current==null&&(a.current=B0({window:r,v5Compat:!0}));let o=a.current,[n,i]=De.useState({action:o.action,location:o.location}),l=De.useCallback(s=>{De.startTransition(()=>i(s))},[i]);return De.useLayoutEffect(()=>o.listen(l),[o,l]),De.createElement(Qc,{basename:e,children:t,location:n.location,navigationType:n.action,navigator:o})}function xg({basename:e,children:t,history:r}){let[a,o]=De.useState({action:r.action,location:r.location}),n=De.useCallback(i=>{De.startTransition(()=>o(i))},[o]);return De.useLayoutEffect(()=>r.listen(n),[r,n]),De.createElement(Qc,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:r})}xg.displayName="unstable_HistoryRouter";var kg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ha=De.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:o,reloadDocument:n,replace:i,state:l,target:s,to:c,preventScrollReset:d,viewTransition:u,...p},g){let{basename:m}=De.useContext(Er),f=typeof c=="string"&&kg.test(c),v,h=!1;if(typeof c=="string"&&f&&(v=c,wg))try{let ee=new URL(window.location.href),ne=c.startsWith("//")?new URL(ee.protocol+c):new URL(c),ue=Pa(ne.pathname,m);ne.origin===ee.origin&&ue!=null?c=ue+ne.search+ne.hash:h=!0}catch{Ur(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=lg(c,{relative:o}),[C,F,M]=qw(a,p),j=Dg(c,{replace:i,state:l,target:s,preventScrollReset:d,relative:o,viewTransition:u});function B(ee){t&&t(ee),ee.defaultPrevented||j(ee)}let le=De.createElement("a",{...p,...M,href:v||N,onClick:h||n?t:B,ref:Xw(g,F),target:s,"data-discover":!f&&r==="render"?"true":void 0});return C&&!f?De.createElement(De.Fragment,null,le,De.createElement(yg,{page:N})):le});ha.displayName="Link";var Ng=De.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:o=!1,style:n,to:i,viewTransition:l,children:s,...c},d){let u=In(i,{relative:c.relative}),p=Wr(),g=De.useContext(Mn),{navigator:m,basename:f}=De.useContext(Er),v=g!=null&&Ag(u)&&l===!0,h=m.encodeLocation?m.encodeLocation(u).pathname:u.pathname,N=p.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(N=N.toLowerCase(),C=C?C.toLowerCase():null,h=h.toLowerCase()),C&&f&&(C=Pa(C,f)||C);let F=h!=="/"&&h.endsWith("/")?h.length-1:h.length,M=N===h||!o&&N.startsWith(h)&&N.charAt(F)==="/",j=C!=null&&(C===h||!o&&C.startsWith(h)&&C.charAt(h.length)==="/"),B={isActive:M,isPending:j,isTransitioning:v},le=M?t:void 0,ee;typeof a=="function"?ee=a(B):ee=[a,M?"active":null,j?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let ne=typeof n=="function"?n(B):n;return De.createElement(ha,{...c,"aria-current":le,className:ee,ref:d,style:ne,to:i,viewTransition:l},typeof s=="function"?s(B):s)});Ng.displayName="NavLink";var Cg=De.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:o,state:n,method:i=qs,action:l,onSubmit:s,relative:c,preventScrollReset:d,viewTransition:u,...p},g)=>{let m=Eg(),f=Pg(l,{relative:c}),v=i.toLowerCase()==="get"?"get":"post",h=typeof l=="string"&&kg.test(l);return De.createElement("form",{ref:g,method:v,action:f,onSubmit:a?s:C=>{if(s&&s(C),C.defaultPrevented)return;C.preventDefault();let F=C.nativeEvent.submitter,M=F?.getAttribute("formmethod")||i;m(F||C.currentTarget,{fetcherKey:t,method:M,navigate:r,replace:o,state:n,relative:c,preventScrollReset:d,viewTransition:u})},...p,"data-discover":!h&&e==="render"?"true":void 0})});Cg.displayName="Form";function Rg({getKey:e,storageKey:t,...r}){let a=De.useContext(xi),{basename:o}=De.useContext(Er),n=Wr(),i=Xc();Tg({getKey:e,storageKey:t});let l=De.useMemo(()=>{if(!a||!e)return null;let c=Hc(n,i,o,e);return c!==n.key?c:null},[]);if(!a||a.isSpaMode)return null;let s=((c,d)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let p=JSON.parse(sessionStorage.getItem(c)||"{}")[d||window.history.state.key];typeof p=="number"&&window.scrollTo(0,p)}catch(u){console.error(u),sessionStorage.removeItem(c)}}).toString();return De.createElement("script",{...r,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${s})(${JSON.stringify(t||jc)}, ${JSON.stringify(l)})`}})}Rg.displayName="ScrollRestoration";function Sg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rd(e){let t=De.useContext(Lo);return Dt(t,Sg(e)),t}function Qw(e){let t=De.useContext(Mn);return Dt(t,Sg(e)),t}function Dg(e,{target:t,replace:r,state:a,preventScrollReset:o,relative:n,viewTransition:i}={}){let l=Nt(),s=Wr(),c=In(e,{relative:n});return De.useCallback(d=>{if(Ew(d,t)){d.preventDefault();let u=r!==void 0?r:_n(s)===_n(c);l(e,{replace:u,state:a,preventScrollReset:o,relative:n,viewTransition:i})}},[s,l,c,r,a,t,e,o,n,i])}var Jw=0,Zw=()=>`__${String(++Jw)}__`;function Eg(){let{router:e}=rd("useSubmit"),{basename:t}=De.useContext(Er),r=xw();return De.useCallback(async(a,o={})=>{let{action:n,method:i,encType:l,formData:s,body:c}=Aw(a,t);if(o.navigate===!1){let d=o.fetcherKey||Zw();await e.fetch(d,r,o.action||n,{preventScrollReset:o.preventScrollReset,formData:s,body:c,formMethod:o.method||i,formEncType:o.encType||l,flushSync:o.flushSync})}else await e.navigate(o.action||n,{preventScrollReset:o.preventScrollReset,formData:s,body:c,formMethod:o.method||i,formEncType:o.encType||l,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,r])}function Pg(e,{relative:t}={}){let{basename:r}=De.useContext(Er),a=De.useContext(sa);Dt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),n={...In(e||".",{relative:t})},i=Wr();if(e==null){n.search=i.search;let l=new URLSearchParams(n.search),s=l.getAll("index");if(s.some(d=>d==="")){l.delete("index"),s.filter(u=>u).forEach(u=>l.append("index",u));let d=l.toString();n.search=d?`?${d}`:""}}return(!e||e===".")&&o.route.index&&(n.search=n.search?n.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(n.pathname=n.pathname==="/"?r:Ha([r,n.pathname])),_n(n)}var jc="react-router-scroll-positions",Ks={};function Hc(e,t,r,a){let o=null;return a&&(r!=="/"?o=a({...e,pathname:Pa(e.pathname,r)||e.pathname},t):o=a(e,t)),o==null&&(o=e.key),o}function Tg({getKey:e,storageKey:t}={}){let{router:r}=rd("useScrollRestoration"),{restoreScrollPosition:a,preventScrollReset:o}=Qw("useScrollRestoration"),{basename:n}=De.useContext(Er),i=Wr(),l=Xc(),s=mg();De.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),ex(De.useCallback(()=>{if(s.state==="idle"){let c=Hc(i,l,n,e);Ks[c]=window.scrollY}try{sessionStorage.setItem(t||jc,JSON.stringify(Ks))}catch(c){Ur(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${c}).`)}window.history.scrollRestoration="auto"},[s.state,e,n,i,l,t])),typeof document<"u"&&(De.useLayoutEffect(()=>{try{let c=sessionStorage.getItem(t||jc);c&&(Ks=JSON.parse(c))}catch{}},[t]),De.useLayoutEffect(()=>{let c=r?.enableScrollRestoration(Ks,()=>window.scrollY,e?(d,u)=>Hc(d,u,n,e):void 0);return()=>c&&c()},[r,n,e]),De.useLayoutEffect(()=>{if(a!==!1){if(typeof a=="number"){window.scrollTo(0,a);return}if(i.hash){let c=document.getElementById(decodeURIComponent(i.hash.slice(1)));if(c){c.scrollIntoView();return}}o!==!0&&window.scrollTo(0,0)}},[i,a,o]))}function ex(e,t){let{capture:r}=t||{};De.useEffect(()=>{let a=r!=null?{capture:r}:void 0;return window.addEventListener("pagehide",e,a),()=>{window.removeEventListener("pagehide",e,a)}},[e,r])}function Ag(e,t={}){let r=De.useContext($c);Dt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=rd("useViewTransitionState"),o=In(e,{relative:t.relative});if(!r.isTransitioning)return!1;let n=Pa(r.currentLocation.pathname,a)||r.currentLocation.pathname,i=Pa(r.nextLocation.pathname,a)||r.nextLocation.pathname;return wi(o.pathname,i)!=null||wi(o.pathname,n)!=null}var $5=new Set([...Bw,304]);var Ig=w(X(),1);var od=w(z(),1);function nd({children:e}){let[t]=(0,Ig.useState)(()=>new Rm({defaultOptions:{queries:{staleTime:3e5,refetchOnWindowFocus:!1}}}));return(0,od.jsx)(q.Provider,{client:Em,queryClient:t,children:(0,od.jsx)(Dm,{client:t,children:e})})}var R0=w(X(),1);var Li=w(X(),1);var hl=w(X(),1);var Pt=w(X(),1);var ki=w(X(),1);var $r=w(z(),1),nr=yn,id=Ts,tx=wn;var Fg=ki.forwardRef(({className:e,...t},r)=>(0,$r.jsx)(Po,{ref:r,className:D("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Fg.displayName=Po.displayName;var er=ki.forwardRef(({className:e,children:t,...r},a)=>(0,$r.jsxs)(tx,{children:[(0,$r.jsx)(Fg,{}),(0,$r.jsxs)(To,{ref:a,className:D("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,(0,$r.jsxs)(hi,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,$r.jsx)(ht,{className:"h-4 w-4"}),(0,$r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));er.displayName=To.displayName;var Pr=({className:e,...t})=>(0,$r.jsx)("div",{className:D("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Pr.displayName="DialogHeader";var Js=({className:e,...t})=>(0,$r.jsx)("div",{className:D("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Js.displayName="DialogFooter";var Tr=ki.forwardRef(({className:e,...t},r)=>(0,$r.jsx)(fi,{ref:r,className:D("text-lg font-semibold leading-none tracking-tight",e),...t}));Tr.displayName=fi.displayName;var lo=ki.forwardRef(({className:e,...t},r)=>(0,$r.jsx)(gi,{ref:r,className:D("text-sm text-muted-foreground",e),...t}));lo.displayName=gi.displayName;var Bg=w(X(),1);var zg=w(X(),1);var jg=w(z(),1),rx="Label",Hg=zg.forwardRef((e,t)=>(0,jg.jsx)(Je.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Hg.displayName=rx;var sd=Hg;var Ug=w(z(),1),ox=on("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ct=Bg.forwardRef(({className:e,...t},r)=>(0,Ug.jsx)(sd,{ref:r,className:D(ox(),e),...t}));Ct.displayName=sd.displayName;var Wg=w(X(),1);var $g=w(z(),1),Ba=Wg.forwardRef(({className:e,...t},r)=>(0,$g.jsx)("textarea",{className:D("flex min-h-[60px] w-full rounded-md border border-gray-300 bg-transparent px-3 py-2 text-sm shadow-sm hover:shadow-md transition-shadow placeholder:text-muted-foreground focus-visible:outline-none focus-visible:shadow-md focus-visible:border-krushr-primary disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ba.displayName="Textarea";var V=w(z()),rt=w(X());function On(e,t){let r=t*7;return Kt(e,r)}function Yg(e,t){return Br(e,t*12)}function Kg(e){let t;return e.forEach(function(r){let a=St(r);(t===void 0||t<a||isNaN(Number(a)))&&(t=a)}),t||new Date(NaN)}function qg(e){let t;return e.forEach(r=>{let a=St(r);(!t||t>a||isNaN(+a))&&(t=a)}),t||new Date(NaN)}function Vg(e,t,r){let a=Ao(e,r),o=Ao(t,r),n=+a-Ac(a),i=+o-Ac(o);return Math.round((n-i)/Cf)}function Xg(e,t){let r=St(e),a=St(t),o=Gg(r,a),n=Math.abs(aa(r,a));r.setDate(r.getDate()-o*n);let i=+(Gg(r,a)===-o),l=o*(n-i);return l===0?0:l}function Gg(e,t){let r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Qg(e,t,r){let a=Is(e,t)/Sf;return Ls(r?.roundingMethod)(a)}function Jg(e,t,r){let a=Is(e,t)/Rf;return Ls(r?.roundingMethod)(a)}function ld(e){return vi(e,{weekStartsOn:1})}function Zg(e){let t=St(e),r=t.getFullYear(),a=t.getMonth(),o=xn(e,0);return o.setFullYear(r,a+1,0),o.setHours(0,0,0,0),o.getDate()}function eh(e){return Math.trunc(+St(e)/1e3)}function th(e){let t=St(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function rh(e,t){return Vg(th(e),cr(e),t)+1}function Zs(e,t){let r=St(e),a=St(t);return r.getTime()>a.getTime()}function cd(e,t){let r=St(e),a=St(t);return+r<+a}function ah(e,t){let r=St(e),a=St(t);return r.getFullYear()===a.getFullYear()}function Fn(e,t){return Kt(e,-t)}function el(e){return Xt(e,Fn(Df(e),1))}function tl(e,t){let r=St(e),a=r.getFullYear(),o=r.getDate(),n=xn(e,0);n.setFullYear(a,t,15),n.setHours(0,0,0,0);let i=Zg(n);return r.setMonth(t,Math.min(o,i)),r}function dd(e,t){let r=St(e);return isNaN(+r)?xn(e,NaN):(r.setFullYear(t),r)}var Me=function(){return Me=Object.assign||function(t){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Me.apply(this,arguments)};function nx(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r}function lh(e,t,r){if(r||arguments.length===2)for(var a=0,o=t.length,n;a<o;a++)(n||!(a in t))&&(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}function Ni(e){return e.mode==="multiple"}function Ci(e){return e.mode==="range"}function ol(e){return e.mode==="single"}var ix={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function sx(e,t){return kt(e,"LLLL y",t)}function lx(e,t){return kt(e,"d",t)}function cx(e,t){return kt(e,"LLLL",t)}function dx(e){return"".concat(e)}function ux(e,t){return kt(e,"cccccc",t)}function px(e,t){return kt(e,"yyyy",t)}var mx=Object.freeze({__proto__:null,formatCaption:sx,formatDay:lx,formatMonthCaption:cx,formatWeekNumber:dx,formatWeekdayName:ux,formatYearCaption:px}),fx=function(e,t,r){return kt(e,"do MMMM (EEEE)",r)},gx=function(){return"Month: "},hx=function(){return"Go to next month"},vx=function(){return"Go to previous month"},bx=function(e,t){return kt(e,"cccc",t)},yx=function(e){return"Week n. ".concat(e)},wx=function(){return"Year: "},xx=Object.freeze({__proto__:null,labelDay:fx,labelMonthDropdown:gx,labelNext:hx,labelPrevious:vx,labelWeekNumber:yx,labelWeekday:bx,labelYearDropdown:wx});function kx(){var e="buttons",t=ix,r=Pf,a={},o={},n=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:mx,labels:xx,locale:r,modifiersClassNames:a,modifiers:o,numberOfMonths:n,styles:i,today:l,mode:"default"}}function Nx(e){var t=e.fromYear,r=e.toYear,a=e.fromMonth,o=e.toMonth,n=e.fromDate,i=e.toDate;return a?n=cr(a):t&&(n=new Date(t,0,1)),o?i=Os(o):r&&(i=new Date(r,11,31)),{fromDate:n?Tc(n):void 0,toDate:i?Tc(i):void 0}}var ch=(0,rt.createContext)(void 0);function Cx(e){var t,r=e.initialProps,a=kx(),o=Nx(r),n=o.fromDate,i=o.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:a.captionLayout;l!=="buttons"&&(!n||!i)&&(l="buttons");var s;(ol(r)||Ni(r)||Ci(r))&&(s=r.onSelect);var c=Me(Me(Me({},a),r),{captionLayout:l,classNames:Me(Me({},a.classNames),r.classNames),components:Me({},r.components),formatters:Me(Me({},a.formatters),r.formatters),fromDate:n,labels:Me(Me({},a.labels),r.labels),mode:r.mode||a.mode,modifiers:Me(Me({},a.modifiers),r.modifiers),modifiersClassNames:Me(Me({},a.modifiersClassNames),r.modifiersClassNames),onSelect:s,styles:Me(Me({},a.styles),r.styles),toDate:i});return(0,V.jsx)(ch.Provider,{value:c,children:e.children})}function Et(){var e=(0,rt.useContext)(ch);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function dh(e){var t=Et(),r=t.locale,a=t.classNames,o=t.styles,n=t.formatters.formatCaption;return(0,V.jsx)("div",{className:a.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:n(e.displayMonth,{locale:r})})}function Rx(e){return(0,V.jsx)("svg",Me({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:(0,V.jsx)("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function uh(e){var t,r,a=e.onChange,o=e.value,n=e.children,i=e.caption,l=e.className,s=e.style,c=Et(),d=(r=(t=c.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Rx;return(0,V.jsxs)("div",{className:l,style:s,children:[(0,V.jsx)("span",{className:c.classNames.vhidden,children:e["aria-label"]}),(0,V.jsx)("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:o,onChange:a,children:n}),(0,V.jsxs)("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[i,(0,V.jsx)(d,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function Sx(e){var t,r=Et(),a=r.fromDate,o=r.toDate,n=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,s=r.classNames,c=r.components,d=r.labels.labelMonthDropdown;if(!a)return(0,V.jsx)(V.Fragment,{});if(!o)return(0,V.jsx)(V.Fragment,{});var u=[];if(ah(a,o))for(var p=cr(a),g=a.getMonth();g<=o.getMonth();g++)u.push(tl(p,g));else for(var p=cr(new Date),g=0;g<=11;g++)u.push(tl(p,g));var m=function(v){var h=Number(v.target.value),N=tl(cr(e.displayMonth),h);e.onChange(N)},f=(t=c?.Dropdown)!==null&&t!==void 0?t:uh;return(0,V.jsx)(f,{name:"months","aria-label":d(),className:s.dropdown_month,style:n.dropdown_month,onChange:m,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:u.map(function(v){return(0,V.jsx)("option",{value:v.getMonth(),children:l(v,{locale:i})},v.getMonth())})})}function Dx(e){var t,r=e.displayMonth,a=Et(),o=a.fromDate,n=a.toDate,i=a.locale,l=a.styles,s=a.classNames,c=a.components,d=a.formatters.formatYearCaption,u=a.labels.labelYearDropdown,p=[];if(!o)return(0,V.jsx)(V.Fragment,{});if(!n)return(0,V.jsx)(V.Fragment,{});for(var g=o.getFullYear(),m=n.getFullYear(),f=g;f<=m;f++)p.push(dd(Ef(new Date),f));var v=function(N){var C=dd(cr(r),Number(N.target.value));e.onChange(C)},h=(t=c?.Dropdown)!==null&&t!==void 0?t:uh;return(0,V.jsx)(h,{name:"years","aria-label":u(),className:s.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:i}),children:p.map(function(N){return(0,V.jsx)("option",{value:N.getFullYear(),children:d(N,{locale:i})},N.getFullYear())})})}function Ex(e,t){var r=(0,rt.useState)(e),a=r[0],o=r[1],n=t===void 0?a:t;return[n,o]}function Px(e){var t=e.month,r=e.defaultMonth,a=e.today,o=t||r||a||new Date,n=e.toDate,i=e.fromDate,l=e.numberOfMonths,s=l===void 0?1:l;if(n&&kn(n,o)<0){var c=-1*(s-1);o=Br(n,c)}return i&&kn(o,i)<0&&(o=i),cr(o)}function Tx(){var e=Et(),t=Px(e),r=Ex(t,e.month),a=r[0],o=r[1],n=function(i){var l;if(!e.disableNavigation){var s=cr(i);o(s),(l=e.onMonthChange)===null||l===void 0||l.call(e,s)}};return[a,n]}function Ax(e,t){for(var r=t.reverseMonths,a=t.numberOfMonths,o=cr(e),n=cr(Br(o,a)),i=kn(n,o),l=[],s=0;s<i;s++){var c=Br(o,s);l.push(c)}return r&&(l=l.reverse()),l}function _x(e,t){if(!t.disableNavigation){var r=t.toDate,a=t.pagedNavigation,o=t.numberOfMonths,n=o===void 0?1:o,i=a?n:1,l=cr(e);if(!r)return Br(l,i);var s=kn(r,e);if(!(s<n))return Br(l,i)}}function Mx(e,t){if(!t.disableNavigation){var r=t.fromDate,a=t.pagedNavigation,o=t.numberOfMonths,n=o===void 0?1:o,i=a?n:1,l=cr(e);if(!r)return Br(l,-i);var s=kn(l,r);if(!(s<=0))return Br(l,-i)}}var ph=(0,rt.createContext)(void 0);function Lx(e){var t=Et(),r=Tx(),a=r[0],o=r[1],n=Ax(a,t),i=_x(a,t),l=Mx(a,t),s=function(u){return n.some(function(p){return Fs(u,p)})},c=function(u,p){s(u)||(p&&cd(u,p)?o(Br(u,1+t.numberOfMonths*-1)):o(u))},d={currentMonth:a,displayMonths:n,goToMonth:o,goToDate:c,previousMonth:l,nextMonth:i,isDateDisplayed:s};return(0,V.jsx)(ph.Provider,{value:d,children:e.children})}function Ri(){var e=(0,rt.useContext)(ph);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function oh(e){var t,r=Et(),a=r.classNames,o=r.styles,n=r.components,i=Ri().goToMonth,l=function(d){i(Br(d,e.displayIndex?-e.displayIndex:0))},s=(t=n?.CaptionLabel)!==null&&t!==void 0?t:dh,c=(0,V.jsx)(s,{id:e.id,displayMonth:e.displayMonth});return(0,V.jsxs)("div",{className:a.caption_dropdowns,style:o.caption_dropdowns,children:[(0,V.jsx)("div",{className:a.vhidden,children:c}),(0,V.jsx)(Sx,{onChange:l,displayMonth:e.displayMonth}),(0,V.jsx)(Dx,{onChange:l,displayMonth:e.displayMonth})]})}function Ix(e){return(0,V.jsx)("svg",Me({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:(0,V.jsx)("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Ox(e){return(0,V.jsx)("svg",Me({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:(0,V.jsx)("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var al=(0,rt.forwardRef)(function(e,t){var r=Et(),a=r.classNames,o=r.styles,n=[a.button_reset,a.button];e.className&&n.push(e.className);var i=n.join(" "),l=Me(Me({},o.button_reset),o.button);return e.style&&Object.assign(l,e.style),(0,V.jsx)("button",Me({},e,{ref:t,type:"button",className:i,style:l}))});function Fx(e){var t,r,a=Et(),o=a.dir,n=a.locale,i=a.classNames,l=a.styles,s=a.labels,c=s.labelPrevious,d=s.labelNext,u=a.components;if(!e.nextMonth&&!e.previousMonth)return(0,V.jsx)(V.Fragment,{});var p=c(e.previousMonth,{locale:n}),g=[i.nav_button,i.nav_button_previous].join(" "),m=d(e.nextMonth,{locale:n}),f=[i.nav_button,i.nav_button_next].join(" "),v=(t=u?.IconRight)!==null&&t!==void 0?t:Ox,h=(r=u?.IconLeft)!==null&&r!==void 0?r:Ix;return(0,V.jsxs)("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&(0,V.jsx)(al,{name:"previous-month","aria-label":p,className:g,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:o==="rtl"?(0,V.jsx)(v,{className:i.nav_icon,style:l.nav_icon}):(0,V.jsx)(h,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&(0,V.jsx)(al,{name:"next-month","aria-label":m,className:f,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:o==="rtl"?(0,V.jsx)(h,{className:i.nav_icon,style:l.nav_icon}):(0,V.jsx)(v,{className:i.nav_icon,style:l.nav_icon})})]})}function nh(e){var t=Et().numberOfMonths,r=Ri(),a=r.previousMonth,o=r.nextMonth,n=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(m){return Fs(e.displayMonth,m)}),s=l===0,c=l===i.length-1,d=t>1&&(s||!c),u=t>1&&(c||!s),p=function(){a&&n(a)},g=function(){o&&n(o)};return(0,V.jsx)(Fx,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:u,nextMonth:o,previousMonth:a,onPreviousClick:p,onNextClick:g})}function zx(e){var t,r=Et(),a=r.classNames,o=r.disableNavigation,n=r.styles,i=r.captionLayout,l=r.components,s=(t=l?.CaptionLabel)!==null&&t!==void 0?t:dh,c;return o?c=(0,V.jsx)(s,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?c=(0,V.jsx)(oh,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?c=(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(oh,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),(0,V.jsx)(nh,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):c=(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(s,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),(0,V.jsx)(nh,{displayMonth:e.displayMonth,id:e.id})]}),(0,V.jsx)("div",{className:a.caption,style:n.caption,children:c})}function jx(e){var t=Et(),r=t.footer,a=t.styles,o=t.classNames.tfoot;return r?(0,V.jsx)("tfoot",{className:o,style:a.tfoot,children:(0,V.jsx)("tr",{children:(0,V.jsx)("td",{colSpan:8,children:r})})}):(0,V.jsx)(V.Fragment,{})}function Hx(e,t,r){for(var a=r?Ms(new Date):Ao(new Date,{locale:e,weekStartsOn:t}),o=[],n=0;n<7;n++){var i=Kt(a,n);o.push(i)}return o}function Bx(){var e=Et(),t=e.classNames,r=e.styles,a=e.showWeekNumber,o=e.locale,n=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,s=e.labels.labelWeekday,c=Hx(o,n,i);return(0,V.jsxs)("tr",{style:r.head_row,className:t.head_row,children:[a&&(0,V.jsx)("td",{style:r.head_cell,className:t.head_cell}),c.map(function(d,u){return(0,V.jsx)("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":s(d,{locale:o}),children:l(d,{locale:o})},u)})]})}function Ux(){var e,t=Et(),r=t.classNames,a=t.styles,o=t.components,n=(e=o?.HeadRow)!==null&&e!==void 0?e:Bx;return(0,V.jsx)("thead",{style:a.head,className:r.head,children:(0,V.jsx)(n,{})})}function Wx(e){var t=Et(),r=t.locale,a=t.formatters.formatDay;return(0,V.jsx)(V.Fragment,{children:a(e.date,{locale:r})})}var gd=(0,rt.createContext)(void 0);function $x(e){if(!Ni(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return(0,V.jsx)(gd.Provider,{value:t,children:e.children})}return(0,V.jsx)(Yx,{initialProps:e.initialProps,children:e.children})}function Yx(e){var t=e.initialProps,r=e.children,a=t.selected,o=t.min,n=t.max,i=function(c,d,u){var p,g;(p=t.onDayClick)===null||p===void 0||p.call(t,c,d,u);var m=!!(d.selected&&o&&a?.length===o);if(!m){var f=!!(!d.selected&&n&&a?.length===n);if(!f){var v=a?lh([],a,!0):[];if(d.selected){var h=v.findIndex(function(N){return Xt(c,N)});v.splice(h,1)}else v.push(c);(g=t.onSelect)===null||g===void 0||g.call(t,v,c,d,u)}}},l={disabled:[]};a&&l.disabled.push(function(c){var d=n&&a.length>n-1,u=a.some(function(p){return Xt(p,c)});return!!(d&&!u)});var s={selected:a,onDayClick:i,modifiers:l};return(0,V.jsx)(gd.Provider,{value:s,children:r})}function hd(){var e=(0,rt.useContext)(gd);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Kx(e,t){var r=t||{},a=r.from,o=r.to;return a&&o?Xt(o,e)&&Xt(a,e)?void 0:Xt(o,e)?{from:o,to:void 0}:Xt(a,e)?void 0:Zs(a,e)?{from:e,to:o}:{from:a,to:e}:o?Zs(e,o)?{from:o,to:e}:{from:e,to:o}:a?cd(e,a)?{from:e,to:a}:{from:a,to:e}:{from:e,to:void 0}}var vd=(0,rt.createContext)(void 0);function qx(e){if(!Ci(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return(0,V.jsx)(vd.Provider,{value:t,children:e.children})}return(0,V.jsx)(Vx,{initialProps:e.initialProps,children:e.children})}function Vx(e){var t=e.initialProps,r=e.children,a=t.selected,o=a||{},n=o.from,i=o.to,l=t.min,s=t.max,c=function(g,m,f){var v,h;(v=t.onDayClick)===null||v===void 0||v.call(t,g,m,f);var N=Kx(g,a);(h=t.onSelect)===null||h===void 0||h.call(t,N,g,m,f)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(n?(d.range_start=[n],i?(d.range_end=[i],Xt(n,i)||(d.range_middle=[{after:n,before:i}])):d.range_end=[n]):i&&(d.range_start=[i],d.range_end=[i]),l&&(n&&!i&&d.disabled.push({after:Fn(n,l-1),before:Kt(n,l-1)}),n&&i&&d.disabled.push({after:n,before:Kt(n,l-1)}),!n&&i&&d.disabled.push({after:Fn(i,l-1),before:Kt(i,l-1)})),s){if(n&&!i&&(d.disabled.push({before:Kt(n,-s+1)}),d.disabled.push({after:Kt(n,s-1)})),n&&i){var u=aa(i,n)+1,p=s-u;d.disabled.push({before:Fn(n,p)}),d.disabled.push({after:Kt(i,p)})}!n&&i&&(d.disabled.push({before:Kt(i,-s+1)}),d.disabled.push({after:Kt(i,s-1)}))}return(0,V.jsx)(vd.Provider,{value:{selected:a,onDayClick:c,modifiers:d},children:r})}function bd(){var e=(0,rt.useContext)(vd);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function rl(e){return Array.isArray(e)?lh([],e,!0):e!==void 0?[e]:[]}function Gx(e){var t={};return Object.entries(e).forEach(function(r){var a=r[0],o=r[1];t[a]=rl(o)}),t}var va;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(va||(va={}));var Xx=va.Selected,Ua=va.Disabled,Qx=va.Hidden,Jx=va.Today,ud=va.RangeEnd,pd=va.RangeMiddle,md=va.RangeStart,Zx=va.Outside;function e1(e,t,r){var a,o=(a={},a[Xx]=rl(e.selected),a[Ua]=rl(e.disabled),a[Qx]=rl(e.hidden),a[Jx]=[e.today],a[ud]=[],a[pd]=[],a[md]=[],a[Zx]=[],a);return e.fromDate&&o[Ua].push({before:e.fromDate}),e.toDate&&o[Ua].push({after:e.toDate}),Ni(e)?o[Ua]=o[Ua].concat(t.modifiers[Ua]):Ci(e)&&(o[Ua]=o[Ua].concat(r.modifiers[Ua]),o[md]=r.modifiers[md],o[pd]=r.modifiers[pd],o[ud]=r.modifiers[ud]),o}var mh=(0,rt.createContext)(void 0);function t1(e){var t=Et(),r=hd(),a=bd(),o=e1(t,r,a),n=Gx(t.modifiers),i=Me(Me({},o),n);return(0,V.jsx)(mh.Provider,{value:i,children:e.children})}function fh(){var e=(0,rt.useContext)(mh);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function r1(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function a1(e){return!!(e&&typeof e=="object"&&"from"in e)}function o1(e){return!!(e&&typeof e=="object"&&"after"in e)}function n1(e){return!!(e&&typeof e=="object"&&"before"in e)}function i1(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function s1(e,t){var r,a=t.from,o=t.to;if(a&&o){var n=aa(o,a)<0;n&&(r=[o,a],a=r[0],o=r[1]);var i=aa(e,a)>=0&&aa(o,e)>=0;return i}return o?Xt(o,e):a?Xt(a,e):!1}function l1(e){return _c(e)}function c1(e){return Array.isArray(e)&&e.every(_c)}function d1(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(l1(r))return Xt(e,r);if(c1(r))return r.includes(e);if(a1(r))return s1(e,r);if(i1(r))return r.dayOfWeek.includes(e.getDay());if(r1(r)){var a=aa(r.before,e),o=aa(r.after,e),n=a>0,i=o<0,l=Zs(r.before,r.after);return l?i&&n:n||i}return o1(r)?aa(e,r.after)>0:n1(r)?aa(r.before,e)>0:typeof r=="function"?r(e):!1})}function yd(e,t,r){var a=Object.keys(t).reduce(function(n,i){var l=t[i];return d1(e,l)&&n.push(i),n},[]),o={};return a.forEach(function(n){return o[n]=!0}),r&&!Fs(e,r)&&(o.outside=!0),o}function u1(e,t){for(var r=cr(e[0]),a=Os(e[e.length-1]),o,n,i=r;i<=a;){var l=yd(i,t),s=!l.disabled&&!l.hidden;if(!s){i=Kt(i,1);continue}if(l.selected)return i;l.today&&!n&&(n=i),o||(o=i),i=Kt(i,1)}return n||o}var p1=365;function gh(e,t){var r=t.moveBy,a=t.direction,o=t.context,n=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,s=o.weekStartsOn,c=o.fromDate,d=o.toDate,u=o.locale,p={day:Kt,week:On,month:Br,year:Yg,startOfWeek:function(v){return o.ISOWeek?Ms(v):Ao(v,{locale:u,weekStartsOn:s})},endOfWeek:function(v){return o.ISOWeek?ld(v):vi(v,{locale:u,weekStartsOn:s})}},g=p[r](e,a==="after"?1:-1);a==="before"&&c?g=Kg([c,g]):a==="after"&&d&&(g=qg([d,g]));var m=!0;if(n){var f=yd(g,n);m=!f.disabled&&!f.hidden}return m?g:l.count>p1?l.lastFocused:gh(g,{moveBy:r,direction:a,context:o,modifiers:n,retry:Me(Me({},l),{count:l.count+1})})}var hh=(0,rt.createContext)(void 0);function m1(e){var t=Ri(),r=fh(),a=(0,rt.useState)(),o=a[0],n=a[1],i=(0,rt.useState)(),l=i[0],s=i[1],c=u1(t.displayMonths,r),d=o??(l&&t.isDateDisplayed(l))?l:c,u=function(){s(o),n(void 0)},p=function(v){n(v)},g=Et(),m=function(v,h){if(o){var N=gh(o,{moveBy:v,direction:h,context:g,modifiers:r});Xt(o,N)||(t.goToDate(N,o),p(N))}},f={focusedDay:o,focusTarget:d,blur:u,focus:p,focusDayAfter:function(){return m("day","after")},focusDayBefore:function(){return m("day","before")},focusWeekAfter:function(){return m("week","after")},focusWeekBefore:function(){return m("week","before")},focusMonthBefore:function(){return m("month","before")},focusMonthAfter:function(){return m("month","after")},focusYearBefore:function(){return m("year","before")},focusYearAfter:function(){return m("year","after")},focusStartOfWeek:function(){return m("startOfWeek","before")},focusEndOfWeek:function(){return m("endOfWeek","after")}};return(0,V.jsx)(hh.Provider,{value:f,children:e.children})}function wd(){var e=(0,rt.useContext)(hh);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function f1(e,t){var r=fh(),a=yd(e,r,t);return a}var xd=(0,rt.createContext)(void 0);function g1(e){if(!ol(e.initialProps)){var t={selected:void 0};return(0,V.jsx)(xd.Provider,{value:t,children:e.children})}return(0,V.jsx)(h1,{initialProps:e.initialProps,children:e.children})}function h1(e){var t=e.initialProps,r=e.children,a=function(n,i,l){var s,c,d;if((s=t.onDayClick)===null||s===void 0||s.call(t,n,i,l),i.selected&&!t.required){(c=t.onSelect)===null||c===void 0||c.call(t,void 0,n,i,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,n,n,i,l)},o={selected:t.selected,onDayClick:a};return(0,V.jsx)(xd.Provider,{value:o,children:r})}function vh(){var e=(0,rt.useContext)(xd);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function v1(e,t){var r=Et(),a=vh(),o=hd(),n=bd(),i=wd(),l=i.focusDayAfter,s=i.focusDayBefore,c=i.focusWeekAfter,d=i.focusWeekBefore,u=i.blur,p=i.focus,g=i.focusMonthBefore,m=i.focusMonthAfter,f=i.focusYearBefore,v=i.focusYearAfter,h=i.focusStartOfWeek,N=i.focusEndOfWeek,C=function(S){var P,Y,be,K;ol(r)?(P=a.onDayClick)===null||P===void 0||P.call(a,e,t,S):Ni(r)?(Y=o.onDayClick)===null||Y===void 0||Y.call(o,e,t,S):Ci(r)?(be=n.onDayClick)===null||be===void 0||be.call(n,e,t,S):(K=r.onDayClick)===null||K===void 0||K.call(r,e,t,S)},F=function(S){var P;p(e),(P=r.onDayFocus)===null||P===void 0||P.call(r,e,t,S)},M=function(S){var P;u(),(P=r.onDayBlur)===null||P===void 0||P.call(r,e,t,S)},j=function(S){var P;(P=r.onDayMouseEnter)===null||P===void 0||P.call(r,e,t,S)},B=function(S){var P;(P=r.onDayMouseLeave)===null||P===void 0||P.call(r,e,t,S)},le=function(S){var P;(P=r.onDayPointerEnter)===null||P===void 0||P.call(r,e,t,S)},ee=function(S){var P;(P=r.onDayPointerLeave)===null||P===void 0||P.call(r,e,t,S)},ne=function(S){var P;(P=r.onDayTouchCancel)===null||P===void 0||P.call(r,e,t,S)},ue=function(S){var P;(P=r.onDayTouchEnd)===null||P===void 0||P.call(r,e,t,S)},A=function(S){var P;(P=r.onDayTouchMove)===null||P===void 0||P.call(r,e,t,S)},k=function(S){var P;(P=r.onDayTouchStart)===null||P===void 0||P.call(r,e,t,S)},y=function(S){var P;(P=r.onDayKeyUp)===null||P===void 0||P.call(r,e,t,S)},E=function(S){var P;switch(S.key){case"ArrowLeft":S.preventDefault(),S.stopPropagation(),r.dir==="rtl"?l():s();break;case"ArrowRight":S.preventDefault(),S.stopPropagation(),r.dir==="rtl"?s():l();break;case"ArrowDown":S.preventDefault(),S.stopPropagation(),c();break;case"ArrowUp":S.preventDefault(),S.stopPropagation(),d();break;case"PageUp":S.preventDefault(),S.stopPropagation(),S.shiftKey?f():g();break;case"PageDown":S.preventDefault(),S.stopPropagation(),S.shiftKey?v():m();break;case"Home":S.preventDefault(),S.stopPropagation(),h();break;case"End":S.preventDefault(),S.stopPropagation(),N();break}(P=r.onDayKeyDown)===null||P===void 0||P.call(r,e,t,S)},x={onClick:C,onFocus:F,onBlur:M,onKeyDown:E,onKeyUp:y,onMouseEnter:j,onMouseLeave:B,onPointerEnter:le,onPointerLeave:ee,onTouchCancel:ne,onTouchEnd:ue,onTouchMove:A,onTouchStart:k};return x}function b1(){var e=Et(),t=vh(),r=hd(),a=bd(),o=ol(e)?t.selected:Ni(e)?r.selected:Ci(e)?a.selected:void 0;return o}function y1(e){return Object.values(va).includes(e)}function w1(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(a){var o=e.modifiersClassNames[a];if(o)r.push(o);else if(y1(a)){var n=e.classNames["day_".concat(a)];n&&r.push(n)}}),r}function x1(e,t){var r=Me({},e.styles.day);return Object.keys(t).forEach(function(a){var o;r=Me(Me({},r),(o=e.modifiersStyles)===null||o===void 0?void 0:o[a])}),r}function k1(e,t,r){var a,o,n,i=Et(),l=wd(),s=f1(e,t),c=v1(e,s),d=b1(),u=!!(i.onDayClick||i.mode!=="default");(0,rt.useEffect)(function(){var j;s.outside||l.focusedDay&&u&&Xt(l.focusedDay,e)&&((j=r.current)===null||j===void 0||j.focus())},[l.focusedDay,e,r,u,s.outside]);var p=w1(i,s).join(" "),g=x1(i,s),m=!!(s.outside&&!i.showOutsideDays||s.hidden),f=(n=(o=i.components)===null||o===void 0?void 0:o.DayContent)!==null&&n!==void 0?n:Wx,v=(0,V.jsx)(f,{date:e,displayMonth:t,activeModifiers:s}),h={style:g,className:p,children:v,role:"gridcell"},N=l.focusTarget&&Xt(l.focusTarget,e)&&!s.outside,C=l.focusedDay&&Xt(l.focusedDay,e),F=Me(Me(Me({},h),(a={disabled:s.disabled,role:"gridcell"},a["aria-selected"]=s.selected,a.tabIndex=C||N?0:-1,a)),c),M={isButton:u,isHidden:m,activeModifiers:s,selectedDays:d,buttonProps:F,divProps:h};return M}function N1(e){var t=(0,rt.useRef)(null),r=k1(e.date,e.displayMonth,t);return r.isHidden?(0,V.jsx)("div",{role:"gridcell"}):r.isButton?(0,V.jsx)(al,Me({name:"day",ref:t},r.buttonProps)):(0,V.jsx)("div",Me({},r.divProps))}function C1(e){var t=e.number,r=e.dates,a=Et(),o=a.onWeekNumberClick,n=a.styles,i=a.classNames,l=a.locale,s=a.labels.labelWeekNumber,c=a.formatters.formatWeekNumber,d=c(Number(t),{locale:l});if(!o)return(0,V.jsx)("span",{className:i.weeknumber,style:n.weeknumber,children:d});var u=s(Number(t),{locale:l}),p=function(g){o(t,r,g)};return(0,V.jsx)(al,{name:"week-number","aria-label":u,className:i.weeknumber,style:n.weeknumber,onClick:p,children:d})}function R1(e){var t,r,a=Et(),o=a.styles,n=a.classNames,i=a.showWeekNumber,l=a.components,s=(t=l?.Day)!==null&&t!==void 0?t:N1,c=(r=l?.WeekNumber)!==null&&r!==void 0?r:C1,d;return i&&(d=(0,V.jsx)("td",{className:n.cell,style:o.cell,children:(0,V.jsx)(c,{number:e.weekNumber,dates:e.dates})})),(0,V.jsxs)("tr",{className:n.row,style:o.row,children:[d,e.dates.map(function(u){return(0,V.jsx)("td",{className:n.cell,style:o.cell,role:"presentation",children:(0,V.jsx)(s,{displayMonth:e.displayMonth,date:u})},eh(u))})]})}function ih(e,t,r){for(var a=r?.ISOWeek?ld(t):vi(t,r),o=r?.ISOWeek?Ms(e):Ao(e,r),n=aa(a,o),i=[],l=0;l<=n;l++)i.push(Kt(o,l));var s=i.reduce(function(c,d){var u=r?.ISOWeek?Tf(d):Af(d,r),p=c.find(function(g){return g.weekNumber===u});return p?(p.dates.push(d),c):(c.push({weekNumber:u,dates:[d]}),c)},[]);return s}function S1(e,t){var r=ih(cr(e),Os(e),t);if(t?.useFixedWeeks){var a=rh(e,t);if(a<6){var o=r[r.length-1],n=o.dates[o.dates.length-1],i=On(n,6-a),l=ih(On(n,1),i,t);r.push.apply(r,l)}}return r}function D1(e){var t,r,a,o=Et(),n=o.locale,i=o.classNames,l=o.styles,s=o.hideHead,c=o.fixedWeeks,d=o.components,u=o.weekStartsOn,p=o.firstWeekContainsDate,g=o.ISOWeek,m=S1(e.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:n,weekStartsOn:u,firstWeekContainsDate:p}),f=(t=d?.Head)!==null&&t!==void 0?t:Ux,v=(r=d?.Row)!==null&&r!==void 0?r:R1,h=(a=d?.Footer)!==null&&a!==void 0?a:jx;return(0,V.jsxs)("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!s&&(0,V.jsx)(f,{}),(0,V.jsx)("tbody",{className:i.tbody,style:l.tbody,children:m.map(function(N){return(0,V.jsx)(v,{displayMonth:e.displayMonth,dates:N.dates,weekNumber:N.weekNumber},N.weekNumber)})}),(0,V.jsx)(h,{displayMonth:e.displayMonth})]})}function E1(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var P1=E1()?rt.useLayoutEffect:rt.useEffect,fd=!1,T1=0;function sh(){return"react-day-picker-".concat(++T1)}function A1(e){var t,r=e??(fd?sh():null),a=(0,rt.useState)(r),o=a[0],n=a[1];return P1(function(){o===null&&n(sh())},[]),(0,rt.useEffect)(function(){fd===!1&&(fd=!0)},[]),(t=e??o)!==null&&t!==void 0?t:void 0}function _1(e){var t,r,a=Et(),o=a.dir,n=a.classNames,i=a.styles,l=a.components,s=Ri().displayMonths,c=A1(a.id?"".concat(a.id,"-").concat(e.displayIndex):void 0),d=a.id?"".concat(a.id,"-grid-").concat(e.displayIndex):void 0,u=[n.month],p=i.month,g=e.displayIndex===0,m=e.displayIndex===s.length-1,f=!g&&!m;o==="rtl"&&(t=[g,m],m=t[0],g=t[1]),g&&(u.push(n.caption_start),p=Me(Me({},p),i.caption_start)),m&&(u.push(n.caption_end),p=Me(Me({},p),i.caption_end)),f&&(u.push(n.caption_between),p=Me(Me({},p),i.caption_between));var v=(r=l?.Caption)!==null&&r!==void 0?r:zx;return(0,V.jsxs)("div",{className:u.join(" "),style:p,children:[(0,V.jsx)(v,{id:c,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),(0,V.jsx)(D1,{id:d,"aria-labelledby":c,displayMonth:e.displayMonth})]},e.displayIndex)}function M1(e){var t=Et(),r=t.classNames,a=t.styles;return(0,V.jsx)("div",{className:r.months,style:a.months,children:e.children})}function L1(e){var t,r,a=e.initialProps,o=Et(),n=wd(),i=Ri(),l=(0,rt.useState)(!1),s=l[0],c=l[1];(0,rt.useEffect)(function(){o.initialFocus&&n.focusTarget&&(s||(n.focus(n.focusTarget),c(!0)))},[o.initialFocus,s,n.focus,n.focusTarget,n]);var d=[o.classNames.root,o.className];o.numberOfMonths>1&&d.push(o.classNames.multiple_months),o.showWeekNumber&&d.push(o.classNames.with_weeknumber);var u=Me(Me({},o.styles.root),o.style),p=Object.keys(a).filter(function(m){return m.startsWith("data-")}).reduce(function(m,f){var v;return Me(Me({},m),(v={},v[f]=a[f],v))},{}),g=(r=(t=a.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:M1;return(0,V.jsx)("div",Me({className:d.join(" "),style:u,dir:o.dir,id:o.id,nonce:a.nonce,title:a.title,lang:a.lang},p,{children:(0,V.jsx)(g,{children:i.displayMonths.map(function(m,f){return(0,V.jsx)(_1,{displayIndex:f,displayMonth:m},f)})})}))}function I1(e){var t=e.children,r=nx(e,["children"]);return(0,V.jsx)(Cx,{initialProps:r,children:(0,V.jsx)(Lx,{children:(0,V.jsx)(g1,{initialProps:r,children:(0,V.jsx)($x,{initialProps:r,children:(0,V.jsx)(qx,{initialProps:r,children:(0,V.jsx)(t1,{children:(0,V.jsx)(m1,{children:t})})})})})})})}function bh(e){return(0,V.jsx)(I1,Me({},e,{children:(0,V.jsx)(L1,{initialProps:e})}))}var nl=w(z(),1);function la({className:e,classNames:t,showOutsideDays:r=!0,...a}){return(0,nl.jsx)(bh,{showOutsideDays:r,className:D("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:D(nn({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:D("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md",a.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:D(nn({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:o,...n})=>(0,nl.jsx)(cn,{className:D("h-4 w-4",o),...n}),IconRight:({className:o,...n})=>(0,nl.jsx)(hr,{className:D("h-4 w-4",o),...n})},...a})}la.displayName="Calendar";var _h=w(X(),1);var Ot=w(X(),1);var Vt=w(z(),1),il="Popover",[yh,tE]=ra(il,[Dc]),Si=Dc(),[O1,co]=yh(il),wh=e=>{let{__scopePopover:t,children:r,open:a,defaultOpen:o,onOpenChange:n,modal:i=!1}=e,l=Si(t),s=Ot.useRef(null),[c,d]=Ot.useState(!1),[u,p]=Ea({prop:a,defaultProp:o??!1,onChange:n,caller:il});return(0,Vt.jsx)(xf,{...l,children:(0,Vt.jsx)(O1,{scope:t,contentId:fa(),triggerRef:s,open:u,onOpenChange:p,onOpenToggle:Ot.useCallback(()=>p(g=>!g),[p]),hasCustomAnchor:c,onCustomAnchorAdd:Ot.useCallback(()=>d(!0),[]),onCustomAnchorRemove:Ot.useCallback(()=>d(!1),[]),modal:i,children:r})})};wh.displayName=il;var xh="PopoverAnchor",F1=Ot.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,o=co(xh,r),n=Si(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=o;return Ot.useEffect(()=>(i(),()=>l()),[i,l]),(0,Vt.jsx)(Ec,{...n,...a,ref:t})});F1.displayName=xh;var kh="PopoverTrigger",Nh=Ot.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,o=co(kh,r),n=Si(r),i=fr(t,o.triggerRef),l=(0,Vt.jsx)(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Eh(o.open),...a,ref:i,onClick:vt(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?l:(0,Vt.jsx)(Ec,{asChild:!0,...n,children:l})});Nh.displayName=kh;var kd="PopoverPortal",[z1,j1]=yh(kd,{forceMount:void 0}),Ch=e=>{let{__scopePopover:t,forceMount:r,children:a,container:o}=e,n=co(kd,t);return(0,Vt.jsx)(z1,{scope:t,forceMount:r,children:(0,Vt.jsx)(ja,{present:r||n.open,children:(0,Vt.jsx)(Ps,{asChild:!0,container:o,children:a})})})};Ch.displayName=kd;var zn="PopoverContent",Rh=Ot.forwardRef((e,t)=>{let r=j1(zn,e.__scopePopover),{forceMount:a=r.forceMount,...o}=e,n=co(zn,e.__scopePopover);return(0,Vt.jsx)(ja,{present:a||n.open,children:n.modal?(0,Vt.jsx)(B1,{...o,ref:t}):(0,Vt.jsx)(U1,{...o,ref:t})})});Rh.displayName=zn;var H1=Pm("PopoverContent.RemoveScroll"),B1=Ot.forwardRef((e,t)=>{let r=co(zn,e.__scopePopover),a=Ot.useRef(null),o=fr(t,a),n=Ot.useRef(!1);return Ot.useEffect(()=>{let i=a.current;if(i)return vf(i)},[]),(0,Vt.jsx)(hf,{as:H1,allowPinchZoom:!0,children:(0,Vt.jsx)(Sh,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:vt(e.onCloseAutoFocus,i=>{i.preventDefault(),n.current||r.triggerRef.current?.focus()}),onPointerDownOutside:vt(e.onPointerDownOutside,i=>{let l=i.detail.originalEvent,s=l.button===0&&l.ctrlKey===!0,c=l.button===2||s;n.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:vt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),U1=Ot.forwardRef((e,t)=>{let r=co(zn,e.__scopePopover),a=Ot.useRef(!1),o=Ot.useRef(!1);return(0,Vt.jsx)(Sh,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{e.onCloseAutoFocus?.(n),n.defaultPrevented||(a.current||r.triggerRef.current?.focus(),n.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:n=>{e.onInteractOutside?.(n),n.defaultPrevented||(a.current=!0,n.detail.originalEvent.type==="pointerdown"&&(o.current=!0));let i=n.target;r.triggerRef.current?.contains(i)&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&o.current&&n.preventDefault()}})}),Sh=Ot.forwardRef((e,t)=>{let{__scopePopover:r,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:n,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:s,onFocusOutside:c,onInteractOutside:d,...u}=e,p=co(zn,r),g=Si(r);return gf(),(0,Vt.jsx)(ff,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:n,children:(0,Vt.jsx)(uf,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:s,onFocusOutside:c,onDismiss:()=>p.onOpenChange(!1),children:(0,Vt.jsx)(kf,{"data-state":Eh(p.open),role:"dialog",id:p.contentId,...g,...u,ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Dh="PopoverClose",W1=Ot.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,o=co(Dh,r);return(0,Vt.jsx)(Je.button,{type:"button",...a,ref:t,onClick:vt(e.onClick,()=>o.onOpenChange(!1))})});W1.displayName=Dh;var $1="PopoverArrow",Y1=Ot.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,o=Si(r);return(0,Vt.jsx)(Nf,{...o,...a,ref:t})});Y1.displayName=$1;function Eh(e){return e?"open":"closed"}var Ph=wh;var Th=Nh,Ah=Ch,Nd=Rh;var Cd=w(z(),1),Yr=Ph,Kr=Th,Ar=_h.forwardRef(({className:e,align:t="center",sideOffset:r=4,...a},o)=>(0,Cd.jsx)(Ah,{children:(0,Cd.jsx)(Nd,{ref:o,align:t,sideOffset:r,className:D("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));Ar.displayName=Nd.displayName;var jh=w(X(),1);var ba=w(X(),1);var Oo=w(z(),1),sl="Switch",[q1,uE]=ra(sl),[V1,G1]=q1(sl),Mh=ba.forwardRef((e,t)=>{let{__scopeSwitch:r,name:a,checked:o,defaultChecked:n,required:i,disabled:l,value:s="on",onCheckedChange:c,form:d,...u}=e,[p,g]=ba.useState(null),m=fr(t,C=>g(C)),f=ba.useRef(!1),v=p?d||!!p.closest("form"):!0,[h,N]=Ea({prop:o,defaultProp:n??!1,onChange:c,caller:sl});return(0,Oo.jsxs)(V1,{scope:r,checked:h,disabled:l,children:[(0,Oo.jsx)(Je.button,{type:"button",role:"switch","aria-checked":h,"aria-required":i,"data-state":Fh(h),"data-disabled":l?"":void 0,disabled:l,value:s,...u,ref:m,onClick:vt(e.onClick,C=>{N(F=>!F),v&&(f.current=C.isPropagationStopped(),f.current||C.stopPropagation())})}),v&&(0,Oo.jsx)(Oh,{control:p,bubbles:!f.current,name:a,value:s,checked:h,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Mh.displayName=sl;var Lh="SwitchThumb",Ih=ba.forwardRef((e,t)=>{let{__scopeSwitch:r,...a}=e,o=G1(Lh,r);return(0,Oo.jsx)(Je.span,{"data-state":Fh(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t})});Ih.displayName=Lh;var X1="SwitchBubbleInput",Oh=ba.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:a=!0,...o},n)=>{let i=ba.useRef(null),l=fr(i,n),s=_s(r),c=As(t);return ba.useEffect(()=>{let d=i.current;if(!d)return;let u=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(u,"checked").set;if(s!==r&&g){let m=new Event("click",{bubbles:a});g.call(d,r),d.dispatchEvent(m)}},[s,r,a]),(0,Oo.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:l,style:{...o.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Oh.displayName=X1;function Fh(e){return e?"checked":"unchecked"}var Rd=Mh,zh=Ih;var Sd=w(z(),1),Wa=jh.forwardRef(({className:e,...t},r)=>(0,Sd.jsx)(Rd,{className:D("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:(0,Sd.jsx)(zh,{className:D("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Wa.displayName=Rd.displayName;var Kh=w(X(),1);var wr=w(X(),1);var qr=w(z(),1),ll="Checkbox",[J1,kE]=ra(ll),[Z1,Dd]=J1(ll);function ek(e){let{__scopeCheckbox:t,checked:r,children:a,defaultChecked:o,disabled:n,form:i,name:l,onCheckedChange:s,required:c,value:d="on",internal_do_not_use_render:u}=e,[p,g]=Ea({prop:r,defaultProp:o??!1,onChange:s,caller:ll}),[m,f]=wr.useState(null),[v,h]=wr.useState(null),N=wr.useRef(!1),C=m?!!i||!!m.closest("form"):!0,F={checked:p,disabled:n,setChecked:g,control:m,setControl:f,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:N,required:c,defaultChecked:uo(o)?!1:o,isFormControl:C,bubbleInput:v,setBubbleInput:h};return(0,qr.jsx)(Z1,{scope:t,...F,children:tk(u)?u(F):a})}var Hh="CheckboxTrigger",Bh=wr.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...a},o)=>{let{control:n,value:i,disabled:l,checked:s,required:c,setControl:d,setChecked:u,hasConsumerStoppedPropagationRef:p,isFormControl:g,bubbleInput:m}=Dd(Hh,e),f=fr(o,d),v=wr.useRef(s);return wr.useEffect(()=>{let h=n?.form;if(h){let N=()=>u(v.current);return h.addEventListener("reset",N),()=>h.removeEventListener("reset",N)}},[n,u]),(0,qr.jsx)(Je.button,{type:"button",role:"checkbox","aria-checked":uo(s)?"mixed":s,"aria-required":c,"data-state":Yh(s),"data-disabled":l?"":void 0,disabled:l,value:i,...a,ref:f,onKeyDown:vt(t,h=>{h.key==="Enter"&&h.preventDefault()}),onClick:vt(r,h=>{u(N=>uo(N)?!0:!N),m&&g&&(p.current=h.isPropagationStopped(),p.current||h.stopPropagation())})})});Bh.displayName=Hh;var cl=wr.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:a,checked:o,defaultChecked:n,required:i,disabled:l,value:s,onCheckedChange:c,form:d,...u}=e;return(0,qr.jsx)(ek,{__scopeCheckbox:r,checked:o,defaultChecked:n,disabled:l,required:i,onCheckedChange:c,name:a,form:d,value:s,internal_do_not_use_render:({isFormControl:p})=>(0,qr.jsxs)(qr.Fragment,{children:[(0,qr.jsx)(Bh,{...u,ref:t,__scopeCheckbox:r}),p&&(0,qr.jsx)($h,{__scopeCheckbox:r})]})})});cl.displayName=ll;var Uh="CheckboxIndicator",Ed=wr.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:a,...o}=e,n=Dd(Uh,r);return(0,qr.jsx)(ja,{present:a||uo(n.checked)||n.checked===!0,children:(0,qr.jsx)(Je.span,{"data-state":Yh(n.checked),"data-disabled":n.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Ed.displayName=Uh;var Wh="CheckboxBubbleInput",$h=wr.forwardRef(({__scopeCheckbox:e,...t},r)=>{let{control:a,hasConsumerStoppedPropagationRef:o,checked:n,defaultChecked:i,required:l,disabled:s,name:c,value:d,form:u,bubbleInput:p,setBubbleInput:g}=Dd(Wh,e),m=fr(r,g),f=_s(n),v=As(a);wr.useEffect(()=>{let N=p;if(!N)return;let C=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(C,"checked").set,j=!o.current;if(f!==n&&M){let B=new Event("click",{bubbles:j});N.indeterminate=uo(n),M.call(N,uo(n)?!1:n),N.dispatchEvent(B)}},[p,f,n,o]);let h=wr.useRef(uo(n)?!1:n);return(0,qr.jsx)(Je.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??h.current,required:l,disabled:s,name:c,value:d,form:u,...t,tabIndex:-1,ref:m,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});$h.displayName=Wh;function tk(e){return typeof e=="function"}function uo(e){return e==="indeterminate"}function Yh(e){return uo(e)?"indeterminate":e?"checked":"unchecked"}var dl=w(z(),1),Pd=Kh.forwardRef(({className:e,...t},r)=>(0,dl.jsx)(cl,{ref:r,className:D("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:(0,dl.jsx)(Ed,{className:D("flex items-center justify-center text-current"),children:(0,dl.jsx)(Ja,{className:"h-4 w-4"})})}));Pd.displayName=cl.displayName;var Qh=w(X(),1);var Vh=w(X(),1);var Gh=w(z(),1),ak="Separator",qh="horizontal",ok=["horizontal","vertical"],Xh=Vh.forwardRef((e,t)=>{let{decorative:r,orientation:a=qh,...o}=e,n=nk(a)?a:qh,l=r?{role:"none"}:{"aria-orientation":n==="vertical"?n:void 0,role:"separator"};return(0,Gh.jsx)(Je.div,{"data-orientation":n,...l,...o,ref:t})});Xh.displayName=ak;function nk(e){return ok.includes(e)}var Td=Xh;var Jh=w(z(),1),po=Qh.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},o)=>(0,Jh.jsx)(Td,{ref:o,decorative:r,orientation:t,className:D("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));po.displayName=Td.displayName;var fl=w(X(),1);var Ke=w(X(),1),yt=w(Aa(),1);var ck=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Fo(e,t,r){let a=dk(e),{webkitRelativePath:o}=e,n=typeof t=="string"?t:typeof o=="string"&&o.length>0?o:`./${e.name}`;return typeof a.path!="string"&&iv(a,"path",n),r!==void 0&&Object.defineProperty(a,"handle",{value:r,writable:!1,configurable:!1,enumerable:!0}),iv(a,"relativePath",n),a}function dk(e){let{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){let a=t.split(".").pop().toLowerCase(),o=ck.get(a);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}function iv(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0})}var uk=[".DS_Store","Thumbs.db"];function _d(e){return ro(this,void 0,void 0,function*(){return ul(e)&&pk(e.dataTransfer)?hk(e.dataTransfer,e.type):mk(e)?fk(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?gk(e):[]})}function pk(e){return ul(e)}function mk(e){return ul(e)&&ul(e.target)}function ul(e){return typeof e=="object"&&e!==null}function fk(e){return Ad(e.target.files).map(t=>Fo(t))}function gk(e){return ro(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>r.getFile()))).map(r=>Fo(r))})}function hk(e,t){return ro(this,void 0,void 0,function*(){if(e.items){let r=Ad(e.items).filter(o=>o.kind==="file");if(t!=="drop")return r;let a=yield Promise.all(r.map(vk));return sv(cv(a))}return sv(Ad(e.files).map(r=>Fo(r)))})}function sv(e){return e.filter(t=>uk.indexOf(t.name)===-1)}function Ad(e){if(e===null)return[];let t=[];for(let r=0;r<e.length;r++){let a=e[r];t.push(a)}return t}function vk(e){if(typeof e.webkitGetAsEntry!="function")return lv(e);let t=e.webkitGetAsEntry();return t&&t.isDirectory?dv(t):lv(e,t)}function cv(e){return e.reduce((t,r)=>[...t,...Array.isArray(r)?cv(r):[r]],[])}function lv(e,t){return ro(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){let n=yield e.getAsFileSystemHandle();if(n===null)throw new Error(`${e} is not a File`);if(n!==void 0){let i=yield n.getFile();return i.handle=n,Fo(i)}}let a=e.getAsFile();if(!a)throw new Error(`${e} is not a File`);return Fo(a,(r=t?.fullPath)!==null&&r!==void 0?r:void 0)})}function bk(e){return ro(this,void 0,void 0,function*(){return e.isDirectory?dv(e):yk(e)})}function dv(e){let t=e.createReader();return new Promise((r,a)=>{let o=[];function n(){t.readEntries(i=>ro(this,void 0,void 0,function*(){if(i.length){let l=Promise.all(i.map(bk));o.push(l),n()}else try{let l=yield Promise.all(o);r(l)}catch(l){a(l)}}),i=>{a(i)})}n()})}function yk(e){return ro(this,void 0,void 0,function*(){return new Promise((t,r)=>{e.file(a=>{let o=Fo(a,e.fullPath);t(o)},a=>{r(a)})})})}var pl=w(uv(),1);function pv(e){return kk(e)||xk(e)||bv(e)||wk()}function wk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xk(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kk(e){if(Array.isArray(e))return Ld(e)}function mv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function fv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mv(Object(r),!0).forEach(function(a){vv(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mv(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Di(e,t){return Rk(e)||Ck(e,t)||bv(e,t)||Nk()}function Nk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bv(e,t){if(e){if(typeof e=="string")return Ld(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ld(e,t)}}function Ld(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Ck(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],o=!0,n=!1,i,l;try{for(r=r.call(e);!(o=(i=r.next()).done)&&(a.push(i.value),!(t&&a.length===t));o=!0);}catch(s){n=!0,l=s}finally{try{!o&&r.return!=null&&r.return()}finally{if(n)throw l}}return a}}function Rk(e){if(Array.isArray(e))return e}var Sk=typeof pl.default=="function"?pl.default:pl.default.default,Dk="file-invalid-type",Ek="file-too-large",Pk="file-too-small",Tk="too-many-files";var Ak=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=t.split(","),a=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:Dk,message:"File type must be ".concat(a)}},gv=function(t){return{code:Ek,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},hv=function(t){return{code:Pk,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},yv={code:Tk,message:"Too many files"};function Id(e,t){var r=e.type==="application/x-moz-file"||Sk(e,t);return[r,r?null:Ak(t)]}function Od(e,t,r){if(zo(e.size))if(zo(t)&&zo(r)){if(e.size>r)return[!1,gv(r)];if(e.size<t)return[!1,hv(t)]}else{if(zo(t)&&e.size<t)return[!1,hv(t)];if(zo(r)&&e.size>r)return[!1,gv(r)]}return[!0,null]}function zo(e){return e!=null}function wv(e){var t=e.files,r=e.accept,a=e.minSize,o=e.maxSize,n=e.multiple,i=e.maxFiles,l=e.validator;return!n&&t.length>1||n&&i>=1&&t.length>i?!1:t.every(function(s){var c=Id(s,r),d=Di(c,1),u=d[0],p=Od(s,a,o),g=Di(p,1),m=g[0],f=l?l(s):null;return u&&m&&!f})}function Ei(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Pi(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Fd(e){e.preventDefault()}function _k(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Mk(e){return e.indexOf("Edge/")!==-1}function xv(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return _k(e)||Mk(e)}function ya(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(a){for(var o=arguments.length,n=new Array(o>1?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return t.some(function(l){return!Ei(a)&&l&&l.apply(void 0,[a].concat(n)),Ei(a)})}}function kv(){return"showOpenFilePicker"in window}function Nv(e){if(zo(e)){var t=Object.entries(e).filter(function(r){var a=Di(r,2),o=a[0],n=a[1],i=!0;return Dv(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(n)||!n.every(Ev))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(r,a){var o=Di(a,2),n=o[0],i=o[1];return fv(fv({},r),{},vv({},n,i))},{});return[{description:"Files",accept:t}]}return e}function Cv(e){if(zo(e))return Object.entries(e).reduce(function(t,r){var a=Di(r,2),o=a[0],n=a[1];return[].concat(pv(t),[o],pv(n))},[]).filter(function(t){return Dv(t)||Ev(t)}).join(",")}function Rv(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Sv(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Dv(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function Ev(e){return/^.*\.[\w]+$/.test(e)}var Lk=["children"],Ik=["open"],Ok=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Fk=["refKey","onChange","onClick"];function zk(e){return Bk(e)||Hk(e)||Av(e)||jk()}function jk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hk(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bk(e){if(Array.isArray(e))return jd(e)}function zd(e,t){return $k(e)||Wk(e,t)||Av(e,t)||Uk()}function Uk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Av(e,t){if(e){if(typeof e=="string")return jd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jd(e,t)}}function jd(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Wk(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],o=!0,n=!1,i,l;try{for(r=r.call(e);!(o=(i=r.next()).done)&&(a.push(i.value),!(t&&a.length===t));o=!0);}catch(s){n=!0,l=s}finally{try{!o&&r.return!=null&&r.return()}finally{if(n)throw l}}return a}}function $k(e){if(Array.isArray(e))return e}function Pv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pv(Object(r),!0).forEach(function(a){Hd(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pv(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Hd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ml(e,t){if(e==null)return{};var r=Yk(e,t),a,o;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Yk(e,t){if(e==null)return{};var r={},a=Object.keys(e),o,n;for(n=0;n<a.length;n++)o=a[n],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}var Ud=(0,Ke.forwardRef)(function(e,t){var r=e.children,a=ml(e,Lk),o=Wd(a),n=o.open,i=ml(o,Ik);return(0,Ke.useImperativeHandle)(t,function(){return{open:n}},[n]),Ke.default.createElement(Ke.Fragment,null,r(Ht(Ht({},i),{},{open:n})))});Ud.displayName="Dropzone";var _v={disabled:!1,getFilesFromEvent:_d,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Ud.defaultProps=_v;Ud.propTypes={children:yt.default.func,accept:yt.default.objectOf(yt.default.arrayOf(yt.default.string)),multiple:yt.default.bool,preventDropOnDocument:yt.default.bool,noClick:yt.default.bool,noKeyboard:yt.default.bool,noDrag:yt.default.bool,noDragEventsBubbling:yt.default.bool,minSize:yt.default.number,maxSize:yt.default.number,maxFiles:yt.default.number,disabled:yt.default.bool,getFilesFromEvent:yt.default.func,onFileDialogCancel:yt.default.func,onFileDialogOpen:yt.default.func,useFsAccessApi:yt.default.bool,autoFocus:yt.default.bool,onDragEnter:yt.default.func,onDragLeave:yt.default.func,onDragOver:yt.default.func,onDrop:yt.default.func,onDropAccepted:yt.default.func,onDropRejected:yt.default.func,onError:yt.default.func,validator:yt.default.func};var Bd={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Wd(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Ht(Ht({},_v),e),r=t.accept,a=t.disabled,o=t.getFilesFromEvent,n=t.maxSize,i=t.minSize,l=t.multiple,s=t.maxFiles,c=t.onDragEnter,d=t.onDragLeave,u=t.onDragOver,p=t.onDrop,g=t.onDropAccepted,m=t.onDropRejected,f=t.onFileDialogCancel,v=t.onFileDialogOpen,h=t.useFsAccessApi,N=t.autoFocus,C=t.preventDropOnDocument,F=t.noClick,M=t.noKeyboard,j=t.noDrag,B=t.noDragEventsBubbling,le=t.onError,ee=t.validator,ne=(0,Ke.useMemo)(function(){return Cv(r)},[r]),ue=(0,Ke.useMemo)(function(){return Nv(r)},[r]),A=(0,Ke.useMemo)(function(){return typeof v=="function"?v:Tv},[v]),k=(0,Ke.useMemo)(function(){return typeof f=="function"?f:Tv},[f]),y=(0,Ke.useRef)(null),E=(0,Ke.useRef)(null),x=(0,Ke.useReducer)(Kk,Bd),S=zd(x,2),P=S[0],Y=S[1],be=P.isFocused,K=P.isFileDialogActive,_=(0,Ke.useRef)(typeof window<"u"&&window.isSecureContext&&h&&kv()),re=function(){!_.current&&K&&setTimeout(function(){if(E.current){var _e=E.current.files;_e.length||(Y({type:"closeDialog"}),k())}},300)};(0,Ke.useEffect)(function(){return window.addEventListener("focus",re,!1),function(){window.removeEventListener("focus",re,!1)}},[E,K,k,_]);var Q=(0,Ke.useRef)([]),J=function(_e){y.current&&y.current.contains(_e.target)||(_e.preventDefault(),Q.current=[])};(0,Ke.useEffect)(function(){return C&&(document.addEventListener("dragover",Fd,!1),document.addEventListener("drop",J,!1)),function(){C&&(document.removeEventListener("dragover",Fd),document.removeEventListener("drop",J))}},[y,C]),(0,Ke.useEffect)(function(){return!a&&N&&y.current&&y.current.focus(),function(){}},[y,N,a]);var b=(0,Ke.useCallback)(function(fe){le?le(fe):console.error(fe)},[le]),O=(0,Ke.useCallback)(function(fe){fe.preventDefault(),fe.persist(),So(fe),Q.current=[].concat(zk(Q.current),[fe.target]),Pi(fe)&&Promise.resolve(o(fe)).then(function(_e){if(!(Ei(fe)&&!B)){var Yt=_e.length,Jt=Yt>0&&wv({files:_e,accept:ne,minSize:i,maxSize:n,multiple:l,maxFiles:s,validator:ee}),zr=Yt>0&&!Jt;Y({isDragAccept:Jt,isDragReject:zr,isDragActive:!0,type:"setDraggedFiles"}),c&&c(fe)}}).catch(function(_e){return b(_e)})},[o,c,b,B,ne,i,n,l,s,ee]),U=(0,Ke.useCallback)(function(fe){fe.preventDefault(),fe.persist(),So(fe);var _e=Pi(fe);if(_e&&fe.dataTransfer)try{fe.dataTransfer.dropEffect="copy"}catch{}return _e&&u&&u(fe),!1},[u,B]),$=(0,Ke.useCallback)(function(fe){fe.preventDefault(),fe.persist(),So(fe);var _e=Q.current.filter(function(Jt){return y.current&&y.current.contains(Jt)}),Yt=_e.indexOf(fe.target);Yt!==-1&&_e.splice(Yt,1),Q.current=_e,!(_e.length>0)&&(Y({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Pi(fe)&&d&&d(fe))},[y,d,B]),ie=(0,Ke.useCallback)(function(fe,_e){var Yt=[],Jt=[];fe.forEach(function(zr){var ni=Id(zr,ne),rn=zd(ni,2),pc=rn[0],mc=rn[1],fc=Od(zr,i,n),ls=zd(fc,2),gc=ls[0],hc=ls[1],vc=ee?ee(zr):null;if(pc&&gc&&!vc)Yt.push(zr);else{var bc=[mc,hc];vc&&(bc=bc.concat(vc)),Jt.push({file:zr,errors:bc.filter(function(T0){return T0})})}}),(!l&&Yt.length>1||l&&s>=1&&Yt.length>s)&&(Yt.forEach(function(zr){Jt.push({file:zr,errors:[yv]})}),Yt.splice(0)),Y({acceptedFiles:Yt,fileRejections:Jt,isDragReject:Jt.length>0,type:"setFiles"}),p&&p(Yt,Jt,_e),Jt.length>0&&m&&m(Jt,_e),Yt.length>0&&g&&g(Yt,_e)},[Y,l,ne,i,n,s,p,g,m,ee]),W=(0,Ke.useCallback)(function(fe){fe.preventDefault(),fe.persist(),So(fe),Q.current=[],Pi(fe)&&Promise.resolve(o(fe)).then(function(_e){Ei(fe)&&!B||ie(_e,fe)}).catch(function(_e){return b(_e)}),Y({type:"reset"})},[o,ie,b,B]),de=(0,Ke.useCallback)(function(){if(_.current){Y({type:"openDialog"}),A();var fe={multiple:l,types:ue};window.showOpenFilePicker(fe).then(function(_e){return o(_e)}).then(function(_e){ie(_e,null),Y({type:"closeDialog"})}).catch(function(_e){Rv(_e)?(k(_e),Y({type:"closeDialog"})):Sv(_e)?(_.current=!1,E.current?(E.current.value=null,E.current.click()):b(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):b(_e)});return}E.current&&(Y({type:"openDialog"}),A(),E.current.value=null,E.current.click())},[Y,A,k,h,ie,b,ue,l]),He=(0,Ke.useCallback)(function(fe){!y.current||!y.current.isEqualNode(fe.target)||(fe.key===" "||fe.key==="Enter"||fe.keyCode===32||fe.keyCode===13)&&(fe.preventDefault(),de())},[y,de]),et=(0,Ke.useCallback)(function(){Y({type:"focus"})},[]),Fr=(0,Ke.useCallback)(function(){Y({type:"blur"})},[]),wt=(0,Ke.useCallback)(function(){F||(xv()?setTimeout(de,0):de())},[F,de]),ft=function(_e){return a?null:_e},Dr=function(_e){return M?null:ft(_e)},Ro=function(_e){return j?null:ft(_e)},So=function(_e){B&&_e.stopPropagation()},Zr=(0,Ke.useMemo)(function(){return function(){var fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=fe.refKey,Yt=_e===void 0?"ref":_e,Jt=fe.role,zr=fe.onKeyDown,ni=fe.onFocus,rn=fe.onBlur,pc=fe.onClick,mc=fe.onDragEnter,fc=fe.onDragOver,ls=fe.onDragLeave,gc=fe.onDrop,hc=ml(fe,Ok);return Ht(Ht(Hd({onKeyDown:Dr(ya(zr,He)),onFocus:Dr(ya(ni,et)),onBlur:Dr(ya(rn,Fr)),onClick:ft(ya(pc,wt)),onDragEnter:Ro(ya(mc,O)),onDragOver:Ro(ya(fc,U)),onDragLeave:Ro(ya(ls,$)),onDrop:Ro(ya(gc,W)),role:typeof Jt=="string"&&Jt!==""?Jt:"presentation"},Yt,y),!a&&!M?{tabIndex:0}:{}),hc)}},[y,He,et,Fr,wt,O,U,$,W,M,j,a]),E0=(0,Ke.useCallback)(function(fe){fe.stopPropagation()},[]),P0=(0,Ke.useMemo)(function(){return function(){var fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=fe.refKey,Yt=_e===void 0?"ref":_e,Jt=fe.onChange,zr=fe.onClick,ni=ml(fe,Fk),rn=Hd({accept:ne,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ft(ya(Jt,W)),onClick:ft(ya(zr,E0)),tabIndex:-1},Yt,E);return Ht(Ht({},rn),ni)}},[E,r,l,W,a]);return Ht(Ht({},P),{},{isFocused:be&&!a,getRootProps:Zr,getInputProps:P0,rootRef:y,inputRef:E,open:ft(de)})}function Kk(e,t){switch(t.type){case"focus":return Ht(Ht({},e),{},{isFocused:!0});case"blur":return Ht(Ht({},e),{},{isFocused:!1});case"openDialog":return Ht(Ht({},Bd),{},{isFileDialogActive:!0});case"closeDialog":return Ht(Ht({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Ht(Ht({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Ht(Ht({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Ht({},Bd);default:return e}}function Tv(){}var nt=w(z(),1);function Ti({onUpload:e,accept:t,maxSize:r=15*1024*1024,maxFiles:a=5,className:o}){let[n,i]=(0,fl.useState)(new Map),l=(0,fl.useCallback)(async f=>{let v=new Map(n);f.forEach(h=>{v.set(h.name,{file:h,progress:0,status:"uploading"})}),i(v);try{await e(f),f.forEach(h=>{v.set(h.name,{file:h,progress:100,status:"success"})}),i(new Map(v)),setTimeout(()=>{i(h=>{let N=new Map(h);return f.forEach(C=>{N.get(C.name)?.status==="success"&&N.delete(C.name)}),N})},3e3)}catch{f.forEach(N=>{v.set(N.name,{file:N,progress:0,status:"error",error:"Upload failed"})}),i(new Map(v))}},[e,n]),{getRootProps:s,getInputProps:c,isDragActive:d,fileRejections:u}=Wd({onDrop:l,accept:t,maxSize:r,maxFiles:a}),p=f=>{let v=f.split(".").pop()?.toLowerCase();return["jpg","jpeg","png","gif","svg","webp"].includes(v||"")?gs:["mp4","avi","mov","webm"].includes(v||"")?hs:["zip","rar","7z","tar","gz"].includes(v||"")?fs:["pdf","doc","docx","txt","md"].includes(v||"")?gt:ci},g=f=>f<1024?`${f} B`:f<1024*1024?`${(f/1024).toFixed(1)} KB`:`${(f/(1024*1024)).toFixed(1)} MB`,m=f=>{i(v=>{let h=new Map(v);return h.delete(f),h})};return(0,nt.jsxs)("div",{className:o,children:[(0,nt.jsxs)(Pe,{...s(),className:D("relative border-2 border-dashed transition-all cursor-pointer",d?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400","p-8"),children:[(0,nt.jsx)("input",{...c()}),(0,nt.jsxs)("div",{className:"text-center",children:[(0,nt.jsx)(ta,{className:D("mx-auto w-12 h-12 mb-4",d?"text-blue-500":"text-gray-400")}),(0,nt.jsx)("p",{className:"text-sm font-medium text-gray-900 mb-1",children:d?"Drop files here":"Drop files here or click to browse"}),(0,nt.jsxs)("p",{className:"text-xs text-gray-500",children:["Maximum ",a," files, up to ",g(r)," each"]})]})]}),u.length>0&&(0,nt.jsx)("div",{className:"mt-4 space-y-2",children:u.map(({file:f,errors:v})=>(0,nt.jsxs)("div",{className:"flex items-start space-x-2 text-sm text-red-600",children:[(0,nt.jsx)(pa,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,nt.jsxs)("div",{children:[(0,nt.jsxs)("span",{className:"font-medium",children:[f.name,":"]}),v.map(h=>(0,nt.jsxs)("span",{className:"ml-1",children:[h.code==="file-too-large"&&`File too large (max ${g(r)})`,h.code==="file-invalid-type"&&"Invalid file type",h.code==="too-many-files"&&`Too many files (max ${a})`]},h.code))]})]},f.name))}),n.size>0&&(0,nt.jsx)("div",{className:"mt-4 space-y-3",children:Array.from(n.entries()).map(([f,v])=>{let h=p(f);return(0,nt.jsx)(Pe,{className:"p-4",children:(0,nt.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,nt.jsx)(h,{className:"w-8 h-8 text-gray-400 flex-shrink-0"}),(0,nt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,nt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,nt.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:f}),(0,nt.jsx)(T,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>m(f),children:(0,nt.jsx)(ht,{className:"w-3 h-3"})})]}),(0,nt.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:g(v.file.size)}),v.status==="uploading"&&(0,nt.jsx)(js,{value:v.progress,className:"h-1"}),v.status==="success"&&(0,nt.jsxs)("div",{className:"flex items-center space-x-1 text-green-600",children:[(0,nt.jsx)(vr,{className:"w-4 h-4"}),(0,nt.jsx)("span",{className:"text-xs",children:"Upload complete"})]}),v.status==="error"&&(0,nt.jsxs)("div",{className:"flex items-center space-x-1 text-red-600",children:[(0,nt.jsx)(pa,{className:"w-4 h-4"}),(0,nt.jsx)("span",{className:"text-xs",children:v.error})]})]})]})},f)})})]})}var mo=(o=>(o.TASK="TASK",o.NOTE="NOTE",o.CALENDAR_EVENT="CALENDAR_EVENT",o.MIXED="MIXED",o))(mo||{});var R=w(z(),1),qk={low:{level:"low",dots:1,color:"bg-krushr-priority-low"},medium:{level:"medium",dots:2,color:"bg-krushr-priority-medium"},high:{level:"high",dots:3,color:"bg-krushr-priority-high"},critical:{level:"critical",dots:4,color:"bg-krushr-priority-critical"}},Mv={createVideoMeeting:!0,createCall:!0,kanbanTaskBoard:!0,notes:!0,ganttTimeline:!0,ganttDependency:!1,reminder:!0,notifyTeam:!1,changesNotifyTeam:!1,reminders:[{enabled:!0,timeBefore:"1d",type:"notification"},{enabled:!0,timeBefore:"1h",type:"notification"}]},Lv={enabled:!1,pattern:"weekly",interval:1,daysOfWeek:[]};function Ai({open:e,onClose:t,onSuccess:r,initialData:a,contentType:o="TASK",workspaceId:n,projectId:i,kanbanColumnId:l,showWorkflowToggles:s=!0,showFileUploads:c=!0,allowContentTypeSwitch:d=!1,compactMode:u=!1,requiredFields:p=["title"],maxTitleLength:g=200,maxDescriptionLength:m=5e3}){let[f,v]=(0,Pt.useState)(()=>({contentType:o,title:"",description:"",priority:"medium",tags:[],allDay:!1,status:"TODO",teamMembers:[],checklist:[],subtasks:[],attachments:[],workflow:Mv,recurring:Lv,workspaceId:n,...a})),[h,N]=(0,Pt.useState)(""),[C,F]=(0,Pt.useState)(""),[M,j]=(0,Pt.useState)({dates:!0,description:!0,checklist:!1,subtasks:!1,files:!1,workflow:!0}),[B,le]=(0,Pt.useState)({isValid:!0,errors:{},warnings:{}}),{data:ee=[]}=q.user.listWorkspaceMembers.useQuery({workspaceId:n},{enabled:!!n}),{data:ne=[]}=q.project.list.useQuery({workspaceId:n},{enabled:!!n}),{data:ue=[]}=q.template.list.useQuery({workspaceId:n},{enabled:!!n}),A=q.task.create.useMutation({onSuccess:W=>{r?.(f,"TASK"),t(),be()}}),k=q.notes?.create?.useMutation?.({onSuccess:W=>{r?.(f,"NOTE"),t(),be()}})||{mutate:()=>{},isLoading:!1},y=q.upload.uploadTaskFile?.useMutation?.()||{mutate:()=>{},isLoading:!1},E=(0,Pt.useCallback)((W,de)=>{v(He=>({...He,[W]:de}))},[]),x=(0,Pt.useCallback)(async W=>{try{let de=[];for(let He of W){let et={name:He.name,size:He.size,type:He.type,file:He};de.push(et)}E("attachments",[...f.attachments,...de])}catch(de){console.error("File preparation error:",de)}},[f.attachments,E]),S=(0,Pt.useCallback)(W=>{let de=f.attachments.filter((He,et)=>et!==W);E("attachments",de)},[f.attachments,E]),P=(0,Pt.useMemo)(()=>!!f.id,[f.id]),Y=(0,Pt.useMemo)(()=>A.isLoading||k.isLoading||y.isLoading,[A.isLoading,k.isLoading,y.isLoading]),be=(0,Pt.useCallback)(()=>{v({contentType:o,title:"",description:"",priority:"medium",tags:[],allDay:!1,status:"TODO",teamMembers:[],checklist:[],subtasks:[],attachments:[],workflow:Mv,recurring:Lv,workspaceId:n,...a}),N(""),F(""),le({isValid:!0,errors:{},warnings:{}})},[o,n,a]),K=(0,Pt.useCallback)(()=>{let W={},de={};p.includes("title")&&!f.title.trim()&&(W.title="Title is required"),f.title.length>g&&(W.title=`Title must be less than ${g} characters`),f.description.length>m&&(W.description=`Description must be less than ${m} characters`),f.startDate&&f.endDate&&f.startDate>f.endDate&&(W.dates="Start date must be before end date"),f.contentType==="TASK"&&!f.assigneeId&&(de.assignee="Consider assigning this task to someone");let He={isValid:Object.keys(W).length===0,errors:W,warnings:de};return le(He),He},[f,p,g,m]),_=(0,Pt.useCallback)(async()=>{if(K().isValid)try{switch(f.contentType){case"TASK":await A.mutateAsync({title:f.title,description:f.description,priority:f.priority,status:f.status,dueDate:f.endDate?.toISOString(),assigneeId:f.assigneeId,estimatedHours:f.estimatedHours,tags:f.tags,workspaceId:f.workspaceId,projectId:i||f.projectId,kanbanColumnId:l||f.kanbanColumnId});break;case"NOTE":k.mutate({title:f.title,content:f.description,tags:f.tags,workspaceId:f.workspaceId});break;case"CALENDAR_EVENT":console.log("Calendar event creation not yet implemented");break;case"MIXED":console.log("Mixed content creation not yet implemented");break}}catch(de){console.error("Form submission error:",de)}},[f,K,A,k,i,l]),re=(0,Pt.useCallback)(W=>{j(de=>({...de,[W]:!de[W]}))},[]),Q=(0,Pt.useCallback)(()=>{h&&!f.tags.includes(h)&&(E("tags",[...f.tags,h]),N(""))},[h,f.tags,E]),J=(0,Pt.useCallback)(W=>{E("tags",f.tags.filter(de=>de!==W))},[f.tags,E]),b=(0,Pt.useCallback)(()=>{if(C.trim()){let W={text:C.trim(),completed:!1,order:f.checklist.length};E("checklist",[...f.checklist,W]),F("")}},[C,f.checklist,E]),O=(0,Pt.useCallback)((W,de)=>{let He=[...f.checklist];He[W]={...He[W],...de},E("checklist",He)},[f.checklist,E]),U=(0,Pt.useCallback)(W=>{E("checklist",f.checklist.filter((de,He)=>He!==W))},[f.checklist,E]),$=(0,Pt.useCallback)(W=>{let de=qk[W];return(0,R.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:5},(He,et)=>(0,R.jsx)("div",{className:D("w-3 h-3 rounded-full",et<de.dots?de.color:"bg-gray-200")},et))})},[]),ie=(0,Pt.useCallback)((W,de,He=!1)=>(0,R.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,R.jsx)(Ct,{className:"text-base font-medium",children:W}),(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[He&&(0,R.jsx)(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,R.jsx)(bn,{className:"h-4 w-4 text-gray-400"})}),(0,R.jsx)(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>re(de),children:M[de]?(0,R.jsx)(Om,{className:"h-4 w-4 text-gray-400"}):(0,R.jsx)(sr,{className:"h-4 w-4 text-gray-400"})})]})]}),[M,re]);return(0,Pt.useEffect)(()=>{a&&v(W=>({...W,...a}))},[a]),(0,R.jsx)(nr,{open:e,onOpenChange:t,children:(0,R.jsxs)(er,{className:"max-w-5xl max-h-[95vh] overflow-hidden p-0",children:[(0,R.jsx)(Pr,{className:"px-6 py-4 border-b",children:(0,R.jsxs)(Tr,{className:"flex items-center justify-between",children:[(0,R.jsx)("span",{children:P?"Edit Item":"New Item"}),d&&(0,R.jsxs)(ao,{value:f.contentType,onValueChange:W=>E("contentType",W),children:[(0,R.jsx)(no,{className:"w-40",children:(0,R.jsx)(oo,{})}),(0,R.jsxs)(io,{children:[(0,R.jsx)(It,{value:"TASK",children:"Task"}),(0,R.jsx)(It,{value:"NOTE",children:"Note"}),(0,R.jsx)(It,{value:"CALENDAR_EVENT",children:"Calendar Event"}),(0,R.jsx)(It,{value:"MIXED",children:"Mixed"})]})]})]})}),(0,R.jsx)(_o,{className:"flex-1 px-6",children:(0,R.jsxs)("div",{className:"py-6 space-y-8",children:[(0,R.jsx)(Pe,{children:(0,R.jsxs)(Qe,{className:"pt-6",children:[(0,R.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,R.jsx)("div",{className:"w-32 h-20 bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg flex items-center justify-center",children:(0,R.jsx)(pi,{className:"w-8 h-8 text-blue-600"})}),(0,R.jsx)("div",{className:"w-32 h-20 bg-gradient-to-br from-green-100 to-green-200 rounded-lg flex items-center justify-center",children:(0,R.jsx)(Rs,{className:"w-8 h-8 text-green-600"})}),(0,R.jsx)("div",{className:"w-32 h-20 bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg flex items-center justify-center",children:(0,R.jsx)(xt,{className:"w-8 h-8 text-purple-600"})})]}),(0,R.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,R.jsxs)("div",{className:"flex-1",children:[(0,R.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,R.jsx)(Ie,{value:f.title,onChange:W=>E("title",W.target.value),label:"Enter title...",className:"text-2xl font-medium text-krushr-primary",maxLength:g}),(0,R.jsx)(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,R.jsx)(bn,{className:"h-4 w-4 text-gray-400"})})]}),(0,R.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[f.tags.map(W=>(0,R.jsxs)(ye,{variant:"secondary",className:"gap-1",children:[W,(0,R.jsx)(T,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:text-destructive",onClick:()=>J(W),children:(0,R.jsx)(ht,{className:"h-3 w-3"})})]},W)),(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[(0,R.jsx)(Ie,{value:h,onChange:W=>N(W.target.value),onKeyPress:W=>W.key==="Enter"&&Q(),label:"+ Add Tag",className:"w-24 h-7 text-xs"}),(0,R.jsx)(T,{variant:"outline",size:"sm",onClick:Q,className:"h-7 px-2",children:(0,R.jsx)(je,{className:"w-3 h-3"})})]})]})]}),(0,R.jsxs)("div",{className:"ml-6",children:[(0,R.jsx)(Ct,{className:"text-sm text-gray-600 mb-2 block",children:"Priority"}),(0,R.jsxs)(ao,{value:f.priority,onValueChange:W=>E("priority",W),children:[(0,R.jsx)(no,{className:"w-32",children:(0,R.jsx)(oo,{children:$(f.priority)})}),(0,R.jsx)(io,{children:Object.values(Nn).map(W=>(0,R.jsx)(It,{value:W,children:(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[$(W),(0,R.jsx)("span",{className:"capitalize",children:W.toLowerCase()})]})},W))})]})]})]}),(0,R.jsxs)("div",{className:"flex items-center gap-4",children:[(0,R.jsx)("div",{className:"flex items-center",children:(0,R.jsxs)("div",{className:"flex -space-x-2 mr-2",children:[f.teamMembers.slice(0,3).map((W,de)=>(0,R.jsxs)(ut,{className:"w-8 h-8 border-2 border-white",children:[(0,R.jsx)(jt,{src:W.avatar}),(0,R.jsx)(bt,{className:"text-xs",children:W.name.charAt(0)})]},W.userId)),f.teamMembers.length>3&&(0,R.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center",children:(0,R.jsxs)("span",{className:"text-xs font-medium",children:["+",f.teamMembers.length-3]})})]})}),(0,R.jsxs)("div",{children:[(0,R.jsx)("div",{className:"font-medium",children:"Design Team"}),(0,R.jsxs)("div",{className:"text-sm text-gray-500",children:["Last updated by ",f.lastUpdatedBy||"Unknown"," at ",kt(new Date,"h:mm a, M/d/yy")]})]})]})]})}),(0,R.jsxs)("div",{className:"grid grid-cols-3 gap-8",children:[(0,R.jsxs)("div",{className:"col-span-2 space-y-6",children:[(f.contentType==="CALENDAR_EVENT"||f.contentType==="MIXED")&&(0,R.jsxs)("div",{className:"flex items-center justify-between",children:[(0,R.jsx)(Ct,{children:"All Day"}),(0,R.jsx)(Wa,{checked:f.allDay,onCheckedChange:W=>E("allDay",W)})]}),(0,R.jsxs)(Pe,{children:[(0,R.jsx)(st,{className:"pb-3",children:ie("Dates","dates")}),M.dates&&(0,R.jsxs)(Qe,{className:"space-y-4",children:[(0,R.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)(Ct,{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Start Date"}),(0,R.jsxs)(Yr,{children:[(0,R.jsx)(Kr,{asChild:!0,children:(0,R.jsxs)(T,{variant:"outline",className:D("w-full justify-start text-left font-normal mt-1",!f.startDate&&"text-muted-foreground"),children:[(0,R.jsx)(Ae,{className:"mr-2 h-4 w-4"}),f.startDate?kt(f.startDate,"MMM dd"):"Start Date"]})}),(0,R.jsx)(Ar,{className:"w-auto p-0",children:(0,R.jsx)(la,{mode:"single",selected:f.startDate,onSelect:W=>E("startDate",W),initialFocus:!0})})]})]}),!f.allDay&&(0,R.jsx)("div",{children:(0,R.jsx)(Ie,{type:"time",value:f.startTime||"",onChange:W=>E("startTime",W.target.value),label:"Time",className:"mt-1"})}),(0,R.jsxs)("div",{children:[(0,R.jsx)(Ct,{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Duration"}),(0,R.jsxs)(ao,{value:f.duration||"",onValueChange:W=>E("duration",W),children:[(0,R.jsx)(no,{className:"mt-1",children:(0,R.jsx)(oo,{placeholder:"Duration"})}),(0,R.jsxs)(io,{children:[(0,R.jsx)(It,{value:"15m",children:"15 minutes"}),(0,R.jsx)(It,{value:"30m",children:"30 minutes"}),(0,R.jsx)(It,{value:"1h",children:"1 hour"}),(0,R.jsx)(It,{value:"2h",children:"2 hours"}),(0,R.jsx)(It,{value:"4h",children:"4 hours"}),(0,R.jsx)(It,{value:"1d",children:"1 day"})]})]})]})]}),(0,R.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)(Ct,{className:"text-xs text-gray-500 uppercase tracking-wide",children:"End Date"}),(0,R.jsxs)(Yr,{children:[(0,R.jsx)(Kr,{asChild:!0,children:(0,R.jsxs)(T,{variant:"outline",className:D("w-full justify-start text-left font-normal mt-1",!f.endDate&&"text-muted-foreground"),children:[(0,R.jsx)(Ae,{className:"mr-2 h-4 w-4"}),f.endDate?kt(f.endDate,"MMM dd"):"End Date"]})}),(0,R.jsx)(Ar,{className:"w-auto p-0",children:(0,R.jsx)(la,{mode:"single",selected:f.endDate,onSelect:W=>E("endDate",W),initialFocus:!0})})]})]}),!f.allDay&&(0,R.jsx)("div",{children:(0,R.jsx)(Ie,{type:"time",value:f.endTime||"",onChange:W=>E("endTime",W.target.value),label:"End Time",className:"mt-1"})})]})]})]}),(f.contentType==="CALENDAR_EVENT"||f.contentType==="MIXED")&&(0,R.jsx)("div",{children:(0,R.jsx)(Ie,{value:f.calendar||"",onChange:W=>E("calendar",W.target.value),label:"Calendar Email",className:"mt-1"})}),(f.contentType==="CALENDAR_EVENT"||f.contentType==="MIXED")&&(0,R.jsxs)("div",{children:[(0,R.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,R.jsx)(Ct,{children:"Recurring"}),(0,R.jsx)(Wa,{checked:f.recurring.enabled,onCheckedChange:W=>E("recurring",{...f.recurring,enabled:W})})]}),f.recurring.enabled&&(0,R.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,R.jsxs)(Yr,{children:[(0,R.jsx)(Kr,{asChild:!0,children:(0,R.jsxs)(T,{variant:"outline",className:"justify-start",children:[(0,R.jsx)(Ae,{className:"mr-2 h-4 w-4"}),f.recurring.startDate?kt(f.recurring.startDate,"PPP"):"Start Date"]})}),(0,R.jsx)(Ar,{className:"w-auto p-0",children:(0,R.jsx)(la,{mode:"single",selected:f.recurring.startDate,onSelect:W=>E("recurring",{...f.recurring,startDate:W}),initialFocus:!0})})]}),(0,R.jsxs)(Yr,{children:[(0,R.jsx)(Kr,{asChild:!0,children:(0,R.jsxs)(T,{variant:"outline",className:"justify-start",children:[(0,R.jsx)(Ae,{className:"mr-2 h-4 w-4"}),f.recurring.endDate?kt(f.recurring.endDate,"PPP"):"End Date"]})}),(0,R.jsx)(Ar,{className:"w-auto p-0",children:(0,R.jsx)(la,{mode:"single",selected:f.recurring.endDate,onSelect:W=>E("recurring",{...f.recurring,endDate:W}),initialFocus:!0})})]})]})]}),(0,R.jsxs)(Pe,{children:[(0,R.jsx)(st,{className:"pb-3",children:ie("Description & Notes","description",!0)}),M.description&&(0,R.jsxs)(Qe,{className:"space-y-4",children:[(0,R.jsx)("div",{className:"border rounded-lg p-4",children:(0,R.jsx)(Ba,{value:f.description,onChange:W=>E("description",W.target.value),placeholder:"Add a detailed description...",className:"min-h-[120px] border-0 resize-none focus-visible:ring-0",maxLength:m})}),(0,R.jsxs)("div",{className:"flex items-center justify-center gap-1 py-2 border-t",children:[(0,R.jsx)(T,{variant:"ghost",size:"sm",children:(0,R.jsx)(bn,{className:"h-4 w-4"})}),(0,R.jsx)(T,{variant:"ghost",size:"sm",children:(0,R.jsx)(ht,{className:"h-4 w-4"})}),(0,R.jsx)(po,{orientation:"vertical",className:"h-6"}),(0,R.jsx)(T,{variant:"ghost",size:"sm",className:"font-bold",children:"B"}),(0,R.jsx)(T,{variant:"ghost",size:"sm",className:"italic",children:"I"}),(0,R.jsx)(T,{variant:"ghost",size:"sm",className:"underline",children:"U"}),(0,R.jsx)(po,{orientation:"vertical",className:"h-6"}),(0,R.jsx)(T,{variant:"ghost",size:"sm",children:"\u2022"}),(0,R.jsx)(T,{variant:"ghost",size:"sm",children:"1."}),(0,R.jsx)(T,{variant:"ghost",size:"sm",children:(0,R.jsx)(Km,{className:"h-4 w-4"})}),(0,R.jsx)(T,{variant:"ghost",size:"sm",children:"@"}),(0,R.jsx)(T,{variant:"ghost",size:"sm",children:"\u{1F60A}"}),(0,R.jsx)(ye,{variant:"secondary",className:"text-xs",children:"Tag"})]})]})]}),(0,R.jsxs)(Pe,{children:[(0,R.jsx)(st,{className:"pb-3",children:ie("Checklist","checklist",!0)}),M.checklist&&(0,R.jsxs)(Qe,{className:"space-y-4",children:[f.checklist.map((W,de)=>(0,R.jsxs)("div",{className:"flex items-center gap-3",children:[(0,R.jsx)(Pd,{checked:W.completed,onCheckedChange:He=>O(de,{completed:!!He})}),(0,R.jsx)(Ie,{label:"Checklist item",value:W.text,onChange:He=>O(de,{text:He.target.value}),className:"flex-1"}),(0,R.jsx)(T,{variant:"ghost",size:"sm",onClick:()=>U(de),className:"h-8 w-8 p-0 text-krushr-secondary hover:text-krushr-secondary-600",children:(0,R.jsx)(ht,{className:"h-4 w-4"})})]},de)),(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[(0,R.jsx)(Ie,{value:C,onChange:W=>F(W.target.value),onKeyPress:W=>W.key==="Enter"&&b(),label:"Add new item...",className:"flex-1"}),(0,R.jsx)(T,{variant:"outline",size:"sm",onClick:b,children:(0,R.jsx)(je,{className:"w-4 h-4"})})]})]})]}),c&&(0,R.jsxs)(Pe,{children:[(0,R.jsx)(st,{className:"pb-3",children:ie("Files","files",!0)}),M.files&&(0,R.jsxs)(Qe,{className:"space-y-4",children:[f.attachments.map((W,de)=>{let He=(W.size/1024).toFixed(1),et=W.type?.startsWith("image/");return(0,R.jsxs)("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[(0,R.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden",children:et&&W.file?(0,R.jsx)("img",{src:URL.createObjectURL(W.file),alt:W.name,className:"w-full h-full object-cover"}):(0,R.jsx)(pi,{className:"w-6 h-6 text-gray-500"})}),(0,R.jsxs)("div",{className:"flex-1",children:[(0,R.jsx)("div",{className:"font-medium truncate",children:W.name}),(0,R.jsxs)("div",{className:"text-sm text-gray-500",children:[He," KB"]})]}),(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[W.url&&(0,R.jsx)(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-krushr-info hover:text-krushr-info-600",onClick:()=>window.open(W.url,"_blank"),children:(0,R.jsx)(br,{className:"h-4 w-4"})}),(0,R.jsx)(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-krushr-secondary hover:text-krushr-secondary-600",onClick:()=>S(de),children:(0,R.jsx)(Hr,{className:"h-4 w-4"})})]})]},de)}),(0,R.jsx)(Ti,{onUpload:x,accept:{"image/*":[".jpg",".jpeg",".png",".gif",".webp"],"application/pdf":[".pdf"],"text/*":[".txt",".md"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"]},maxSize:10*1024*1024,maxFiles:5,className:"mt-4"})]})]})]}),(0,R.jsxs)("div",{className:"space-y-6",children:[(0,R.jsxs)(Pe,{children:[(0,R.jsx)(st,{children:(0,R.jsx)(_t,{children:"Workflow"})}),(0,R.jsx)(Qe,{className:"space-y-4",children:(0,R.jsxs)("div",{className:"space-y-3",children:[(0,R.jsxs)(T,{variant:"outline",className:"w-full justify-start",children:[(0,R.jsx)(Jm,{className:"w-4 h-4 mr-2 text-krushr-success"}),"Load Template"]}),(0,R.jsxs)(T,{variant:"outline",className:"w-full justify-start",children:[(0,R.jsx)(lf,{className:"w-4 h-4 mr-2 text-krushr-secondary"}),"Set As Template"]}),(0,R.jsxs)(T,{variant:"outline",className:"w-full justify-start",children:[(0,R.jsx)(ef,{className:"w-4 h-4 mr-2 text-krushr-info"}),"Share"]}),(0,R.jsxs)(T,{className:"w-full justify-start bg-krushr-secondary hover:bg-krushr-secondary-600",children:[(0,R.jsx)(je,{className:"w-4 h-4 mr-2"}),"Team"]}),(0,R.jsxs)(T,{className:"w-full justify-start bg-krushr-primary hover:bg-krushr-primary-700",children:[(0,R.jsx)(je,{className:"w-4 h-4 mr-2"}),"User"]})]})})]}),s&&(0,R.jsxs)(Pe,{children:[(0,R.jsx)(st,{children:(0,R.jsx)(_t,{children:"Workflow Additions"})}),(0,R.jsxs)(Qe,{className:"space-y-4",children:[Object.entries({"Create video meeting":"createVideoMeeting","Create call":"createCall","Kanban task board":"kanbanTaskBoard",Notes:"notes","Gantt timeline":"ganttTimeline","Gantt Dependency":"ganttDependency",Reminder:"reminder","Notify team":"notifyTeam","Changes notify team":"changesNotifyTeam"}).map(([W,de])=>(0,R.jsxs)("div",{className:"flex items-center justify-between",children:[(0,R.jsx)(Ct,{className:"text-sm",children:W}),(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[(0,R.jsx)(Wa,{checked:f.workflow[de],onCheckedChange:He=>E("workflow",{...f.workflow,[de]:He})}),["kanbanTaskBoard","notes","ganttTimeline"].includes(de)&&(0,R.jsx)(T,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:(0,R.jsx)(sr,{className:"h-4 w-4 text-gray-400"})})]})]},de)),f.workflow.reminder&&(0,R.jsxs)("div",{className:"pl-6 space-y-2 border-l-2 border-gray-200",children:[f.workflow.reminders.map((W,de)=>(0,R.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,R.jsx)("div",{className:"w-2 h-2 rounded-full bg-krushr-warning mr-3"}),(0,R.jsx)("span",{className:"text-sm",children:W.timeBefore==="1d"?"1 Day Prior":"1 Hour Prior"})]},de)),(0,R.jsx)("div",{className:"text-krushr-primary text-lg font-bold cursor-pointer hover:text-krushr-primary-700",children:"+"})]})]})]}),(0,R.jsx)(Pe,{children:(0,R.jsxs)(Qe,{className:"pt-6 space-y-3",children:[(0,R.jsxs)(T,{className:"w-full justify-start bg-krushr-success hover:bg-krushr-success-600",onClick:()=>{},children:[(0,R.jsx)(Fm,{className:"w-4 h-4 mr-2"}),"Mark As Complete"]}),(0,R.jsxs)(T,{variant:"destructive",className:"w-full justify-start",onClick:()=>{},children:[(0,R.jsx)(Hr,{className:"w-4 h-4 mr-2"}),"Delete"]}),(0,R.jsxs)(T,{className:"w-full justify-start bg-krushr-primary hover:bg-krushr-primary-700",onClick:_,disabled:Y||!B.isValid,children:[(0,R.jsx)(za,{className:"w-4 h-4 mr-2"}),Y?"Saving...":"Save Changes"]})]})})]})]})]})}),Object.keys(B.errors).length>0&&(0,R.jsx)("div",{className:"px-6 py-3 border-t bg-krushr-secondary-50",children:(0,R.jsx)("div",{className:"text-sm text-krushr-secondary-600",children:Object.values(B.errors).join(", ")})})]})})}var Ne=w(z(),1);function $d(){let[e,t]=(0,hl.useState)(!1),[r,a]=(0,hl.useState)("TASK"),[o,n]=(0,hl.useState)([]),i=(d,u)=>{console.log("Form submitted successfully:",{data:d,contentType:u});let p={id:Date.now().toString(),title:d.title,type:u,createdAt:new Date};n(g=>[p,...g.slice(0,4)])},l=d=>{a(d),t(!0)},s=d=>{switch(d){case"TASK":return(0,Ne.jsx)(wc,{className:"w-4 h-4"});case"NOTE":return(0,Ne.jsx)(gt,{className:"w-4 h-4"});case"CALENDAR_EVENT":return(0,Ne.jsx)(Ae,{className:"w-4 h-4"});default:return(0,Ne.jsx)(je,{className:"w-4 h-4"})}},c=d=>{switch(d){case"TASK":return"bg-blue-100 text-blue-800";case"NOTE":return"bg-green-100 text-green-800";case"CALENDAR_EVENT":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return(0,Ne.jsxs)("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Universal Input Form Demo"}),(0,Ne.jsx)("p",{className:"text-gray-600",children:"Comprehensive form for creating tasks, notes, calendar events, and mixed content"})]}),(0,Ne.jsxs)(Pe,{children:[(0,Ne.jsx)(st,{children:(0,Ne.jsx)(_t,{children:"Quick Actions"})}),(0,Ne.jsxs)(Qe,{children:[(0,Ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ne.jsxs)(T,{onClick:()=>l("TASK"),className:"h-24 flex flex-col items-center justify-center gap-2",variant:"outline",children:[(0,Ne.jsx)(wc,{className:"w-8 h-8 text-blue-600"}),(0,Ne.jsx)("span",{children:"Create Task"})]}),(0,Ne.jsxs)(T,{onClick:()=>l("NOTE"),className:"h-24 flex flex-col items-center justify-center gap-2",variant:"outline",children:[(0,Ne.jsx)(gt,{className:"w-8 h-8 text-green-600"}),(0,Ne.jsx)("span",{children:"Create Note"})]}),(0,Ne.jsxs)(T,{onClick:()=>l("CALENDAR_EVENT"),className:"h-24 flex flex-col items-center justify-center gap-2",variant:"outline",children:[(0,Ne.jsx)(Ae,{className:"w-8 h-8 text-purple-600"}),(0,Ne.jsx)("span",{children:"Create Event"})]})]}),(0,Ne.jsx)("div",{className:"mt-4 pt-4 border-t",children:(0,Ne.jsxs)(T,{onClick:()=>l("MIXED"),className:"w-full",variant:"default",children:[(0,Ne.jsx)(je,{className:"w-4 h-4 mr-2"}),"Universal Form (All Types)"]})})]})]}),o.length>0&&(0,Ne.jsxs)(Pe,{children:[(0,Ne.jsx)(st,{children:(0,Ne.jsx)(_t,{children:"Recently Created"})}),(0,Ne.jsx)(Qe,{children:(0,Ne.jsx)("div",{className:"space-y-3",children:o.map(d=>(0,Ne.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[(0,Ne.jsxs)("div",{className:"flex items-center gap-3",children:[s(d.type),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("div",{className:"font-medium",children:d.title}),(0,Ne.jsx)("div",{className:"text-sm text-gray-500",children:d.createdAt.toLocaleString()})]})]}),(0,Ne.jsx)(ye,{variant:"secondary",className:c(d.type),children:d.type.toLowerCase().replace("_"," ")})]},d.id))})})]}),(0,Ne.jsxs)(Pe,{children:[(0,Ne.jsx)(st,{children:(0,Ne.jsx)(_t,{children:"Form Features"})}),(0,Ne.jsx)(Qe,{children:(0,Ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("h3",{className:"font-semibold mb-3",children:"Content Creation"}),(0,Ne.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,Ne.jsx)("li",{children:"\u2022 Multi-content type support"}),(0,Ne.jsx)("li",{children:"\u2022 Rich text editing with toolbar"}),(0,Ne.jsx)("li",{children:"\u2022 Priority and tag management"}),(0,Ne.jsx)("li",{children:"\u2022 Team assignment"}),(0,Ne.jsx)("li",{children:"\u2022 Due dates and scheduling"})]})]}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("h3",{className:"font-semibold mb-3",children:"Advanced Features"}),(0,Ne.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,Ne.jsx)("li",{children:"\u2022 File attachments with drag & drop"}),(0,Ne.jsx)("li",{children:"\u2022 Recurring events"}),(0,Ne.jsx)("li",{children:"\u2022 Workflow automation toggles"}),(0,Ne.jsx)("li",{children:"\u2022 Checklist and subtasks"}),(0,Ne.jsx)("li",{children:"\u2022 Form validation and error handling"})]})]})]})})]}),(0,Ne.jsx)(Ai,{open:e,onClose:()=>t(!1),onSuccess:i,contentType:r,workspaceId:"demo-workspace-id",projectId:"demo-project-id",kanbanColumnId:"demo-column-id",showWorkflowToggles:!0,showFileUploads:!0,allowContentTypeSwitch:r==="MIXED",initialData:{priority:"medium",status:"TODO",tags:[],workflow:{createVideoMeeting:!0,createCall:!0,kanbanTaskBoard:!0,notes:!0,ganttTimeline:!0,ganttDependency:!1,reminder:!0,notifyTeam:!1,changesNotifyTeam:!1,reminders:[{enabled:!0,timeBefore:"1d",type:"notification"},{enabled:!0,timeBefore:"1h",type:"notification"}]}}})]})}var jo=w(X(),1);var H=w(z(),1),Vk={contentType:"TASK",title:"",description:"",priority:"medium",tags:[],allDay:!1,status:"TODO",teamMembers:[],checklist:[],subtasks:[],attachments:[],assigneeId:void 0,workflow:{createVideoMeeting:!1,createCall:!1,kanbanTaskBoard:!1,notes:!1,ganttTimeline:!1,ganttDependency:!1,reminder:!1,notifyTeam:!1,changesNotifyTeam:!1,reminders:[]},recurring:{enabled:!1,pattern:"weekly",endDate:void 0},workspaceId:""};function _i({contentType:e="TASK",workspaceId:t,initialData:r={},onSuccess:a,onClose:o,integrationMode:n="panel",maxHeight:i="400px",showHeader:l=!0}){let[s,c]=(0,jo.useState)({...Vk,contentType:e,workspaceId:t,...r}),[d,u]=(0,jo.useState)(""),[p,g]=(0,jo.useState)(""),[m,f]=(0,jo.useState)({basic:!0,dates:!1,team:!1,workflow:!1,checklist:!1}),v=(0,jo.useCallback)((y,E)=>{c(x=>({...x,[y]:E}))},[]),h=q.task.create.useMutation(),N=q.checklist.create.useMutation(),C=q.checklist.addItem.useMutation(),F=q.notes?.create?.useMutation?.({onSuccess:y=>{a?.(s,"NOTE"),o?.()}})||{mutate:()=>{},isLoading:!1},M=y=>{f(E=>({...E,[y]:!E[y]}))},j=()=>{d.trim()&&!s.tags.includes(d.trim())&&(v("tags",[...s.tags,d.trim()]),u(""))},B=y=>{v("tags",s.tags.filter(E=>E!==y))},le=()=>{if(p.trim()){let y={id:`temp-${Date.now()}`,text:p.trim(),completed:!1,order:s.checklist.length};v("checklist",[...s.checklist,y]),g("")}},ee=y=>{v("checklist",s.checklist.filter(E=>E.id!==y))},ne=y=>{v("checklist",s.checklist.map(E=>E.id===y?{...E,completed:!E.completed}:E))},ue=y=>{let E={low:"bg-krushr-priority-low",medium:"bg-krushr-priority-medium",high:"bg-krushr-priority-high",critical:"bg-krushr-priority-critical"},x={low:1,medium:2,high:3,critical:4};return(0,H.jsx)("div",{className:"flex gap-0.5",children:Array.from({length:x[y]}).map((S,P)=>(0,H.jsx)("div",{className:D("w-1.5 h-1.5 rounded-full",E[y])},P))})},A=async()=>{if(s.title.trim())try{switch(s.contentType){case"TASK":let y=await h.mutateAsync({title:s.title,description:s.description,priority:s.priority,status:s.status,workspaceId:s.workspaceId,tags:s.tags,startDate:s.startDate,endDate:s.endDate,assigneeId:s.assigneeId,projectId:s.projectId,kanbanColumnId:s.kanbanColumnId});if(s.checklist.length>0&&y.id)try{let E=await N.mutateAsync({taskId:y.id,title:"Task Checklist"});for(let x of s.checklist)x.text.trim()&&await C.mutateAsync({checklistId:E.id,text:x.text.trim()})}catch(E){console.error("Failed to create checklist:",E)}a?.(s,"TASK"),o?.();break;case"NOTE":await F.mutateAsync({title:s.title,content:s.description,workspaceId:s.workspaceId,tags:s.tags}),a?.(s,"NOTE"),o?.();break;default:console.log("Creating:",s.contentType,s)}}catch(y){console.error("Failed to create item:",y)}},k=h.isLoading||F.isLoading;return(0,H.jsxs)("div",{className:D("bg-white border rounded-lg overflow-hidden",n==="modal"&&"shadow-lg",n==="panel"&&"border-gray-200",n==="inline"&&"border-transparent"),children:[l&&(0,H.jsxs)("div",{className:"flex items-center justify-between p-3 border-b bg-gray-50",children:[(0,H.jsxs)("div",{className:"flex items-center gap-2",children:[(0,H.jsxs)(ao,{value:s.contentType,onValueChange:y=>v("contentType",y),children:[(0,H.jsx)(no,{className:"h-7 w-auto text-sm border-none bg-transparent p-1",children:(0,H.jsx)(oo,{})}),(0,H.jsxs)(io,{children:[(0,H.jsx)(It,{value:"TASK",children:"\u{1F4CB} Task"}),(0,H.jsx)(It,{value:"NOTE",children:"\u{1F4DD} Note"}),(0,H.jsx)(It,{value:mo.EVENT,children:"\u{1F4C5} Event"}),(0,H.jsx)(It,{value:"CALENDAR_EVENT",children:"\u{1F5D3}\uFE0F Calendar"})]})]}),(0,H.jsx)("div",{className:"flex items-center gap-1",children:ue(s.priority)})]}),o&&(0,H.jsx)(T,{variant:"ghost",size:"sm",onClick:o,className:"h-6 w-6 p-0",children:(0,H.jsx)(ht,{className:"h-3 w-3"})})]}),(0,H.jsx)("div",{className:"overflow-y-auto",style:{maxHeight:i},children:(0,H.jsxs)("div",{className:"p-3 space-y-3",children:[(0,H.jsxs)("div",{className:"space-y-2",children:[(0,H.jsx)(Ie,{label:"What needs to be done?",value:s.title,onChange:y=>v("title",y.target.value),className:"font-medium border-none shadow-none p-0 text-base focus-visible:ring-0",autoFocus:!0}),(0,H.jsx)(Ba,{placeholder:"Add description...",value:s.description,onChange:y=>v("description",y.target.value),className:"min-h-[60px] resize-none border-none shadow-none p-0 text-base placeholder:text-gray-400 focus-visible:ring-0",rows:2})]}),(0,H.jsx)("div",{className:"flex items-center gap-2 text-sm"}),(0,H.jsxs)("div",{className:"space-y-1",children:[(0,H.jsx)("div",{className:"flex flex-wrap gap-1",children:s.tags.map(y=>(0,H.jsxs)(ye,{variant:"secondary",className:"text-sm h-5 px-1.5 gap-1",children:[y,(0,H.jsx)(T,{variant:"ghost",size:"sm",onClick:()=>B(y),className:"h-3 w-3 p-0 hover:bg-transparent",children:(0,H.jsx)(ht,{className:"h-2 w-2"})})]},y))}),(0,H.jsxs)("div",{className:"flex gap-1",children:[(0,H.jsx)(Ie,{label:"Add tag",value:d,onChange:y=>u(y.target.value),onKeyDown:y=>y.key==="Enter"&&j(),className:"h-6 text-sm flex-1"}),(0,H.jsx)(T,{variant:"ghost",size:"sm",onClick:j,className:"h-6 w-6 p-0",children:(0,H.jsx)(je,{className:"h-3 w-3"})})]})]}),(0,H.jsxs)("div",{className:"border border-gray-100 rounded",children:[(0,H.jsxs)("button",{type:"button",onClick:()=>M("dates"),className:"flex items-center justify-between w-full p-2 text-sm font-medium text-left hover:bg-gray-50",children:[(0,H.jsx)("span",{children:"\u{1F4C5} Dates & Timing"}),m.dates?(0,H.jsx)(sr,{className:"h-3 w-3"}):(0,H.jsx)(hr,{className:"h-3 w-3"})]}),m.dates&&(0,H.jsxs)("div",{className:"p-2 border-t border-gray-100 space-y-3",children:[(0,H.jsxs)("div",{className:"flex gap-4",children:[(0,H.jsxs)("div",{className:"flex-1 grid grid-cols-3 gap-2",children:[(0,H.jsxs)("div",{children:[(0,H.jsx)(Ct,{className:"text-sm text-gray-500",children:"Priority"}),(0,H.jsx)("div",{className:"flex items-center gap-1 mt-1",children:[1,2,3].map(y=>{let E=s.priority==="low"&&y<=1||s.priority==="medium"&&y<=2||s.priority==="high"&&y<=3,x=y===1?"low":y===2?"medium":"high";return(0,H.jsx)("button",{onClick:()=>v("priority",x),className:D("w-3 h-3 rounded-full transition-colors border-2",E?"bg-krushr-secondary border-krushr-secondary":"bg-white border-gray-300 hover:border-krushr-secondary/50"),title:`${y===1?"Low":y===2?"Medium":"High"} Priority`},y)})})]}),s.contentType==="TASK"&&(0,H.jsxs)("div",{children:[(0,H.jsx)(Ct,{className:"text-sm text-gray-500",children:"Column"}),(0,H.jsxs)(ao,{value:s.status,onValueChange:y=>v("status",y),children:[(0,H.jsx)(no,{className:"h-7 w-full border border-gray-200 text-sm",children:(0,H.jsx)(oo,{})}),(0,H.jsxs)(io,{children:[(0,H.jsx)(It,{value:"TODO",children:(0,H.jsxs)("div",{className:"flex items-center gap-2",children:[(0,H.jsx)("div",{className:"w-2 h-2 rounded-full bg-krushr-task-todo"}),(0,H.jsx)("span",{children:"To Do"})]})}),(0,H.jsx)(It,{value:"IN_PROGRESS",children:(0,H.jsxs)("div",{className:"flex items-center gap-2",children:[(0,H.jsx)("div",{className:"w-2 h-2 rounded-full bg-krushr-task-progress"}),(0,H.jsx)("span",{children:"In Progress"})]})}),(0,H.jsx)(It,{value:"DONE",children:(0,H.jsxs)("div",{className:"flex items-center gap-2",children:[(0,H.jsx)("div",{className:"w-2 h-2 rounded-full bg-krushr-task-done"}),(0,H.jsx)("span",{children:"Done"})]})})]})]})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)(Ct,{className:"text-sm text-gray-500",children:"Assign To"}),(0,H.jsxs)(ao,{value:s.assigneeId||"",onValueChange:y=>v("assigneeId",y),children:[(0,H.jsx)(no,{className:"h-7 w-full border border-gray-200 text-sm",children:(0,H.jsx)(oo,{placeholder:"Unassigned"})}),(0,H.jsxs)(io,{children:[(0,H.jsx)(It,{value:"",children:(0,H.jsxs)("div",{className:"flex items-center gap-2",children:[(0,H.jsx)(ut,{className:"w-4 h-4",children:(0,H.jsx)(bt,{className:"text-xs bg-gray-200",children:"?"})}),(0,H.jsx)("span",{children:"Unassigned"})]})}),(0,H.jsx)(It,{value:"user1",children:(0,H.jsxs)("div",{className:"flex items-center gap-2",children:[(0,H.jsx)(ut,{className:"w-4 h-4",children:(0,H.jsx)(bt,{className:"text-xs bg-krushr-primary text-white",children:"ME"})}),(0,H.jsx)("span",{children:"Assign to me"})]})}),(0,H.jsx)(It,{value:"user2",children:(0,H.jsxs)("div",{className:"flex items-center gap-2",children:[(0,H.jsx)(ut,{className:"w-4 h-4",children:(0,H.jsx)(bt,{className:"text-xs bg-krushr-secondary text-white",children:"JS"})}),(0,H.jsx)("span",{children:"John Smith"})]})}),(0,H.jsx)(It,{value:"user3",children:(0,H.jsxs)("div",{className:"flex items-center gap-2",children:[(0,H.jsx)(ut,{className:"w-4 h-4",children:(0,H.jsx)(bt,{className:"text-xs bg-krushr-success text-white",children:"AD"})}),(0,H.jsx)("span",{children:"Alice Davis"})]})})]})]})]})]}),(0,H.jsxs)("div",{className:"flex-shrink-0",children:[(0,H.jsx)(Ct,{className:"text-xs text-gray-500",children:"Start Date"}),(0,H.jsxs)(Yr,{children:[(0,H.jsx)(Kr,{asChild:!0,children:(0,H.jsxs)(T,{variant:"outline",className:"w-full h-7 justify-start text-left text-sm",children:[(0,H.jsx)(Ae,{className:"mr-1 h-3 w-3"}),s.startDate?kt(s.startDate,"MMM dd"):"Date"]})}),(0,H.jsx)(Ar,{className:"w-auto p-0",children:(0,H.jsx)(la,{mode:"single",selected:s.startDate,onSelect:y=>v("startDate",y),initialFocus:!0})})]})]})]}),!s.allDay&&(0,H.jsxs)("div",{className:"flex gap-4",children:[(0,H.jsx)("div",{className:"flex-1"}),(0,H.jsxs)("div",{className:"flex-shrink-0",children:[(0,H.jsx)(Ct,{className:"text-sm text-gray-500",children:"Start Time"}),(0,H.jsx)(Ie,{type:"time",label:"Time",value:s.startTime||"",onChange:y=>v("startTime",y.target.value),className:"h-7 text-sm"})]})]}),(0,H.jsxs)("div",{className:"flex items-center justify-between",children:[(0,H.jsx)(Ct,{className:"text-sm",children:"All Day"}),(0,H.jsx)(Wa,{checked:s.allDay,onCheckedChange:y=>v("allDay",y)})]})]})]}),(0,H.jsxs)("div",{className:"border border-gray-100 rounded",children:[(0,H.jsxs)("button",{type:"button",onClick:()=>M("team"),className:"flex items-center justify-between w-full p-2 text-sm font-medium text-left hover:bg-gray-50",children:[(0,H.jsx)("span",{children:"\u{1F465} Team & Assignment"}),m.team?(0,H.jsx)(sr,{className:"h-3 w-3"}):(0,H.jsx)(hr,{className:"h-3 w-3"})]}),m.team&&(0,H.jsx)("div",{className:"p-2 border-t border-gray-100",children:(0,H.jsx)("div",{className:"text-sm text-gray-500",children:"Team assignment features coming soon..."})})]}),s.contentType==="TASK"&&(0,H.jsxs)("div",{className:"border border-gray-100 rounded",children:[(0,H.jsxs)("button",{type:"button",onClick:()=>M("checklist"),className:"flex items-center justify-between w-full p-2 text-sm font-medium text-left hover:bg-gray-50",children:[(0,H.jsxs)("span",{children:["\u2713 Checklist (",s.checklist.length,")"]}),m.checklist?(0,H.jsx)(sr,{className:"h-3 w-3"}):(0,H.jsx)(hr,{className:"h-3 w-3"})]}),m.checklist&&(0,H.jsxs)("div",{className:"p-2 border-t border-gray-100 space-y-2",children:[s.checklist.map((y,E)=>(0,H.jsxs)("div",{className:"flex items-center gap-2 group",children:[(0,H.jsx)("button",{type:"button",onClick:()=>ne(y.id),className:D("w-4 h-4 rounded border flex items-center justify-center",y.completed?"bg-krushr-primary border-krushr-primary":"border-gray-300 hover:border-krushr-primary"),children:y.completed&&(0,H.jsx)(Ja,{className:"w-3 h-3 text-white"})}),(0,H.jsx)("span",{className:D("flex-1 text-sm",y.completed&&"line-through text-gray-400"),children:y.text}),(0,H.jsx)(T,{variant:"ghost",size:"sm",onClick:()=>ee(y.id),className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100",children:(0,H.jsx)(ht,{className:"h-3 w-3"})})]},y.id)),(0,H.jsxs)("div",{className:"flex gap-1",children:[(0,H.jsx)("div",{className:"w-4 h-4 rounded border border-gray-300"}),(0,H.jsx)("input",{type:"text",placeholder:"Add item...",value:p,onChange:y=>g(y.target.value),onKeyDown:y=>{y.key==="Enter"&&(y.preventDefault(),le())},className:"flex-1 text-sm bg-transparent border-none focus:outline-none placeholder:text-gray-400"})]})]})]}),(0,H.jsxs)("div",{className:"border border-gray-100 rounded",children:[(0,H.jsxs)("button",{type:"button",onClick:()=>M("workflow"),className:"flex items-center justify-between w-full p-2 text-sm font-medium text-left hover:bg-gray-50",children:[(0,H.jsx)("span",{children:"\u26A1 Workflow & Automation"}),m.workflow?(0,H.jsx)(sr,{className:"h-3 w-3"}):(0,H.jsx)(hr,{className:"h-3 w-3"})]}),m.workflow&&(0,H.jsxs)("div",{className:"p-2 border-t border-gray-100 space-y-2",children:[(0,H.jsxs)("div",{className:"flex items-center justify-between",children:[(0,H.jsx)(Ct,{className:"text-sm",children:"Auto-assign to team"}),(0,H.jsx)(Wa,{checked:s.workflow.autoAssign,onCheckedChange:y=>v("workflow",{...s.workflow,autoAssign:y})})]}),(0,H.jsxs)("div",{className:"flex items-center justify-between",children:[(0,H.jsx)(Ct,{className:"text-sm",children:"Notify team members"}),(0,H.jsx)(Wa,{checked:s.workflow.notifyTeam,onCheckedChange:y=>v("workflow",{...s.workflow,notifyTeam:y})})]})]})]})]})}),(0,H.jsxs)("div",{className:"flex items-center justify-between p-3 border-t bg-gray-50",children:[(0,H.jsxs)("div",{className:"flex items-center gap-1",children:[(0,H.jsx)(T,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:(0,H.jsx)(ta,{className:"h-3 w-3"})}),(0,H.jsxs)("span",{className:"text-sm text-gray-500",children:[s.attachments.length," files"]})]}),(0,H.jsxs)("div",{className:"flex items-center gap-2",children:[o&&(0,H.jsx)(T,{variant:"ghost",size:"sm",onClick:o,className:"h-7 text-sm",children:"Cancel"}),(0,H.jsx)(T,{onClick:A,disabled:!s.title.trim()||k,size:"sm",className:"h-7 text-xs",children:k?"Creating...":"Create"})]})]})]})}var Iv=w(X(),1);var jn=w(z(),1);function vl({workspaceId:e,projectId:t,columnId:r,columnStatus:a,onTaskCreated:o,className:n}){let[i,l]=(0,Iv.useState)(!1),s={status:a,projectId:t,kanbanColumnId:r,priority:"medium"},c=(u,p)=>{o?.(u),l(!1)},d=()=>{l(!1)};return i?(0,jn.jsx)(Pe,{className:D("mb-2",n),children:(0,jn.jsx)(_i,{workspaceId:e,contentType:"TASK",initialData:s,onSuccess:c,onClose:d,integrationMode:"inline",maxHeight:"300px",showHeader:!1})}):(0,jn.jsxs)(T,{variant:"ghost",className:D("w-full h-8 justify-start text-base text-krushr-secondary hover:text-krushr-secondary","border-2 border-dashed border-krushr-secondary/30 hover:border-krushr-secondary/50 hover:bg-krushr-secondary/5","rounded-lg mb-2 font-medium",n),onClick:()=>l(!0),children:[(0,jn.jsx)(je,{className:"h-4 w-4 mr-2"}),"Add a card"]})}var zv=w(X(),1);var bl=w(X(),1);var Ut=w(X(),1);var I=w(z(),1),Ov={title:"",description:"",priority:"medium",status:"TODO",projectId:null,assigneeId:null,dueDate:null,startDate:null,storyPoints:null,businessValue:null,tags:[],estimatedHours:null,complexity:null,riskLevel:null,isRecurring:!1,recurringPattern:null,epicId:null,dependsOnTaskIds:[],blockedByTaskIds:[],attachments:[],isPrivate:!1,isArchived:!1,isTemplate:!1,autoAssign:!1,watchers:[],customFields:{},isBlocked:!1,blockedBy:null,blockedReason:null};function Gk(e,t){switch(t.type){case"SET_FIELD":return{...e,[t.field]:t.value};case"ADD_TAG":return{...e,tags:[...e.tags,t.tag]};case"REMOVE_TAG":return{...e,tags:e.tags.filter(r=>r!==t.tag)};case"ADD_ATTACHMENT":return{...e,attachments:[...e.attachments,t.attachment]};case"REMOVE_ATTACHMENT":return{...e,attachments:e.attachments.filter(r=>r.id!==t.id)};case"UPDATE_ATTACHMENT":return{...e,attachments:e.attachments.map(r=>r.id===t.id?{...r,...t.updates}:r)};case"ADD_WATCHER":return{...e,watchers:[...e.watchers,t.userId]};case"REMOVE_WATCHER":return{...e,watchers:e.watchers.filter(r=>r!==t.userId)};case"ADD_DEPENDENCY":return{...e,dependsOnTaskIds:[...e.dependsOnTaskIds,t.taskId]};case"REMOVE_DEPENDENCY":return{...e,dependsOnTaskIds:e.dependsOnTaskIds.filter(r=>r!==t.taskId)};case"RESET_FORM":return Ov;default:return e}}var Fv=Ut.default.memo(({value:e,onChange:t})=>{let[r,a]=(0,Ut.useState)(null),o=[{value:"low",color:"bg-krushr-priority-low",label:"Low Priority"},{value:"medium",color:"bg-krushr-priority-medium",label:"Medium Priority"},{value:"high",color:"bg-krushr-priority-high",label:"High Priority"}],n=s=>o.findIndex(c=>c.value===s),i=n(e),l=r?n(r):-1;return(0,I.jsxs)("div",{className:"flex items-center gap-3",children:[(0,I.jsx)("span",{className:"text-xs font-medium text-krushr-gray-dark",children:"Priority:"}),(0,I.jsx)("div",{className:"flex gap-1",onMouseLeave:()=>a(null),children:o.map((s,c)=>{let d=c<=i,u=l>=0&&c<=l;return(0,I.jsx)("button",{type:"button",className:D("w-3 h-3 rounded-full transition-all duration-200 shadow-sm",d&&!r?s.color:"bg-krushr-gray-300",u?s.color:"","hover:scale-125"),title:s.label,onMouseEnter:()=>a(s.value),onClick:()=>t(s.value)},s.value)})}),(0,I.jsx)("span",{className:"text-xs text-krushr-gray ml-1",children:r||e})]})});Fv.displayName="PrioritySelector";var Mi=Ut.default.memo(({status:e,label:t,icon:r,isSelected:a,onClick:o,color:n})=>(0,I.jsxs)("button",{type:"button",onClick:o,className:D("flex-1 px-4 py-3 rounded-lg border-2 transition-all duration-200","flex flex-col items-center gap-2",a?`${n} border-transparent shadow-elevation-sm text-white`:"bg-white text-gray-600 border-gray-200 hover:border-gray-300"),children:[(0,I.jsx)(r,{className:"w-5 h-5"}),(0,I.jsx)("span",{className:"text-sm font-medium",children:t})]}));Mi.displayName="StatusColumnButton";function fo({workspaceId:e,kanbanColumnId:t,open:r,onClose:a,onSuccess:o}){let[n,i]=(0,Ut.useReducer)(Gk,Ov),[l,s]=(0,Ut.useState)(!1),[c,d]=(0,Ut.useState)(!1),[u,p]=(0,Ut.useState)(""),[g,m]=(0,Ut.useState)(!1),f=(0,Ut.useRef)(null),h=q.user.listWorkspaceMembers.useQuery({workspaceId:e},{enabled:r&&!!e,staleTime:5*60*1e3,cacheTime:10*60*1e3}).data||[],C=q.project.listByWorkspace.useQuery({workspaceId:e},{enabled:r&&!!e,staleTime:5*60*1e3}).data||[],F=[],M=[{id:"1",name:"urgent"},{id:"2",name:"bug"},{id:"3",name:"feature"},{id:"4",name:"enhancement"},{id:"5",name:"documentation"},{id:"6",name:"frontend"},{id:"7",name:"backend"},{id:"8",name:"design"},{id:"9",name:"testing"},{id:"10",name:"devops"}],j=q.task.createEnhanced.useMutation({onSuccess:()=>{i({type:"RESET_FORM"}),o?.(),a()}}),B=(0,Ut.useCallback)((k,y)=>{i({type:"SET_FIELD",field:k,value:y})},[]),le=(0,Ut.useCallback)(async k=>{let y=Array.from(k);for(let E of y){if(E.size>15*1024*1024)continue;let x=`temp-${Date.now()}-${Math.random()}`;i({type:"ADD_ATTACHMENT",attachment:{id:x,name:E.name,size:E.size,type:E.type,progress:0,file:E}});try{new FormData().append("file",E);for(let P=0;P<=100;P+=10)await new Promise(Y=>setTimeout(Y,100)),i({type:"UPDATE_ATTACHMENT",id:x,updates:{progress:P}});i({type:"UPDATE_ATTACHMENT",id:x,updates:{progress:100,url:URL.createObjectURL(E)}})}catch{i({type:"UPDATE_ATTACHMENT",id:x,updates:{error:"Upload failed",progress:void 0}})}}},[]),ee=(0,Ut.useCallback)(async()=>{if(!(!n.title.trim()||!n.projectId)){s(!0);try{await j.mutateAsync({title:n.title.trim(),description:n.description,priority:n.priority,status:n.status,projectId:n.projectId,workspaceId:e,kanbanColumnId:t,assigneeId:n.assigneeId,dueDate:n.dueDate?.toISOString(),startDate:n.startDate?.toISOString(),storyPoints:n.storyPoints,businessValue:n.businessValue,tags:n.tags,estimatedHours:n.estimatedHours,complexity:n.complexity,riskLevel:n.riskLevel,isRecurring:n.isRecurring,recurringPattern:n.recurringPattern,epicId:n.epicId,watchers:n.watchers,customFields:n.customFields,isTemplate:n.isTemplate,isPrivate:n.isPrivate,isBlocked:n.isBlocked,blockedBy:n.blockedBy,blockedReason:n.blockedReason})}finally{s(!1)}}},[n,e,t,j]),ne=(0,Ut.useCallback)(async()=>{await ee(),i({type:"RESET_FORM"})},[ee]),ue=(0,Ut.useMemo)(()=>{let k=new Date,y=Kt(k,1),E=On(k,1);return{today:k,tomorrow:y,nextWeek:E}},[]);(0,Ut.useEffect)(()=>{let k=y=>{r&&((y.metaKey||y.ctrlKey)&&y.key==="Enter"&&(y.preventDefault(),ee()),(y.metaKey||y.ctrlKey)&&y.key==="s"&&(y.preventDefault(),ne()))};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[r,ee,ne]);let A=n.title.trim()&&n.projectId&&!l;return(0,I.jsx)(Hs,{open:r,onOpenChange:a,children:(0,I.jsxs)(Bs,{className:"w-full sm:max-w-3xl overflow-y-auto",children:[(0,I.jsx)(Lf,{children:(0,I.jsxs)("div",{className:"flex items-center justify-between",children:[(0,I.jsx)(If,{className:"text-2xl font-brand",children:"Create Task"}),(0,I.jsx)(Fv,{value:n.priority,onChange:k=>B("priority",k)})]})}),(0,I.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,I.jsx)("div",{children:(0,I.jsx)(Ie,{label:"Task Title",value:n.title,onChange:k=>B("title",k.target.value),className:"text-xl font-semibold",autoFocus:!0,required:!0})}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:["Project ",(0,I.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,I.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:C.map(k=>(0,I.jsxs)("button",{onClick:()=>B("projectId",k.id),className:D("px-4 py-3 text-sm font-medium rounded-lg border-2 transition-all","flex items-center gap-2",n.projectId===k.id?"bg-krushr-primary text-white border-krushr-primary shadow-elevation-sm":"bg-white text-gray-700 border-gray-200 hover:border-krushr-primary"),children:[(0,I.jsx)(Lm,{className:"w-4 h-4"}),k.name]},k.id))})]}),(0,I.jsxs)("div",{children:[(0,I.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Status"}),(0,I.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,I.jsx)(Mi,{status:"TODO",label:"To Do",icon:zm,isSelected:n.status==="TODO",onClick:()=>B("status","TODO"),color:"bg-gray-500"}),(0,I.jsx)(Mi,{status:"IN_PROGRESS",label:"In Progress",icon:of,isSelected:n.status==="IN_PROGRESS",onClick:()=>B("status","IN_PROGRESS"),color:"bg-blue-500"}),(0,I.jsx)(Mi,{status:"REVIEW",label:"Review",icon:pa,isSelected:n.status==="REVIEW",onClick:()=>B("status","REVIEW"),color:"bg-purple-500"}),(0,I.jsx)(Mi,{status:"DONE",label:"Done",icon:vr,isSelected:n.status==="DONE",onClick:()=>B("status","DONE"),color:"bg-green-500"})]})]}),(0,I.jsxs)("div",{children:[(0,I.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Assignee"}),(0,I.jsxs)("div",{className:"grid grid-cols-6 sm:grid-cols-8 gap-2",children:[(0,I.jsx)("button",{onClick:()=>B("assigneeId",null),className:D("aspect-square rounded-lg border-2 transition-all","flex items-center justify-center",n.assigneeId?"bg-white border-gray-200 hover:border-krushr-primary":"bg-gray-100 border-gray-300 shadow-elevation-sm"),children:(0,I.jsx)(lr,{className:"w-5 h-5 text-gray-400"})}),h.map(k=>(0,I.jsx)("button",{onClick:()=>B("assigneeId",k.id),className:D("aspect-square rounded-lg border-2 transition-all overflow-hidden",n.assigneeId===k.id?"border-krushr-primary ring-2 ring-krushr-primary ring-offset-2":"border-gray-200 hover:border-krushr-primary"),title:k.name,children:k.avatar?(0,I.jsx)("img",{src:k.avatar,alt:k.name,className:"w-full h-full object-cover"}):(0,I.jsx)("div",{className:"w-full h-full bg-krushr-primary text-white flex items-center justify-center text-sm font-medium",children:k.name?.charAt(0).toUpperCase()})},k.id))]})]}),(0,I.jsxs)("div",{children:[(0,I.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Due Date"}),(0,I.jsxs)("div",{className:"space-y-2",children:[(0,I.jsxs)("div",{className:"flex gap-2",children:[(0,I.jsx)("button",{onClick:()=>B("dueDate",ue.today),className:D("px-4 py-2 text-sm font-medium rounded-full border-2 transition-all",n.dueDate?.toDateString()===ue.today.toDateString()?"bg-krushr-primary text-white border-krushr-primary":"bg-white text-gray-600 border-gray-200 hover:border-krushr-primary"),children:"Today"}),(0,I.jsx)("button",{onClick:()=>B("dueDate",ue.tomorrow),className:D("px-4 py-2 text-sm font-medium rounded-full border-2 transition-all",n.dueDate?.toDateString()===ue.tomorrow.toDateString()?"bg-krushr-primary text-white border-krushr-primary":"bg-white text-gray-600 border-gray-200 hover:border-krushr-primary"),children:"Tomorrow"}),(0,I.jsx)("button",{onClick:()=>B("dueDate",ue.nextWeek),className:D("px-4 py-2 text-sm font-medium rounded-full border-2 transition-all",n.dueDate?.toDateString()===ue.nextWeek.toDateString()?"bg-krushr-primary text-white border-krushr-primary":"bg-white text-gray-600 border-gray-200 hover:border-krushr-primary"),children:"Next Week"})]}),(0,I.jsxs)(Yr,{open:g,onOpenChange:m,children:[(0,I.jsx)(Kr,{asChild:!0,children:(0,I.jsxs)(T,{variant:"outline",className:D("w-full justify-start text-left font-normal",!n.dueDate&&"text-muted-foreground"),children:[(0,I.jsx)(Ae,{className:"mr-2 h-4 w-4"}),n.dueDate?kt(n.dueDate,"PPP"):"Pick a date"]})}),(0,I.jsx)(Ar,{className:"w-auto p-0",align:"start",children:(0,I.jsx)(la,{mode:"single",selected:n.dueDate||void 0,onSelect:k=>{B("dueDate",k),m(!1)},initialFocus:!0})})]})]})]}),(0,I.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,I.jsxs)("div",{children:[(0,I.jsxs)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:[(0,I.jsx)(Ss,{className:"inline w-4 h-4 mr-1"}),"Story Points"]}),(0,I.jsx)("div",{className:"flex gap-1",children:[1,2,3,5,8,13,21].map(k=>(0,I.jsx)("button",{onClick:()=>B("storyPoints",n.storyPoints===k?null:k),className:D("flex-1 py-2 text-sm font-medium rounded border-2 transition-all",n.storyPoints===k?"bg-krushr-primary text-white border-krushr-primary":"bg-white text-gray-600 border-gray-200 hover:border-krushr-primary"),children:k},k))})]}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:[(0,I.jsx)(Hm,{className:"inline w-4 h-4 mr-1"}),"Business Value"]}),(0,I.jsx)("div",{className:"flex gap-1",children:[1,2,3,4,5].map(k=>(0,I.jsx)("button",{onClick:()=>B("businessValue",n.businessValue===k?null:k),className:D("flex-1 py-2 text-sm font-medium rounded border-2 transition-all",n.businessValue===k?"bg-green-600 text-white border-green-600":"bg-white text-gray-600 border-gray-200 hover:border-green-600"),children:k},k))})]})]}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:[(0,I.jsx)(Rs,{className:"inline w-4 h-4 mr-1"}),"Tags"]}),(0,I.jsxs)("div",{className:"flex flex-wrap gap-2",children:[M.map(k=>(0,I.jsx)("button",{onClick:()=>{n.tags.includes(k.name)?i({type:"REMOVE_TAG",tag:k.name}):i({type:"ADD_TAG",tag:k.name})},className:D("px-3 py-1.5 text-sm rounded-full border-2 transition-all",n.tags.includes(k.name)?"bg-krushr-primary text-white border-krushr-primary":"bg-white text-gray-600 border-gray-200 hover:border-krushr-primary"),children:k.name},k.id)),c?(0,I.jsxs)("div",{className:"flex items-center gap-1",children:[(0,I.jsx)("input",{type:"text",value:u,onChange:k=>p(k.target.value),onKeyPress:k=>{k.key==="Enter"&&u.trim()&&(i({type:"ADD_TAG",tag:u.trim()}),p(""),d(!1))},placeholder:"Tag name",className:"px-3 py-1.5 text-sm border-2 border-krushr-primary rounded-full focus:outline-none",autoFocus:!0}),(0,I.jsx)("button",{onClick:()=>{u.trim()&&(i({type:"ADD_TAG",tag:u.trim()}),p("")),d(!1)},className:"p-1.5 bg-krushr-primary text-white rounded-full",children:(0,I.jsx)(je,{className:"w-3 h-3"})})]}):(0,I.jsxs)("button",{onClick:()=>d(!0),className:"px-3 py-1.5 text-sm rounded-full border-2 border-dashed border-gray-300 text-gray-500 hover:border-krushr-primary hover:text-krushr-primary transition-all",children:[(0,I.jsx)(je,{className:"inline w-3 h-3 mr-1"}),"New Tag"]})]})]}),(0,I.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,I.jsxs)("div",{children:[(0,I.jsxs)("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:[(0,I.jsx)(Zt,{className:"inline w-3 h-3 mr-1"}),"Hours"]}),(0,I.jsx)("input",{type:"number",value:n.estimatedHours||"",onChange:k=>B("estimatedHours",k.target.value?Number(k.target.value):null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm hover:shadow-md transition-shadow focus:shadow-md focus:border-krushr-primary",placeholder:"0",min:"0",step:"0.5"})]}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:[(0,I.jsx)(ln,{className:"inline w-3 h-3 mr-1"}),"Complexity"]}),(0,I.jsxs)("select",{value:n.complexity||"",onChange:k=>B("complexity",k.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm hover:shadow-md transition-shadow focus:shadow-md focus:border-krushr-primary",children:[(0,I.jsx)("option",{value:"",children:"None"}),(0,I.jsx)("option",{value:"SIMPLE",children:"Simple"}),(0,I.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,I.jsx)("option",{value:"COMPLEX",children:"Complex"})]})]}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:[(0,I.jsx)(ar,{className:"inline w-3 h-3 mr-1"}),"Risk"]}),(0,I.jsxs)("select",{value:n.riskLevel||"",onChange:k=>B("riskLevel",k.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm hover:shadow-md transition-shadow focus:shadow-md focus:border-krushr-primary",children:[(0,I.jsx)("option",{value:"",children:"None"}),(0,I.jsx)("option",{value:"LOW",children:"Low"}),(0,I.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,I.jsx)("option",{value:"HIGH",children:"High"})]})]}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:[(0,I.jsx)(Zm,{className:"inline w-3 h-3 mr-1"}),"Recurring"]}),(0,I.jsx)("button",{onClick:()=>B("isRecurring",!n.isRecurring),className:D("w-full px-3 py-2 rounded-lg border-2 transition-all","flex items-center justify-center gap-2 text-sm",n.isRecurring?"bg-krushr-primary text-white border-krushr-primary":"bg-white text-gray-600 border-gray-200"),children:n.isRecurring?"Yes":"No"})]})]}),F.length>0&&(0,I.jsxs)("div",{children:[(0,I.jsxs)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:[(0,I.jsx)($m,{className:"inline w-4 h-4 mr-1"}),"Epic"]}),(0,I.jsxs)("div",{className:"grid grid-cols-1 gap-2 max-h-48 overflow-y-auto",children:[(0,I.jsx)("button",{onClick:()=>B("epicId",null),className:D("w-full p-3 rounded-lg border-2 text-left transition-all",n.epicId?"border-gray-200 hover:border-krushr-primary":"border-krushr-primary bg-krushr-primary-50"),children:(0,I.jsx)("span",{className:"text-sm text-gray-500",children:"No epic"})}),F.map(k=>(0,I.jsx)("button",{onClick:()=>B("epicId",k.id),className:D("w-full p-3 rounded-lg border-2 text-left transition-all",n.epicId===k.id?"border-krushr-primary bg-krushr-primary-50":"border-gray-200 hover:border-krushr-primary"),children:(0,I.jsx)("div",{className:"font-medium text-sm",children:k.title})},k.id))]})]}),(0,I.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,I.jsxs)("button",{onClick:()=>B("isPrivate",!n.isPrivate),className:D("px-4 py-3 rounded-lg border-2 transition-all","flex items-center justify-center gap-2 text-sm font-medium",n.isPrivate?"bg-gray-100 text-gray-800 border-gray-300":"bg-white text-gray-600 border-gray-200 hover:border-gray-300"),children:[(0,I.jsx)(ea,{className:"w-4 h-4"}),"Private"]}),(0,I.jsxs)("button",{onClick:()=>B("isArchived",!n.isArchived),className:D("px-4 py-3 rounded-lg border-2 transition-all","flex items-center justify-center gap-2 text-sm font-medium",n.isArchived?"bg-gray-100 text-gray-800 border-gray-300":"bg-white text-gray-600 border-gray-200 hover:border-gray-300"),children:[(0,I.jsx)(ds,{className:"w-4 h-4"}),"Archived"]}),(0,I.jsxs)("button",{onClick:()=>B("autoAssign",!n.autoAssign),className:D("px-4 py-3 rounded-lg border-2 transition-all","flex items-center justify-center gap-2 text-sm font-medium",n.autoAssign?"bg-krushr-primary text-white border-krushr-primary":"bg-white text-gray-600 border-gray-200 hover:border-krushr-primary"),children:[(0,I.jsx)(ma,{className:"w-4 h-4"}),"Auto-Assign"]}),(0,I.jsxs)("button",{onClick:()=>B("isBlocked",!n.isBlocked),className:D("px-4 py-3 rounded-lg border-2 transition-all","flex items-center justify-center gap-2 text-sm font-medium",n.isBlocked?"bg-red-100 text-red-800 border-red-300":"bg-white text-gray-600 border-gray-200 hover:border-red-300"),children:[(0,I.jsx)(_m,{className:"w-4 h-4"}),"Blocked"]})]}),n.isBlocked&&(0,I.jsxs)("div",{children:[(0,I.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Blocked Reason"}),(0,I.jsx)("input",{type:"text",value:n.blockedReason||"",onChange:k=>B("blockedReason",k.target.value),placeholder:"Why is this task blocked?",className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm hover:shadow-md transition-shadow focus:shadow-md focus:border-red-400"})]}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:[(0,I.jsx)(un,{className:"inline w-4 h-4 mr-1"}),"Watchers (",n.watchers.length,")"]}),(0,I.jsx)("div",{className:"grid grid-cols-6 sm:grid-cols-8 gap-2",children:h.map(k=>(0,I.jsx)("button",{onClick:()=>{n.watchers.includes(k.id)?i({type:"REMOVE_WATCHER",userId:k.id}):i({type:"ADD_WATCHER",userId:k.id})},className:D("aspect-square rounded-lg border-2 transition-all overflow-hidden",n.watchers.includes(k.id)?"border-krushr-info ring-2 ring-krushr-info ring-offset-2":"border-gray-200 hover:border-krushr-info opacity-50"),title:k.name,children:k.avatar?(0,I.jsx)("img",{src:k.avatar,alt:k.name,className:"w-full h-full object-cover"}):(0,I.jsx)("div",{className:"w-full h-full bg-krushr-info text-white flex items-center justify-center text-xs font-medium",children:k.name?.charAt(0).toUpperCase()})},k.id))})]}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:[(0,I.jsx)(gt,{className:"inline w-4 h-4 mr-1"}),"Description"]}),(0,I.jsx)(Of,{value:n.description,onChange:k=>B("description",k),placeholder:"Add task details, requirements, or notes...",className:"min-h-[150px] border-2 border-gray-200 rounded-lg"})]}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:[(0,I.jsx)(ta,{className:"inline w-4 h-4 mr-1"}),"Attachments"]}),(0,I.jsxs)("div",{onClick:()=>f.current?.click(),className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-krushr-primary transition-colors cursor-pointer",children:[(0,I.jsx)(ta,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),(0,I.jsx)("p",{className:"text-sm text-gray-600",children:"Drop files here or click to browse"}),(0,I.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Maximum file size: 15MB"})]}),(0,I.jsx)("input",{ref:f,type:"file",multiple:!0,className:"hidden",onChange:k=>k.target.files&&le(k.target.files)}),n.attachments.length>0&&(0,I.jsx)("div",{className:"mt-3 space-y-2",children:n.attachments.map(k=>(0,I.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,I.jsx)(gt,{className:"w-4 h-4 text-gray-400"}),(0,I.jsxs)("div",{className:"flex-1",children:[(0,I.jsx)("p",{className:"text-sm font-medium",children:k.name}),(0,I.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,I.jsxs)("span",{children:[(k.size/1024).toFixed(1)," KB"]}),k.progress!==void 0&&k.progress<100&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("span",{children:"\u2022"}),(0,I.jsxs)("span",{children:[k.progress,"%"]})]})]})]}),(0,I.jsx)("button",{onClick:()=>i({type:"REMOVE_ATTACHMENT",id:k.id}),className:"p-1.5 hover:bg-gray-200 rounded transition-colors",children:(0,I.jsx)(ht,{className:"w-4 h-4 text-gray-500"})})]},k.id))})]})]}),(0,I.jsx)("div",{className:"sticky bottom-0 left-0 right-0 bg-white border-t-2 border-gray-200 px-6 py-4 -mx-6 -mb-6 mt-8",children:(0,I.jsxs)("div",{className:"flex justify-between items-center",children:[(0,I.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,I.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,I.jsx)("span",{className:"font-medium",children:"\u2318\u21B5"})," to create"]}),(0,I.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,I.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,I.jsx)("span",{className:"font-medium",children:"\u2318S"})," to create & new"]})]}),(0,I.jsxs)("div",{className:"flex gap-3",children:[(0,I.jsx)(T,{variant:"outline",onClick:a,disabled:l,children:"Cancel"}),(0,I.jsx)(T,{onClick:ne,disabled:!A,variant:"outline",children:"Create & New"}),(0,I.jsx)(T,{onClick:ee,disabled:!A,className:"min-w-[120px]",children:l?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Xe,{className:"w-4 h-4 animate-spin mr-2"}),"Creating..."]}):"Create Task"})]})]})})]})})}var tr=w(z(),1);function Yd({workspaceId:e,isOpen:t=!1,onToggle:r,position:a="floating"}){let[o,n]=(0,bl.useState)(!1),[i,l]=(0,bl.useState)(!1),[s,c]=(0,bl.useState)({x:20,y:20}),d=()=>{r?.()},u=()=>{r?.()};return t?a==="modal"?(0,tr.jsx)(fo,{workspaceId:e,open:t,onClose:u,onSuccess:d}):a==="floating"?(0,tr.jsxs)(Pe,{className:D("fixed z-50 shadow-xl border-2","w-80 max-h-96",i&&"cursor-move"),style:{left:s.x,top:s.y},children:[(0,tr.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 border-b cursor-move",onMouseDown:p=>{l(!0);let g=p.clientX-s.x,m=p.clientY-s.y,f=h=>{c({x:h.clientX-g,y:h.clientY-m})},v=()=>{l(!1),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",v)};document.addEventListener("mousemove",f),document.addEventListener("mouseup",v)},children:[(0,tr.jsx)("span",{className:"text-sm font-medium",children:"Quick Create"}),(0,tr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,tr.jsx)(T,{variant:"ghost",size:"sm",onClick:()=>n(!o),className:"h-6 w-6 p-0",children:o?(0,tr.jsx)(mn,{className:"h-3 w-3"}):(0,tr.jsx)(gn,{className:"h-3 w-3"})}),(0,tr.jsx)(T,{variant:"ghost",size:"sm",onClick:u,className:"h-6 w-6 p-0",children:(0,tr.jsx)(ht,{className:"h-3 w-3"})})]})]}),!o&&(0,tr.jsxs)("div",{className:"p-3 text-center text-sm text-gray-500",children:[(0,tr.jsx)("p",{children:"Click to open task creator"}),(0,tr.jsx)(T,{onClick:()=>{n(!0),r?.()},className:"mt-2",size:"sm",children:"Create Task"})]})]}):(0,tr.jsx)(fo,{workspaceId:e,open:t,onClose:u,onSuccess:d}):(0,tr.jsx)(T,{onClick:r,className:D("fixed bottom-6 right-6 h-12 w-12 rounded-full shadow-lg z-50","bg-krushr-coral-red hover:bg-krushr-coral-red/90 text-white","flex items-center justify-center"),children:(0,tr.jsx)(je,{className:"h-6 w-6"})})}var Tt=w(z(),1);function Kd({workspaceName:e,workspaceId:t,currentPanel:r,onPanelChange:a}){let[o,n]=(0,zv.useState)(!1),{user:i}=Ye(),l=()=>{n(!o)};return(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsxs)("header",{className:"h-14 border-b bg-white px-4 flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Tt.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:e}),(0,Tt.jsxs)(T,{onClick:l,className:"h-8 gap-2 bg-krushr-coral-red hover:bg-krushr-coral-red/90 text-white",children:[(0,Tt.jsx)(je,{className:"h-4 w-4"}),(0,Tt.jsx)("span",{className:"hidden sm:inline",children:"Create"})]}),r&&(0,Tt.jsxs)(ye,{variant:"secondary",className:"text-xs",children:[r==="kanban"&&"\u{1F4CB}",r==="calendar"&&"\u{1F4C5}",r==="notes"&&"\u{1F4DD}",r==="chat"&&"\u{1F4AC}",r?.charAt(0).toUpperCase()+r?.slice(1)]})]}),(0,Tt.jsx)("div",{className:"flex-1 max-w-md mx-8",children:(0,Tt.jsxs)("div",{className:"relative",children:[(0,Tt.jsx)($t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Tt.jsx)(Ie,{label:"Search workspace",className:"pl-10 h-8 bg-gray-50 border-gray-200"})]})}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsxs)(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 relative",children:[(0,Tt.jsx)(gr,{className:"h-4 w-4"}),(0,Tt.jsx)(ye,{className:"absolute -top-1 -right-1 h-4 w-4 p-0 text-xs",children:"3"})]}),(0,Tt.jsx)(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,Tt.jsx)(yr,{className:"h-4 w-4"})}),(0,Tt.jsxs)(ut,{className:"h-8 w-8",children:[(0,Tt.jsx)(jt,{src:i?.avatar}),(0,Tt.jsx)(bt,{className:"text-xs",children:i?.name?.charAt(0)||"U"})]})]})]}),(0,Tt.jsx)(Yd,{workspaceId:t,isOpen:o,onToggle:l,position:"modal"})]})}var Ee=w(z(),1);function qd(){let[e,t]=(0,Li.useState)("alice@krushr.dev"),[r,a]=(0,Li.useState)("password123"),[o,n]=(0,Li.useState)("Test User"),[i,l]=(0,Li.useState)(!1),{user:s,isAuthenticated:c,setUser:d,setToken:u,logout:p}=Ye(),g=Nt(),m=q.auth.login.useMutation({onSuccess:C=>{d(C.user),u(C.token),console.log("\u2705 Login successful:",C)},onError:C=>{console.error("\u274C Login failed:",C.message)}}),f=q.auth.register.useMutation({onSuccess:C=>{d(C.user),u(C.token),console.log("\u2705 Registration successful:",C)},onError:C=>{console.error("\u274C Registration failed:",C.message)}}),v=q.auth.me.useQuery(void 0,{enabled:c});return(0,Ee.jsxs)("div",{className:"p-8 max-w-md mx-auto",children:[(0,Ee.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"\u{1F680} Krushr tRPC Test"}),c?(0,Ee.jsxs)("div",{className:"space-y-4",children:[(0,Ee.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,Ee.jsx)("h2",{className:"text-lg font-semibold text-green-800",children:"\u2705 Authenticated!"}),(0,Ee.jsxs)("p",{className:"text-green-700",children:["Welcome, ",s?.name,"!"]}),(0,Ee.jsx)("p",{className:"text-sm text-green-600",children:s?.email})]}),v.data&&(0,Ee.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Ee.jsx)("h3",{className:"font-semibold text-blue-800",children:"Profile from API:"}),(0,Ee.jsx)("pre",{className:"text-sm text-blue-700 mt-2",children:JSON.stringify(v.data,null,2)})]}),(0,Ee.jsx)("button",{onClick:p,className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Logout"}),(0,Ee.jsxs)("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[(0,Ee.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\u{1F3A8} Universal Input Form Demo"}),(0,Ee.jsx)($d,{})]}),(0,Ee.jsxs)("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[(0,Ee.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\u{1F527} Workspace Panel Integration"}),(0,Ee.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Compact Panel Form"}),(0,Ee.jsx)("div",{className:"border rounded-lg",children:(0,Ee.jsx)(_i,{workspaceId:"demo-workspace",contentType:"TASK",maxHeight:"400px",integrationMode:"panel"})})]}),(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Kanban Quick Create"}),(0,Ee.jsxs)("div",{className:"space-y-2",children:[(0,Ee.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,Ee.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"To Do Column"}),(0,Ee.jsx)(vl,{workspaceId:"demo-workspace",columnId:"todo",columnStatus:"TODO"})]}),(0,Ee.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,Ee.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"In Progress Column"}),(0,Ee.jsx)(vl,{workspaceId:"demo-workspace",columnId:"in-progress",columnStatus:"IN_PROGRESS"})]})]})]})]}),(0,Ee.jsxs)("div",{className:"mt-6",children:[(0,Ee.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Workspace Header Integration"}),(0,Ee.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,Ee.jsx)(Kd,{workspaceName:"Demo Workspace",workspaceId:"demo-workspace",currentPanel:"kanban"})})]})]})]}):(0,Ee.jsxs)("div",{className:"space-y-4",children:[(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Ee.jsx)(Ie,{id:"email",type:"email",label:"Email",value:e,onChange:C=>t(C.target.value),autoComplete:"email"})]}),(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,Ee.jsx)(Ie,{id:"password",type:"password",label:"Password",value:r,onChange:C=>a(C.target.value),autoComplete:"current-password"})]}),i&&(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,Ee.jsx)(Ie,{id:"name",type:"text",label:"Name",value:o,onChange:C=>n(C.target.value),autoComplete:"name"})]}),(0,Ee.jsxs)("div",{className:"space-y-2",children:[(0,Ee.jsx)("button",{onClick:i?()=>{console.log("\u{1F4DD} Attempting registration with:",{email:e,password:r,name:o}),f.mutate({email:e,password:r,name:o})}:()=>{console.log("\u{1F510} Attempting login with:",{email:e,password:r}),m.mutate({email:e,password:r})},disabled:m.isPending||f.isPending,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:m.isPending||f.isPending?"Loading...":i?"Register":"Login"}),(0,Ee.jsx)("button",{onClick:()=>l(!i),className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:i?"Switch to Login":"Switch to Register"})]}),(0,Ee.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Ee.jsx)("p",{children:"Demo credentials:"}),(0,Ee.jsx)("p",{children:"Email: alice@krushr.dev"}),(0,Ee.jsx)("p",{children:"Password: password123"})]})]})]})}var xl=w(X(),1);var yl=w(X(),1);var wl=w(z(),1),Xk=on("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ii=yl.forwardRef(({className:e,variant:t,...r},a)=>(0,wl.jsx)("div",{ref:a,role:"alert",className:D(Xk({variant:t}),e),...r}));Ii.displayName="Alert";var Qk=yl.forwardRef(({className:e,...t},r)=>(0,wl.jsx)("h5",{ref:r,className:D("mb-1 font-medium leading-none tracking-tight",e),...t}));Qk.displayName="AlertTitle";var Oi=yl.forwardRef(({className:e,...t},r)=>(0,wl.jsx)("div",{ref:r,className:D("text-sm [&_p]:leading-relaxed",e),...t}));Oi.displayName="AlertDescription";var Fi=w(z(),1);function _a({size:e="md",className:t,showText:r=!0}){let a={sm:"h-6",md:"h-8",lg:"h-12",xl:"h-16"},o={sm:"text-sm",md:"text-lg",lg:"text-xl",xl:"text-2xl"};return(0,Fi.jsxs)("div",{className:D("flex items-center gap-2",t),children:[(0,Fi.jsx)("img",{src:"/krushr.svg",alt:"Krushr",className:D("object-contain",a[e])}),r&&(0,Fi.jsx)("span",{className:D("font-bold text-krushr-primary",o[e])})]})}var Fe=w(z(),1);function Vd(){let e=Nt(),{setUser:t,setToken:r}=Ye(),[a,o]=(0,xl.useState)("alice@krushr.dev"),[n,i]=(0,xl.useState)("password123"),[l,s]=(0,xl.useState)(""),c=q.auth.login.useMutation({onSuccess:u=>{t(u.user),r(u.token),e("/board")},onError:u=>{s(u.message||"Invalid email or password")}});return(0,Fe.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 py-12 px-4 sm:px-6 lg:px-8",children:(0,Fe.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("div",{className:"flex justify-center mb-4",children:(0,Fe.jsx)(_a,{size:"xl"})}),(0,Fe.jsx)("p",{className:"text-muted-foreground",children:"Welcome back! Please sign in to continue."})]}),(0,Fe.jsxs)(Pe,{children:[(0,Fe.jsxs)(st,{children:[(0,Fe.jsx)(_t,{children:"Sign in to your account"}),(0,Fe.jsx)(cs,{children:"Enter your email and password to access your workspace"})]}),(0,Fe.jsx)(Qe,{children:(0,Fe.jsxs)("form",{onSubmit:u=>{if(u.preventDefault(),s(""),!a||!n){s("Please fill in all fields");return}c.mutate({email:a,password:n})},className:"space-y-4",children:[l&&(0,Fe.jsxs)(Ii,{variant:"destructive",children:[(0,Fe.jsx)(pa,{className:"h-4 w-4"}),(0,Fe.jsx)(Oi,{children:l})]}),(0,Fe.jsx)("div",{className:"space-y-2",children:(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)(jr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400 z-20"}),(0,Fe.jsx)(Ie,{id:"email",type:"email",label:"Email address",value:a,onChange:u=>o(u.target.value),className:"pl-10",autoComplete:"email",required:!0})]})}),(0,Fe.jsx)("div",{className:"space-y-2",children:(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)(ea,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400 z-20"}),(0,Fe.jsx)(Ie,{id:"password",type:"password",label:"Password",value:n,onChange:u=>i(u.target.value),className:"pl-10",autoComplete:"current-password",required:!0})]})}),(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("label",{className:"flex items-center",children:[(0,Fe.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Fe.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),(0,Fe.jsx)(ha,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-500",children:"Forgot password?"})]}),(0,Fe.jsx)(T,{type:"submit",className:"w-full",style:{backgroundColor:"#143197",color:"white"},disabled:c.isLoading,children:c.isLoading?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(Xe,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"}),(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Fe.jsx)("span",{className:"w-full border-t"})}),(0,Fe.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,Fe.jsx)("span",{className:"bg-white px-2 text-gray-500",children:"New to Krushr?"})})]}),(0,Fe.jsx)(ha,{to:"/register",children:(0,Fe.jsx)(T,{type:"button",variant:"outline",className:"w-full",disabled:c.isLoading,children:"Create Free Account"})}),(0,Fe.jsxs)("div",{className:"text-center text-sm",children:[(0,Fe.jsx)("span",{className:"text-gray-600",children:"Don't have an account? "}),(0,Fe.jsx)(ha,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]})]})})]})]})})}var Gd=w(X(),1);var Le=w(z(),1);function Xd(){let e=Nt(),{setUser:t,setToken:r}=Ye(),[a,o]=(0,Gd.useState)({name:"",email:"",password:"",confirmPassword:""}),[n,i]=(0,Gd.useState)(""),l=q.auth.register.useMutation({onSuccess:d=>{t(d.user),r(d.token),e("/board")},onError:d=>{i(d.message||"Registration failed")}}),s=d=>{o(u=>({...u,[d.target.name]:d.target.value}))};return(0,Le.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100 py-12 px-4 sm:px-6 lg:px-8",children:(0,Le.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Le.jsxs)("div",{className:"text-center",children:[(0,Le.jsx)("div",{className:"flex justify-center mb-4",children:(0,Le.jsx)(_a,{size:"xl"})}),(0,Le.jsx)("p",{className:"text-muted-foreground",children:"Create your account to get started"})]}),(0,Le.jsxs)(Pe,{children:[(0,Le.jsxs)(st,{children:[(0,Le.jsx)(_t,{children:"Sign up for an account"}),(0,Le.jsx)(cs,{children:"Join Krushr to manage your projects and collaborate with your team"})]}),(0,Le.jsx)(Qe,{children:(0,Le.jsxs)("form",{onSubmit:d=>{if(d.preventDefault(),i(""),!a.name||!a.email||!a.password){i("Please fill in all fields");return}if(a.password.length<6){i("Password must be at least 6 characters");return}if(a.password!==a.confirmPassword){i("Passwords do not match");return}l.mutate({name:a.name,email:a.email,password:a.password})},className:"space-y-4",children:[n&&(0,Le.jsxs)(Ii,{variant:"destructive",children:[(0,Le.jsx)(pa,{className:"h-4 w-4"}),(0,Le.jsx)(Oi,{children:n})]}),(0,Le.jsx)("div",{className:"space-y-2",children:(0,Le.jsxs)("div",{className:"relative",children:[(0,Le.jsx)(lr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400 z-20"}),(0,Le.jsx)(Ie,{id:"name",name:"name",type:"text",label:"Full name",value:a.name,onChange:s,className:"pl-10",autoComplete:"name",required:!0})]})}),(0,Le.jsx)("div",{className:"space-y-2",children:(0,Le.jsxs)("div",{className:"relative",children:[(0,Le.jsx)(jr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400 z-20"}),(0,Le.jsx)(Ie,{id:"email",name:"email",type:"email",label:"Email address",value:a.email,onChange:s,className:"pl-10",autoComplete:"email",required:!0})]})}),(0,Le.jsxs)("div",{className:"space-y-2",children:[(0,Le.jsxs)("div",{className:"relative",children:[(0,Le.jsx)(ea,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400 z-20"}),(0,Le.jsx)(Ie,{id:"password",name:"password",type:"password",label:"Password",value:a.password,onChange:s,className:"pl-10",autoComplete:"new-password",required:!0})]}),(0,Le.jsx)("p",{className:"text-xs text-gray-500",children:"Must be at least 6 characters long"})]}),(0,Le.jsx)("div",{className:"space-y-2",children:(0,Le.jsxs)("div",{className:"relative",children:[(0,Le.jsx)(ea,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400 z-20"}),(0,Le.jsx)(Ie,{id:"confirmPassword",name:"confirmPassword",type:"password",label:"Confirm password",value:a.confirmPassword,onChange:s,className:"pl-10",autoComplete:"new-password",required:!0})]})}),(0,Le.jsx)("div",{className:"space-y-2",children:(0,Le.jsxs)("label",{className:"flex items-start",children:[(0,Le.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5",required:!0}),(0,Le.jsxs)("span",{className:"ml-2 text-sm text-gray-600",children:["I agree to the"," ",(0,Le.jsx)(ha,{to:"/terms",className:"text-primary hover:text-primary/80",children:"Terms of Service"})," ","and"," ",(0,Le.jsx)(ha,{to:"/privacy",className:"text-primary hover:text-primary/80",children:"Privacy Policy"})]})]})}),(0,Le.jsx)(T,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",disabled:l.isLoading,children:l.isLoading?(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)(Xe,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create account"}),(0,Le.jsxs)("div",{className:"text-center text-sm",children:[(0,Le.jsx)("span",{className:"text-gray-600",children:"Already have an account? "}),(0,Le.jsx)(ha,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})]})})]})]})})}var ur=w(X(),1);var vo=w(X(),1);var Qd=w(X(),1);var me=w(z(),1);function Hn({currentPage:e,onPageChange:t}){let[r,a]=(0,Qd.useState)(!1),[o,n]=(0,Qd.useState)(!1),{user:i,logout:l}=Ye(),s=Nt(),{data:c=[]}=q.workspace.list.useQuery(),d=c[0],{data:u=[],isLoading:p,error:g}=q.user.listWorkspaceMembers.useQuery({workspaceId:d?.id||""},{enabled:!!d?.id,staleTime:5*60*1e3,retry:3,refetchOnWindowFocus:!1}),m=u.length>0?u:[],f=d&&!g,v=[{name:"Dashboard",icon:Do,href:"/home",key:"home"},{name:"Workspace",icon:vn,href:"/workspace",key:"workspace"},{name:"Board",icon:Fa,href:"/board",key:"board"},{name:"Calendar",icon:Ae,href:"/calendar",key:"calendar"},{name:"Chat",icon:Wt,href:"/chat",key:"chat"},{name:"Notes",icon:Sa,href:"/notes",key:"notes"},{name:"Teams",icon:xt,href:"/teams",key:"teams"},{name:"Projects",icon:Fa,href:"/projects",key:"projects"},{name:"Contacts",icon:lr,href:"/contacts",key:"contacts"}],h=[{name:"Brandkit",icon:hn,href:"/brandkit.html",key:"brandkit"},{name:"Brandkit 2",icon:hn,href:"/brandkit-2.html",key:"brandkit2"},{name:"Landing Design System",icon:Mm,href:"/design-system-landing.html",key:"landingkit"}],N=F=>F.split(" ").map(M=>M[0]).join("").toUpperCase().substring(0,2),C=()=>{l(),s("/login")};return(0,me.jsxs)("div",{className:`${r?"w-16":"w-48"} bg-sidebar border-r border-sidebar-border flex flex-col h-full transition-all duration-300`,children:[(0,me.jsx)("div",{className:"p-3 border-b border-sidebar-border flex-shrink-0",children:(0,me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,me.jsx)("div",{className:"flex-1",children:(0,me.jsx)(_a,{size:r?"sm":"md",showText:!r})}),(0,me.jsx)("button",{onClick:()=>a(!r),className:"p-1 hover:bg-sidebar-accent rounded transition-colors ml-2",title:r?"Expand sidebar":"Collapse sidebar",children:r?(0,me.jsx)(ks,{className:"w-4 h-4 text-sidebar-foreground"}):(0,me.jsx)(cn,{className:"w-4 h-4 text-sidebar-foreground"})})]})}),(0,me.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,me.jsx)("div",{className:"p-3 border-b border-sidebar-border flex-shrink-0",children:(0,me.jsxs)("nav",{className:"space-y-0.5",children:[v.map(F=>{let M=e===F.key;return(0,me.jsxs)("button",{onClick:j=>{j.preventDefault(),t(F.key)},className:`w-full flex items-center ${r?"justify-center px-2":"px-3"} py-1.5 text-sm font-light rounded-lg transition-colors ${M?"bg-krushr-primary text-white font-medium":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"}`,title:r?F.name:void 0,children:[(0,me.jsx)(F.icon,{className:`w-4 h-4 ${r?"":"mr-2"} ${M?"":"text-sidebar-icon"}`}),!r&&F.name]},F.key)}),(0,me.jsxs)("div",{children:[(0,me.jsxs)("button",{onClick:()=>n(!o),className:`w-full flex items-center ${r?"justify-center px-2":"px-3"} py-1.5 text-sm font-light rounded-lg transition-colors text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground`,title:r?"Design System":void 0,children:[(0,me.jsx)(hn,{className:`w-4 h-4 ${r?"":"mr-2"} text-sidebar-icon`}),!r&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("span",{className:"flex-1 text-left",children:"Design System"}),o?(0,me.jsx)(sr,{className:"w-4 h-4 text-sidebar-icon"}):(0,me.jsx)(hr,{className:"w-4 h-4 text-sidebar-icon"})]})]}),o&&!r&&(0,me.jsx)("div",{className:"ml-6 mt-0.5 space-y-0.5",children:h.map(F=>(0,me.jsxs)("a",{href:F.href,target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center px-3 py-1.5 text-sm font-light rounded-lg transition-colors text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",children:[(0,me.jsx)(F.icon,{className:"w-4 h-4 mr-2 text-sidebar-icon"}),F.name]},F.key))})]})]})}),f&&(0,me.jsxs)("div",{className:`${r?"p-2":"p-3"} border-t border-sidebar-border flex-shrink-0 overflow-hidden`,children:[!r&&(0,me.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,me.jsxs)("h3",{className:"text-xs font-semibold text-sidebar-foreground/70 uppercase tracking-wide",children:["Team ",p?"...":`(${m.length})`]}),p&&(0,me.jsx)("div",{className:"w-3 h-3 border border-sidebar-foreground/30 border-t-sidebar-foreground rounded-full animate-spin"})]}),(0,me.jsxs)("div",{className:`space-y-1 ${r?"flex flex-col items-center":""} max-h-[200px] overflow-y-auto`,children:[p&&m.length===0&&(0,me.jsxs)("div",{className:`flex ${r?"justify-center":"items-center space-x-2"} p-1`,children:[(0,me.jsx)("div",{className:"w-7 h-7 rounded-full bg-sidebar-accent animate-pulse"}),!r&&(0,me.jsxs)("div",{className:"flex-1",children:[(0,me.jsx)("div",{className:"h-2.5 bg-sidebar-accent rounded animate-pulse mb-1"}),(0,me.jsx)("div",{className:"h-2 bg-sidebar-accent/60 rounded w-3/4 animate-pulse"})]})]}),m.slice(0,r?6:5).map(F=>(0,me.jsxs)("div",{className:`group transition-colors cursor-pointer ${r?"flex justify-center":"flex items-center space-x-2 p-1 rounded-lg hover:bg-sidebar-accent"}`,title:r?`${F.name} (${F.email})`:void 0,children:[(0,me.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,me.jsx)("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-krushr-primary to-krushr-primary/80 flex items-center justify-center text-white text-xs font-medium group-hover:scale-105 transition-transform",children:N(F.name||"U")}),(0,me.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-emerald-400 border-2 border-sidebar rounded-full"})]}),!r&&(0,me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,me.jsx)("p",{className:"text-xs font-medium text-sidebar-foreground truncate leading-tight",children:F.name}),(0,me.jsx)("p",{className:"text-xs text-sidebar-foreground/60 truncate leading-tight",children:F.email.split("@")[0]})]})]},F.id)),m.length>(r?6:5)&&(0,me.jsx)("div",{className:`${r?"flex justify-center":"text-center pt-1"}`,children:r?(0,me.jsxs)("div",{className:"w-7 h-7 rounded-full bg-sidebar-accent flex items-center justify-center text-sidebar-foreground text-xs font-medium",title:`+${m.length-6} more members`,children:["+",m.length-6]}):(0,me.jsxs)("button",{className:"text-xs text-sidebar-foreground/60 hover:text-sidebar-foreground transition-colors",children:["+",m.length-5," more members"]})}),!p&&m.length===0&&!r&&(0,me.jsx)("div",{className:"text-xs text-sidebar-foreground/60 text-center py-1",children:"No team members yet"})]})]}),!f&&(0,me.jsx)("div",{className:"flex-1"})]}),i&&(0,me.jsx)("div",{className:"p-3 border-t border-sidebar-border flex-shrink-0",children:r?(0,me.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,me.jsxs)(ut,{className:"w-7 h-7",title:i.name,children:[(0,me.jsx)(jt,{src:i.avatar}),(0,me.jsx)(bt,{className:"bg-gradient-to-br from-pink-400 to-red-500 text-white text-xs font-medium",children:N(i.name||"U")})]}),(0,me.jsxs)("div",{className:"flex flex-col space-y-0.5",children:[(0,me.jsx)("button",{onClick:()=>s("/settings"),className:"p-1 hover:bg-sidebar-accent rounded transition-colors",title:"Settings",children:(0,me.jsx)(yr,{className:"w-3.5 h-3.5 text-sidebar-foreground/60"})}),(0,me.jsx)("button",{onClick:C,className:"p-1 hover:bg-red-100 hover:text-red-600 rounded transition-colors",title:"Logout",children:(0,me.jsx)(Eo,{className:"w-3.5 h-3.5 text-sidebar-foreground/60"})})]})]}):(0,me.jsxs)("div",{className:"flex items-center space-x-2 p-1.5 rounded-lg hover:bg-sidebar-accent transition-colors",children:[(0,me.jsxs)(ut,{className:"w-7 h-7",children:[(0,me.jsx)(jt,{src:i.avatar}),(0,me.jsx)(bt,{className:"bg-gradient-to-br from-pink-400 to-red-500 text-white text-xs font-medium",children:N(i.name||"U")})]}),(0,me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,me.jsx)("p",{className:"text-xs font-medium text-sidebar-foreground truncate leading-tight",children:i.name}),(0,me.jsx)("p",{className:"text-xs text-sidebar-foreground/60 truncate leading-tight",children:i.email})]}),(0,me.jsxs)("div",{className:"flex space-x-0.5",children:[(0,me.jsx)("button",{onClick:()=>s("/settings"),className:"p-1 hover:bg-sidebar-accent rounded transition-colors",title:"Settings",children:(0,me.jsx)(yr,{className:"w-3.5 h-3.5 text-sidebar-foreground/60"})}),(0,me.jsx)("button",{onClick:C,className:"p-1 hover:bg-red-100 hover:text-red-600 rounded transition-colors",title:"Logout",children:(0,me.jsx)(Eo,{className:"w-3.5 h-3.5 text-sidebar-foreground/60"})})]})]})})]})}var $a=w(z(),1);function Jd({currentPage:e,onPageChange:t,className:r}){let{notifications:a}=or(),o=a.filter(i=>!i.is_read).length,n=[{key:"home",label:"Home",icon:Do,href:"/",badge:null},{key:"board",label:"Board",icon:ln,href:"/board",badge:null},{key:"calendar",label:"Calendar",icon:Ae,href:"/calendar",badge:null},{key:"chat",label:"Chat",icon:Wt,href:"/chat",badge:o>0?o:null},{key:"notes",label:"Notes",icon:Sa,href:"/notes",badge:null}];return(0,$a.jsx)("nav",{className:D("fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 md:hidden",r),children:(0,$a.jsx)("div",{className:"grid grid-cols-5 h-16",children:n.map(i=>{let l=i.icon,s=e===i.key;return(0,$a.jsxs)(T,{variant:"ghost",className:D("h-full rounded-none flex flex-col items-center justify-center space-y-1 relative",s&&"text-blue-600 bg-blue-50"),onClick:()=>t(i.key),children:[(0,$a.jsxs)("div",{className:"relative",children:[(0,$a.jsx)(l,{className:D("w-5 h-5",s?"text-blue-600":"text-gray-900/90")}),i.badge&&(0,$a.jsx)(ye,{className:"absolute -top-2 -right-2 h-4 w-4 p-0 flex items-center justify-center text-xs bg-red-500",children:i.badge>9?"9+":i.badge})]}),(0,$a.jsx)("span",{className:D("text-xs font-light",s?"text-blue-600":"text-gray-900/90"),children:i.label})]},i.key)})})})}var Xv=w(X(),1);var au=w(X(),1);var Nl=w(X(),1);var Ka=w(X(),1);var Ya=w(z(),1),kl="Tabs",[Jk,h3]=ra(kl,[Mc]),jv=Mc(),[Zk,Zd]=Jk(kl),Hv=Ka.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,onValueChange:o,defaultValue:n,orientation:i="horizontal",dir:l,activationMode:s="automatic",...c}=e,d=wf(l),[u,p]=Ea({prop:a,onChange:o,defaultProp:n??"",caller:kl});return(0,Ya.jsx)(Zk,{scope:r,baseId:fa(),value:u,onValueChange:p,orientation:i,dir:d,activationMode:s,children:(0,Ya.jsx)(Je.div,{dir:d,"data-orientation":i,...c,ref:t})})});Hv.displayName=kl;var Bv="TabsList",Uv=Ka.forwardRef((e,t)=>{let{__scopeTabs:r,loop:a=!0,...o}=e,n=Zd(Bv,r),i=jv(r);return(0,Ya.jsx)(zf,{asChild:!0,...i,orientation:n.orientation,dir:n.dir,loop:a,children:(0,Ya.jsx)(Je.div,{role:"tablist","aria-orientation":n.orientation,...o,ref:t})})});Uv.displayName=Bv;var Wv="TabsTrigger",$v=Ka.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,disabled:o=!1,...n}=e,i=Zd(Wv,r),l=jv(r),s=qv(i.baseId,a),c=Vv(i.baseId,a),d=a===i.value;return(0,Ya.jsx)(jf,{asChild:!0,...l,focusable:!o,active:d,children:(0,Ya.jsx)(Je.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:s,...n,ref:t,onMouseDown:vt(e.onMouseDown,u=>{!o&&u.button===0&&u.ctrlKey===!1?i.onValueChange(a):u.preventDefault()}),onKeyDown:vt(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&i.onValueChange(a)}),onFocus:vt(e.onFocus,()=>{let u=i.activationMode!=="manual";!d&&!o&&u&&i.onValueChange(a)})})})});$v.displayName=Wv;var Yv="TabsContent",Kv=Ka.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,forceMount:o,children:n,...i}=e,l=Zd(Yv,r),s=qv(l.baseId,a),c=Vv(l.baseId,a),d=a===l.value,u=Ka.useRef(d);return Ka.useEffect(()=>{let p=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(p)},[]),(0,Ya.jsx)(ja,{present:o||d,children:({present:p})=>(0,Ya.jsx)(Je.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":s,hidden:!p,id:c,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:p&&n})})});Kv.displayName=Yv;function qv(e,t){return`${e}-trigger-${t}`}function Vv(e,t){return`${e}-content-${t}`}var Gv=Hv,eu=Uv,tu=$v,ru=Kv;var Sl=w(z(),1),Cl=Gv,zi=Nl.forwardRef(({className:e,...t},r)=>(0,Sl.jsx)(eu,{ref:r,className:D("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));zi.displayName=eu.displayName;var qa=Nl.forwardRef(({className:e,...t},r)=>(0,Sl.jsx)(tu,{ref:r,className:D("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));qa.displayName=tu.displayName;var Rl=Nl.forwardRef(({className:e,...t},r)=>(0,Sl.jsx)(ru,{ref:r,className:D("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Rl.displayName=ru.displayName;var ve=w(z(),1);function ou({className:e}){let[t,r]=(0,au.useState)("all"),[a,o]=(0,au.useState)(""),{notifications:n,markNotificationRead:i}=or(),l=n.filter(m=>{let f=!a||m.title.toLowerCase().includes(a.toLowerCase())||m.message.toLowerCase().includes(a.toLowerCase()),v=t==="all"||t==="unread"&&!m.is_read||t==="mentions"&&m.type.includes("mention")||t==="tasks"&&m.type.includes("task");return f&&v}),s=n.filter(m=>!m.is_read).length,c=m=>{switch(m){case"task_assigned":case"task_completed":case"task_updated":return(0,ve.jsx)(vr,{className:"w-4 h-4 text-blue-600"});case"comment_added":case"mention":return(0,ve.jsx)(Wt,{className:"w-4 h-4 text-purple-600"});case"meeting_scheduled":case"deadline_reminder":return(0,ve.jsx)(Ae,{className:"w-4 h-4 text-green-600"});case"team_invitation":case"user_invited":return(0,ve.jsx)(Ds,{className:"w-4 h-4 text-indigo-600"});case"file_shared":return(0,ve.jsx)(gt,{className:"w-4 h-4 text-orange-600"});case"system_alert":return(0,ve.jsx)(ar,{className:"w-4 h-4 text-red-600"});default:return(0,ve.jsx)(gr,{className:"w-4 h-4 text-gray-600"})}},d=m=>{switch(m){case"task_assigned":case"task_completed":case"task_updated":return"border-l-blue-500 bg-blue-50";case"comment_added":case"mention":return"border-l-purple-500 bg-purple-50";case"meeting_scheduled":case"deadline_reminder":return"border-l-green-500 bg-green-50";case"team_invitation":case"user_invited":return"border-l-indigo-500 bg-indigo-50";case"file_shared":return"border-l-orange-500 bg-orange-50";case"system_alert":return"border-l-red-500 bg-red-50";default:return"border-l-gray-300 bg-white"}},u=m=>{i(m)},p=()=>{n.filter(m=>!m.is_read).forEach(m=>i(m.id))},g=m=>m.replace(/_/g," ").replace(/\b\w/g,f=>f.toUpperCase());return(0,ve.jsxs)(Pe,{className:D("h-full flex flex-col",e),children:[(0,ve.jsxs)(st,{className:"flex-shrink-0 pb-3",children:[(0,ve.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ve.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ve.jsx)(_t,{className:"text-lg font-semibold",children:"Notifications"}),s>0&&(0,ve.jsxs)(ye,{variant:"secondary",className:"bg-red-100 text-red-700",children:[s," new"]})]}),(0,ve.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ve.jsx)(T,{variant:"ghost",size:"sm",children:(0,ve.jsx)(eo,{className:"w-4 h-4"})}),(0,ve.jsx)(T,{variant:"ghost",size:"sm",children:(0,ve.jsx)(yr,{className:"w-4 h-4"})})]})]}),(0,ve.jsxs)("div",{className:"relative",children:[(0,ve.jsx)($t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,ve.jsx)("input",{type:"text",placeholder:"Search notifications...",value:a,onChange:m=>o(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg shadow-sm hover:shadow-md transition-shadow focus:shadow-md focus:border-krushr-primary text-sm"})]})]}),(0,ve.jsx)("div",{className:"flex-shrink-0 px-6",children:(0,ve.jsxs)(Cl,{value:t,onValueChange:r,children:[(0,ve.jsxs)(zi,{className:"grid w-full grid-cols-4",children:[(0,ve.jsx)(qa,{value:"all",className:"text-xs",children:"All"}),(0,ve.jsxs)(qa,{value:"unread",className:"text-xs",children:["Unread",s>0&&(0,ve.jsx)(ye,{variant:"secondary",className:"ml-1 h-4 w-4 p-0 text-xs",children:s>9?"9+":s})]}),(0,ve.jsx)(qa,{value:"mentions",className:"text-xs",children:"Mentions"}),(0,ve.jsx)(qa,{value:"tasks",className:"text-xs",children:"Tasks"})]}),s>0&&(0,ve.jsx)("div",{className:"flex items-center justify-between mt-3",children:(0,ve.jsxs)(T,{variant:"ghost",size:"sm",onClick:p,className:"text-blue-600 hover:text-blue-700",children:[(0,ve.jsx)(Im,{className:"w-4 h-4 mr-2"}),"Mark all as read"]})})]})}),(0,ve.jsx)(_o,{className:"flex-1",children:(0,ve.jsx)("div",{className:"p-6 pt-4 space-y-3",children:l.length===0?(0,ve.jsxs)("div",{className:"text-center py-12",children:[(0,ve.jsx)(gr,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,ve.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a?"No matching notifications":"No notifications"}),(0,ve.jsx)("p",{className:"text-gray-500",children:a?"Try adjusting your search terms":"You're all caught up! New notifications will appear here."})]}):l.map(m=>(0,ve.jsx)("div",{className:D("group p-4 rounded-lg border-l-4 transition-all duration-200 hover:shadow-sm cursor-pointer",m.is_read?"bg-white":d(m.type),!m.is_read&&"shadow-sm"),onClick:()=>!m.is_read&&u(m.id),children:(0,ve.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ve.jsx)("div",{className:"flex-shrink-0 mt-1",children:c(m.type)}),(0,ve.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ve.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ve.jsxs)("div",{className:"flex-1 pr-2",children:[(0,ve.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:m.title}),(0,ve.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:m.message}),(0,ve.jsxs)("div",{className:"flex items-center space-x-3 mt-2",children:[(0,ve.jsx)("span",{className:"text-xs text-gray-500",children:Cn(m.created_at)}),(0,ve.jsx)(ye,{variant:"outline",className:"text-xs",children:g(m.type)}),m.sender&&(0,ve.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ve.jsxs)(ut,{className:"w-4 h-4",children:[(0,ve.jsx)(jt,{src:m.sender.avatar}),(0,ve.jsx)(bt,{className:"text-xs bg-gray-100",children:m.sender.name.split(" ").map(f=>f[0]).join("").toUpperCase()})]}),(0,ve.jsx)("span",{className:"text-xs text-gray-500",children:m.sender.name})]})]})]}),(0,ve.jsxs)("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[!m.is_read&&(0,ve.jsx)(T,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:f=>{f.stopPropagation(),u(m.id)},title:"Mark as read",children:(0,ve.jsx)(Ja,{className:"w-3 h-3"})}),(0,ve.jsx)(T,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",title:"Open",children:(0,ve.jsx)(dn,{className:"w-3 h-3"})}),(0,ve.jsx)(T,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",title:"Dismiss",children:(0,ve.jsx)(ht,{className:"w-3 h-3"})})]})]}),!m.is_read&&(0,ve.jsx)("div",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-2 h-2 bg-blue-600 rounded-full"})]})]})},m.id))})})]})}var Va=w(z(),1);function Dl({className:e,variant:t="desktop"}){let[r,a]=(0,Xv.useState)(!1),{notifications:o}=or(),n=o.filter(i=>!i.is_read).length;return(0,Va.jsxs)(Yr,{open:r,onOpenChange:a,children:[(0,Va.jsx)(Kr,{asChild:!0,children:(0,Va.jsxs)(T,{variant:"ghost",size:t==="mobile"?"sm":"default",className:D("relative",t==="mobile"&&"p-2",e),children:[(0,Va.jsx)(gr,{className:D("w-5 h-5")}),n>0&&(0,Va.jsx)(ye,{className:D("absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-xs bg-red-500",t==="mobile"&&"h-4 w-4"),children:n>9?"9+":n})]})}),(0,Va.jsx)(Ar,{className:"w-96 p-0",align:"end",side:"bottom",sideOffset:8,children:(0,Va.jsx)(ou,{className:"border-0 shadow-none"})})]})}var Hi=w(X(),1);var ji=w(X(),1);var it=w(z(),1);function nu({notification:e,onClose:t,onAction:r,className:a}){let[o,n]=(0,ji.useState)(!1),[i,l]=(0,ji.useState)(!1);(0,ji.useEffect)(()=>{let u=setTimeout(()=>n(!0),100);return()=>clearTimeout(u)},[]);let s=()=>{l(!0),setTimeout(()=>{t()},200)},c=u=>{switch(u){case"task_assigned":case"task_completed":case"task_updated":return(0,it.jsx)(vr,{className:"w-5 h-5 text-blue-600"});case"comment_added":case"mention":return(0,it.jsx)(Wt,{className:"w-5 h-5 text-purple-600"});case"meeting_scheduled":case"deadline_reminder":return(0,it.jsx)(Ae,{className:"w-5 h-5 text-green-600"});case"team_invitation":case"user_invited":return(0,it.jsx)(Ds,{className:"w-5 h-5 text-indigo-600"});case"file_shared":return(0,it.jsx)(gt,{className:"w-5 h-5 text-orange-600"});case"system_alert":return(0,it.jsx)(ar,{className:"w-5 h-5 text-red-600"});default:return(0,it.jsx)(gr,{className:"w-5 h-5 text-gray-600"})}};return(0,it.jsx)(Pe,{className:D("fixed top-4 right-4 w-96 max-w-[calc(100vw-2rem)] shadow-lg border-l-4 z-50 transition-all duration-200",(u=>{switch(u){case"task_assigned":case"task_completed":case"task_updated":return"border-l-blue-500 bg-blue-50";case"comment_added":case"mention":return"border-l-purple-500 bg-purple-50";case"meeting_scheduled":case"deadline_reminder":return"border-l-green-500 bg-green-50";case"team_invitation":case"user_invited":return"border-l-indigo-500 bg-indigo-50";case"file_shared":return"border-l-orange-500 bg-orange-50";case"system_alert":return"border-l-red-500 bg-red-50";default:return"border-l-gray-300 bg-white"}})(e.type),o&&!i?"translate-x-0 opacity-100":"translate-x-full opacity-0",a),children:(0,it.jsx)("div",{className:"p-4",children:(0,it.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,it.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:c(e.type)}),(0,it.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,it.jsxs)("div",{className:"flex items-start justify-between",children:[(0,it.jsxs)("div",{className:"flex-1 pr-2",children:[(0,it.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:e.title}),(0,it.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.message}),(0,it.jsx)("div",{className:"flex items-center justify-between mt-2",children:(0,it.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,it.jsx)("span",{className:"text-xs text-gray-500",children:Cn(e.created_at)}),e.sender&&(0,it.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,it.jsxs)(ut,{className:"w-4 h-4",children:[(0,it.jsx)(jt,{src:e.sender.avatar}),(0,it.jsx)(bt,{className:"text-xs bg-gray-100",children:e.sender.name.split(" ").map(u=>u[0]).join("").toUpperCase()})]}),(0,it.jsx)("span",{className:"text-xs text-gray-500",children:e.sender.name})]})]})})]}),(0,it.jsx)(T,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-gray-400 hover:text-gray-600",onClick:s,children:(0,it.jsx)(ht,{className:"w-4 h-4"})})]}),(0,it.jsxs)("div",{className:"flex items-center space-x-2 mt-3",children:[r&&(0,it.jsxs)(T,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:r,children:[(0,it.jsx)(dn,{className:"w-3 h-3 mr-1"}),"View"]}),(0,it.jsx)(T,{variant:"ghost",size:"sm",className:"h-7 text-xs text-gray-500 hover:text-gray-700",onClick:s,children:"Dismiss"})]})]})]})})})}var El=w(z(),1);function iu(){let[e,t]=(0,Hi.useState)([]),{notifications:r,markNotificationRead:a}=or();(0,Hi.useEffect)(()=>{let l=r.filter(s=>!s.is_read).filter(s=>!e.some(c=>c.id===s.id)).slice(0,3);if(l.length>0){let s=l.map(c=>({...c,toastId:`toast-${c.id}-${Date.now()}`,timestamp:Date.now()}));t(c=>[...c,...s])}},[r,e]),(0,Hi.useEffect)(()=>{e.forEach(l=>{let s=setTimeout(()=>{o(l.toastId)},5e3);return()=>clearTimeout(s)})},[e]);let o=l=>{t(s=>s.filter(c=>c.toastId!==l))},n=l=>{a(l.id),o(l.toastId),console.log("Navigate to:",l.type,l.id)},i=l=>{a(l.id),o(l.toastId)};return(0,El.jsx)("div",{className:"fixed top-0 right-0 z-50 p-4 space-y-3 pointer-events-none",children:e.map((l,s)=>(0,El.jsx)("div",{className:"pointer-events-auto",style:{transform:`translateY(${s*10}px)`,zIndex:1e3-s},children:(0,El.jsx)(nu,{notification:l,onClose:()=>i(l),onAction:()=>n(l)})},l.toastId))})}var ho=w(X(),1);var Qv=1,t2=.9,r2=.8,a2=.17,su=.1,lu=.999,o2=.9999,n2=.99,i2=/[\\\/_+.#"@\[\(\{&]/,s2=/[\\\/_+.#"@\[\(\{&]/g,l2=/[\s-]/,Zv=/[\s-]/g;function cu(e,t,r,a,o,n,i){if(n===t.length)return o===e.length?Qv:n2;var l=`${o},${n}`;if(i[l]!==void 0)return i[l];for(var s=a.charAt(n),c=r.indexOf(s,o),d=0,u,p,g,m;c>=0;)u=cu(e,t,r,a,c+1,n+1,i),u>d&&(c===o?u*=Qv:i2.test(e.charAt(c-1))?(u*=r2,g=e.slice(o,c-1).match(s2),g&&o>0&&(u*=Math.pow(lu,g.length))):l2.test(e.charAt(c-1))?(u*=t2,m=e.slice(o,c-1).match(Zv),m&&o>0&&(u*=Math.pow(lu,m.length))):(u*=a2,o>0&&(u*=Math.pow(lu,c-o))),e.charAt(c)!==t.charAt(n)&&(u*=o2)),(u<su&&r.charAt(c-1)===a.charAt(n+1)||a.charAt(n+1)===a.charAt(n)&&r.charAt(c-1)!==a.charAt(n))&&(p=cu(e,t,r,a,c+1,n+2,i),p*su>u&&(u=p*su)),u>d&&(d=u),c=r.indexOf(s,c+1);return i[l]=d,d}function Jv(e){return e.toLowerCase().replace(Zv," ")}function eb(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,cu(e,t,Jv(e),Jv(t),0,0,{})}var ge=w(X(),1);var Bi='[cmdk-group=""]',du='[cmdk-group-items=""]',c2='[cmdk-group-heading=""]',rb='[cmdk-item=""]',tb=`${rb}:not([aria-disabled="true"])`,uu="cmdk-item-select",Bn="data-value",d2=(e,t,r)=>eb(e,t,r),ab=ge.createContext(void 0),Ui=()=>ge.useContext(ab),ob=ge.createContext(void 0),pu=()=>ge.useContext(ob),nb=ge.createContext(void 0),ib=ge.forwardRef((e,t)=>{let r=Un(()=>{var _,re;return{search:"",value:(re=(_=e.value)!=null?_:e.defaultValue)!=null?re:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=Un(()=>new Set),o=Un(()=>new Map),n=Un(()=>new Map),i=Un(()=>new Set),l=sb(e),{label:s,children:c,value:d,onValueChange:u,filter:p,shouldFilter:g,loop:m,disablePointerSelection:f=!1,vimBindings:v=!0,...h}=e,N=fa(),C=fa(),F=fa(),M=ge.useRef(null),j=x2();Ho(()=>{if(d!==void 0){let _=d.trim();r.current.value=_,B.emit()}},[d]),Ho(()=>{j(6,k)},[]);let B=ge.useMemo(()=>({subscribe:_=>(i.current.add(_),()=>i.current.delete(_)),snapshot:()=>r.current,setState:(_,re,Q)=>{var J,b,O,U;if(!Object.is(r.current[_],re)){if(r.current[_]=re,_==="search")A(),ne(),j(1,ue);else if(_==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let $=document.getElementById(F);$?$.focus():(J=document.getElementById(N))==null||J.focus()}if(j(7,()=>{var $;r.current.selectedItemId=($=y())==null?void 0:$.id,B.emit()}),Q||j(5,k),((b=l.current)==null?void 0:b.value)!==void 0){let $=re??"";(U=(O=l.current).onValueChange)==null||U.call(O,$);return}}B.emit()}},emit:()=>{i.current.forEach(_=>_())}}),[]),le=ge.useMemo(()=>({value:(_,re,Q)=>{var J;re!==((J=n.current.get(_))==null?void 0:J.value)&&(n.current.set(_,{value:re,keywords:Q}),r.current.filtered.items.set(_,ee(re,Q)),j(2,()=>{ne(),B.emit()}))},item:(_,re)=>(a.current.add(_),re&&(o.current.has(re)?o.current.get(re).add(_):o.current.set(re,new Set([_]))),j(3,()=>{A(),ne(),r.current.value||ue(),B.emit()}),()=>{n.current.delete(_),a.current.delete(_),r.current.filtered.items.delete(_);let Q=y();j(4,()=>{A(),Q?.getAttribute("id")===_&&ue(),B.emit()})}),group:_=>(o.current.has(_)||o.current.set(_,new Set),()=>{n.current.delete(_),o.current.delete(_)}),filter:()=>l.current.shouldFilter,label:s||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:N,inputId:F,labelId:C,listInnerRef:M}),[]);function ee(_,re){var Q,J;let b=(J=(Q=l.current)==null?void 0:Q.filter)!=null?J:d2;return _?b(_,r.current.search,re):0}function ne(){if(!r.current.search||l.current.shouldFilter===!1)return;let _=r.current.filtered.items,re=[];r.current.filtered.groups.forEach(J=>{let b=o.current.get(J),O=0;b.forEach(U=>{let $=_.get(U);O=Math.max($,O)}),re.push([J,O])});let Q=M.current;E().sort((J,b)=>{var O,U;let $=J.getAttribute("id"),ie=b.getAttribute("id");return((O=_.get(ie))!=null?O:0)-((U=_.get($))!=null?U:0)}).forEach(J=>{let b=J.closest(du);b?b.appendChild(J.parentElement===b?J:J.closest(`${du} > *`)):Q.appendChild(J.parentElement===Q?J:J.closest(`${du} > *`))}),re.sort((J,b)=>b[1]-J[1]).forEach(J=>{var b;let O=(b=M.current)==null?void 0:b.querySelector(`${Bi}[${Bn}="${encodeURIComponent(J[0])}"]`);O?.parentElement.appendChild(O)})}function ue(){let _=E().find(Q=>Q.getAttribute("aria-disabled")!=="true"),re=_?.getAttribute(Bn);B.setState("value",re||void 0)}function A(){var _,re,Q,J;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=a.current.size;return}r.current.filtered.groups=new Set;let b=0;for(let O of a.current){let U=(re=(_=n.current.get(O))==null?void 0:_.value)!=null?re:"",$=(J=(Q=n.current.get(O))==null?void 0:Q.keywords)!=null?J:[],ie=ee(U,$);r.current.filtered.items.set(O,ie),ie>0&&b++}for(let[O,U]of o.current)for(let $ of U)if(r.current.filtered.items.get($)>0){r.current.filtered.groups.add(O);break}r.current.filtered.count=b}function k(){var _,re,Q;let J=y();J&&(((_=J.parentElement)==null?void 0:_.firstChild)===J&&((Q=(re=J.closest(Bi))==null?void 0:re.querySelector(c2))==null||Q.scrollIntoView({block:"nearest"})),J.scrollIntoView({block:"nearest"}))}function y(){var _;return(_=M.current)==null?void 0:_.querySelector(`${rb}[aria-selected="true"]`)}function E(){var _;return Array.from(((_=M.current)==null?void 0:_.querySelectorAll(tb))||[])}function x(_){let re=E()[_];re&&B.setState("value",re.getAttribute(Bn))}function S(_){var re;let Q=y(),J=E(),b=J.findIndex(U=>U===Q),O=J[b+_];(re=l.current)!=null&&re.loop&&(O=b+_<0?J[J.length-1]:b+_===J.length?J[0]:J[b+_]),O&&B.setState("value",O.getAttribute(Bn))}function P(_){let re=y(),Q=re?.closest(Bi),J;for(;Q&&!J;)Q=_>0?y2(Q,Bi):w2(Q,Bi),J=Q?.querySelector(tb);J?B.setState("value",J.getAttribute(Bn)):S(_)}let Y=()=>x(E().length-1),be=_=>{_.preventDefault(),_.metaKey?Y():_.altKey?P(1):S(1)},K=_=>{_.preventDefault(),_.metaKey?x(0):_.altKey?P(-1):S(-1)};return ge.createElement(Je.div,{ref:t,tabIndex:-1,...h,"cmdk-root":"",onKeyDown:_=>{var re;(re=h.onKeyDown)==null||re.call(h,_);let Q=_.nativeEvent.isComposing||_.keyCode===229;if(!(_.defaultPrevented||Q))switch(_.key){case"n":case"j":{v&&_.ctrlKey&&be(_);break}case"ArrowDown":{be(_);break}case"p":case"k":{v&&_.ctrlKey&&K(_);break}case"ArrowUp":{K(_);break}case"Home":{_.preventDefault(),x(0);break}case"End":{_.preventDefault(),Y();break}case"Enter":{_.preventDefault();let J=y();if(J){let b=new Event(uu);J.dispatchEvent(b)}}}}},ge.createElement("label",{"cmdk-label":"",htmlFor:le.inputId,id:le.labelId,style:N2},s),Pl(e,_=>ge.createElement(ob.Provider,{value:B},ge.createElement(ab.Provider,{value:le},_))))}),u2=ge.forwardRef((e,t)=>{var r,a;let o=fa(),n=ge.useRef(null),i=ge.useContext(nb),l=Ui(),s=sb(e),c=(a=(r=s.current)==null?void 0:r.forceMount)!=null?a:i?.forceMount;Ho(()=>{if(!c)return l.item(o,i?.id)},[c]);let d=lb(o,n,[e.value,e.children,n],e.keywords),u=pu(),p=go(j=>j.value&&j.value===d.current),g=go(j=>c||l.filter()===!1?!0:j.search?j.filtered.items.get(o)>0:!0);ge.useEffect(()=>{let j=n.current;if(!(!j||e.disabled))return j.addEventListener(uu,m),()=>j.removeEventListener(uu,m)},[g,e.onSelect,e.disabled]);function m(){var j,B;f(),(B=(j=s.current).onSelect)==null||B.call(j,d.current)}function f(){u.setState("value",d.current,!0)}if(!g)return null;let{disabled:v,value:h,onSelect:N,forceMount:C,keywords:F,...M}=e;return ge.createElement(Je.div,{ref:an(n,t),...M,id:o,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!p,"data-disabled":!!v,"data-selected":!!p,onPointerMove:v||l.getDisablePointerSelection()?void 0:f,onClick:v?void 0:m},e.children)}),p2=ge.forwardRef((e,t)=>{let{heading:r,children:a,forceMount:o,...n}=e,i=fa(),l=ge.useRef(null),s=ge.useRef(null),c=fa(),d=Ui(),u=go(g=>o||d.filter()===!1?!0:g.search?g.filtered.groups.has(i):!0);Ho(()=>d.group(i),[]),lb(i,l,[e.value,e.heading,s]);let p=ge.useMemo(()=>({id:i,forceMount:o}),[o]);return ge.createElement(Je.div,{ref:an(l,t),...n,"cmdk-group":"",role:"presentation",hidden:u?void 0:!0},r&&ge.createElement("div",{ref:s,"cmdk-group-heading":"","aria-hidden":!0,id:c},r),Pl(e,g=>ge.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?c:void 0},ge.createElement(nb.Provider,{value:p},g))))}),m2=ge.forwardRef((e,t)=>{let{alwaysRender:r,...a}=e,o=ge.useRef(null),n=go(i=>!i.search);return!r&&!n?null:ge.createElement(Je.div,{ref:an(o,t),...a,"cmdk-separator":"",role:"separator"})}),f2=ge.forwardRef((e,t)=>{let{onValueChange:r,...a}=e,o=e.value!=null,n=pu(),i=go(c=>c.search),l=go(c=>c.selectedItemId),s=Ui();return ge.useEffect(()=>{e.value!=null&&n.setState("search",e.value)},[e.value]),ge.createElement(Je.input,{ref:t,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":s.listId,"aria-labelledby":s.labelId,"aria-activedescendant":l,id:s.inputId,type:"text",value:o?e.value:i,onChange:c=>{o||n.setState("search",c.target.value),r?.(c.target.value)}})}),g2=ge.forwardRef((e,t)=>{let{children:r,label:a="Suggestions",...o}=e,n=ge.useRef(null),i=ge.useRef(null),l=go(c=>c.selectedItemId),s=Ui();return ge.useEffect(()=>{if(i.current&&n.current){let c=i.current,d=n.current,u,p=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let g=c.offsetHeight;d.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return p.observe(c),()=>{cancelAnimationFrame(u),p.unobserve(c)}}},[]),ge.createElement(Je.div,{ref:an(n,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":a,id:s.listId},Pl(e,c=>ge.createElement("div",{ref:an(i,s.listInnerRef),"cmdk-list-sizer":""},c)))}),h2=ge.forwardRef((e,t)=>{let{open:r,onOpenChange:a,overlayClassName:o,contentClassName:n,container:i,...l}=e;return ge.createElement(yn,{open:r,onOpenChange:a},ge.createElement(wn,{container:i},ge.createElement(Po,{"cmdk-overlay":"",className:o}),ge.createElement(To,{"aria-label":e.label,"cmdk-dialog":"",className:n},ge.createElement(ib,{ref:t,...l}))))}),v2=ge.forwardRef((e,t)=>go(r=>r.filtered.count===0)?ge.createElement(Je.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),b2=ge.forwardRef((e,t)=>{let{progress:r,children:a,label:o="Loading...",...n}=e;return ge.createElement(Je.div,{ref:t,...n,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},Pl(e,i=>ge.createElement("div",{"aria-hidden":!0},i)))}),Ft=Object.assign(ib,{List:g2,Item:u2,Input:f2,Group:p2,Separator:m2,Dialog:h2,Empty:v2,Loading:b2});function y2(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function w2(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function sb(e){let t=ge.useRef(e);return Ho(()=>{t.current=e}),t}var Ho=typeof window>"u"?ge.useEffect:ge.useLayoutEffect;function Un(e){let t=ge.useRef();return t.current===void 0&&(t.current=e()),t}function go(e){let t=pu(),r=()=>e(t.snapshot());return ge.useSyncExternalStore(t.subscribe,r,r)}function lb(e,t,r,a=[]){let o=ge.useRef(),n=Ui();return Ho(()=>{var i;let l=(()=>{var c;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(c=d.current.textContent)==null?void 0:c.trim():o.current}})(),s=a.map(c=>c.trim());n.value(e,l,s),(i=t.current)==null||i.setAttribute(Bn,l),o.current=l}),o}var x2=()=>{let[e,t]=ge.useState(),r=Un(()=>new Map);return Ho(()=>{r.current.forEach(a=>a()),r.current=new Map},[e]),(a,o)=>{r.current.set(a,o),t({})}};function k2(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Pl({asChild:e,children:t},r){return e&&ge.isValidElement(t)?ge.cloneElement(k2(t),{ref:t.ref},r(t.props.children)):r(t)}var N2={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};var Te=w(z(),1);function mu({open:e,onClose:t}){let r=Nt(),a=(0,ho.useRef)(null),[o,n]=(0,ho.useState)(""),[i,l]=(0,ho.useState)(0),{data:s,isLoading:c}=q.search.global.useQuery({query:o},{enabled:o.length>2,debounceMs:300});(0,ho.useEffect)(()=>{e||(n(""),l(0))},[e]),(0,ho.useEffect)(()=>{e&&a.current&&a.current.focus()},[e]);let d=m=>{switch(m){case"task":return(0,Te.jsx)(af,{className:"w-4 h-4"});case"project":return(0,Te.jsx)(Ca,{className:"w-4 h-4"});case"team":return(0,Te.jsx)(xt,{className:"w-4 h-4"});case"workspace":return(0,Te.jsx)(di,{className:"w-4 h-4"});case"document":return(0,Te.jsx)(gt,{className:"w-4 h-4"});case"event":return(0,Te.jsx)(Ae,{className:"w-4 h-4"});case"message":return(0,Te.jsx)(fn,{className:"w-4 h-4"});default:return(0,Te.jsx)(gt,{className:"w-4 h-4"})}},u=m=>{switch(m){case"task":return"bg-blue-100 text-blue-700";case"project":return"bg-purple-100 text-purple-700";case"team":return"bg-green-100 text-green-700";case"workspace":return"bg-gray-100 text-gray-700";case"document":return"bg-orange-100 text-orange-700";case"event":return"bg-red-100 text-red-700";case"message":return"bg-indigo-100 text-indigo-700";default:return"bg-gray-100 text-gray-700"}},p=m=>{switch(m.type){case"task":r(`/board?task=${m.id}`);break;case"project":r(`/projects/${m.id}`);break;case"team":r(`/teams/${m.id}`);break;case"workspace":r(`/workspaces/${m.id}`);break;default:break}t()},g=[...(s?.tasks||[]).map(m=>({...m,type:"task"})),...(s?.projects||[]).map(m=>({...m,type:"project"})),...(s?.teams||[]).map(m=>({...m,type:"team"})),...(s?.workspaces||[]).map(m=>({...m,type:"workspace"}))];return(0,Te.jsx)(nr,{open:e,onOpenChange:t,children:(0,Te.jsx)(er,{className:"max-w-2xl p-0",children:(0,Te.jsxs)(Ft,{className:"rounded-lg shadow-md",children:[(0,Te.jsxs)("div",{className:"flex items-center border-b px-3",children:[(0,Te.jsx)($t,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,Te.jsx)(Ie,{ref:a,label:"Search everything",value:o,onChange:m=>n(m.target.value),className:"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none disabled:cursor-not-allowed disabled:opacity-50 border-0 focus:ring-0"}),o&&(0,Te.jsx)(T,{variant:"ghost",size:"sm",onClick:()=>n(""),className:"h-6 w-6 p-0",children:(0,Te.jsx)(ht,{className:"h-4 w-4"})})]}),(0,Te.jsxs)(Ft.List,{className:"max-h-[400px] overflow-y-auto p-2",children:[c&&(0,Te.jsx)("div",{className:"flex items-center justify-center py-6",children:(0,Te.jsx)(Xe,{className:"h-6 w-6 animate-spin text-gray-400"})}),!c&&o.length>2&&g.length===0&&(0,Te.jsxs)("div",{className:"py-6 text-center text-sm text-gray-500",children:['No results found for "',o,'"']}),!c&&o.length<=2&&(0,Te.jsx)("div",{className:"py-6 text-center text-sm text-gray-500",children:"Type at least 3 characters to search"}),!c&&g.length>0&&(0,Te.jsxs)(Te.Fragment,{children:[s?.tasks&&s.tasks.length>0&&(0,Te.jsx)(Ft.Group,{heading:"Tasks",children:s.tasks.map((m,f)=>(0,Te.jsxs)(Ft.Item,{value:m.id,onSelect:()=>p({...m,type:"task"}),className:D("flex items-center gap-3 rounded-md px-3 py-2 text-sm cursor-pointer","hover:bg-gray-100",i===f&&"bg-gray-100"),children:[(0,Te.jsx)("div",{className:D("p-1 rounded",u("task")),children:d("task")}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("p",{className:"font-medium",children:m.title}),m.project&&(0,Te.jsxs)("p",{className:"text-xs text-gray-500",children:["in ",m.project.name]})]}),m.status&&(0,Te.jsx)(ye,{variant:"outline",className:"text-xs",children:m.status})]},m.id))}),s?.projects&&s.projects.length>0&&(0,Te.jsx)(Ft.Group,{heading:"Projects",children:s.projects.map(m=>(0,Te.jsxs)(Ft.Item,{value:m.id,onSelect:()=>p({...m,type:"project"}),className:D("flex items-center gap-3 rounded-md px-3 py-2 text-sm cursor-pointer","hover:bg-gray-100"),children:[(0,Te.jsx)("div",{className:D("p-1 rounded",u("project")),children:d("project")}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("p",{className:"font-medium",children:m.name}),m.description&&(0,Te.jsx)("p",{className:"text-xs text-gray-500",children:m.description})]})]},m.id))}),s?.teams&&s.teams.length>0&&(0,Te.jsx)(Ft.Group,{heading:"Teams",children:s.teams.map(m=>(0,Te.jsxs)(Ft.Item,{value:m.id,onSelect:()=>p({...m,type:"team"}),className:D("flex items-center gap-3 rounded-md px-3 py-2 text-sm cursor-pointer","hover:bg-gray-100"),children:[(0,Te.jsx)("div",{className:D("p-1 rounded",u("team")),children:d("team")}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("p",{className:"font-medium",children:m.name}),m._count?.members&&(0,Te.jsxs)("p",{className:"text-xs text-gray-500",children:[m._count.members," members"]})]})]},m.id))})]})]}),(0,Te.jsx)("div",{className:"border-t px-3 py-2",children:(0,Te.jsxs)("p",{className:"text-xs text-gray-500",children:["Press ",(0,Te.jsx)("kbd",{className:"rounded bg-gray-100 px-1",children:"\u2191"})," ",(0,Te.jsx)("kbd",{className:"rounded bg-gray-100 px-1",children:"\u2193"})," to navigate,"," ",(0,Te.jsx)("kbd",{className:"rounded bg-gray-100 px-1",children:"Enter"})," to select,"," ",(0,Te.jsx)("kbd",{className:"rounded bg-gray-100 px-1",children:"Esc"})," to close"]})})]})})})}var ze=w(z(),1);function fu({children:e}){let t=Nt(),[r,a]=(0,vo.useState)("home"),[o,n]=(0,vo.useState)(!1),[i,l]=(0,vo.useState)(!1),[s,c]=(0,vo.useState)(!1),{user:d}=Ye(),u=!0,p=null;(0,vo.useEffect)(()=>{let m=()=>{l(window.innerWidth<768)};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),(0,vo.useEffect)(()=>{let m=window.location.pathname.slice(1)||"home";a(m)},[]);let g=m=>{a(m);let f={home:"/home",workspace:"/workspace",board:"/board",calendar:"/calendar",chat:"/chat",notes:"/notes",teams:"/teams",projects:"/projects"};f[m]&&t(f[m])};return(0,ze.jsxs)("div",{className:"h-screen flex flex-col bg-gray-50",children:[i&&(0,ze.jsxs)("header",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between md:hidden",children:[(0,ze.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ze.jsxs)(Hs,{open:o,onOpenChange:n,children:[(0,ze.jsx)(Mf,{asChild:!0,children:(0,ze.jsx)(T,{variant:"ghost",size:"sm",className:"p-2",children:(0,ze.jsx)(ks,{className:"w-5 h-5"})})}),(0,ze.jsx)(Bs,{side:"left",className:"w-80 p-0",children:(0,ze.jsx)(Hn,{currentPage:r,onPageChange:g})})]}),(0,ze.jsx)("h1",{className:"text-lg font-semibold text-foreground ml-2",children:p?.name||"Workspace"})]}),(0,ze.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ze.jsx)(ye,{variant:u?"default":"outline",className:D("text-xs",u?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-amber-100 text-amber-700 border-amber-300"),children:u?"Live":"Offline"}),(0,ze.jsx)(T,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>c(!0),children:(0,ze.jsx)($t,{className:"w-5 h-5"})}),(0,ze.jsx)(Dl,{variant:"mobile"}),(0,ze.jsxs)(ut,{className:"w-8 h-8",children:[(0,ze.jsx)(jt,{src:d?.avatar}),(0,ze.jsx)(bt,{className:"text-xs bg-secondary text-secondary-foreground",children:d?.name?.split(" ").map(m=>m[0]).join("").toUpperCase()||"U"})]})]})]}),!i&&(0,ze.jsx)("header",{className:"bg-white/95 backdrop-blur-sm border-b border-border px-6 py-4 hidden md:block",children:(0,ze.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ze.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ze.jsx)("h1",{className:"text-xl font-semibold text-foreground",children:p?.name||"Workspace"}),(0,ze.jsx)(ye,{variant:u?"default":"outline",className:D("text-xs",u?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-amber-100 text-amber-700 border-amber-300"),children:u?"Live":"Connecting..."})]}),(0,ze.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ze.jsxs)(T,{variant:"outline",className:"w-64 justify-start text-muted-foreground hover:text-foreground",onClick:()=>c(!0),children:[(0,ze.jsx)($t,{className:"mr-2 h-4 w-4"}),"Search..."]}),(0,ze.jsx)(Dl,{variant:"desktop"}),(0,ze.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ze.jsxs)(ut,{className:"w-8 h-8",children:[(0,ze.jsx)(jt,{src:d?.avatar}),(0,ze.jsx)(bt,{className:"text-xs bg-secondary text-secondary-foreground",children:d?.name?.split(" ").map(m=>m[0]).join("").toUpperCase()||"U"})]}),(0,ze.jsxs)("div",{className:"hidden lg:block",children:[(0,ze.jsx)("div",{className:"text-sm font-medium text-foreground",children:d?.name||"User"}),(0,ze.jsx)("div",{className:"text-xs text-gray-500",children:d?.email||"user@example.com"})]}),(0,ze.jsx)(T,{variant:"ghost",size:"sm",children:(0,ze.jsx)(sr,{className:"w-4 h-4"})})]})]})]})}),(0,ze.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[!i&&(0,ze.jsx)("div",{className:"hidden md:block",children:(0,ze.jsx)(Hn,{currentPage:r,onPageChange:g})}),(0,ze.jsx)("main",{className:D("flex-1 overflow-auto",i&&"pb-16"),children:e})]}),i&&(0,ze.jsx)(Jd,{currentPage:r,onPageChange:g}),(0,ze.jsx)(iu,{}),(0,ze.jsx)(mu,{open:s,onClose:()=>c(!1)})]})}var xr=w(X(),1);var cb=w(X(),1);var db=w(z(),1),Vr=cb.forwardRef(({className:e,type:t,...r},a)=>(0,db.jsx)("input",{type:t,className:D("flex h-10 w-full rounded-md border border-gray-300 bg-background px-3 py-2 text-sm shadow-sm hover:shadow-md transition-shadow file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:shadow-md focus-visible:border-krushr-primary disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));Vr.displayName="Input";var Wn=w(X(),1);function ub(e){let t=Sm(),r=(0,Wn.useRef)(null),a=(0,Wn.useRef)(),o=(0,Wn.useRef)(0);(0,Wn.useEffect)(()=>{if(!e)return;let n=()=>{let i=localStorage.getItem("auth-token");if(!i)return;let l=window.location.protocol==="https:"?`wss://${window.location.hostname}:3002/ws?token=${i}`:`ws://127.0.0.1:3002/ws?token=${i}`,s=new WebSocket(l);r.current=s,s.onopen=()=>{console.log("WebSocket connected for activities"),o.current=0,s.send(JSON.stringify({type:"join-workspace",payload:{workspaceId:e},timestamp:Date.now()})),s.send(JSON.stringify({type:"workspace-activity-stream",payload:{workspaceId:e},timestamp:Date.now()}))},s.onmessage=c=>{try{let d=JSON.parse(c.data);if(d.type==="activity-created"||d.type==="workspace-activity-update"){let u=d.payload;t.setQueryData(["activity.getRecent",{workspaceId:e,limit:10}],p=>p?[u,...p].slice(0,10):[u]),t.invalidateQueries({queryKey:["activity.getRecent",{workspaceId:e}],exact:!1})}}catch(d){console.error("Failed to parse WebSocket message:",d)}},s.onerror=c=>{console.error("WebSocket error:",c)},s.onclose=()=>{if(console.log("WebSocket disconnected"),r.current=null,o.current<5){let c=Math.min(1e3*Math.pow(2,o.current),1e4);o.current++,a.current=setTimeout(()=>{console.log(`Reconnecting WebSocket (attempt ${o.current})...`),n()},c)}}};return n(),()=>{a.current&&clearTimeout(a.current),r.current&&(r.current.close(),r.current=null)}},[e,t])}var te=w(z(),1),C2=["\u{1F44D}","\u{1F44F}","\u{1F389}"];function gu({className:e}){let[t,r]=(0,xr.useState)(!1),[a,o]=(0,xr.useState)(new Set),[n,i]=(0,xr.useState)({}),[l,s]=(0,xr.useState)(null),[c,d]=(0,xr.useState)(""),u=(0,xr.useRef)(null),[p,g]=(0,xr.useState)({start:0,end:50}),{data:m=[]}=q.workspace.list.useQuery(),f=m[0]?.id,{data:v}=q.user.me.useQuery(),{data:h=[],isLoading:N,refetch:C}=q.activity.getRecent.useQuery({workspaceId:f||"",limit:50},{enabled:!!f,refetchInterval:!1,refetchOnWindowFocus:!0,staleTime:1e3});ub(f);let F=(0,xr.useCallback)(()=>{if(!u.current)return;let x=u.current,S=x.scrollTop,P=80,Y=x.clientHeight,be=Math.floor(S/P),K=Math.ceil(Y/P),_=be+K+5;g({start:Math.max(0,be-5),end:_})},[]);(0,xr.useEffect)(()=>{let x=u.current;if(x)return x.addEventListener("scroll",F),()=>x.removeEventListener("scroll",F)},[]);let M=(0,xr.useMemo)(()=>{let x=[],S={};return h.forEach(P=>{let Y=new Date(P.createdAt),be=kt(Y,"yyyy-MM-dd-HH"),K=`${P.type}-${P.userId}-${be}`;P.type==="task_completed"||P.type==="task_created"?(S[K]||(S[K]=[]),S[K].push(P)):x.push({id:P.id,type:"single",timestamp:Y,activities:[P],isExpanded:!1})}),Object.entries(S).forEach(([P,Y])=>{Y.length>1?x.push({id:P,type:"grouped",timestamp:new Date(Y[0].createdAt),activities:Y,isExpanded:a.has(P)}):x.push({id:Y[0].id,type:"single",timestamp:new Date(Y[0].createdAt),activities:Y,isExpanded:!1})}),x.sort((P,Y)=>Y.timestamp.getTime()-P.timestamp.getTime())},[h,a]),j=x=>{switch(x){case"task_completed":return(0,te.jsx)(vr,{className:"w-4 h-4 text-krushr-task-done"});case"task_created":return(0,te.jsx)(je,{className:"w-4 h-4 text-krushr-primary"});case"task_assigned":return(0,te.jsx)(xt,{className:"w-4 h-4 text-krushr-purple"});case"comment_added":return(0,te.jsx)(Wt,{className:"w-4 h-4 text-krushr-warning"});case"file_uploaded":return(0,te.jsx)(gt,{className:"w-4 h-4 text-krushr-gray"});case"meeting_scheduled":return(0,te.jsx)(Ae,{className:"w-4 h-4 text-krushr-info"});default:return(0,te.jsx)(Zt,{className:"w-4 h-4 text-krushr-gray-light"})}},B=x=>{switch(x){case"task_completed":return"bg-krushr-task-done/10 border-krushr-task-done/20";case"task_created":return"bg-krushr-primary/10 border-krushr-primary/20";case"task_assigned":return"bg-krushr-purple/10 border-krushr-purple/20";case"comment_added":return"bg-krushr-warning/10 border-krushr-warning/20";case"file_uploaded":return"bg-krushr-gray-bg border-krushr-gray-border";case"meeting_scheduled":return"bg-krushr-info/10 border-krushr-info/20";default:return"bg-krushr-gray-bg border-krushr-gray-border"}},le=x=>{let S=new Date,P=new Date(x),Y=Jg(S,P),be=Qg(S,P),K=Xg(S,P);return Y<1?"Just now":Y<60?`${Y}m ago`:be<24?`${be}h ago`:K<7?`${K}d ago`:zs(P)?kt(P,"h:mm a"):el(P)?`Yesterday ${kt(P,"h:mm a")}`:kt(P,"MMM d, h:mm a")},ee=x=>{let S=x.timestamp;return zs(S)?`Today ${kt(S,"h:mm a")}`:el(S)?`Yesterday ${kt(S,"h:mm a")}`:kt(S,"EEEE, MMM d, h:mm a")},ne=async()=>{r(!0),setTimeout(()=>r(!1),1e3)},ue=x=>{o(S=>{let P=new Set(S);return P.has(x)?P.delete(x):P.add(x),P})},A=async(x,S)=>{i(P=>{let Y=P[x]||[],be=Y.find(K=>K.emoji===S);return be?be.users.includes(v?.id||"")?{...P,[x]:Y.map(K=>K.emoji===S?{...K,count:K.count-1,users:K.users.filter(_=>_!==v?.id)}:K).filter(K=>K.count>0)}:{...P,[x]:Y.map(K=>K.emoji===S?{...K,count:K.count+1,users:[...K.users,v?.id||""]}:K)}:{...P,[x]:[...Y,{emoji:S,count:1,users:[v?.id||""]}]}})},k=async x=>{c.trim()&&(console.log("Replying to activity:",x,"with text:",c),d(""),s(null))},y=x=>{let S=x.action.split(/(@\w+|#\w+)/g);return(0,te.jsxs)("span",{className:"text-sm text-krushr-gray-dark leading-relaxed",children:[S.map((P,Y)=>P.startsWith("@")?(0,te.jsx)("span",{className:"font-medium text-krushr-primary",children:P},Y):P.startsWith("#")?(0,te.jsx)("span",{className:"font-medium text-krushr-purple",children:P},Y):(0,te.jsx)("span",{children:P},Y)),x.entityName&&(0,te.jsxs)("span",{className:"font-semibold text-krushr-black ml-1",children:['"',x.entityName,'"']}),x.targetUser&&(0,te.jsxs)("span",{className:"text-krushr-gray-dark",children:[" to ",(0,te.jsxs)("span",{className:"font-medium text-krushr-primary",children:["@",x.targetUser.name]})]})]})},E=x=>{let S={critical:{bg:"bg-krushr-priority-critical/10",text:"text-krushr-priority-critical",border:"border-krushr-priority-critical/20"},high:{bg:"bg-krushr-priority-high/10",text:"text-krushr-priority-high",border:"border-krushr-priority-high/20"},medium:{bg:"bg-krushr-priority-medium/10",text:"text-krushr-priority-medium",border:"border-krushr-priority-medium/20"},low:{bg:"bg-krushr-priority-low/10",text:"text-krushr-priority-low",border:"border-krushr-priority-low/20"}},P=S[x]||S.medium;return(0,te.jsx)(ye,{variant:"outline",className:D("text-xs font-medium uppercase tracking-wide",P.bg,P.text,P.border),children:x})};return N?(0,te.jsx)(Pe,{className:D("h-full flex items-center justify-center",e),children:(0,te.jsx)(Xe,{className:"w-8 h-8 animate-spin text-gray-400"})}):(0,te.jsxs)(Pe,{className:D("h-full flex flex-col",e),children:[(0,te.jsx)(st,{className:"flex-shrink-0 pb-3",children:(0,te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,te.jsx)(_t,{className:"text-lg font-semibold",children:"Recent Activity"}),(0,te.jsx)(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>C(),children:(0,te.jsx)(to,{className:"w-4 h-4"})})]})}),(0,te.jsxs)(Qe,{className:"flex-1 p-0 overflow-y-auto",ref:u,children:[h.length===0?(0,te.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,te.jsx)(Zt,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),(0,te.jsx)("p",{className:"text-sm",children:"No recent activity"}),(0,te.jsx)("p",{className:"text-xs mt-1 text-gray-400",children:"Activities will appear here as your team works"})]}):(0,te.jsxs)("div",{className:"space-y-0",children:[(0,te.jsx)("div",{style:{height:`${p.start*80}px`}}),M.slice(p.start,p.end).map((x,S)=>{let P=S===0||!Xt(x.timestamp,M[S-1]?.timestamp);return(0,te.jsxs)("div",{children:[P&&(0,te.jsx)("div",{className:"sticky top-0 z-10 bg-krushr-gray-bg-light px-4 py-2 border-b border-krushr-gray-border",children:(0,te.jsx)("p",{className:"text-xs font-medium text-krushr-gray uppercase tracking-wide",children:zs(x.timestamp)?"Today":el(x.timestamp)?"Yesterday":kt(x.timestamp,"EEEE, MMMM d")})}),x.type==="grouped"&&x.activities.length>1?(0,te.jsxs)("div",{className:"border-l-4 border-krushr-primary/20 bg-krushr-primary/5",children:[(0,te.jsx)("button",{onClick:()=>ue(x.id),className:"w-full p-4 hover:bg-krushr-primary/10 transition-colors text-left",children:(0,te.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,te.jsx)("div",{className:"pt-1",children:x.isExpanded?(0,te.jsx)(sr,{className:"w-4 h-4 text-krushr-gray"}):(0,te.jsx)(hr,{className:"w-4 h-4 text-krushr-gray"})}),(0,te.jsxs)(ut,{className:"w-8 h-8 flex-shrink-0",children:[(0,te.jsx)(jt,{src:x.activities[0].user?.avatar}),(0,te.jsx)(bt,{className:"text-xs bg-krushr-gray-bg",children:x.activities[0].user?.name?.split(" ").map(Y=>Y[0]).join("").toUpperCase()||"U"})]}),(0,te.jsxs)("div",{className:"flex-1",children:[(0,te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[j(x.activities[0].type),(0,te.jsx)("span",{className:"text-sm font-medium text-krushr-black",children:x.activities[0].user?.name||"Unknown User"}),(0,te.jsx)("span",{className:"text-xs text-krushr-gray-light",children:le(x.timestamp)})]}),(0,te.jsx)("p",{className:"text-sm font-medium text-krushr-gray-dark",children:x.activities[0].type==="task_completed"?`completed ${x.activities.length} tasks`:`created ${x.activities.length} tasks`})]})]})}),x.isExpanded&&(0,te.jsx)("div",{className:"pl-14 pr-4 pb-4 space-y-2",children:x.activities.map(Y=>(0,te.jsxs)("div",{className:"text-sm text-krushr-gray-dark",children:["\u2022 ",(0,te.jsx)("span",{className:"font-medium text-krushr-black",children:Y.entityName}),Y.priority&&(0,te.jsx)("span",{className:"ml-2",children:E(Y.priority)})]},Y.id))})]}):(0,te.jsx)("div",{className:D("group relative border-l-4 transition-all duration-200",B(x.activities[0].type),"hover:shadow-elevation-sm hover:z-10"),children:(0,te.jsx)("div",{className:"p-4",children:(0,te.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,te.jsxs)(ut,{className:"w-8 h-8 flex-shrink-0",children:[(0,te.jsx)(jt,{src:x.activities[0].user?.avatar}),(0,te.jsx)(bt,{className:"text-xs bg-krushr-gray-bg",children:x.activities[0].user?.name?.split(" ").map(Y=>Y[0]).join("").toUpperCase()||"U"})]}),(0,te.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[j(x.activities[0].type),(0,te.jsx)("span",{className:"text-sm font-medium text-krushr-black",children:x.activities[0].user?.name||"Unknown User"}),(0,te.jsx)("span",{className:"text-xs text-krushr-gray-light flex-shrink-0",children:le(x.activities[0].createdAt)})]}),(0,te.jsx)("div",{children:y(x.activities[0])}),x.activities[0].priority&&(0,te.jsx)("div",{className:"mt-2",children:E(x.activities[0].priority)}),(0,te.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,te.jsx)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:C2.map(Y=>(0,te.jsx)("button",{onClick:()=>A(x.activities[0].id,Y),className:"p-1 hover:bg-krushr-gray-bg rounded transition-colors",children:(0,te.jsx)("span",{className:"text-sm",children:Y})},Y))}),n[x.activities[0].id]?.map(Y=>(0,te.jsxs)("button",{onClick:()=>A(x.activities[0].id,Y.emoji),className:D("flex items-center gap-1 px-2 py-1 rounded-full text-xs transition-colors",Y.users.includes(v?.id||"")?"bg-krushr-primary/10 text-krushr-primary border border-krushr-primary/20":"bg-krushr-gray-bg hover:bg-krushr-gray-bg-light"),children:[(0,te.jsx)("span",{children:Y.emoji}),(0,te.jsx)("span",{className:"font-medium",children:Y.count})]},Y.emoji)),x.activities[0].entityType==="task"&&x.activities[0].entityId&&(0,te.jsxs)("a",{href:`#/workspace?task=${x.activities[0].entityId}`,className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-1 text-xs text-krushr-primary hover:text-krushr-primary/80",children:["View task",(0,te.jsx)(dn,{className:"w-3 h-3"})]})]}),(x.activities[0].type==="task_completed"||x.activities[0].type==="comment_added")&&(0,te.jsx)("div",{className:"mt-3",children:l===x.activities[0].id?(0,te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,te.jsx)(Vr,{value:c,onChange:Y=>d(Y.target.value),onKeyDown:Y=>{Y.key==="Enter"&&!Y.shiftKey&&(Y.preventDefault(),k(x.activities[0].id)),Y.key==="Escape"&&(s(null),d(""))},placeholder:"Add a comment...",className:"flex-1 h-8 text-sm",autoFocus:!0}),(0,te.jsx)(T,{size:"sm",onClick:()=>k(x.activities[0].id),disabled:!c.trim(),className:"h-8",children:(0,te.jsx)(Ns,{className:"w-3 h-3"})})]}):(0,te.jsxs)("button",{onClick:()=>s(x.activities[0].id),className:"text-xs text-krushr-gray hover:text-krushr-primary transition-colors opacity-0 group-hover:opacity-100",children:[(0,te.jsx)(Wt,{className:"w-3 h-3 inline mr-1"}),"Reply"]})})]})]})})})]},x.id)}),(0,te.jsx)("div",{style:{height:`${Math.max(0,(M.length-p.end)*80)}px`}})]}),(0,te.jsx)("div",{className:"p-4 text-center border-t",children:(0,te.jsx)(T,{variant:"ghost",size:"sm",className:"text-gray-600 hover:text-gray-900",onClick:ne,disabled:t,children:t?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(Xe,{className:"w-3 h-3 mr-2 animate-spin"}),"Loading..."]}):"Load more activity"})})]})]})}var wa=w(z(),1);function hu({className:e}){let t=Nt(),r=[{id:"create-task",title:"Create Task",description:"Add a new task to your board",icon:je,color:"text-blue-600 bg-blue-50 hover:bg-blue-100",action:()=>{t("/board")}},{id:"schedule-meeting",title:"Schedule Meeting",description:"Set up a team meeting",icon:Ae,color:"text-green-600 bg-green-50 hover:bg-green-100",action:()=>{t("/calendar")}},{id:"start-chat",title:"Start Chat",description:"Begin a team conversation",icon:Wt,color:"text-purple-600 bg-purple-50 hover:bg-purple-100",action:()=>{t("/chat")}},{id:"create-note",title:"Quick Note",description:"Capture an idea or note",icon:gt,color:"text-orange-600 bg-orange-50 hover:bg-orange-100",action:()=>{t("/notes")}},{id:"invite-member",title:"Invite Member",description:"Add someone to your team",icon:xt,color:"text-indigo-600 bg-indigo-50 hover:bg-indigo-100",action:()=>{t("/teams")}},{id:"start-call",title:"Start Call",description:"Begin a video call",icon:Es,color:"text-red-600 bg-red-50 hover:bg-red-100",action:()=>{t("/chat")}},{id:"track-time",title:"Track Time",description:"Start time tracking",icon:Zt,color:"text-teal-600 bg-teal-50 hover:bg-teal-100",action:()=>{t("/board")}},{id:"set-goal",title:"Set Goal",description:"Define a new objective",icon:Ss,color:"text-pink-600 bg-pink-50 hover:bg-pink-100",action:()=>{t("/projects")}}];return(0,wa.jsxs)(Pe,{className:D("h-full",e),children:[(0,wa.jsx)(st,{className:"pb-3",children:(0,wa.jsx)(_t,{className:"text-lg font-semibold",children:"Quick Actions"})}),(0,wa.jsx)(Qe,{className:"grid grid-cols-2 gap-3",children:r.map(a=>{let o=a.icon;return(0,wa.jsxs)(T,{variant:"ghost",className:D("h-auto p-4 flex flex-col items-center text-center space-y-2 hover:scale-105 transition-all duration-200",a.color),onClick:a.action,children:[(0,wa.jsx)(o,{className:"w-6 h-6"}),(0,wa.jsxs)("div",{children:[(0,wa.jsx)("div",{className:"font-medium text-sm",children:a.title}),(0,wa.jsx)("div",{className:"text-xs opacity-75",children:a.description})]})]},a.id)})})]})}var Bo=w(X(),1);var pb=w(X(),1);var ca=w(z(),1);function vu({activeFilter:e,onFilterChange:t,workspaceId:r,className:a}){let{user:o}=Ye(),{data:n=[]}=q.task.list.useQuery({workspaceId:r||""},{enabled:!!r}),i=pb.default.useMemo(()=>{let s=new Date,c=new Date(s.getFullYear(),s.getMonth(),s.getDate()),d=new Date(c.getTime()+24*60*60*1e3);return{all:n.length,"my-tasks":n.filter(u=>u.assigneeId===o?.id).length,urgent:n.filter(u=>{if(u.status==="DONE"||u.status==="COMPLETED")return!1;let p=u.priority==="high"||u.priority==="critical",g=u.dueDate&&new Date(u.dueDate)<s;return p||g}).length,"due-today":n.filter(u=>{if(!u.dueDate)return!1;let p=new Date(u.dueDate);return p>=c&&p<d}).length,unassigned:n.filter(u=>!u.assigneeId).length}},[n,o?.id]),l=[{id:"all",label:"All Tasks",icon:eo,count:i.all,color:"text-gray-600",shortcut:"1"},{id:"my-tasks",label:"My Tasks",icon:lr,count:i["my-tasks"],color:"text-krushr-primary",shortcut:"2"},{id:"urgent",label:"Urgent",icon:ar,count:i.urgent,color:"text-krushr-priority-high",shortcut:"3"},{id:"due-today",label:"Due Today",icon:Zt,count:i["due-today"],color:"text-krushr-warning",shortcut:"4"},{id:"unassigned",label:"Unassigned",icon:xt,count:i.unassigned,color:"text-gray-500",shortcut:"5"}];return(0,ca.jsx)("div",{className:D("bg-white border-b border-gray-200",a),children:(0,ca.jsx)("div",{className:"px-4 sm:px-6 py-3",children:(0,ca.jsx)("div",{className:"flex items-center gap-2 overflow-x-auto scrollbar-hide -mx-4 px-4 sm:mx-0 sm:px-0",children:l.map(s=>{let c=s.icon,d=e===s.id;return(0,ca.jsxs)("button",{onClick:()=>t(s.id),className:D("group relative flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg font-medium text-xs sm:text-sm transition-all","hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-krushr-primary focus:ring-offset-2","whitespace-nowrap min-w-fit",d?["bg-krushr-primary text-white","hover:bg-krushr-primary-700"]:["text-gray-600","hover:text-gray-900"]),children:[(0,ca.jsx)(c,{className:D("w-3.5 h-3.5 sm:w-4 sm:h-4 transition-colors",d?"text-white":s.color)}),(0,ca.jsx)("span",{className:"hidden sm:inline",children:s.label}),(0,ca.jsx)("span",{className:"sm:hidden",children:s.label.split(" ")[0]}),s.count>0&&(0,ca.jsx)(ye,{variant:d?"secondary":"outline",className:D("ml-1 h-5 px-1.5 text-xs font-semibold",d?["bg-white/20 text-white border-white/30","group-hover:bg-white/30"]:["bg-gray-100 text-gray-700 border-gray-200","group-hover:bg-gray-200"]),children:s.count>99?"99+":s.count}),s.shortcut&&(0,ca.jsx)("span",{className:D("absolute -top-1 -right-1 w-5 h-5 flex items-center justify-center rounded text-[10px] font-medium transition-opacity","opacity-0 group-hover:opacity-100",d?["bg-white/20 text-white border border-white/30"]:["bg-gray-900 text-white"]),children:s.shortcut}),d&&(0,ca.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-white/40"})]},s.id)})})})})}function mb(e,t,r){let a=new Date,o=new Date(a.getFullYear(),a.getMonth(),a.getDate()),n=new Date(o.getTime()+24*60*60*1e3);switch(t){case"my-tasks":return e.filter(i=>i.assigneeId===r);case"urgent":return e.filter(i=>{if(i.status==="DONE"||i.status==="COMPLETED")return!1;let l=i.priority==="high"||i.priority==="critical",s=i.dueDate&&new Date(i.dueDate)<a;return l||s});case"due-today":return e.filter(i=>{if(!i.dueDate)return!1;let l=new Date(i.dueDate);return l>=o&&l<n});case"unassigned":return e.filter(i=>!i.assigneeId);case"all":default:return e}}var _r=w(X(),1);var fb=["#143197","#EB5857","#1FBB65","#FFB366","#57C7EB","#8b5cf6","#ec4899"];function gb(e={}){let{onComplete:t,disabled:r=!1}=e,a=(0,_r.useRef)(!1),o=(0,_r.useRef)(0),n=(0,_r.useCallback)(()=>{let d=localStorage.getItem("celebrationsEnabled");return d===null?!0:d==="true"},[]),i=(0,_r.useCallback)(d=>{localStorage.setItem("celebrationsEnabled",String(d))},[]),l=(0,_r.useCallback)((d={})=>{if(r||!n())return;let u=Date.now();if(u-o.current<1e3)return;o.current=u,a.current||(a.current=!0,tt.success("Task completed!",{description:"You can disable celebrations in settings",duration:5e3,action:{label:"Disable",onClick:()=>{i(!1),tt.success("Celebrations disabled")}}}));let{origin:p={x:.5,y:.5},particleCount:g=100,spread:m=70}=d;Ws({particleCount:g,spread:m,origin:p,colors:fb,ticks:200,gravity:1.2,decay:.94,startVelocity:30,shapes:["square","circle"],scalar:1}),setTimeout(()=>{Ws({particleCount:g/2,spread:m*1.2,origin:p,colors:fb,ticks:200,gravity:1.2,decay:.94,startVelocity:20,shapes:["square","circle"],scalar:.8})},200),t?.()},[r,n,i,t]),s=(0,_r.useCallback)(()=>{l({origin:{x:.5,y:.6},particleCount:80,spread:60})},[l]),c=(0,_r.useCallback)(()=>{l({origin:{x:.5,y:.5},particleCount:150,spread:100})},[l]);return(0,_r.useEffect)(()=>()=>{Ws.reset()},[]),{triggerConfetti:l,triggerTaskComplete:s,triggerMilestone:c,isEnabled:n(),setEnabled:i}}function hb(){let e=(0,_r.useRef)(null);return(0,_r.useEffect)(()=>{e.current=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH"),e.current.volume=.3},[]),{playSuccess:(0,_r.useCallback)(()=>{localStorage.getItem("soundEnabled")!=="false"&&e.current&&(e.current.currentTime=0,e.current.play().catch(()=>{}))},[])}}var pe=w(z(),1);function bu({className:e,activeFilter:t="all",focusMode:r=!1}){let a=Nt(),{user:o}=Ye(),[n,i]=(0,Bo.useState)(null),[l,s]=(0,Bo.useState)(""),[c,d]=(0,Bo.useState)({}),[u,p]=(0,Bo.useState)(null),{triggerTaskComplete:g}=gb(),{playSuccess:m}=hb(),{data:f=[]}=q.workspace.list.useQuery(),v=f[0]?.id,{data:h=[],isLoading:N,refetch:C}=q.task.list.useQuery({workspaceId:v||""},{enabled:!!v}),F=q.task.update.useMutation({onSuccess:(b,O)=>{C(),p(O.id),setTimeout(()=>p(null),500),O.title?tt.success("Task title updated"):O.status?O.status==="DONE"?(g(),m(),tt.success("\u{1F389} Task completed!")):tt.success(`Status changed to ${O.status}`):O.priority?tt.success(`Priority changed to ${O.priority}`):O.dueDate!==void 0?tt.success(O.dueDate?"Due date updated":"Due date removed"):tt.success("Task updated successfully")},onError:b=>{tt.error(b.message||"Failed to update task")}}),M=Bo.default.useMemo(()=>{let b=mb(h,t,o?.id);return r&&(b=b.filter(O=>{if(O.status==="DONE"||O.status==="COMPLETED")return!1;if(O.kanbanColumn?.title){let U=O.kanbanColumn.title.toLowerCase();return!(U.includes("done")||U.includes("complete"))}return!0})),b},[h,t,o?.id,r]),j=M.length,B=M.filter(b=>{if(b.status==="DONE"||b.status==="COMPLETED")return!0;if(b.kanbanColumn?.title){let O=b.kanbanColumn.title.toLowerCase();return O.includes("done")||O.includes("complete")}return!1}).length,le=M.filter(b=>{if(b.status==="IN_PROGRESS"||b.status==="REVIEW")return!0;if(b.kanbanColumn?.title){let O=b.kanbanColumn.title.toLowerCase();return O.includes("progress")||O.includes("review")||O.includes("doing")}return!1}).length,ee=M.filter(b=>!b.dueDate||b.status==="DONE"||b.status==="COMPLETED"||b.kanbanColumn?.title?.toLowerCase().includes("done")?!1:new Date(b.dueDate)<new Date).length,ne=M.filter(b=>{if(!b.dueDate)return!1;let O=new Date(b.dueDate),U=new Date,$=new Date(U.getTime()+24*60*60*1e3);return O>U&&O<=$}).length,ue=j>0?Math.round(B/j*100):0,A=[{label:"Total Tasks",value:j,icon:vr,color:"text-gray-600",bgColor:"bg-gray-50"},{label:"In Progress",value:le,icon:Zt,color:"text-blue-600",bgColor:"bg-blue-50"},{label:"Completed",value:B,icon:vr,color:"text-green-600",bgColor:"bg-green-50"},{label:"Overdue",value:ee,icon:ar,color:"text-red-600",bgColor:"bg-red-50"}],k=M.filter(b=>b.dueDate&&new Date(b.dueDate)>new Date).sort((b,O)=>new Date(b.dueDate).getTime()-new Date(O.dueDate).getTime()).slice(0,3),y=b=>{let O=new Date(b),U=new Date,$=O.getTime()-U.getTime(),ie=Math.ceil($/(1e3*60*60*24));return ie===0?"Today":ie===1?"Tomorrow":ie<7?`${ie} days`:O.toLocaleDateString("en-US",{month:"short",day:"numeric"})},E=(b,O)=>{i(b),s(O)},x=()=>{i(null),s("")},S=async b=>{l.trim()&&await F.mutateAsync({id:b,title:l.trim()}),x()},P=(b,O)=>{b.key==="Enter"?(b.preventDefault(),S(O)):b.key==="Escape"&&x()},Y=async b=>{let U={TODO:"IN_PROGRESS",IN_PROGRESS:"IN_REVIEW",IN_REVIEW:"DONE",DONE:"TODO"}[b.status]||"TODO";await F.mutateAsync({id:b.id,status:U})},be=async b=>{let U={LOW:"MEDIUM",MEDIUM:"HIGH",HIGH:"URGENT",URGENT:"LOW"}[b.priority]||"MEDIUM";await F.mutateAsync({id:b.id,priority:U})},K=async(b,O)=>{await F.mutateAsync({id:b,dueDate:O?.toISOString()}),d(U=>({...U,[b]:!1}))},_=b=>{let O={TODO:"bg-gray-100 text-gray-700 border-gray-200",IN_PROGRESS:"bg-blue-100 text-blue-700 border-blue-200",IN_REVIEW:"bg-purple-100 text-purple-700 border-purple-200",DONE:"bg-green-100 text-green-700 border-green-200",CANCELLED:"bg-red-100 text-red-700 border-red-200"};return O[b]||O.TODO},re=b=>{let O={LOW:"border-green-200 text-green-700 bg-green-50",MEDIUM:"border-orange-200 text-orange-700 bg-orange-50",HIGH:"border-red-200 text-red-700 bg-red-50",URGENT:"border-red-300 text-red-800 bg-red-100"};return O[b]||O.MEDIUM},Q=b=>({TODO:"IN_PROGRESS",IN_PROGRESS:"IN_REVIEW",IN_REVIEW:"DONE",DONE:"TODO"})[b]||"IN_PROGRESS",J=b=>({LOW:"MEDIUM",MEDIUM:"HIGH",HIGH:"URGENT",URGENT:"LOW"})[b]||"MEDIUM";return N?(0,pe.jsx)(Pe,{className:D("h-full flex items-center justify-center",e),children:(0,pe.jsx)(Xe,{className:"w-8 h-8 animate-spin text-gray-400"})}):(0,pe.jsxs)(Pe,{className:D("h-full flex flex-col",e),children:[(0,pe.jsx)(st,{className:"flex-shrink-0 pb-3",children:(0,pe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pe.jsx)(_t,{className:"text-lg font-semibold",children:t==="all"?"Tasks Overview":t==="my-tasks"?"My Tasks":t==="urgent"?"Urgent Tasks":t==="due-today"?"Due Today":"Unassigned Tasks"}),(0,pe.jsxs)(ye,{variant:"outline",className:"text-green-700 border-green-200 bg-green-50",children:[(0,pe.jsx)(Da,{className:"w-3 h-3 mr-1"}),ue,"% Complete"]})]})}),(0,pe.jsxs)(Qe,{className:"flex-1 space-y-6",children:[(0,pe.jsx)("div",{className:"grid grid-cols-2 gap-4",children:A.map(b=>{let O=b.icon;return(0,pe.jsxs)("div",{className:D("p-4 rounded-lg border transition-colors hover:shadow-sm",b.bgColor),children:[(0,pe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,pe.jsx)(O,{className:D("w-5 h-5",b.color)}),(0,pe.jsx)("span",{className:D("text-2xl font-bold",b.color),children:b.value})]}),(0,pe.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:b.label})]},b.label)})}),(0,pe.jsxs)("div",{className:"space-y-2",children:[(0,pe.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,pe.jsx)("span",{className:"text-gray-600",children:"Overall Progress"}),(0,pe.jsxs)("span",{className:"font-medium",children:[B,"/",j]})]}),(0,pe.jsx)(js,{value:ue,className:"h-2"})]}),ne>0&&(0,pe.jsx)("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:(0,pe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,pe.jsx)(ar,{className:"w-4 h-4 text-orange-600"}),(0,pe.jsxs)("span",{className:"text-sm font-medium text-orange-800",children:[ne," task",ne>1?"s":""," due within 24 hours"]})]})}),(0,pe.jsxs)("div",{className:"space-y-3",children:[(0,pe.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Upcoming Deadlines"}),k.length===0?(0,pe.jsxs)("div",{className:"text-center py-4 text-gray-500",children:[(0,pe.jsx)(Ae,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,pe.jsx)("p",{className:"text-sm",children:"No upcoming deadlines"})]}):(0,pe.jsx)("div",{className:"space-y-2",children:k.map(b=>{let O=n===b.id,U=b.dueDate&&new Date(b.dueDate)<new Date;return(0,pe.jsxs)("div",{className:D("group flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",u===b.id&&"animate-success-pulse"),children:[(0,pe.jsxs)("div",{className:"flex-1 min-w-0",children:[O?(0,pe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,pe.jsx)(Vr,{value:l,onChange:$=>s($.target.value),onKeyDown:$=>P($,b.id),className:"h-7 text-sm font-medium",autoFocus:!0}),(0,pe.jsx)(T,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",onClick:()=>S(b.id),disabled:F.isPending,children:F.isPending?(0,pe.jsx)(Xe,{className:"w-3.5 h-3.5 animate-spin"}):(0,pe.jsx)(za,{className:"w-3.5 h-3.5 text-green-600"})}),(0,pe.jsx)(T,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",onClick:x,children:(0,pe.jsx)(ht,{className:"w-3.5 h-3.5 text-red-600"})})]}):(0,pe.jsxs)("div",{className:"flex items-center space-x-2 cursor-pointer",onDoubleClick:()=>E(b.id,b.title),children:[(0,pe.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:b.title}),(0,pe.jsx)(T,{size:"sm",variant:"ghost",className:"h-5 w-5 p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:$=>{$.stopPropagation(),E(b.id,b.title)},children:(0,pe.jsx)(Gm,{className:"w-3 h-3"})})]}),(0,pe.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,pe.jsx)(Mo,{children:(0,pe.jsxs)(oa,{children:[(0,pe.jsx)(na,{asChild:!0,children:(0,pe.jsx)(ye,{variant:"outline",className:D("text-xs cursor-pointer transition-all hover:scale-105",_(b.status||"TODO"),F.isPending&&"opacity-50 cursor-wait"),onClick:()=>!F.isPending&&Y(b),children:F.isPending?(0,pe.jsx)(Xe,{className:"w-3 h-3 animate-spin"}):b.status||"TODO"})}),(0,pe.jsx)(ia,{children:(0,pe.jsxs)("p",{className:"text-xs",children:["Click to change to: ",Q(b.status||"TODO")]})})]})}),b.priority&&(0,pe.jsx)(Mo,{children:(0,pe.jsxs)(oa,{children:[(0,pe.jsx)(na,{asChild:!0,children:(0,pe.jsx)(ye,{variant:"outline",className:D("text-xs cursor-pointer transition-all hover:scale-105",re(b.priority),F.isPending&&"opacity-50 cursor-wait"),onClick:()=>!F.isPending&&be(b),children:F.isPending?(0,pe.jsx)(Xe,{className:"w-3 h-3 animate-spin"}):b.priority})}),(0,pe.jsx)(ia,{children:(0,pe.jsxs)("p",{className:"text-xs",children:["Click to change to: ",J(b.priority)]})})]})}),b.assignee&&(0,pe.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[(0,pe.jsx)(lr,{className:"w-3 h-3"}),(0,pe.jsx)("span",{children:b.assignee.name?.split(" ")[0]||"Assigned"})]})]})]}),(0,pe.jsxs)(Yr,{open:c[b.id]||!1,onOpenChange:$=>d(ie=>({...ie,[b.id]:$})),children:[(0,pe.jsx)(Kr,{asChild:!0,children:(0,pe.jsxs)(T,{variant:"outline",className:D("h-8 px-2 text-xs font-medium",U&&"text-red-600 border-red-200 bg-red-50 hover:bg-red-100"),children:[(0,pe.jsx)(Ae,{className:"w-3 h-3 mr-1"}),b.dueDate?y(b.dueDate):"Set due date"]})}),(0,pe.jsx)(Ar,{className:"w-auto p-0",align:"end",children:(0,pe.jsx)(la,{mode:"single",selected:b.dueDate?new Date(b.dueDate):void 0,onSelect:$=>K(b.id,$),initialFocus:!0})})]})]},b.id)})})]}),(0,pe.jsx)("div",{className:"pt-2 border-t",children:(0,pe.jsxs)(T,{variant:"ghost",className:"w-full justify-between text-gray-600 hover:text-gray-900",onClick:()=>a("/board"),children:["View all tasks",(0,pe.jsx)(si,{className:"w-4 h-4"})]})})]})]})}var Wi=w(X(),1);var Be=w(z(),1);function yu({className:e,workspaceId:t}){let{user:r}=Ye(),{data:a=[],isLoading:o}=q.task.list.useQuery({workspaceId:t||""},{enabled:!!t}),n=(0,Wi.useMemo)(()=>{let d=new Date,u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p=[];for(let g=6;g>=0;g--){let m=new Date(d);m.setDate(m.getDate()-g),m.setHours(0,0,0,0);let f=new Date(m);f.setDate(f.getDate()+1);let v=a.filter(h=>{if(h.status!=="DONE"&&h.status!=="COMPLETED")return!1;let N=new Date(h.updatedAt);return N>=m&&N<f}).length;p.push({day:u[m.getDay()],date:m,completed:v,isToday:g===0})}return p},[a]),i=(0,Wi.useMemo)(()=>{let d=n.reduce((f,v)=>f+v.completed,0),u=new Date;u.setDate(u.getDate()-14),u.setHours(0,0,0,0);let p=new Date;p.setDate(p.getDate()-7),p.setHours(0,0,0,0);let g=a.filter(f=>{if(f.status!=="DONE"&&f.status!=="COMPLETED")return!1;let v=new Date(f.updatedAt);return v>=u&&v<p}).length,m=g>0?Math.round((d-g)/g*100):d>0?100:0;return{thisWeek:d,lastWeek:g,percentChange:m,isUp:m>0}},[n,a]),l=(0,Wi.useMemo)(()=>{let d=0,u=new Date;u.setHours(0,0,0,0);for(let p=0;p<30;p++){let g=new Date(u);g.setDate(g.getDate()-p),g.setHours(0,0,0,0);let m=new Date(g);if(m.setDate(m.getDate()+1),a.some(v=>{if(v.status!=="DONE"&&v.status!=="COMPLETED")return!1;let h=new Date(v.updatedAt);return h>=g&&h<m}))d++;else if(p>0)break}return d},[a]),s=(0,Wi.useMemo)(()=>{let d=new Array(24).fill(0);a.forEach(f=>{if(f.status==="DONE"||f.status==="COMPLETED"){let v=new Date(f.updatedAt).getHours();d[v]++}});let u=14,p=0;for(let f=8;f<=18;f++)d[f]>p&&(p=d[f],u=f);let g=Math.min(u+2,18),m=f=>{let v=f>=12?"PM":"AM";return`${f>12?f-12:f===0?12:f} ${v}`};return{start:m(u),end:m(g),hasData:p>0}},[a]),c=Math.max(...n.map(d=>d.completed),5);return o?(0,Be.jsx)(Pe,{className:D("h-full flex items-center justify-center",e),children:(0,Be.jsx)(Xe,{className:"w-8 h-8 animate-spin text-gray-400"})}):(0,Be.jsxs)(Pe,{className:D("",e),children:[(0,Be.jsx)(st,{className:"pb-3",children:(0,Be.jsx)(_t,{className:"text-lg font-semibold",children:"Productivity Insights"})}),(0,Be.jsxs)(Qe,{className:"space-y-4",children:[(0,Be.jsxs)("div",{className:"space-y-2",children:[(0,Be.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Weekly Completion Trend"}),(0,Be.jsx)("div",{className:"flex items-end justify-between h-20 gap-1",children:n.map((d,u)=>(0,Be.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-end gap-1",children:[(0,Be.jsx)("div",{className:D("w-full rounded-t transition-all duration-300",d.isToday?"bg-krushr-primary":"bg-krushr-primary/60","animate-slide-up"),style:{height:`${d.completed>0?d.completed/c*100:5}%`,animationDelay:`${u*50}ms`}}),(0,Be.jsx)("span",{className:D("text-xs",d.isToday?"font-semibold text-krushr-primary":"text-gray-500"),children:d.day})]},u))}),(0,Be.jsx)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:(0,Be.jsxs)("span",{children:[n.reduce((d,u)=>d+u.completed,0)," tasks completed this week"]})})]}),(0,Be.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-100",children:(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsxs)("div",{className:"flex items-center gap-2",children:[i.isUp?(0,Be.jsx)("div",{className:"p-1.5 bg-green-100 rounded-full",children:(0,Be.jsx)(Da,{className:"w-4 h-4 text-green-600"})}):i.percentChange<0?(0,Be.jsx)("div",{className:"p-1.5 bg-red-100 rounded-full",children:(0,Be.jsx)(sf,{className:"w-4 h-4 text-red-600"})}):(0,Be.jsx)("div",{className:"p-1.5 bg-gray-100 rounded-full",children:(0,Be.jsx)(Da,{className:"w-4 h-4 text-gray-600"})}),(0,Be.jsxs)("div",{children:[(0,Be.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["You're ",Math.abs(i.percentChange),"% ",i.isUp?"more":i.percentChange<0?"less":"as"," productive"]}),(0,Be.jsx)("p",{className:"text-xs text-gray-500",children:i.percentChange!==0?"than last week":"as last week"})]})]}),(0,Be.jsxs)(ye,{variant:"outline",className:"text-xs",children:[i.thisWeek," vs ",i.lastWeek]})]})}),l>0&&(0,Be.jsx)("div",{className:"p-3 bg-orange-50 rounded-lg border border-orange-200",children:(0,Be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Be.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Be.jsx)(Wm,{className:"w-5 h-5 text-orange-600 animate-pulse-slow"}),(0,Be.jsxs)("div",{children:[(0,Be.jsxs)("p",{className:"text-sm font-medium text-orange-900",children:[l," day completion streak!"]}),(0,Be.jsx)("p",{className:"text-xs text-orange-700",children:"Keep up the great work"})]})]}),l>=7&&(0,Be.jsx)(ye,{className:"bg-orange-600 hover:bg-orange-700",children:"On Fire!"})]})}),(0,Be.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:(0,Be.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Be.jsx)(Zt,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),(0,Be.jsxs)("div",{className:"min-w-0",children:[(0,Be.jsxs)("p",{className:"text-sm font-medium text-blue-900",children:["Best time to focus: ",s.start," - ",s.end]}),(0,Be.jsx)("p",{className:"text-xs text-blue-700",children:s.hasData?"Based on your completion patterns":"Start completing tasks to see personalized insights"})]})]})})]})]})}var bb=w(X(),1);var Uo=w(X(),1);function vb({onCreateTask:e,onChangeFilter:t,onToggleFocusMode:r,onShowHelp:a,onRefresh:o,onCloseModal:n}){let[i,l]=(0,Uo.useState)(!1),s=Nt();(0,Uo.useEffect)(()=>{let d=p=>{let g=p.target,m=g.tagName==="INPUT"||g.tagName==="TEXTAREA"||g.getAttribute("contenteditable")==="true"||g.closest('[contenteditable="true"]');l(!!m)},u=()=>{setTimeout(()=>{let p=document.activeElement,g=p?.tagName==="INPUT"||p?.tagName==="TEXTAREA"||p?.getAttribute("contenteditable")==="true"||p?.closest('[contenteditable="true"]');l(!!g)},50)};return document.addEventListener("focusin",d),document.addEventListener("focusout",u),()=>{document.removeEventListener("focusin",d),document.removeEventListener("focusout",u)}},[]);let c=(0,Uo.useCallback)(d=>{if(i){d.key==="Escape"&&n&&n();return}let u=()=>{d.preventDefault(),d.stopPropagation()};if(d.key==="c"&&!d.metaKey&&!d.ctrlKey){u(),e();return}if((d.metaKey||d.ctrlKey)&&d.key==="k"){u(),e();return}let p={1:"all",2:"my-tasks",3:"urgent",4:"due-today",5:"unassigned"};if(p[d.key]&&!d.metaKey&&!d.ctrlKey&&!d.altKey){u(),t(p[d.key]);return}if(d.key==="f"&&!d.metaKey&&!d.ctrlKey){u(),r();return}if(d.key==="?"||d.key==="/"&&d.shiftKey){u(),a();return}if((d.metaKey||d.ctrlKey)&&d.key==="/"){u(),a();return}if(d.key==="r"&&!d.metaKey&&!d.ctrlKey){u(),o();return}if(d.key==="Escape"&&n){u(),n();return}if(d.key==="g"&&!d.metaKey&&!d.ctrlKey){let g=m=>{switch(m.preventDefault(),m.key){case"h":s("/");break;case"b":s("/board");break;case"c":s("/calendar");break;case"m":s("/chat");break;case"n":s("/notes");break}document.removeEventListener("keydown",g)};document.addEventListener("keydown",g),setTimeout(()=>{document.removeEventListener("keydown",g)},2e3)}},[i,e,t,r,a,o,n,s]);return(0,Uo.useEffect)(()=>(document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}),[c]),{isTextFieldFocused:i}}var $i={navigation:[{keys:["G","H"],description:"Go to Home"},{keys:["G","B"],description:"Go to Board"},{keys:["G","C"],description:"Go to Calendar"},{keys:["G","M"],description:"Go to Chat"},{keys:["G","N"],description:"Go to Notes"}],actions:[{keys:["C"],description:"Create new task",modifiers:[]},{keys:["\u2318","K"],description:"Create new task",modifiers:["Ctrl","K"]},{keys:["R"],description:"Refresh data"},{keys:["F"],description:"Toggle focus mode (hide completed)"},{keys:["Esc"],description:"Close modals/dialogs"}],filters:[{keys:["1"],description:"All tasks"},{keys:["2"],description:"My tasks"},{keys:["3"],description:"Urgent tasks"},{keys:["4"],description:"Due today"},{keys:["5"],description:"Unassigned tasks"}],help:[{keys:["?"],description:"Show keyboard shortcuts"},{keys:["\u2318","/"],description:"Show keyboard shortcuts",modifiers:["Ctrl","/"]}]};var pt=w(z(),1);function wu({open:e,onOpenChange:t}){let r=navigator.platform.toUpperCase().indexOf("MAC")>=0,a=i=>i==="\u2318"&&!r?"Ctrl":i==="Ctrl"&&r?"\u2318":i,o=i=>{let l=r?i.keys:i.modifiers||i.keys;return(0,pt.jsxs)("div",{className:"flex items-center justify-between py-2.5 px-1 hover:bg-gray-50 rounded-lg transition-colors",children:[(0,pt.jsx)("span",{className:"text-sm text-gray-700",children:i.description}),(0,pt.jsx)("div",{className:"flex items-center gap-1",children:l.map((s,c)=>(0,pt.jsxs)(bb.default.Fragment,{children:[(0,pt.jsx)("kbd",{className:"min-w-[28px] h-7 px-2 py-1 text-xs font-medium text-gray-800 bg-gray-100 border border-gray-200 rounded-md shadow-sm flex items-center justify-center",children:a(s)}),c<l.length-1&&(0,pt.jsx)("span",{className:"text-xs text-gray-400 mx-0.5",children:"+"})]},c))})]})},n=(i,l)=>(0,pt.jsxs)("div",{className:"space-y-2",children:[(0,pt.jsx)("h3",{className:"text-sm font-semibold text-krushr-primary uppercase tracking-wide",children:i}),(0,pt.jsx)("div",{className:"space-y-1",children:l.map((s,c)=>(0,pt.jsx)("div",{children:o(s)},c))})]});return(0,pt.jsx)(nr,{open:e,onOpenChange:t,children:(0,pt.jsxs)(er,{className:"max-w-2xl max-h-[85vh] overflow-hidden",children:[(0,pt.jsx)(Pr,{className:"pb-4",children:(0,pt.jsxs)(Tr,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[(0,pt.jsx)("div",{className:"w-10 h-10 bg-krushr-primary rounded-lg flex items-center justify-center",children:(0,pt.jsx)(Za,{className:"w-6 h-6 text-white"})}),"Keyboard Shortcuts"]})}),(0,pt.jsx)("div",{className:"overflow-y-auto max-h-[calc(85vh-120px)] pr-2 -mr-2",children:(0,pt.jsxs)("div",{className:"space-y-6",children:[(0,pt.jsx)("div",{className:"bg-krushr-primary-50 border border-krushr-primary-100 rounded-lg p-4",children:(0,pt.jsxs)("p",{className:"text-sm text-krushr-primary-800",children:[(0,pt.jsx)("span",{className:"font-semibold",children:"Pro tip:"})," These shortcuts work anywhere in the dashboard. They're automatically disabled when you're typing in text fields."]})}),n("Actions",$i.actions),(0,pt.jsx)(po,{className:"my-4"}),n("Task Filters",$i.filters),(0,pt.jsx)(po,{className:"my-4"}),n("Navigation",$i.navigation),(0,pt.jsx)(po,{className:"my-4"}),n("Help",$i.help)]})}),(0,pt.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,pt.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:["Press ",(0,pt.jsx)("kbd",{className:"px-1.5 py-0.5 text-xs bg-gray-100 border border-gray-200 rounded mx-1",children:"Esc"})," to close"]})})]})})}var Yi=w(X(),1);var Mr=w(z(),1);function Tl({keys:e,className:t,show:r=!0}){if(!r)return null;let a=navigator.platform.toUpperCase().indexOf("MAC")>=0,o=n=>n==="\u2318"&&!a?"Ctrl":n==="Ctrl"&&a?"\u2318":n;return(0,Mr.jsx)("div",{className:D("inline-flex items-center gap-0.5 ml-2",t),children:e.map((n,i)=>(0,Mr.jsxs)(Yi.default.Fragment,{children:[(0,Mr.jsx)("kbd",{className:"min-w-[20px] h-5 px-1.5 py-0.5 text-[10px] font-medium text-gray-600 bg-gray-100/80 border border-gray-200/50 rounded flex items-center justify-center shadow-sm",children:o(n)}),i<e.length-1&&(0,Mr.jsx)("span",{className:"text-[10px] text-gray-400 mx-0.5",children:"+"})]},i))})}function xu({children:e,keys:t,description:r}){let[a,o]=Yi.default.useState(!1),n=Yi.default.useRef(),i=()=>{n.current=setTimeout(()=>{o(!0)},500)},l=()=>{n.current&&clearTimeout(n.current),o(!1)};return Yi.default.useEffect(()=>()=>{n.current&&clearTimeout(n.current)},[]),(0,Mr.jsxs)("div",{className:"relative inline-flex",onMouseEnter:i,onMouseLeave:l,children:[e,a&&(0,Mr.jsx)("div",{className:"absolute z-50 bottom-full left-1/2 transform -translate-x-1/2 mb-2 pointer-events-none",children:(0,Mr.jsxs)("div",{className:"bg-gray-900 text-white px-2 py-1.5 rounded-md shadow-lg text-xs whitespace-nowrap",children:[(0,Mr.jsxs)("div",{className:"flex items-center gap-2",children:[r&&(0,Mr.jsx)("span",{children:r}),(0,Mr.jsx)(Tl,{keys:t,className:"ml-0"})]}),(0,Mr.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-px",children:(0,Mr.jsx)("div",{className:"w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})})]})})]})}var we=w(z(),1);function ku(){let{user:e,isAuthenticated:t}=Ye(),r=Nt(),[a,o]=(0,ur.useState)(!1),[n,i]=(0,ur.useState)("all"),[l,s]=(0,ur.useState)(!1),[c,d]=(0,ur.useState)(!1);(0,ur.useEffect)(()=>{t||r("/login")},[t,r]);let{data:u,refetch:p}=q.notification.list.useQuery({}),{data:g=[],refetch:m}=q.workspace.list.useQuery(),f=u?.notifications||[],v=g[0],h=f.filter(S=>!S.isRead).length,{data:N=[]}=q.task.list.useQuery({workspaceId:v?.id||""},{enabled:!!v?.id}),C=ur.default.useMemo(()=>{let S=new Date,P=new Date(S.getFullYear(),S.getMonth(),S.getDate()),Y=new Date(P.getTime()+24*60*60*1e3);return N.filter(be=>{if(!be.dueDate)return!1;let K=new Date(be.dueDate);return K>=P&&K<Y}).length},[N]),F=()=>{let S=new Date().getHours();return S>=5&&S<12?{text:"Good morning",icon:"cs-sun"}:S>=12&&S<17?{text:"Good afternoon",icon:"cs-cloud-sun"}:S>=17&&S<22?{text:"Good evening",icon:"cs-moon"}:{text:"Working late?",icon:"cs-moon"}},M=()=>{let S=N.filter(P=>P.status!=="DONE"&&P.status!=="COMPLETED").length;return S===0?"All caught up! Time to relax or plan ahead.":S<5?"Ready to crush it today!":S<10?"Let's make progress!":"You've got this! One task at a time."},j=()=>{let S=new Date().getHours();return S>=5&&S<12?"bg-gradient-to-r from-orange-500 to-yellow-500":S>=12&&S<17?"bg-gradient-to-r from-blue-500 to-purple-500":S>=17&&S<22?"bg-gradient-to-r from-purple-500 to-pink-500":"bg-gradient-to-r from-indigo-600 to-purple-600"},B=()=>{let S=new Date,P={weekday:"long",month:"long",day:"numeric"},Y=S.toLocaleDateString("en-US",P),be=S.getDate(),K=["th","st","nd","rd"][be%10>3||[11,12,13].includes(be%100)?0:be%10];return Y.replace(/\d+/,`${be}${K}`)},le=F(),ee=e?.name?.split(" ")[0]||"User",ne=(0,ur.useCallback)(()=>{o(!0)},[]),ue=(0,ur.useCallback)(S=>{i(S)},[]),A=(0,ur.useCallback)(()=>{d(S=>!S),tt.success(c?"Focus mode disabled":"Focus mode enabled - completed tasks hidden")},[c]),k=(0,ur.useCallback)(()=>{s(!0)},[]),y=(0,ur.useCallback)(async()=>{await Promise.all([p(),m()]),tt.success("Data refreshed")},[p,m]),E=(0,ur.useCallback)(()=>{a?o(!1):l&&s(!1)},[a,l]);vb({onCreateTask:ne,onChangeFilter:ue,onToggleFocusMode:A,onShowHelp:k,onRefresh:y,onCloseModal:E});let x=[{title:"Board",icon:ln,href:"/board",description:"Manage your kanban boards",color:"text-blue-600 bg-blue-50"},{title:"Calendar",icon:Ae,href:"/calendar",description:"View deadlines and schedule",color:"text-green-600 bg-green-50"},{title:"Chat",icon:Wt,href:"/chat",description:"Team conversations",color:"text-purple-600 bg-purple-50"},{title:"Notes",icon:Sa,href:"/notes",description:"Capture ideas and knowledge",color:"text-orange-600 bg-orange-50"}];return t?(0,we.jsx)(fu,{children:(0,we.jsxs)("div",{className:"h-full flex flex-col bg-gray-50",children:[(0,we.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-3",children:(0,we.jsxs)("div",{className:"flex items-center justify-between",children:[(0,we.jsxs)("div",{className:"animate-fade-in flex items-center gap-4",children:[(0,we.jsx)("i",{className:`${le.icon} text-2xl text-gray-400`}),(0,we.jsxs)("div",{className:"min-w-0",children:[(0,we.jsxs)("h1",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[(0,we.jsx)("span",{className:`${j()} bg-clip-text text-transparent`,children:le.text}),(0,we.jsxs)("span",{className:"text-gray-900",children:[ee,"!"]})]}),(0,we.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 flex-wrap",children:[(0,we.jsx)("span",{className:"font-medium",children:B()}),(0,we.jsx)("span",{className:"text-gray-400",children:"\u2022"}),(0,we.jsx)("span",{children:M()}),C>0&&(0,we.jsxs)(we.Fragment,{children:[(0,we.jsx)("span",{className:"text-gray-400",children:"\u2022"}),(0,we.jsxs)("span",{className:"font-medium text-blue-600",children:[C," task",C>1?"s":""," due today"]})]})]})]})]}),(0,we.jsxs)("div",{className:"flex items-center gap-2",children:[(0,we.jsxs)(T,{variant:"ghost",size:"icon",className:"relative h-9 w-9",onClick:()=>r("/notifications"),children:[(0,we.jsx)(gr,{className:"w-4 h-4"}),h>0&&(0,we.jsx)(ye,{className:"absolute -top-0.5 -right-0.5 h-4 w-4 p-0 flex items-center justify-center text-[10px] bg-red-500",children:h})]}),(0,we.jsx)(xu,{keys:["C"],description:"Press",children:(0,we.jsxs)(T,{onClick:()=>o(!0),size:"sm",className:"h-9",children:[(0,we.jsx)(je,{className:"w-4 h-4 mr-1.5"}),(0,we.jsx)("span",{className:"hidden sm:inline",children:"Create Item"}),(0,we.jsx)("span",{className:"sm:hidden",children:"Create"}),(0,we.jsx)(Tl,{keys:["C"],className:"ml-2"})]})})]})]})}),a&&(0,we.jsx)(Ai,{onClose:()=>o(!1),defaultType:"TASK",workspaceId:v?.id}),(0,we.jsxs)("div",{className:"relative",children:[(0,we.jsx)(vu,{activeFilter:n,onFilterChange:i,workspaceId:v?.id}),(0,we.jsxs)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[c&&(0,we.jsx)(ye,{variant:"secondary",className:"text-xs",children:"Focus Mode"}),(0,we.jsx)(xu,{keys:["?"],description:"Keyboard shortcuts",children:(0,we.jsxs)(T,{variant:"ghost",size:"sm",onClick:()=>s(!0),className:"text-gray-500 hover:text-gray-700",children:[(0,we.jsx)("span",{className:"text-xs",children:"Shortcuts"}),(0,we.jsx)(Tl,{keys:["?"]})]})})]})]}),(0,we.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:(0,we.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[(0,we.jsxs)("div",{className:"space-y-6",children:[(0,we.jsx)(yu,{workspaceId:v?.id}),(0,we.jsxs)(Pe,{children:[(0,we.jsx)(st,{className:"pb-3",children:(0,we.jsx)(_t,{className:"text-lg font-semibold",children:"Quick Navigation"})}),(0,we.jsx)(Qe,{className:"space-y-2",children:x.map(S=>{let P=S.icon;return(0,we.jsxs)(T,{variant:"ghost",className:"w-full justify-between h-auto p-4 hover:bg-gray-50",onClick:()=>{console.log("Button clicked:",S.title,S.href),r(S.href)},children:[(0,we.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,we.jsx)("div",{className:`p-2 rounded-lg ${S.color}`,children:(0,we.jsx)(P,{className:"w-4 h-4"})}),(0,we.jsxs)("div",{className:"text-left",children:[(0,we.jsx)("div",{className:"font-medium text-gray-900",children:S.title}),(0,we.jsx)("div",{className:"text-xs text-gray-500",children:S.description})]})]}),(0,we.jsx)(hr,{className:"w-4 h-4 text-gray-400"})]},S.title)})})]}),(0,we.jsx)(hu,{})]}),(0,we.jsx)("div",{children:(0,we.jsx)(bu,{activeFilter:n,focusMode:c})}),(0,we.jsx)("div",{children:(0,we.jsx)(gu,{})})]})}),(0,we.jsx)(wu,{open:l,onOpenChange:s})]})}):null}var qi=w(X(),1);var Al=w(X(),1);var Ki=w(z(),1);function Rt({children:e}){let t=Nt(),r=Wr(),[a,o]=(0,Al.useState)("home");return(0,Al.useEffect)(()=>{let i={"/":"home","/home":"home","/workspace":"workspace","/board":"board","/calendar":"calendar","/chat":"chat","/notes":"notes","/teams":"teams","/projects":"projects"},l=r.pathname,s=i[l]||"home";o(s)},[r.pathname]),(0,Ki.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,Ki.jsx)(Hn,{currentPage:a,onPageChange:i=>{console.log("Navigation clicked:",i),o(i);let l={home:"/home",workspace:"/workspace",board:"/board",calendar:"/calendar",chat:"/chat",notes:"/notes",teams:"/teams",projects:"/projects"};console.log("Will navigate to:",l[i]),l[i]?(console.log("Navigating to:",l[i]),t(l[i])):console.log("No route found for page:",i)}}),(0,Ki.jsx)("main",{className:"flex-1 overflow-x-visible overflow-y-auto",children:e})]})}var bo=w(z(),1);function Nu({size:e="md",text:t="Loading...",className:r}){let a={sm:"w-16 h-16",md:"w-20 h-20",lg:"w-24 h-24"},o={sm:"text-sm",md:"text-base",lg:"text-lg"};return(0,bo.jsxs)("div",{className:D("flex flex-col items-center justify-center space-y-4",r),children:[(0,bo.jsxs)("div",{className:D("relative",a[e]),children:[(0,bo.jsx)("div",{className:"absolute inset-0 border-4 border-muted rounded-full border-t-primary animate-spin"}),(0,bo.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,bo.jsx)("div",{className:"font-bold text-blue-600 text-sm",children:"K"})})]}),(0,bo.jsx)("div",{className:D("text-muted-foreground font-medium",o[e]),children:t})]})}var Cu=w(z(),1),R2={plus:je,message:Wt,calendar:Ae,note:gt,team:xt};function Ru({onClick:e,className:t,variant:r="primary",size:a="md",icon:o="plus",tooltip:n}){let i=R2[o],l={sm:"w-12 h-12",md:"w-14 h-14",lg:"w-16 h-16"},s={sm:"w-5 h-5",md:"w-6 h-6",lg:"w-7 h-7"},c={primary:"bg-krushr-secondary hover:bg-krushr-secondary/90 text-white shadow-lg hover:shadow-xl",secondary:"bg-krushr-blue hover:bg-krushr-blue/90 text-white shadow-lg hover:shadow-xl"};return(0,Cu.jsx)(T,{onClick:e,className:D("fixed bottom-6 right-6 rounded-full transition-all duration-200 hover:scale-105 active:scale-95 z-50",l[a],c[r],t),title:n,children:(0,Cu.jsx)(i,{className:s[a]})})}var Ve=w(z(),1);function Su(){let{isAuthenticated:e}=Ye(),[t,r]=(0,qi.useState)(null),[a,o]=(0,qi.useState)(!1),{data:n=[]}=q.workspace.list.useQuery(),i=n[0],{data:l=[],isLoading:s,error:c}=q.kanban.list.useQuery({workspaceId:i?.id||""},{enabled:!!i?.id});if((0,qi.useEffect)(()=>{l.length>0&&!t&&r(l[0].id)},[l,t]),!e)return null;let d=l.find(u=>u.id===t);return s?(0,Ve.jsx)(Rt,{children:(0,Ve.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Ve.jsx)(Nu,{text:"Loading your kanban boards..."})})}):c?(0,Ve.jsx)(Rt,{children:(0,Ve.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Ve.jsx)(Pe,{className:"w-full max-w-md",children:(0,Ve.jsxs)(Qe,{className:"p-6 text-center",children:[(0,Ve.jsx)("div",{className:"flex justify-center mb-4",children:(0,Ve.jsx)(_a,{size:"md",showText:!1})}),(0,Ve.jsx)("p",{className:"text-destructive mb-4",children:c?.message||"An error occurred"}),(0,Ve.jsx)(T,{onClick:()=>window.location.reload(),className:"bg-primary",children:"Reload Page"})]})})})}):l.length===0?(0,Ve.jsx)(Rt,{children:(0,Ve.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Ve.jsx)(Pe,{className:"w-full max-w-md",children:(0,Ve.jsxs)(Qe,{className:"p-8 text-center",children:[(0,Ve.jsx)("div",{className:"flex justify-center mb-6",children:(0,Ve.jsx)(_a,{size:"lg"})}),(0,Ve.jsx)("h3",{className:"text-xl font-semibold mb-3 text-foreground",children:"Welcome to Krushr!"}),(0,Ve.jsx)("p",{className:"text-muted-foreground mb-6",children:"Create your first kanban board to start organizing tasks and boosting productivity."}),(0,Ve.jsxs)(T,{className:"bg-primary hover:bg-primary/90",children:[(0,Ve.jsx)(je,{className:"w-4 h-4 mr-2"}),"Create Your First Board"]})]})})})}):(0,Ve.jsxs)(Rt,{children:[(0,Ve.jsxs)("div",{className:"h-full flex flex-col",children:[l.length>1&&(0,Ve.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-3",children:(0,Ve.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ve.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Board:"}),(0,Ve.jsx)("div",{className:"flex space-x-2",children:l.map(u=>(0,Ve.jsx)(T,{variant:t===u.id?"default":"outline",size:"sm",onClick:()=>r(u.id),children:u.title},u.id))})]})}),(0,Ve.jsx)("div",{className:"flex-1",children:d&&i?.id?(0,Ve.jsx)($f,{kanban:{...d,workspaceId:i.id}}):(0,Ve.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Ve.jsx)(Pe,{className:"w-full max-w-md",children:(0,Ve.jsx)(Qe,{className:"p-6 text-center",children:(0,Ve.jsx)("p",{className:"text-gray-600",children:d?"Loading workspace...":"Select a kanban board to view tasks."})})})})}),(0,Ve.jsx)(Ru,{icon:"plus",tooltip:"Create New Task",onClick:()=>o(!0)})]}),a&&i&&(0,Ve.jsx)(fo,{workspaceId:i.id,open:a,onClose:()=>o(!1),onSuccess:()=>{o(!1)}})]})}var Wo=w(X(),1);var ae=w(z(),1);function Du({className:e}){let[t,r]=(0,Wo.useState)(new Date),[a,o]=(0,Wo.useState)("month"),[n,i]=(0,Wo.useState)(null),[l,s]=(0,Wo.useState)(!1),{tasks:c}=or(),d=(0,Wo.useMemo)(()=>{let h=[];c.forEach(C=>{C.due_date&&h.push({id:`task-${C.id}`,title:C.title,type:"task",date:new Date(C.due_date),priority:C.priority,assignees:C.assignees,color:C.priority==="high"?"bg-red-500":C.priority==="medium"?"bg-orange-500":"bg-green-500"})});let N=new Date;return h.push({id:"meeting-1",title:"Team Standup",type:"meeting",date:new Date(N.getFullYear(),N.getMonth(),N.getDate()+1,9,0),time:"9:00 AM",assignees:[{id:"1",name:"Team Lead",avatar:""},{id:"2",name:"Developer",avatar:""}],color:"bg-blue-500"},{id:"milestone-1",title:"Sprint Review",type:"milestone",date:new Date(N.getFullYear(),N.getMonth(),N.getDate()+7),project:"Q1 Development",color:"bg-purple-500"}),h},[c]),p=(()=>{let h=t.getFullYear(),N=t.getMonth(),C=new Date(h,N,1),F=new Date(h,N+1,0),M=new Date(C);M.setDate(M.getDate()-C.getDay());let j=[],B=new Date(M);for(let le=0;le<6;le++){let ee=[];for(let ne=0;ne<7;ne++){let ue=new Date(B),A=d.filter(k=>k.date.toDateString()===ue.toDateString());ee.push({date:new Date(ue),isCurrentMonth:ue.getMonth()===N,isToday:ue.toDateString()===new Date().toDateString(),events:A}),B.setDate(B.getDate()+1)}j.push(ee)}return j})(),g=h=>{let N=new Date(t);N.setMonth(t.getMonth()+(h==="next"?1:-1)),r(N)},m=h=>{switch(h){case"task":return(0,ae.jsx)(vr,{className:"w-3 h-3"});case"meeting":return(0,ae.jsx)(xt,{className:"w-3 h-3"});case"deadline":return(0,ae.jsx)(ar,{className:"w-3 h-3"});case"milestone":return(0,ae.jsx)(Ae,{className:"w-3 h-3"});default:return(0,ae.jsx)(Zt,{className:"w-3 h-3"})}},f=["January","February","March","April","May","June","July","August","September","October","November","December"],v=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return(0,ae.jsx)(Mo,{children:(0,ae.jsxs)(Pe,{className:D("h-full flex flex-col",e),children:[(0,ae.jsxs)(st,{className:"flex-shrink-0 pb-4",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ae.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ae.jsxs)(_t,{className:"text-xl font-bold",children:[f[t.getMonth()]," ",t.getFullYear()]}),(0,ae.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ae.jsx)(T,{variant:"outline",size:"sm",onClick:()=>g("prev"),children:(0,ae.jsx)(cn,{className:"w-4 h-4"})}),(0,ae.jsx)(T,{variant:"outline",size:"sm",onClick:()=>r(new Date),children:"Today"}),(0,ae.jsx)(T,{variant:"outline",size:"sm",onClick:()=>g("next"),children:(0,ae.jsx)(hr,{className:"w-4 h-4"})})]})]}),(0,ae.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ae.jsx)("div",{className:"flex border rounded-lg overflow-hidden",children:["month","week","day"].map(h=>(0,ae.jsx)(T,{variant:a===h?"default":"ghost",size:"sm",className:"rounded-none",onClick:()=>o(h),children:h.charAt(0).toUpperCase()+h.slice(1)},h))}),(0,ae.jsxs)(T,{variant:"outline",size:"sm",onClick:()=>s(!l),children:[(0,ae.jsx)(eo,{className:"w-4 h-4 mr-2"}),"Filter"]}),(0,ae.jsxs)(T,{variant:"outline",size:"sm",children:[(0,ae.jsx)(br,{className:"w-4 h-4 mr-2"}),"Export"]}),(0,ae.jsxs)(T,{size:"sm",children:[(0,ae.jsx)(je,{className:"w-4 h-4 mr-2"}),"Add Event"]})]})]}),l&&(0,ae.jsx)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:(0,ae.jsx)("div",{className:"flex items-center space-x-4",children:(0,ae.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ae.jsx)("span",{className:"text-sm font-medium",children:"Show:"}),(0,ae.jsx)(ye,{variant:"outline",className:"cursor-pointer",children:"Tasks"}),(0,ae.jsx)(ye,{variant:"outline",className:"cursor-pointer",children:"Meetings"}),(0,ae.jsx)(ye,{variant:"outline",className:"cursor-pointer",children:"Deadlines"}),(0,ae.jsx)(ye,{variant:"outline",className:"cursor-pointer",children:"Milestones"})]})})})]}),(0,ae.jsx)(Qe,{className:"flex-1 p-0 overflow-hidden",children:(0,ae.jsxs)("div",{className:"h-full flex flex-col",children:[(0,ae.jsx)("div",{className:"grid grid-cols-7 border-b bg-gray-50",children:v.map(h=>(0,ae.jsx)("div",{className:"p-3 text-center text-sm font-medium text-gray-600",children:h},h))}),(0,ae.jsx)("div",{className:"flex-1 overflow-y-auto",children:p.map((h,N)=>(0,ae.jsx)("div",{className:"grid grid-cols-7 border-b min-h-[120px]",children:h.map((C,F)=>(0,ae.jsxs)("div",{className:D("border-r p-2 cursor-pointer hover:bg-gray-50 transition-colors",!C.isCurrentMonth&&"bg-gray-25 text-gray-400",C.isToday&&"bg-blue-50 border-blue-200",n?.toDateString()===C.date.toDateString()&&"bg-blue-100"),onClick:()=>i(C.date),children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,ae.jsx)("span",{className:D("text-sm font-medium",C.isToday&&"text-blue-600",!C.isCurrentMonth&&"text-gray-400"),children:C.date.getDate()}),C.events.length>3&&(0,ae.jsxs)("span",{className:"text-xs text-gray-500",children:["+",C.events.length-3]})]}),(0,ae.jsx)("div",{className:"space-y-1",children:C.events.slice(0,3).map(M=>(0,ae.jsxs)(oa,{children:[(0,ae.jsx)(na,{asChild:!0,children:(0,ae.jsxs)("div",{className:D("text-xs p-1 rounded text-white truncate flex items-center space-x-1 cursor-pointer hover:opacity-90 transition-opacity",M.color),children:[m(M.type),(0,ae.jsx)("span",{className:"truncate",children:M.title})]})}),(0,ae.jsx)(ia,{side:"right",className:"max-w-xs",children:(0,ae.jsxs)("div",{className:"space-y-2",children:[(0,ae.jsx)("div",{className:"font-semibold text-sm",children:M.title}),(0,ae.jsxs)("div",{className:"text-xs space-y-1",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)("span",{className:"font-medium",children:"Type:"}),(0,ae.jsx)(ye,{variant:"secondary",className:"text-xs",children:M.type})]}),M.time&&(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)(Zt,{className:"w-3 h-3"}),(0,ae.jsx)("span",{children:M.time})]}),M.priority&&(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)("span",{className:"font-medium",children:"Priority:"}),(0,ae.jsx)(ye,{variant:M.priority==="high"?"destructive":M.priority==="medium"?"default":"secondary",className:"text-xs",children:M.priority})]}),M.project&&(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)("span",{className:"font-medium",children:"Project:"}),(0,ae.jsx)("span",{children:M.project})]}),M.assignees&&M.assignees.length>0&&(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)(xt,{className:"w-3 h-3"}),(0,ae.jsxs)("span",{children:[M.assignees.length," assignee",M.assignees.length>1?"s":""]})]})]})]})})]},M.id))})]},F))},N))})]})}),n&&(0,ae.jsxs)("div",{className:"flex-shrink-0 border-t bg-red-100 p-4",children:[(0,ae.jsxs)("h4",{className:"font-medium text-gray-900 mb-2",children:["SELECTED: ",Hf(n.toISOString())]}),(0,ae.jsx)("div",{className:"space-y-2",children:d.filter(h=>h.date.toDateString()===n.toDateString()).map(h=>(0,ae.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-white rounded border",children:[(0,ae.jsx)("div",{className:D("w-3 h-3 rounded-full",h.color)}),(0,ae.jsxs)("div",{className:"flex-1",children:[(0,ae.jsx)("div",{className:"font-medium text-sm",children:h.title}),h.time&&(0,ae.jsx)("div",{className:"text-xs text-gray-500",children:h.time})]}),h.assignees&&(0,ae.jsx)("div",{className:"flex -space-x-1",children:h.assignees.slice(0,2).map(N=>(0,ae.jsxs)(ut,{className:"w-6 h-6 border-2 border-white",children:[(0,ae.jsx)(jt,{src:N.avatar}),(0,ae.jsx)(bt,{className:"text-xs",children:N.name.split(" ").map(C=>C[0]).join("").toUpperCase()})]},N.id))}),(0,ae.jsx)(T,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:(0,ae.jsx)(Oa,{className:"w-3 h-3"})})]},h.id))})]})]})})}var _l=w(X(),1);var S2="https://api.krushr.app",Eu=class{constructor(t){this.token=null;this.baseURL=t,this.token=localStorage.getItem("auth_token")}async request(t,r={}){let a=`${this.baseURL}${t}`,o={headers:{"Content-Type":"application/json",...this.token&&{Authorization:`Bearer ${this.token}`},...r.headers},...r};try{let n=await fetch(a,o),i=await n.json();if(!n.ok)throw new Error(i.message||"API request failed");return i}catch(n){throw console.error("API Error:",n),n}}async login(t,r){let a=await this.request(Qt.LOGIN,{method:"POST",body:JSON.stringify({email:t,password:r})});return a.success&&a.data?.token&&(this.token=a.data.token,localStorage.setItem("auth_token",this.token)),a}async logout(){await this.request(Qt.LOGOUT,{method:"POST"}),this.token=null,localStorage.removeItem("auth_token")}async me(){return this.request(Qt.ME)}async getWorkspaces(){return this.request(Qt.WORKSPACES)}async createWorkspace(t){return this.request(Qt.WORKSPACES,{method:"POST",body:JSON.stringify(t)})}async getTeams(){return this.request(Qt.TEAMS)}async createTeam(t){return this.request(Qt.TEAMS,{method:"POST",body:JSON.stringify(t)})}async getKanbans(){return this.request(Qt.KANBANS)}async getKanban(t){return this.request(`${Qt.KANBANS}/${t}`)}async createKanban(t){return this.request(Qt.KANBANS,{method:"POST",body:JSON.stringify(t)})}async updateKanban(t,r){return this.request(`${Qt.KANBANS}/${t}`,{method:"PUT",body:JSON.stringify(r)})}async getTasks(t){let r=t?`${Qt.TASKS}?kanban_id=${t}`:Qt.TASKS;return this.request(r)}async createTask(t){return this.request(Qt.TASKS,{method:"POST",body:JSON.stringify(t)})}async updateTask(t,r){return this.request(`${Qt.TASKS}/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteTask(t){return this.request(`${Qt.TASKS}/${t}`,{method:"DELETE"})}async getNotifications(){return this.request(Qt.NOTIFICATIONS)}async markNotificationRead(t){return this.request(`${Qt.NOTIFICATIONS}/${t}/read`,{method:"PUT"})}},qe=new Eu(S2),oL={login:qe.login.bind(qe),logout:qe.logout.bind(qe),me:qe.me.bind(qe)},nL={list:qe.getWorkspaces.bind(qe),create:qe.createWorkspace.bind(qe)},iL={list:qe.getTeams.bind(qe),create:qe.createTeam.bind(qe)},sL={list:qe.getKanbans.bind(qe),get:qe.getKanban.bind(qe),create:qe.createKanban.bind(qe),update:qe.updateKanban.bind(qe)},lL={list:qe.getTasks.bind(qe),create:qe.createTask.bind(qe),update:qe.updateTask.bind(qe),delete:qe.deleteTask.bind(qe)},cL={list:qe.getNotifications.bind(qe),markRead:qe.markNotificationRead.bind(qe)};function yb(){let{user:e,isAuthenticated:t,connectWebSocket:r,disconnectWebSocket:a,setWorkspaces:o,setKanbans:n,setTasks:i,setNotifications:l,setLoading:s,setError:c}=or(),d=(0,_l.useCallback)(async()=>{if(t){s(!0),c(null);try{let[u,p,g,m]=await Promise.all([qe.getWorkspaces(),qe.getKanbans(),qe.getTasks(),qe.getNotifications()]);u.success&&u.data&&o(u.data),p.success&&p.data&&n(p.data),g.success&&g.data&&i(g.data),m.success&&m.data&&l(m.data)}catch(u){console.error("Failed to load initial data:",u),c("Failed to load application data")}finally{s(!1)}}},[t,o,n,i,l,s,c]);return(0,_l.useEffect)(()=>(t&&e?(r(),d()):a(),()=>{a()}),[t,e,r,a,d]),{isConnected:or(u=>u.websocket.connected),isLoading:or(u=>u.loading),error:or(u=>u.error)}}var Ma=w(z(),1);function Pu(){let{isLoading:e}=yb();return e?(0,Ma.jsx)(Rt,{children:(0,Ma.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Ma.jsxs)("div",{className:"text-center",children:[(0,Ma.jsx)(Xe,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,Ma.jsx)("p",{className:"text-gray-600",children:"Loading calendar..."})]})})}):(0,Ma.jsx)(Rt,{children:(0,Ma.jsx)("div",{className:"h-full",children:(0,Ma.jsx)(Du,{})})})}var wb=w(X(),1);var Ze=w(z(),1),Ml=class extends wb.Component{constructor(r){super(r);this.handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};this.handleGoHome=()=>{window.location.href="/#/workspace"};this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("ErrorBoundary caught an error:",r,a),this.setState({error:r,errorInfo:a}),this.props.onError?.(r,a),console.error("Production error:",{message:r.message,stack:r.stack,componentStack:a.componentStack})}render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;let{level:r="component"}=this.props;return r==="critical"?(0,Ze.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-krushr-gray-50 p-6",children:(0,Ze.jsxs)("div",{className:"text-center max-w-lg",children:[(0,Ze.jsx)("div",{className:"w-20 h-20 bg-krushr-danger-50 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Ze.jsx)(ar,{className:"w-10 h-10 text-krushr-danger"})}),(0,Ze.jsx)("h1",{className:"text-2xl font-brand font-bold text-krushr-gray-900 mb-4",children:"Critical Error"}),(0,Ze.jsx)("p",{className:"text-base font-brand text-krushr-gray-600 mb-6",children:"The application encountered a critical error and needs to be restarted. Your work may not be saved."}),(0,Ze.jsxs)("div",{className:"space-y-3",children:[(0,Ze.jsxs)("button",{onClick:()=>window.location.reload(),className:"w-full bg-krushr-danger text-white px-6 py-3 rounded-button font-medium hover:bg-krushr-danger-600 transition-colors flex items-center justify-center gap-2",children:[(0,Ze.jsx)(to,{className:"w-5 h-5"}),"Restart Application"]}),(0,Ze.jsxs)("button",{onClick:this.handleGoHome,className:"w-full border border-krushr-gray-300 text-krushr-gray-700 px-6 py-3 rounded-button font-medium hover:bg-krushr-gray-50 transition-colors flex items-center justify-center gap-2",children:[(0,Ze.jsx)(Do,{className:"w-5 h-5"}),"Go to Dashboard"]})]})]})}):r==="page"?(0,Ze.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:(0,Ze.jsxs)("div",{className:"text-center max-w-md",children:[(0,Ze.jsx)("div",{className:"w-16 h-16 bg-krushr-warning-50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ze.jsx)(ar,{className:"w-8 h-8 text-krushr-warning"})}),(0,Ze.jsx)("h2",{className:"text-xl font-brand font-semibold text-krushr-gray-800 mb-3",children:"Page Error"}),(0,Ze.jsx)("p",{className:"text-sm font-brand text-krushr-gray-600 mb-4",children:"This page encountered an error, but the rest of the application is still working."}),(0,Ze.jsxs)("div",{className:"space-y-2",children:[(0,Ze.jsxs)("button",{onClick:this.handleRetry,className:"w-full bg-krushr-primary text-white px-4 py-2 rounded-button font-medium hover:bg-krushr-primary-700 transition-colors flex items-center justify-center gap-2",children:[(0,Ze.jsx)(to,{className:"w-4 h-4"}),"Retry Page"]}),(0,Ze.jsxs)("button",{onClick:this.handleGoHome,className:"w-full border border-krushr-gray-300 text-krushr-gray-700 px-4 py-2 rounded-button font-medium hover:bg-krushr-gray-50 transition-colors flex items-center justify-center gap-2",children:[(0,Ze.jsx)(Do,{className:"w-4 h-4"}),"Go to Dashboard"]})]})]})}):(0,Ze.jsx)("div",{className:"flex items-center justify-center min-h-[200px] p-4 bg-krushr-gray-50 rounded-lg border border-krushr-gray-200",children:(0,Ze.jsxs)("div",{className:"text-center max-w-sm",children:[(0,Ze.jsx)("div",{className:"w-12 h-12 bg-krushr-info-50 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Ze.jsx)(ar,{className:"w-6 h-6 text-krushr-info"})}),(0,Ze.jsx)("h3",{className:"text-base font-brand font-medium text-krushr-gray-800 mb-2",children:"Component Error"}),(0,Ze.jsx)("p",{className:"text-sm font-brand text-krushr-gray-600 mb-3",children:"This component failed to load, but other features are still available."}),(0,Ze.jsxs)("button",{onClick:this.handleRetry,className:"bg-krushr-primary text-white px-3 py-1.5 rounded-button text-sm font-medium hover:bg-krushr-primary-700 transition-colors flex items-center justify-center gap-1.5 mx-auto",children:[(0,Ze.jsx)(to,{className:"w-3 h-3"}),"Retry"]}),!1]})})}return this.props.children}};var xb=({children:e})=>(0,Ze.jsx)(Ml,{level:"page",children:e}),kb=({children:e})=>(0,Ze.jsx)(Ml,{level:"critical",children:e});var Vi=w(z(),1);function Tu(){let{currentWorkspace:e}=Ye();return e?(0,Vi.jsx)("div",{className:"h-screen",children:(0,Vi.jsx)(xb,{children:(0,Vi.jsx)(Yf,{workspaceId:e.id})})}):(0,Vi.jsx)("div",{children:"Loading..."})}var Lr=w(X(),1);var Nb=w(X(),1);var Rb=w(z(),1),D2={"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"image/gif":[".gif"],"image/webp":[".webp"],"image/svg+xml":[".svg"],"image/bmp":[".bmp"],"image/tiff":[".tiff"],"application/pdf":[".pdf"],"text/plain":[".txt"],"text/markdown":[".md"],"text/csv":[".csv"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/vnd.ms-powerpoint":[".ppt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"],"application/zip":[".zip"],"application/x-rar-compressed":[".rar"],"application/x-7z-compressed":[".7z"],"application/gzip":[".gz"],"text/javascript":[".js"],"text/typescript":[".ts"],"application/json":[".json"],"text/html":[".html"],"text/css":[".css"],"audio/mpeg":[".mp3"],"audio/wav":[".wav"],"audio/ogg":[".ogg"],"video/mp4":[".mp4"],"video/webm":[".webm"],"video/ogg":[".ogv"]},E2=({type:e,targetId:t,onUploadComplete:r,className:a})=>{let[o,n]=(0,Nb.useState)(!1),i=q.upload.uploadTaskFile.useMutation(),l=q.upload.uploadChatFile.useMutation(),s=q.upload.uploadNoteFile.useMutation();return(0,Rb.jsx)(Ti,{onUpload:async d=>{n(!0);let u=[];try{for(let p of d){let g=await P2(p),m=Array.from(new Uint8Array(g)),f={filename:p.name,mimetype:p.type,size:p.size,buffer:m},v;switch(e){case"task":v=await i.mutateAsync({taskId:t,file:f});break;case"chat":v=await l.mutateAsync({messageId:t,file:f});break;case"note":v=await s.mutateAsync({noteId:t,file:f});break;default:throw new Error(`Unsupported upload type: ${e}`)}u.push(v),tt.success(`${p.name} uploaded successfully`,{description:`File compressed and saved (${T2(p.size)})`})}r?.(u)}catch(p){console.error("Upload failed:",p),tt.error("Upload failed",{description:p instanceof Error?p.message:"Please try again"})}finally{n(!1)}},accept:D2,maxSize:15*1024*1024,maxFiles:10,className:a})},P2=e=>new Promise((t,r)=>{let a=new FileReader;a.onload=()=>{a.result instanceof ArrayBuffer?t(a.result):r(new Error("Failed to read file as ArrayBuffer"))},a.onerror=()=>r(a.error),a.readAsArrayBuffer(e)}),T2=e=>{if(e===0)return"0 Bytes";let t=1024,r=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,a)).toFixed(2))+" "+r[a]},Cb=E2;var Ge=w(z(),1),Sb=e=>!e||typeof e!="string"?ci:e.startsWith("image/")?gs:e.startsWith("video/")?hs:e.includes("pdf")||e.includes("document")||e.includes("text")?gt:e.includes("zip")||e.includes("rar")||e.includes("7z")?fs:ci,A2=e=>!e||typeof e!="string"?"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300":e.startsWith("image/")?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":e.startsWith("video/")?"bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300":e.startsWith("audio/")?"bg-pink-100 text-pink-700 dark:bg-pink-900 dark:text-pink-300":e.includes("pdf")?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300":e.includes("document")||e.includes("text")?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":e.includes("zip")||e.includes("rar")?"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300",Db=e=>{if(e===0)return"0 Bytes";let t=1024,r=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,a)).toFixed(1))+" "+r[a]},_2=e=>{let t=new Date(e),a=Math.abs(new Date().getTime()-t.getTime()),o=Math.ceil(a/(1e3*60*60*24));return o===1?"Today":o===2?"Yesterday":o<=7?`${o} days ago`:t.toLocaleDateString()},M2=({attachments:e,canDelete:t=!1,onDelete:r,className:a,compact:o=!1})=>{if(e.length===0)return null;let n=s=>{let c=document.createElement("a");c.href=s.downloadUrl,c.download=s.filename,document.body.appendChild(c),c.click(),document.body.removeChild(c)},i=s=>{r&&r(s.id)},l=s=>{if(!s.mimeType){tt.info("Preview not available for this file type");return}s.mimeType.startsWith("image/")||s.mimeType==="application/pdf"?window.open(s.downloadUrl,"_blank"):tt.info("Preview not available for this file type")};return o?(0,Ge.jsx)("div",{className:D("flex flex-wrap gap-2",a),children:e.map(s=>{let c=Sb(s.mimeType),d=s.mimeType&&s.mimeType.startsWith("image/");return(0,Ge.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-50 dark:bg-gray-800 rounded-lg text-sm",children:[d&&s.thumbnailUrl?(0,Ge.jsx)("img",{src:s.thumbnailUrl,alt:s.filename,className:"h-8 w-8 rounded object-cover",onError:u=>{u.currentTarget.style.display="none",u.currentTarget.parentElement?.querySelector(".fallback-icon")?.classList.remove("hidden")}}):null,(0,Ge.jsx)(c,{className:D("h-4 w-4 text-gray-500",d&&s.thumbnailUrl?"hidden fallback-icon":"")}),(0,Ge.jsx)("span",{className:"font-medium truncate max-w-[150px]",children:s.filename}),(0,Ge.jsx)("span",{className:"text-gray-500",children:Db(s.size)}),s.compressed&&(0,Ge.jsx)(ye,{variant:"secondary",className:"text-xs",children:"Compressed"}),(0,Ge.jsx)(T,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>n(s),title:"Download",children:(0,Ge.jsx)(br,{className:"h-3 w-3"})})]},s.id)})}):(0,Ge.jsxs)("div",{className:D("space-y-3",a),children:[(0,Ge.jsxs)("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Attachments (",e.length,")"]}),(0,Ge.jsx)("div",{className:"space-y-2",children:e.map(s=>{let c=Sb(s.mimeType),d=A2(s.mimeType);return(0,Ge.jsx)(Pe,{className:"p-4",children:(0,Ge.jsxs)("div",{className:"flex items-start gap-3",children:[s.mimeType&&s.mimeType.startsWith("image/")&&s.thumbnailUrl?(0,Ge.jsxs)("div",{className:"relative",children:[(0,Ge.jsx)("img",{src:s.thumbnailUrl,alt:s.filename,className:"w-16 h-16 rounded-lg object-cover",onError:u=>{u.currentTarget.style.display="none";let p=u.currentTarget.parentElement?.querySelector(".thumbnail-fallback");p&&p.classList.remove("hidden")}}),(0,Ge.jsx)("div",{className:D("hidden p-2 rounded-lg w-16 h-16 flex items-center justify-center thumbnail-fallback",d),children:(0,Ge.jsx)(c,{className:"h-5 w-5"})})]}):(0,Ge.jsx)("div",{className:D("p-2 rounded-lg",d),children:(0,Ge.jsx)(c,{className:"h-5 w-5"})}),(0,Ge.jsx)("div",{className:"flex-1 min-w-0",children:(0,Ge.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ge.jsx)("div",{className:"min-w-0 flex-1",children:(0,Ge.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:[s.filename,(0,Ge.jsxs)("span",{className:"text-xs text-gray-500 font-normal ml-2",children:["\u2022 ",Db(s.size)," \u2022 ",_2(s.uploadedAt),s.compressed&&(0,Ge.jsxs)(Ge.Fragment,{children:[" ","\u2022 ",(0,Ge.jsx)(ye,{variant:"secondary",className:"text-xs inline",children:"Compressed"})]})]})]})}),(0,Ge.jsxs)("div",{className:"flex items-center gap-1 ml-2",children:[s.mimeType&&(s.mimeType.startsWith("image/")||s.mimeType==="application/pdf")&&(0,Ge.jsx)(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>l(s),title:"Preview",children:(0,Ge.jsx)(un,{className:"h-4 w-4"})}),(0,Ge.jsx)(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>n(s),title:"Download",children:(0,Ge.jsx)(br,{className:"h-4 w-4"})}),t&&(0,Ge.jsx)(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>i(s),title:"Delete",children:(0,Ge.jsx)(Hr,{className:"h-4 w-4"})})]})]})})]})},s.id)})})]})},Eb=M2;var G=w(z(),1);function Au({className:e}){let[t,r]=(0,Lr.useState)(null),[a,o]=(0,Lr.useState)(""),[n,i]=(0,Lr.useState)(""),[l,s]=(0,Lr.useState)(null),[c,d]=(0,Lr.useState)(!1),[u,p]=(0,Lr.useState)(!1),g=(0,Lr.useRef)(null),m=(0,Lr.useRef)(null),f=(0,Lr.useRef)(null),{user:v}=or(),{connected:h,sendMessage:N}=Ff(),C=[{id:"general",name:"general",type:"team",description:"General team discussion",members:12,isPrivate:!1},{id:"project-alpha",name:"project-alpha",type:"project",description:"Alpha project coordination",members:5,isPrivate:!1,projectId:"alpha-123"},{id:"design-team",name:"design-team",type:"team",description:"Design team collaboration",members:4,isPrivate:!1}],F=[{id:"1",content:"Hey team! Just finished the design mockups for the new dashboard",type:"text",sender:{id:"1",name:"Sarah Chen",avatar:""},timestamp:new Date(Date.now()-30*60*1e3).toISOString(),reactions:[{emoji:"\u{1F44D}",users:["2","3"],count:2},{emoji:"\u{1F389}",users:["4"],count:1}]},{id:"2",content:"Awesome work! Could you share the files?",type:"text",sender:{id:"2",name:"Mike Johnson",avatar:""},timestamp:new Date(Date.now()-25*60*1e3).toISOString(),replyTo:"1"},{id:"3",content:"dashboard-mockups-v2.fig",type:"file",sender:{id:"1",name:"Sarah Chen",avatar:""},timestamp:new Date(Date.now()-20*60*1e3).toISOString(),attachments:[{id:"file-1",name:"dashboard-mockups-v2.fig",size:2458e3,type:"application/figma",url:"#"}]},{id:"4",content:"I've updated the API documentation task with the new endpoints",type:"task_reference",sender:{id:"3",name:"Emma Davis",avatar:""},timestamp:new Date(Date.now()-10*60*1e3).toISOString(),taskReference:{id:"task-123",title:"Update API Documentation",status:"in_progress"}}],M=C.find(A=>A.id===t)||C[0];(0,Lr.useEffect)(()=>{!t&&C.length>0&&r(C[0].id)},[t,C]),(0,Lr.useEffect)(()=>{let A=m.current?.closest("[data-radix-scroll-area-viewport]");A&&m.current&&(A.scrollTop=A.scrollHeight)},[F]);let j=()=>{if(!a.trim()||!h)return;let A={content:a,channelId:t,replyTo:l,timestamp:new Date().toISOString()};N("chat-message",A),o(""),s(null)},B=()=>{p(!u)},le=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),j())},ee=(A,k)=>{console.log("Adding reaction:",A,k)},ne=A=>{if(A===0)return"0 Bytes";let k=1024,y=["Bytes","KB","MB","GB"],E=Math.floor(Math.log(A)/Math.log(k));return parseFloat((A/Math.pow(k,E)).toFixed(2))+" "+y[E]},ue=A=>{switch(A){case"project":return(0,G.jsx)(di,{className:"w-4 h-4"});case"team":return(0,G.jsx)(xt,{className:"w-4 h-4"});case"direct":return(0,G.jsx)(ut,{className:"w-4 h-4"});default:return(0,G.jsx)(di,{className:"w-4 h-4"})}};return(0,G.jsxs)("div",{className:D("h-full flex bg-white",e),children:[(0,G.jsxs)("div",{className:"w-64 border-r border-gray-200 flex flex-col",children:[(0,G.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsx)("h2",{className:"font-semibold text-gray-900",children:"Channels"}),(0,G.jsx)(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,G.jsx)(Oa,{className:"w-4 h-4"})})]}),(0,G.jsx)("div",{className:"mt-3",children:(0,G.jsxs)("div",{className:"relative",children:[(0,G.jsx)($t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,G.jsx)(Vr,{placeholder:"Search channels...",value:n,onChange:A=>i(A.target.value),className:"pl-10 h-8"})]})})]}),(0,G.jsx)(_o,{className:"flex-1",children:(0,G.jsx)("div",{className:"p-2 space-y-1",children:C.filter(A=>A.name.toLowerCase().includes(n.toLowerCase())).map(A=>(0,G.jsx)(T,{variant:t===A.id?"secondary":"ghost",className:"w-full justify-start h-auto p-3",onClick:()=>r(A.id),children:(0,G.jsxs)("div",{className:"flex items-center space-x-3 w-full",children:[ue(A.type),(0,G.jsxs)("div",{className:"flex-1 text-left",children:[(0,G.jsxs)("div",{className:"font-medium text-sm",children:["#",A.name]}),(0,G.jsxs)("div",{className:"text-xs text-gray-500 truncate",children:[A.members," members"]})]}),A.isPrivate&&(0,G.jsx)(ye,{variant:"outline",className:"text-xs",children:"Private"})]})},A.id))})})]}),(0,G.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,G.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-3",children:[ue(M.type),(0,G.jsxs)("div",{children:[(0,G.jsxs)("h3",{className:"font-semibold text-gray-900",children:["#",M.name]}),(0,G.jsx)("p",{className:"text-sm text-gray-500",children:M.description})]})]}),(0,G.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,G.jsx)(ye,{variant:"outline",className:"text-green-700 border-green-200",children:h?"Connected":"Disconnected"}),(0,G.jsx)(T,{variant:"ghost",size:"sm",children:(0,G.jsx)(Xm,{className:"w-4 h-4"})}),(0,G.jsx)(T,{variant:"ghost",size:"sm",children:(0,G.jsx)(Es,{className:"w-4 h-4"})}),(0,G.jsx)(T,{variant:"ghost",size:"sm",children:(0,G.jsx)(Oa,{className:"w-4 h-4"})})]})]})}),(0,G.jsx)(_o,{className:"flex-1 p-4",children:(0,G.jsxs)("div",{className:"space-y-4",children:[F.map(A=>(0,G.jsxs)("div",{className:"group",children:[A.replyTo&&(0,G.jsxs)("div",{className:"ml-12 mb-1 text-xs text-gray-500 flex items-center space-x-1",children:[(0,G.jsx)(kc,{className:"w-3 h-3"}),(0,G.jsx)("span",{children:"Replying to previous message"})]}),(0,G.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,G.jsxs)(ut,{className:"w-8 h-8",children:[(0,G.jsx)(jt,{src:A.sender.avatar}),(0,G.jsx)(bt,{className:"text-xs",children:A.sender.name.split(" ").map(k=>k[0]).join("").toUpperCase()})]}),(0,G.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,G.jsx)("span",{className:"font-medium text-sm text-gray-900",children:A.sender.name}),(0,G.jsx)("span",{className:"text-xs text-gray-500",children:Cn(A.timestamp)}),A.editedAt&&(0,G.jsx)(ye,{variant:"outline",className:"text-xs",children:"edited"})]}),A.type==="text"&&(0,G.jsx)("p",{className:"text-sm text-gray-900",children:A.content}),A.attachments&&A.attachments.length>0&&(0,G.jsx)("div",{className:"mt-2",children:(0,G.jsx)(Eb,{attachments:A.attachments,compact:!0,canDelete:!1})}),A.type==="task_reference"&&A.taskReference&&(0,G.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,G.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,G.jsx)(ye,{variant:"outline",className:"text-blue-700 border-blue-300",children:"Task"}),(0,G.jsx)("span",{className:"font-medium text-sm",children:A.taskReference.title}),(0,G.jsx)(ye,{variant:"outline",className:D("text-xs",A.taskReference.status==="completed"&&"text-green-700 border-green-300",A.taskReference.status==="in_progress"&&"text-blue-700 border-blue-300",A.taskReference.status==="todo"&&"text-gray-700 border-gray-300"),children:A.taskReference.status.replace("_"," ")})]}),(0,G.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:A.content})]}),A.reactions&&A.reactions.length>0&&(0,G.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[A.reactions.map((k,y)=>(0,G.jsxs)(T,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>ee(A.id,k.emoji),children:[k.emoji," ",k.count]},y)),(0,G.jsx)(T,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>d(!c),children:(0,G.jsx)(Cc,{className:"w-3 h-3"})})]})]}),(0,G.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center space-x-1",children:[(0,G.jsx)(T,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>s(A.id),children:(0,G.jsx)(kc,{className:"w-3 h-3"})}),(0,G.jsx)(T,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:(0,G.jsx)(Qm,{className:"w-3 h-3"})}),A.sender.id===v?.id&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(T,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:(0,G.jsx)(bn,{className:"w-3 h-3"})}),(0,G.jsx)(T,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:(0,G.jsx)(Hr,{className:"w-3 h-3"})})]})]})]})]},A.id)),(0,G.jsx)("div",{ref:m})]})}),(0,G.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[l&&(0,G.jsxs)("div",{className:"mb-2 p-2 bg-gray-50 rounded text-sm text-gray-600 flex items-center justify-between",children:[(0,G.jsx)("span",{children:"Replying to message..."}),(0,G.jsx)(T,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>s(null),children:"\xD7"})]}),(0,G.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,G.jsx)(T,{variant:"ghost",size:"sm",onClick:B,children:(0,G.jsx)(pi,{className:"w-4 h-4"})}),(0,G.jsx)("div",{className:"flex-1 relative",children:(0,G.jsx)(Ie,{ref:g,label:`Message #${M.name}`,value:a,onChange:A=>o(A.target.value),onKeyPress:le,disabled:!h})}),(0,G.jsx)(T,{variant:"ghost",size:"sm",onClick:()=>d(!c),children:(0,G.jsx)(Cc,{className:"w-4 h-4"})}),(0,G.jsx)(T,{onClick:j,disabled:!a.trim()||!h,size:"sm",children:(0,G.jsx)(Ns,{className:"w-4 h-4"})})]}),u&&M&&(0,G.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,G.jsx)("h4",{className:"text-sm font-medium",children:"Upload Attachments"}),(0,G.jsx)(T,{variant:"ghost",size:"sm",onClick:()=>p(!1),className:"h-6 w-6 p-0",children:"\xD7"})]}),(0,G.jsx)(Cb,{type:"chat",targetId:M.id,onUploadComplete:A=>{console.log("Chat attachments uploaded:",A),p(!1)},className:"mt-2"})]})]})]})]})}var La=w(z(),1);function _u(){let{isAuthenticated:e}=Ye(),{data:t=[],isLoading:r}=q.chat.getThreads.useQuery();return e?r?(0,La.jsx)(Rt,{children:(0,La.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,La.jsxs)("div",{className:"text-center",children:[(0,La.jsx)(Xe,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,La.jsx)("p",{className:"text-gray-600",children:"Loading chat..."})]})})}):(0,La.jsx)(Rt,{children:(0,La.jsx)("div",{className:"h-full",children:(0,La.jsx)(Au,{threads:t})})}):null}var Mu=w(X(),1);var Ce=w(z(),1);function Lu(){let{isAuthenticated:e,user:t}=Ye(),[r,a]=(0,Mu.useState)(""),[o,n]=(0,Mu.useState)("all"),{data:i=[],isLoading:l}=q.team.getAll.useQuery(),{data:s=[]}=q.workspace.getAll.useQuery();if(!e)return null;if(l)return(0,Ce.jsx)(Rt,{children:(0,Ce.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Ce.jsxs)("div",{className:"text-center",children:[(0,Ce.jsx)(Xe,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,Ce.jsx)("p",{className:"text-gray-600",children:"Loading teams..."})]})})});let d=i.flatMap(g=>g.members?.map(m=>({...m,teamName:g.name,teamId:g.id}))||[]).filter(g=>{let m=g.user?.name?.toLowerCase().includes(r.toLowerCase())||g.user?.email?.toLowerCase().includes(r.toLowerCase()),f=o==="all"||g.teamId===o;return m&&f}),u=g=>{let m=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500","bg-indigo-500"];return m[g%m.length]},p=g=>{let m=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500","bg-indigo-500"];return m[g%m.length]};return(0,Ce.jsx)(Rt,{children:(0,Ce.jsxs)("div",{className:"h-full flex flex-col",children:[(0,Ce.jsxs)("div",{className:"bg-white border-b border-gray-200 p-6",children:[(0,Ce.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Teams"}),(0,Ce.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your team members and collaboration"})]}),(0,Ce.jsxs)("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Ce.jsx)(je,{className:"w-4 h-4 mr-2"}),"Add Member"]})]}),(0,Ce.jsxs)("div",{className:"mt-4 flex items-center space-x-4",children:[(0,Ce.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,Ce.jsx)($t,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400 z-20"}),(0,Ce.jsx)(Ie,{id:"search",type:"text",label:"Search team members...",value:r,onChange:g=>a(g.target.value),className:"pl-10"})]}),(0,Ce.jsxs)("select",{value:o,onChange:g=>n(g.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Ce.jsx)("option",{value:"all",children:"All Teams"}),i.map(g=>(0,Ce.jsx)("option",{value:g.id,children:g.name},g.id))]})]})]}),(0,Ce.jsxs)("div",{className:"flex-1 p-6 overflow-auto",children:[(0,Ce.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:i.map((g,m)=>(0,Ce.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Ce.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ce.jsx)("div",{className:`w-12 h-12 rounded-lg ${u(m)} flex items-center justify-center`,children:(0,Ce.jsx)("span",{className:"text-white font-bold text-lg",children:g.name.split(" ").map(f=>f[0]).join("")})}),(0,Ce.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,Ce.jsx)(li,{className:"w-4 h-4"})})]}),(0,Ce.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:g.name}),(0,Ce.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:g.description||"No description available"}),(0,Ce.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Ce.jsxs)("span",{className:"text-gray-500",children:[g.members?.length||0," Members"]}),(0,Ce.jsxs)("span",{className:"text-gray-500",children:[g.projects?.length||0," Projects"]})]})]},g.id))}),(0,Ce.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,Ce.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Ce.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Team Members"})}),(0,Ce.jsx)("div",{className:"divide-y divide-gray-200",children:d.length===0?(0,Ce.jsx)("div",{className:"p-6 text-center text-gray-500",children:"No team members found matching your criteria."}):d.map((g,m)=>(0,Ce.jsx)("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:(0,Ce.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ce.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ce.jsxs)("div",{className:`w-12 h-12 rounded-full ${p(m)} flex items-center justify-center relative`,children:[g.user?.avatar?(0,Ce.jsx)("img",{src:g.user.avatar,alt:g.user.name,className:"w-full h-full rounded-full object-cover"}):(0,Ce.jsx)("span",{className:"text-white font-medium",children:g.user?.name?.split(" ").map(f=>f[0]).join("").slice(0,2)||"U"}),(0,Ce.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white bg-green-500"})]}),(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("h3",{className:"font-semibold text-gray-900",children:g.user?.name||"Unknown User"}),(0,Ce.jsx)("p",{className:"text-gray-600 text-sm",children:g.role?.charAt(0).toUpperCase()+g.role?.slice(1)||"Member"}),(0,Ce.jsx)("div",{className:"flex items-center space-x-4 mt-1",children:(0,Ce.jsxs)("div",{className:"flex items-center text-gray-500 text-sm",children:[(0,Ce.jsx)(jr,{className:"w-3 h-3 mr-1"}),g.user?.email||"No email"]})})]})]}),(0,Ce.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ce.jsx)("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:g.teamName}),(0,Ce.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,Ce.jsx)(li,{className:"w-4 h-4"})})]})]})},`${g.teamId}-${g.user?.id}`))})]})]})]})})}var Iu=w(X(),1);var se=w(z(),1);function Ou(){let{isAuthenticated:e}=Ye(),[t,r]=(0,Iu.useState)(""),[a,o]=(0,Iu.useState)("all"),{data:n=[],isLoading:i}=q.project.getAll.useQuery(),{data:l=[]}=q.team.getAll.useQuery();if(!e)return null;if(i)return(0,se.jsx)(Rt,{children:(0,se.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,se.jsxs)("div",{className:"text-center",children:[(0,se.jsx)(Xe,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,se.jsx)("p",{className:"text-gray-600",children:"Loading projects..."})]})})});let s=n.filter(p=>{let g=p.name.toLowerCase().includes(t.toLowerCase())||p.description?.toLowerCase().includes(t.toLowerCase()),m=a==="all"||p.status.toLowerCase()===a.toLowerCase();return g&&m}),c=p=>{switch(p.toLowerCase()){case"active":return"bg-green-100 text-green-800";case"planning":return"bg-orange-100 text-orange-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}},d=p=>{let g=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500","bg-indigo-500"];return g[p%g.length]},u=p=>new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return(0,se.jsx)(Rt,{children:(0,se.jsxs)("div",{className:"h-full flex flex-col",children:[(0,se.jsxs)("div",{className:"bg-white border-b border-gray-200 p-6",children:[(0,se.jsxs)("div",{className:"flex items-center justify-between",children:[(0,se.jsxs)("div",{children:[(0,se.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Projects"}),(0,se.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage and track all your projects"})]}),(0,se.jsxs)("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,se.jsx)(je,{className:"w-4 h-4 mr-2"}),"New Project"]})]}),(0,se.jsxs)("div",{className:"mt-4 flex items-center space-x-4",children:[(0,se.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,se.jsx)($t,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400 z-20"}),(0,se.jsx)(Ie,{id:"search",type:"text",label:"Search projects...",value:t,onChange:p=>r(p.target.value),className:"pl-10"})]}),(0,se.jsxs)("select",{value:a,onChange:p=>o(p.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,se.jsx)("option",{value:"all",children:"All Status"}),(0,se.jsx)("option",{value:"active",children:"Active"}),(0,se.jsx)("option",{value:"planning",children:"Planning"}),(0,se.jsx)("option",{value:"completed",children:"Completed"})]})]})]}),(0,se.jsxs)("div",{className:"flex-1 p-6 overflow-auto",children:[(0,se.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,se.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,se.jsxs)("div",{className:"flex items-center justify-between",children:[(0,se.jsxs)("div",{children:[(0,se.jsx)("p",{className:"text-gray-600 text-sm",children:"Total Projects"}),(0,se.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.length})]}),(0,se.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,se.jsx)(sn,{className:"w-6 h-6 text-blue-600"})})]})}),(0,se.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,se.jsxs)("div",{className:"flex items-center justify-between",children:[(0,se.jsxs)("div",{children:[(0,se.jsx)("p",{className:"text-gray-600 text-sm",children:"Active Projects"}),(0,se.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(p=>p.status.toLowerCase()==="active").length})]}),(0,se.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,se.jsx)(sn,{className:"w-6 h-6 text-green-600"})})]})}),(0,se.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,se.jsxs)("div",{className:"flex items-center justify-between",children:[(0,se.jsxs)("div",{children:[(0,se.jsx)("p",{className:"text-gray-600 text-sm",children:"Completed"}),(0,se.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(p=>p.status.toLowerCase()==="completed").length})]}),(0,se.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,se.jsx)(sn,{className:"w-6 h-6 text-gray-600"})})]})}),(0,se.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,se.jsxs)("div",{className:"flex items-center justify-between",children:[(0,se.jsxs)("div",{children:[(0,se.jsx)("p",{className:"text-gray-600 text-sm",children:"Team Members"}),(0,se.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:l.reduce((p,g)=>p+(g.members?.length||0),0)})]}),(0,se.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,se.jsx)(xt,{className:"w-6 h-6 text-purple-600"})})]})})]}),(0,se.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.length===0?(0,se.jsx)("div",{className:"col-span-full text-center py-12",children:(0,se.jsx)("p",{className:"text-gray-500",children:"No projects found matching your criteria."})}):s.map((p,g)=>(0,se.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[(0,se.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,se.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,se.jsx)("div",{className:`w-10 h-10 rounded-lg ${d(g)} flex items-center justify-center`,children:(0,se.jsx)("span",{className:"text-white font-bold text-sm",children:p.name.split(" ").map(m=>m[0]).join("").slice(0,2)})}),(0,se.jsxs)("div",{children:[(0,se.jsx)("h3",{className:"font-semibold text-gray-900",children:p.name}),(0,se.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c(p.status)}`,children:p.status.charAt(0).toUpperCase()+p.status.slice(1)})]})]}),(0,se.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,se.jsx)(li,{className:"w-4 h-4"})})]}),(0,se.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:p.description}),(0,se.jsxs)("div",{className:"flex items-center justify-between",children:[(0,se.jsx)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:(0,se.jsxs)("div",{className:"flex items-center",children:[(0,se.jsx)(Ae,{className:"w-4 h-4 mr-1"}),p.endDate?u(p.endDate):"No due date"]})}),(0,se.jsxs)("div",{className:"flex -space-x-1",children:[p.team?.members?.slice(0,3).map((m,f)=>(0,se.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-400 border-2 border-white flex items-center justify-center",children:(0,se.jsx)("span",{className:"text-white text-xs font-medium",children:m.user?.name?.split(" ").map(v=>v[0]).join("").slice(0,2)||"U"})},f))||(0,se.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-300 border-2 border-white flex items-center justify-center",children:(0,se.jsx)("span",{className:"text-gray-600 text-xs",children:"No team"})}),(p.team?.members?.length||0)>3&&(0,se.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-300 border-2 border-white flex items-center justify-center",children:(0,se.jsxs)("span",{className:"text-gray-600 text-xs",children:["+",(p.team?.members?.length||0)-3]})})]})]})]},p.id))})]})]})})}var he=w(z(),1);function Fu(){let e=[{label:"Tasks Completed",value:"147",color:"bg-green-100 text-green-800"},{label:"Projects Active",value:"8",color:"bg-blue-100 text-blue-800"},{label:"Team Members",value:"12",color:"bg-purple-100 text-purple-800"},{label:"Hours Logged",value:"284",color:"bg-orange-100 text-orange-800"}],t=[{id:1,action:"Completed task",target:"Birthday Cake Planning",time:"2 hours ago",color:"bg-green-500"},{id:2,action:"Added comment to",target:"New MVP Build",time:"4 hours ago",color:"bg-blue-500"},{id:3,action:"Created new project",target:"Website Redesign",time:"1 day ago",color:"bg-purple-500"},{id:4,action:"Assigned task to",target:"Blaine Cottrell",time:"2 days ago",color:"bg-orange-500"}];return(0,he.jsx)(Rt,{children:(0,he.jsx)("div",{className:"h-full overflow-auto",children:(0,he.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,he.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:(0,he.jsxs)("div",{className:"flex items-start justify-between",children:[(0,he.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,he.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,he.jsx)("span",{className:"text-white text-2xl font-bold",children:"LJ"})}),(0,he.jsxs)("div",{children:[(0,he.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Lisa Jackson"}),(0,he.jsx)("p",{className:"text-gray-600 text-lg",children:"Team Lead & Project Manager"}),(0,he.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-gray-500",children:[(0,he.jsxs)("div",{className:"flex items-center",children:[(0,he.jsx)(jr,{className:"w-4 h-4 mr-1"}),(0,he.jsx)("span",{className:"text-sm",children:"lisa.jackson@company.com"})]}),(0,he.jsxs)("div",{className:"flex items-center",children:[(0,he.jsx)(qm,{className:"w-4 h-4 mr-1"}),(0,he.jsx)("span",{className:"text-sm",children:"San Francisco, CA"})]}),(0,he.jsxs)("div",{className:"flex items-center",children:[(0,he.jsx)(Ae,{className:"w-4 h-4 mr-1"}),(0,he.jsx)("span",{className:"text-sm",children:"Joined March 2021"})]})]})]})]}),(0,he.jsxs)("button",{className:"flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,he.jsx)(Vm,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]})}),(0,he.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,he.jsxs)("div",{className:"lg:col-span-2",children:[(0,he.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:[(0,he.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Overview"}),(0,he.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.map((r,a)=>(0,he.jsxs)("div",{className:"text-center",children:[(0,he.jsx)("div",{className:`mx-auto w-16 h-16 rounded-full ${r.color} flex items-center justify-center mb-2`,children:(0,he.jsx)("span",{className:"text-xl font-bold",children:r.value})}),(0,he.jsx)("p",{className:"text-sm text-gray-600",children:r.label})]},a))})]}),(0,he.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,he.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,he.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),(0,he.jsx)(sn,{className:"w-5 h-5 text-gray-400"})]}),(0,he.jsx)("div",{className:"space-y-4",children:t.map(r=>(0,he.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,he.jsx)("div",{className:`w-8 h-8 rounded-full ${r.color} flex items-center justify-center`,children:(0,he.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})}),(0,he.jsxs)("div",{className:"flex-1",children:[(0,he.jsxs)("p",{className:"text-sm text-gray-900",children:[r.action," ",(0,he.jsx)("span",{className:"font-medium",children:r.target})]}),(0,he.jsx)("p",{className:"text-xs text-gray-500",children:r.time})]})]},r.id))})]})]}),(0,he.jsxs)("div",{className:"space-y-6",children:[(0,he.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,he.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Skills"}),(0,he.jsx)("div",{className:"space-y-3",children:[{name:"Project Management",level:95},{name:"Team Leadership",level:90},{name:"Strategic Planning",level:85},{name:"Communication",level:92}].map((r,a)=>(0,he.jsxs)("div",{children:[(0,he.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,he.jsx)("span",{className:"text-sm font-medium text-gray-700",children:r.name}),(0,he.jsxs)("span",{className:"text-sm text-gray-500",children:[r.level,"%"]})]}),(0,he.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,he.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${r.level}%`}})})]},a))})]}),(0,he.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,he.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Projects"}),(0,he.jsx)("div",{className:"space-y-3",children:[{name:"Birthday Event Planning",progress:75,color:"bg-blue-500"},{name:"New MVP Development",progress:45,color:"bg-green-500"},{name:"Website Redesign",progress:20,color:"bg-purple-500"}].map((r,a)=>(0,he.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,he.jsx)("div",{className:`w-3 h-3 rounded-full ${r.color}`}),(0,he.jsxs)("div",{className:"flex-1",children:[(0,he.jsx)("p",{className:"text-sm font-medium text-gray-900",children:r.name}),(0,he.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1 mt-1",children:(0,he.jsx)("div",{className:`h-1 rounded-full ${r.color}`,style:{width:`${r.progress}%`}})})]}),(0,he.jsxs)("span",{className:"text-xs text-gray-500",children:[r.progress,"%"]})]},a))})]})]})]})]})})})}var Ir=w(X(),1);var Z=w(z(),1);function zu(){let[e,t]=(0,Ir.useState)(null),[r,a]=(0,Ir.useState)(null),[o,n]=(0,Ir.useState)([]),[i,l]=(0,Ir.useState)({name:"",avatar:"",timezone:"",dateFormat:"",language:""}),[s,c]=(0,Ir.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[d,u]=(0,Ir.useState)(!1),[p,g]=(0,Ir.useState)(!1),[m,f]=(0,Ir.useState)(!1),[v,h]=(0,Ir.useState)(!1),N=q.user.me.useQuery(),C=q.user.getPreferences.useQuery(),F=q.user.getActiveSessions.useQuery(),M=q.user.updateProfile.useMutation(),j=q.user.updatePassword.useMutation(),B=q.user.updatePreferences.useMutation(),le=q.user.exportData.useMutation(),ee=q.user.revokeSession.useMutation();(0,Ir.useEffect)(()=>{N.data&&(t(N.data),l({name:N.data.name||"",avatar:N.data.avatar||"",timezone:N.data.timezone||"UTC",dateFormat:N.data.dateFormat||"MM/DD/YYYY",language:N.data.language||"en"}))},[N.data]),(0,Ir.useEffect)(()=>{C.data&&a(C.data)},[C.data]),(0,Ir.useEffect)(()=>{F.data&&n(F.data)},[F.data]);let ne=async x=>{x.preventDefault();try{await M.mutateAsync(i),tt.success("Profile updated successfully"),N.refetch()}catch{tt.error("Failed to update profile")}},ue=async x=>{if(x.preventDefault(),s.newPassword!==s.confirmPassword){tt.error("New passwords do not match");return}try{await j.mutateAsync({currentPassword:s.currentPassword,newPassword:s.newPassword}),tt.success("Password updated successfully"),c({currentPassword:"",newPassword:"",confirmPassword:""})}catch(S){tt.error(S.message||"Failed to update password")}},A=async(x,S)=>{try{await B.mutateAsync({[x]:S}),a({...r,[x]:S}),tt.success("Preference updated")}catch{tt.error("Failed to update preference")}},k=async()=>{try{let x=await le.mutateAsync(),S=JSON.stringify(x.data,null,2),P="data:application/json;charset=utf-8,"+encodeURIComponent(S),Y=`krushr-data-${new Date().toISOString().split("T")[0]}.json`,be=document.createElement("a");be.setAttribute("href",P),be.setAttribute("download",Y),document.body.appendChild(be),be.click(),document.body.removeChild(be),tt.success("Data exported successfully")}catch{tt.error("Failed to export data")}},y=async x=>{try{await ee.mutateAsync({sessionId:x}),tt.success("Session revoked"),F.refetch()}catch{tt.error("Failed to revoke session")}};if(N.isLoading||C.isLoading)return(0,Z.jsx)(Rt,{children:(0,Z.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,Z.jsxs)("div",{className:"text-center",children:[(0,Z.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-krushr-coral-red mx-auto mb-4"}),(0,Z.jsx)("p",{className:"text-gray-600",children:"Loading settings..."})]})})});let E=[{title:"Profile Settings",icon:lr,settings:[{name:"Personal Information",description:"Update your profile details",type:"link",action:()=>g(!0)},{name:"Change Password",description:"Update your account password",type:"link",action:()=>f(!0)},{name:"Active Sessions",description:"Manage your active sessions",type:"link",action:()=>h(!0)}]},{title:"Notifications",icon:gr,settings:[{name:"Desktop Notifications",description:"Get notified on your desktop",type:"toggle",enabled:r?.desktopNotifications??!0,onChange:x=>A("desktopNotifications",x)},{name:"Email Notifications",description:"Receive notifications via email",type:"toggle",enabled:r?.emailNotifications??!0,onChange:x=>A("emailNotifications",x)},{name:"Task Assignments",description:"Notify me about task assignments",type:"toggle",enabled:r?.notifyTaskAssignments??!0,onChange:x=>A("notifyTaskAssignments",x)},{name:"Comments & Mentions",description:"Notify me about comments and mentions",type:"toggle",enabled:r?.notifyCommentsMentions??!0,onChange:x=>A("notifyCommentsMentions",x)},{name:"Team Invitations",description:"Notify me about team invitations",type:"toggle",enabled:r?.notifyTeamInvitations??!0,onChange:x=>A("notifyTeamInvitations",x)},{name:"Project Deadlines",description:"Notify me about project deadlines",type:"toggle",enabled:r?.notifyProjectDeadlines??!0,onChange:x=>A("notifyProjectDeadlines",x)},{name:"File Uploads",description:"Notify me about file uploads",type:"toggle",enabled:r?.notifyFileUploads??!1,onChange:x=>A("notifyFileUploads",x)}]},{title:"Appearance",icon:hn,settings:[{name:"Theme",description:"Choose your preferred theme",type:"select",options:["light","dark","system"],value:r?.theme??"system",onChange:x=>A("theme",x)},{name:"Color Scheme",description:"Customize your color preferences",type:"select",options:["blue","green","purple","orange"],value:r?.colorScheme??"blue",onChange:x=>A("colorScheme",x)},{name:"Compact Mode",description:"Use a more compact interface",type:"toggle",enabled:r?.compactMode??!1,onChange:x=>A("compactMode",x)},{name:"Task Completion Celebrations",description:"Show confetti and sound when tasks are completed",type:"toggle",enabled:Uf(),onChange:x=>{Wf(x),tt.success(`Celebrations ${x?"enabled":"disabled"}`)}}]},{title:"Security",icon:Cs,settings:[{name:"Two-Factor Authentication",description:"Add an extra layer of security (Coming Soon)",type:"toggle",enabled:!1,disabled:!0},{name:"Session Management",description:"Manage your active sessions",type:"link",action:()=>h(!0)},{name:"Change Password",description:"Update your account password",type:"link",action:()=>f(!0)}]},{title:"Language & Region",icon:Ym,settings:[{name:"Language",description:"Choose your preferred language",type:"select",options:["en","es","fr","de"],optionLabels:["English","Spanish","French","German"],value:e?.language??"en",onChange:x=>l({...i,language:x})},{name:"Timezone",description:"Set your local timezone",type:"select",options:["UTC-8","UTC-5","UTC+0","UTC+1"],optionLabels:["UTC-8 (PST)","UTC-5 (EST)","UTC+0 (GMT)","UTC+1 (CET)"],value:e?.timezone??"UTC",onChange:x=>l({...i,timezone:x})},{name:"Date Format",description:"Choose how dates are displayed",type:"select",options:["MM/DD/YYYY","DD/MM/YYYY","YYYY-MM-DD"],value:e?.dateFormat??"MM/DD/YYYY",onChange:x=>l({...i,dateFormat:x})}]}];return(0,Z.jsx)(Rt,{children:(0,Z.jsxs)("div",{className:"h-full overflow-auto",children:[(0,Z.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,Z.jsxs)("div",{className:"mb-8",children:[(0,Z.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),(0,Z.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your account settings and preferences"})]}),(0,Z.jsx)("div",{className:"space-y-8",children:E.map((x,S)=>(0,Z.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,Z.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Z.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Z.jsx)("div",{className:"w-10 h-10 bg-red-50 rounded-lg flex items-center justify-center",children:(0,Z.jsx)(x.icon,{className:"w-5 h-5 text-krushr-coral-red"})}),(0,Z.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:x.title})]})}),(0,Z.jsx)("div",{className:"divide-y divide-gray-200",children:x.settings.map((P,Y)=>(0,Z.jsxs)("div",{className:"p-6 flex items-center justify-between",children:[(0,Z.jsxs)("div",{className:"flex-1",children:[(0,Z.jsx)("h3",{className:"font-medium text-gray-900",children:P.name}),(0,Z.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:P.description})]}),(0,Z.jsxs)("div",{className:"ml-6",children:[P.type==="toggle"&&(0,Z.jsx)("button",{disabled:P.disabled,onClick:()=>P.onChange&&P.onChange(!P.enabled),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${P.enabled?"bg-krushr-coral-red":"bg-gray-200"} ${P.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:(0,Z.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${P.enabled?"translate-x-6":"translate-x-1"}`})}),P.type==="select"&&P.options&&(0,Z.jsx)("select",{value:P.value||P.options[0],onChange:be=>P.onChange&&P.onChange(be.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-krushr-coral-red focus:border-krushr-coral-red",children:P.options.map((be,K)=>(0,Z.jsx)("option",{value:be,children:P.optionLabels?P.optionLabels[K]:be.charAt(0).toUpperCase()+be.slice(1)},K))}),P.type==="link"&&(0,Z.jsx)("button",{onClick:()=>P.action&&P.action(),className:"text-krushr-coral-red hover:text-krushr-coral-red/80 font-medium",children:"Configure"})]})]},Y))})]},S))}),(0,Z.jsxs)("div",{className:"mt-8 bg-white rounded-lg border border-red-200",children:[(0,Z.jsxs)("div",{className:"p-6 border-b border-red-200",children:[(0,Z.jsx)("h2",{className:"text-lg font-semibold text-red-900",children:"Danger Zone"}),(0,Z.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"These actions are irreversible"})]}),(0,Z.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)("h3",{className:"font-medium text-gray-900",children:"Export Data"}),(0,Z.jsx)("p",{className:"text-sm text-gray-600",children:"Download a copy of all your data"})]}),(0,Z.jsxs)("button",{onClick:k,disabled:le.isLoading,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[(0,Z.jsx)(br,{className:"w-4 h-4"}),(0,Z.jsx)("span",{children:le.isLoading?"Exporting...":"Export"})]})]}),(0,Z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)("h3",{className:"font-medium text-gray-900",children:"Delete Account"}),(0,Z.jsx)("p",{className:"text-sm text-gray-600",children:"Permanently delete your account and all data"})]}),(0,Z.jsx)("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Account"})]})]})]})]}),p&&(0,Z.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Z.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,Z.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Update Profile"}),(0,Z.jsxs)("form",{onSubmit:ne,className:"space-y-4",children:[(0,Z.jsx)("div",{children:(0,Z.jsx)(Ie,{type:"text",value:i.name,onChange:x=>l({...i,name:x.target.value}),label:"Name",required:!0})}),(0,Z.jsx)("div",{children:(0,Z.jsx)(Ie,{type:"url",value:i.avatar,onChange:x=>l({...i,avatar:x.target.value}),label:"Avatar URL (Optional)"})}),(0,Z.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Z.jsx)("button",{type:"submit",disabled:M.isLoading,className:"flex-1 bg-krushr-coral-red text-white py-2 px-4 rounded-lg hover:bg-krushr-coral-red/90 disabled:opacity-50",children:M.isLoading?"Saving...":"Save Changes"}),(0,Z.jsx)("button",{type:"button",onClick:()=>g(!1),className:"flex-1 bg-gray-200 text-gray-900 py-2 px-4 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]})]})}),m&&(0,Z.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Z.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,Z.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Change Password"}),(0,Z.jsxs)("form",{onSubmit:ue,className:"space-y-4",children:[(0,Z.jsx)("div",{children:(0,Z.jsxs)("div",{className:"relative",children:[(0,Z.jsx)(Ie,{type:d?"text":"password",value:s.currentPassword,onChange:x=>c({...s,currentPassword:x.target.value}),label:"Current Password",className:"pr-10",required:!0}),(0,Z.jsx)("button",{type:"button",onClick:()=>u(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center z-20",children:d?(0,Z.jsx)(Um,{className:"h-4 w-4 text-gray-400"}):(0,Z.jsx)(un,{className:"h-4 w-4 text-gray-400"})})]})}),(0,Z.jsx)("div",{children:(0,Z.jsx)(Ie,{type:d?"text":"password",value:s.newPassword,onChange:x=>c({...s,newPassword:x.target.value}),label:"New Password",minLength:6,required:!0})}),(0,Z.jsx)("div",{children:(0,Z.jsx)(Ie,{type:d?"text":"password",value:s.confirmPassword,onChange:x=>c({...s,confirmPassword:x.target.value}),label:"Confirm New Password",minLength:6,required:!0})}),(0,Z.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Z.jsx)("button",{type:"submit",disabled:j.isLoading,className:"flex-1 bg-krushr-coral-red text-white py-2 px-4 rounded-lg hover:bg-krushr-coral-red/90 disabled:opacity-50",children:j.isLoading?"Updating...":"Update Password"}),(0,Z.jsx)("button",{type:"button",onClick:()=>{f(!1),c({currentPassword:"",newPassword:"",confirmPassword:""})},className:"flex-1 bg-gray-200 text-gray-900 py-2 px-4 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]})]})}),v&&(0,Z.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Z.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6",children:[(0,Z.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Active Sessions"}),(0,Z.jsxs)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[o.map(x=>(0,Z.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,Z.jsxs)("div",{className:"flex-1",children:[(0,Z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Z.jsx)("p",{className:"font-medium",children:x.isCurrent?"Current Session":"Session"}),x.isCurrent&&(0,Z.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:"Current"})]}),(0,Z.jsxs)("p",{className:"text-sm text-gray-600",children:["Created: ",new Date(x.createdAt).toLocaleString()]}),(0,Z.jsxs)("p",{className:"text-sm text-gray-600",children:["Expires: ",new Date(x.expiresAt).toLocaleString()]})]}),!x.isCurrent&&(0,Z.jsx)("button",{onClick:()=>y(x.id),className:"px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm font-medium",children:"Revoke"})]},x.id)),o.length===0&&(0,Z.jsx)("p",{className:"text-center text-gray-500 py-8",children:"No active sessions found"})]}),(0,Z.jsx)("div",{className:"flex justify-end pt-4",children:(0,Z.jsx)("button",{onClick:()=>h(!1),className:"bg-gray-200 text-gray-900 py-2 px-4 rounded-lg hover:bg-gray-300",children:"Close"})})]})})]})})}var xe=w(z(),1),L2=()=>{let e=[{name:"Free",description:"Ideal for individuals, or a quick test drive",price:"$0",period:"mo",features:["Unlimited customizable panels","Basic ChatGPT integration","Google & Outlook calendars","Up to 3 workspaces","Basic task management"],buttonText:"Start Free",buttonClass:"bg-gray-100 text-gray-900 hover:bg-gray-200",popular:!1},{name:"Lite",description:"Put your full productivity stack on one page",price:"$39",originalPrice:"$49",period:"mo",savings:"Save $10/mo",features:["250 Automations/month","1 Connected email & calendar account","Unlimited panels","Customizable layout","Unlimited contacts","Unlimited teams"],buttonText:"Start Now",buttonClass:"bg-figma-secondary text-white hover:bg-red-600",popular:!1},{name:"Full Suite",description:"Everything + your tailored o1 model, OpenAI's most advanced model",price:"$49",originalPrice:"$99",period:"mo",savings:"Save $50/mo",features:["ChatGPT o1 precise user style model","750 Automations/month","2 Connected email & calendar accounts","Unlimited panels","Customizable layout","Unlimited contacts","Unlimited teams","40% beta discount (through 2025)"],buttonText:"Start Now",buttonClass:"bg-figma-primary text-white hover:bg-blue-800",popular:!0}],t=[{icon:ma,title:"Latest AI Technology",description:"Powered by OpenAI's most advanced o1 model, delivering human-like reasoning for your workflows."},{icon:Cs,title:"Enterprise Security",description:"Bank-level encryption, SOC 2 compliance, and complete data privacy. Your information stays yours."},{icon:Ae,title:"Massive Time Savings",description:"Save 15+ hours per week by consolidating all your work tools into one intelligent workspace."}],r=[{question:"Can I upgrade or downgrade anytime?",answer:"Yes! You can change your plan at any time. Upgrades take effect immediately, and downgrades take effect at your next billing cycle."},{question:"What's included in the free trial?",answer:"The Free plan is completely free forever. The Full Suite plan includes a 14-day free trial with full access to all premium features."},{question:"How does the early bird pricing work?",answer:"The Full Suite includes a special beta discount. This pricing is designed to provide maximum value as we continue to enhance our AI capabilities."},{question:"Do you offer refunds?",answer:"Yes, we offer a 30-day money-back guarantee. If you're not satisfied, contact our support team for a full refund."}];return(0,xe.jsxs)("div",{className:"min-h-screen bg-white font-manrope",children:[(0,xe.jsx)("div",{className:"bg-figma-gray-bg-light py-20 px-4",children:(0,xe.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,xe.jsxs)("div",{className:"text-center mb-16",children:[(0,xe.jsx)("p",{className:"text-figma-primary font-medium mb-4",children:"2025 Pricing"}),(0,xe.jsx)("h1",{className:"text-5xl font-bold text-figma-black mb-6",children:"Choose Your AI Productivity Plan"}),(0,xe.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,xe.jsx)("p",{className:"text-lg text-figma-gray mb-0",children:"Start free and upgrade when you're ready to unlock the full power of AI-driven productivity. No hidden fees, cancel anytime."})})]}),(0,xe.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,xe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((a,o)=>(0,xe.jsxs)("div",{className:`relative bg-white rounded-2xl shadow-lg p-8 transition-all duration-300 hover:shadow-xl ${a.popular?"ring-2 ring-figma-primary transform scale-105 shadow-2xl":"hover:scale-102"}`,children:[a.popular&&(0,xe.jsx)("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 z-10",children:(0,xe.jsx)("div",{className:"bg-gradient-to-r from-figma-primary to-figma-secondary text-white px-6 py-2 rounded-full text-sm font-bold shadow-lg border-2 border-white",children:(0,xe.jsxs)("span",{className:"flex items-center gap-1",children:[(0,xe.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,xe.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),"Most Popular"]})})}),(0,xe.jsxs)("div",{className:"mb-6 pt-2",children:[(0,xe.jsx)("h3",{className:"text-2xl md:text-3xl font-bold text-figma-black mb-3 tracking-tight",children:a.name}),(0,xe.jsx)("p",{className:"text-figma-gray text-base md:text-lg leading-relaxed",children:a.description})]}),(0,xe.jsx)("div",{className:"border-t border-figma-gray-border pt-6 mb-6",children:(0,xe.jsx)("div",{className:"flex flex-col mb-6",children:a.features.map((n,i)=>(0,xe.jsxs)("div",{className:"flex items-start mb-3",children:[(0,xe.jsx)(Ja,{className:"w-5 h-5 text-figma-success mr-3 mt-0.5 flex-shrink-0"}),(0,xe.jsx)("span",{className:"text-figma-gray-dark font-medium",children:n})]},i))})}),(0,xe.jsxs)("div",{className:"mb-8",children:[(0,xe.jsxs)("div",{className:"flex items-baseline flex-wrap gap-2",children:[(0,xe.jsx)("span",{className:"text-4xl md:text-5xl font-bold text-figma-black tracking-tight",children:a.price}),(0,xe.jsxs)("span",{className:"text-figma-gray text-lg font-medium",children:["/",a.period]}),a.originalPrice&&(0,xe.jsxs)("span",{className:"text-figma-gray ml-1 line-through text-xl font-medium opacity-60",children:[a.originalPrice,"/mo"]})]}),a.savings&&(0,xe.jsx)("div",{className:"mt-2",children:(0,xe.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-green-100 text-green-800 border border-green-200",children:[(0,xe.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,xe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),a.savings]})})]}),(0,xe.jsxs)("button",{className:`w-full py-4 px-6 rounded-xl font-bold text-base md:text-lg transition-all duration-200 flex items-center justify-center shadow-md hover:shadow-lg transform hover:scale-105 ${a.buttonClass}`,onClick:()=>window.open("https://task.krushr.io/auth/register","_blank"),children:[a.buttonText,(0,xe.jsx)(si,{className:"w-5 h-5 ml-2 transition-transform group-hover:translate-x-1"})]})]},o))})})]})}),(0,xe.jsx)("div",{className:"py-20 px-4",children:(0,xe.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,xe.jsxs)("div",{className:"text-center mb-16",children:[(0,xe.jsx)("h2",{className:"text-4xl font-bold text-figma-black mb-8",children:"Why Choose Krushr in 2025?"}),(0,xe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map((a,o)=>(0,xe.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,xe.jsx)(a.icon,{className:"w-12 h-12 text-figma-primary mb-6"}),(0,xe.jsx)("h3",{className:"text-xl font-bold text-figma-black mb-4",children:a.title}),(0,xe.jsx)("p",{className:"text-figma-gray",children:a.description})]},o))})]})})}),(0,xe.jsx)("div",{className:"bg-figma-gray-bg-light py-20 px-4",children:(0,xe.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,xe.jsx)("div",{className:"text-center mb-16",children:(0,xe.jsx)("h2",{className:"text-4xl font-bold text-figma-black",children:"Frequently Asked Questions"})}),(0,xe.jsx)("div",{className:"space-y-6",children:r.map((a,o)=>(0,xe.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,xe.jsx)("h3",{className:"text-xl font-bold text-figma-black mb-3",children:a.question}),(0,xe.jsx)("p",{className:"text-figma-gray",children:a.answer})]},o))})]})}),(0,xe.jsx)("div",{className:"py-20 px-4",children:(0,xe.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,xe.jsx)("div",{className:"text-center",children:(0,xe.jsxs)("div",{className:"bg-gradient-to-br from-figma-primary to-figma-purple rounded-2xl p-16 text-white",children:[(0,xe.jsx)("h2",{className:"text-4xl font-bold mb-6",children:"Ready to 10x Your Productivity?"}),(0,xe.jsx)("p",{className:"text-xl mb-8 opacity-90",children:"Join thousands of professionals who've already transformed their workflow with Krushr's AI-powered platform."}),(0,xe.jsxs)("button",{className:"bg-white text-figma-primary px-8 py-4 rounded-lg font-semibold text-lg hover:bg-gray-100 transition-colors inline-flex items-center",onClick:()=>window.open("https://task.krushr.io/auth/register","_blank"),children:["Start Free Today",(0,xe.jsx)(si,{className:"w-5 h-5 ml-2"})]})]})})})})]})},Pb=L2;var o0=w(X(),1);var zt=w(X(),1),Zo=w(Oy(),1);var At=w(X(),1);var oe=w(z(),1),BC=(0,At.lazy)(()=>import("/chunks/KanbanBoard-5UI5KJHJ.js")),UC=(0,At.lazy)(()=>import("/chunks/Chat-JTU6RVX5.js")),WC=(0,At.lazy)(()=>import("/chunks/NotesPanel-LTSTGT2S.js")),$C=(0,At.lazy)(()=>import("/chunks/NewCalendarPanel-IQ7RSKKU.js")),YC=(0,At.lazy)(()=>import("/chunks/Contacts-XECCVZXJ.js")),KC=(0,At.lazy)(()=>import("/chunks/WorkspaceAiChat-D2GKKC6L.js")),ti=()=>(0,oe.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,oe.jsx)(Xe,{className:"w-6 h-6 animate-spin text-krushr-primary"})}),sc=class extends At.default.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("Panel loading error:",t,r)}render(){return this.state.hasError?this.props.fallback||(0,oe.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,oe.jsxs)("div",{className:"text-center",children:[(0,oe.jsx)(pa,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,oe.jsx)("p",{className:"text-sm",children:"Failed to load panel"}),(0,oe.jsx)("p",{className:"text-xs mt-1",children:"Try refreshing the page"})]})}):this.props.children}};function Mp({panel:e,workspaceId:t,onRefresh:r,onFullscreen:a,onFocus:o}){let{toast:n}=Rn(),i=q.useUtils(),{focusMode:l,focusedPanelId:s,toggleFocusMode:c}=Tn(),[d,u]=(0,At.useState)(()=>new Set),[p,g]=(0,At.useState)(!1),[m,f]=(0,At.useState)(!1),[v,h]=(0,At.useState)(e.title);(0,At.useEffect)(()=>{m||h(e.title)},[e.title,m]);let N=q.panel.toggleMinimize.useMutation({onSuccess:()=>{i.panel.list.invalidate({workspaceId:t}),r?.(),setTimeout(()=>{window.dispatchEvent(new Event("resize"))},100)},onError:U=>{console.error("Minimize toggle failed:",U),n({title:"Error",description:"Failed to minimize/restore panel",variant:"destructive"})}}),C=q.panel.toggleLock.useMutation({onSuccess:()=>{i.panel.list.invalidate({workspaceId:t}),r?.()},onError:U=>{console.error("Lock toggle failed:",U),n({title:"Error",description:"Failed to lock/unlock panel",variant:"destructive"})}}),F=()=>{u(U=>{let $=new Set(U);return $.has(e.id)?$.delete(e.id):$.add(e.id),$})},M=()=>{u(U=>{let $=new Set(U);return $.delete(e.id),$})},j=(0,At.useMemo)(()=>d.has(e.id),[d,e.id]),B=q.panel.toggleFullscreen.useMutation({onSuccess:U=>{try{let $=typeof U.data=="string"?JSON.parse(U.data):U.data||{};i.panel.list.invalidate({workspaceId:t}),a?.(e.id,$.isFullscreen||!1),r?.(),setTimeout(()=>{i.panel.list.invalidate({workspaceId:t})},50)}catch($){console.error("Error parsing panel data:",$,U),i.panel.list.invalidate({workspaceId:t}),r?.()}},onError:U=>{console.error("Fullscreen toggle failed:",U),n({title:"Error",description:"Failed to toggle fullscreen mode",variant:"destructive"})}}),le=q.panel.setFocus.useMutation({onSuccess:()=>{i.panel.list.invalidate({workspaceId:t}),r?.()}}),ee=q.panel.delete.useMutation({onSuccess:()=>{i.panel.list.invalidate({workspaceId:t}),r?.()},onError:U=>{console.error("Panel deletion failed:",U),n({title:"Error",description:"Failed to delete panel",variant:"destructive"})}}),ne=q.panel.update.useMutation({onSuccess:()=>{i.panel.list.invalidate({workspaceId:t}),r?.(),f(!1),n({title:"Success",description:"Panel title updated"})},onError:U=>{console.error("Update failed:",U),n({title:"Error",description:"Failed to update panel title",variant:"destructive"}),h(e.title),f(!1)}}),ue=U=>{switch(U){case"KANBAN":return(0,oe.jsx)(Fa,{className:"w-4 h-4 text-krushr-coral-red"});case"CHAT":return(0,oe.jsx)(Wt,{className:"w-4 h-4 text-krushr-coral-red"});case"AI_CHAT":return(0,oe.jsx)(ps,{className:"w-4 h-4 text-krushr-coral-red"});case"CALENDAR":return(0,oe.jsx)(Ae,{className:"w-4 h-4 text-krushr-coral-red"});case"NOTES":return(0,oe.jsx)(Sa,{className:"w-4 h-4 text-krushr-coral-red"});case"EMAIL":return(0,oe.jsx)(jr,{className:"w-4 h-4 text-krushr-coral-red"});case"CONTACTS":return(0,oe.jsx)(xt,{className:"w-4 h-4 text-krushr-coral-red"});default:return(0,oe.jsx)(yc,{className:"w-4 h-4 text-krushr-coral-red"})}},A=()=>{if(e.is_minimized)return null;switch(e.type){case"KANBAN":let U=e.data?.kanbanId;return U?(0,oe.jsx)("div",{className:"h-full",children:(0,oe.jsx)(At.Suspense,{fallback:(0,oe.jsx)(ti,{}),children:(0,oe.jsx)(BC,{kanban:{id:U,workspaceId:t},className:"h-full"})})}):(0,oe.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,oe.jsxs)("div",{className:"text-center",children:[(0,oe.jsx)(ms,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,oe.jsx)("p",{className:"text-sm",children:"No Kanban board selected"}),(0,oe.jsx)("p",{className:"text-xs mt-1",children:"Create a Kanban board first, then edit this panel"})]})});case"CHAT":let $=e.data?.chatId;return(0,oe.jsx)(sc,{children:(0,oe.jsx)(At.Suspense,{fallback:(0,oe.jsx)(ti,{}),children:(0,oe.jsx)(UC,{threadId:$,className:"h-full"})})});case"AI_CHAT":return(0,oe.jsx)(sc,{children:(0,oe.jsx)(At.Suspense,{fallback:(0,oe.jsx)(ti,{}),children:(0,oe.jsx)(KC,{workspaceId:t,className:"h-full"})})});case"CALENDAR":return(0,oe.jsx)(At.Suspense,{fallback:(0,oe.jsx)(ti,{}),children:(0,oe.jsx)($C,{workspaceId:t,className:"h-full"})});case"NOTES":return(0,oe.jsx)(At.Suspense,{fallback:(0,oe.jsx)(ti,{}),children:(0,oe.jsx)(WC,{workspaceId:t,className:"h-full"})});case"EMAIL":return(0,oe.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,oe.jsxs)("div",{className:"text-center",children:[(0,oe.jsx)(jr,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,oe.jsx)("p",{className:"text-sm",children:"Email component coming soon"})]})});case"CONTACTS":return(0,oe.jsx)(At.Suspense,{fallback:(0,oe.jsx)(ti,{}),children:(0,oe.jsx)(YC,{workspaceId:t,className:"h-full"})});default:return(0,oe.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,oe.jsxs)("div",{className:"text-center",children:[(0,oe.jsx)(yc,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,oe.jsxs)("p",{className:"text-sm",children:["Unknown panel type: ",e.type]})]})})}},k=()=>{N.mutate({id:e.id})},y=()=>{C.mutate({id:e.id})},E=()=>{B.mutate({id:e.id})},x=()=>{confirm(`Delete panel "${e.title}"?`)&&ee.mutate({id:e.id})},S=U=>{U.stopPropagation(),e.is_locked||f(!0)},P=U=>{if(j)return;let $=U.target;$.tagName==="INPUT"||$.tagName==="TEXTAREA"||$.closest("input")||$.closest("textarea")||(le.mutate({id:e.id,focused:!0}),o?.(e.id))},Y=U=>{let $=U.target;if($.closest(".panel-drag-handle"))U.stopPropagation();else if($.closest(".panel-content"))return},be=U=>{U.target.closest(".panel-drag-handle")&&U.stopPropagation()},K=U=>{U.target.closest(".panel-drag-handle")&&U.stopPropagation()},_=()=>{let U=v.trim();U&&U!==e.title?ne.mutate({id:e.id,title:U}):(f(!1),h(e.title))},re=U=>{U.key==="Enter"?(U.preventDefault(),_()):U.key==="Escape"&&(f(!1),h(e.title))},Q=()=>{_()},J=(0,At.useMemo)(()=>{try{return typeof e.data=="string"?JSON.parse(e.data):e.data||{}}catch{return{}}},[e.data]),b=J?.isFullscreen||!1,O=J?.isFocused||!1;return(0,oe.jsxs)(Pe,{className:D("panel-card flex flex-col",e.is_minimized?"h-auto":"h-full",e.is_locked&&"border-amber-200 bg-amber-50",b&&"fixed inset-0 z-[9999] m-0 rounded-none shadow-2xl bg-white"),onClick:P,onTouchStart:Y,onTouchMove:be,onTouchEnd:K,children:[(0,oe.jsxs)(st,{className:D("panel-drag-handle flex-shrink-0 cursor-move","flex flex-row items-center space-y-0 p-0 px-3 py-1.5",e.is_locked&&"cursor-not-allowed"),style:{justifyContent:"flex-start"},children:[(0,oe.jsxs)("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[(0,oe.jsx)("div",{className:"text-krushr-coral-red",children:ue(e.type)}),m?(0,oe.jsx)(Vr,{value:v,onChange:U=>h(U.target.value),onKeyDown:re,onBlur:Q,className:"h-6 px-1 py-0 text-sm font-medium border-krushr-primary focus:border-krushr-primary focus:ring-1 focus:ring-krushr-primary",autoFocus:!0,onClick:U=>U.stopPropagation()}):(0,oe.jsx)("h3",{className:D("font-medium text-sm truncate",!e.is_locked&&"cursor-pointer hover:text-krushr-primary transition-colors"),onClick:S,title:e.is_locked?"Panel is locked":"Click to edit title",children:e.title}),e.is_locked&&(0,oe.jsx)(ea,{className:"w-3 h-3 text-amber-600 flex-shrink-0"})]}),(0,oe.jsxs)("div",{className:"flex items-center",style:{marginLeft:"auto",gap:"2px"},children:[e.type==="KANBAN"&&(0,oe.jsxs)(oe.Fragment,{children:[(0,oe.jsx)(T,{size:"sm",variant:"ghost",className:"w-5 h-5 p-0 hover:bg-gray-100 flex-shrink-0",title:"Toggle tools",onClick:U=>{U.stopPropagation();let $=document.querySelector("[data-kanban-toolbar-toggle]");$&&$.click()},children:(0,oe.jsx)(yr,{className:"w-2.5 h-2.5"})}),(0,oe.jsx)(T,{size:"sm",variant:"ghost",className:"w-5 h-5 p-0 hover:bg-gray-100 flex-shrink-0",title:"Toggle tools",onClick:U=>{U.stopPropagation();let $=document.querySelector("[data-kanban-toolbar-toggle]");$&&$.click()},children:(0,oe.jsx)(Oa,{className:"w-2.5 h-2.5"})})]}),(0,oe.jsx)(T,{size:"sm",variant:"ghost",className:D("w-5 h-5 p-0 hover:bg-gray-100 flex-shrink-0",l&&s===e.id&&"bg-krushr-primary/10 text-krushr-primary"),onClick:()=>c(e.id),title:l&&s===e.id?"Exit focus mode":"Focus on this panel",children:(0,oe.jsx)(vs,{className:"w-2.5 h-2.5"})}),(0,oe.jsx)(T,{size:"sm",variant:"ghost",className:"w-5 h-5 p-0 hover:bg-gray-100 flex-shrink-0",onClick:y,disabled:C.isPending,title:e.is_locked?"Unlock panel":"Lock panel",children:C.isPending?(0,oe.jsx)("div",{className:"w-2.5 h-2.5 border border-gray-400 border-t-transparent rounded-full animate-spin"}):e.is_locked?(0,oe.jsx)(ws,{className:"w-2.5 h-2.5"}):(0,oe.jsx)(ea,{className:"w-2.5 h-2.5"})}),(0,oe.jsx)(T,{size:"sm",variant:"ghost",className:"w-5 h-5 p-0 hover:bg-blue-100 hover:text-blue-600 flex-shrink-0",onClick:E,disabled:B.isPending,title:b?"Exit fullscreen":"Fullscreen",children:B.isPending?(0,oe.jsx)("div",{className:"w-2.5 h-2.5 border border-gray-400 border-t-transparent rounded-full animate-spin"}):b?(0,oe.jsx)(rf,{className:"w-2.5 h-2.5"}):(0,oe.jsx)(Bm,{className:"w-2.5 h-2.5"})}),(0,oe.jsx)(T,{size:"sm",variant:"ghost",className:"w-5 h-5 p-0 hover:bg-gray-100 flex-shrink-0",onClick:k,disabled:N.isPending,title:e.is_minimized?"Restore panel":"Minimize panel",children:N.isPending?(0,oe.jsx)("div",{className:"w-2.5 h-2.5 border border-gray-400 border-t-transparent rounded-full animate-spin"}):e.is_minimized?(0,oe.jsx)(xs,{className:"w-2.5 h-2.5"}):(0,oe.jsx)(ui,{className:"w-2.5 h-2.5"})}),(0,oe.jsx)(T,{size:"sm",variant:"ghost",className:"w-5 h-5 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",onClick:x,title:"Delete panel",children:(0,oe.jsx)(ht,{className:"w-2.5 h-2.5"})})]})]}),!e.is_minimized&&(0,oe.jsx)(Qe,{className:"panel-content flex-1 p-1 pt-0 overflow-hidden",children:A()}),p&&(0,oe.jsx)(fo,{workspaceId:t,kanbanColumnId:e.type==="KANBAN"&&e.data?.kanbanId?e.data.kanbanId:void 0,open:p,onClose:()=>g(!1),onSuccess:()=>{g(!1),r?.()}})]})}var Cr=w(X(),1);function ri({workspaceId:e,panels:t,autoSaveInterval:r=3e4,enabled:a=!0}){let{toast:o}=Rn(),n=(0,Cr.useRef)(),i=(0,Cr.useRef)(""),l=q.layout.savePreset.useMutation({onSuccess:j=>{o({title:"Layout Saved",description:`Layout preset "${j.name}" saved successfully`})},onError:j=>{o({title:"Save Failed",description:j.message,variant:"destructive"})}}),s=q.layout.loadPreset.useMutation({onSuccess:j=>{o({title:"Layout Loaded",description:j.message}),window.location.reload()},onError:j=>{o({title:"Load Failed",description:j.message,variant:"destructive"})}}),c=q.layout.autoSave.useMutation({onError:j=>{console.warn("Auto-save failed:",j.message)}}),{data:d=[],refetch:u}=q.layout.listPresets.useQuery({workspaceId:e},{enabled:a&&!!e}),p=q.layout.deletePreset.useMutation({onSuccess:()=>{o({title:"Layout Deleted",description:"Layout preset deleted successfully"}),u()},onError:j=>{o({title:"Delete Failed",description:j.message,variant:"destructive"})}}),g=q.layout.setDefaultPreset.useMutation({onSuccess:()=>{o({title:"Default Set",description:"Default layout preset updated"}),u()},onError:j=>{o({title:"Update Failed",description:j.message,variant:"destructive"})}}),m=(0,Cr.useCallback)((j,B)=>{let le=B||{lg:j.map(ee=>({i:ee.id,x:ee.position_x,y:ee.position_y,w:ee.width,h:ee.height,minW:2,minH:2,maxW:24,maxH:24,isDraggable:!ee.is_locked,isResizable:!ee.is_locked}))};return{panels:j,gridLayout:le}},[]),f=(0,Cr.useCallback)((j,B,le=!1)=>{if(!a||!e||t.length===0)return;let ee=m(t);l.mutate({workspaceId:e,name:j,description:B,isDefault:le,layoutData:ee})},[a,e,t,m,l]),v=(0,Cr.useCallback)(j=>{!a||!e||s.mutate({presetId:j,workspaceId:e})},[a,e,s]),h=(0,Cr.useCallback)(j=>{!a||!e||p.mutate({presetId:j,workspaceId:e})},[a,e,p]),N=(0,Cr.useCallback)(j=>{!a||!e||g.mutate({presetId:j,workspaceId:e})},[a,e,g]),C=(0,Cr.useCallback)(()=>{if(!a||!e||t.length===0)return;let j=m(t),B=JSON.stringify(j);B!==i.current&&(c.mutate({workspaceId:e,layoutData:j}),i.current=B)},[a,e,t,m,c]),F=(0,Cr.useCallback)(()=>{!a||r<=0||(n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{C(),F()},r))},[a,r,C]),M=(0,Cr.useCallback)(j=>{if(!a)return;let B=m(t,j);i.current=JSON.stringify(B),F()},[a,t,m,F]);return(0,Cr.useEffect)(()=>(a&&t.length>0&&F(),()=>{n.current&&clearTimeout(n.current)}),[a,t.length,F]),(0,Cr.useEffect)(()=>{if(a&&t.length>0){let j=m(t),B=JSON.stringify(j);if(i.current&&B!==i.current){let le=JSON.parse(i.current),ee=j;le.panels.length!==ee.panels.length&&C()}}},[a,t,m,C]),{presets:d,savePreset:f,loadPreset:v,deletePreset:h,setDefaultPreset:N,refetchPresets:u,performAutoSave:C,onLayoutChange:M,isSaving:l.isLoading,isLoading:s.isLoading,isDeleting:p.isLoading,isSettingDefault:g.isLoading,isAutoSaving:c.isLoading,generateLayoutData:m}}var ka=w(z(),1),q6=(0,Zo.WidthProvider)(Zo.Responsive),qC=(0,Zo.WidthProvider)(Zo.default);function Lp({workspaceId:e,className:t}){let[r,a]=(0,zt.useState)(null),{focusMode:o,focusedPanelId:n}=Tn(),{data:i=[],refetch:l}=q.panel.list.useQuery({workspaceId:e},{staleTime:0,gcTime:6e4,refetchOnWindowFocus:!1,refetchOnMount:"always"}),[s,c]=(0,zt.useState)(new Set),[d,u]=(0,zt.useState)(()=>typeof window<"u"?window.innerWidth:1600);(0,zt.useEffect)(()=>{let K=()=>{let _=document.querySelector(".panel-workspace-container");if(_){let re=_.clientWidth||window.innerWidth;u(re)}};return K(),window.addEventListener("resize",K),()=>window.removeEventListener("resize",K)},[]);let{onLayoutChange:p,performAutoSave:g,isAutoSaving:m}=ri({workspaceId:e,panels:i,autoSaveInterval:3e4,enabled:!1}),f=i.find(K=>{try{return(typeof K.data=="string"?JSON.parse(K.data):K.data)?.isFullscreen===!0}catch{return!1}}),v=q.panel.updatePositions.useMutation({onSuccess:()=>{console.log("\u2705 Panel positions saved successfully")},onError:K=>{console.error("\u274C Failed to save panel positions:",K)}}),h=q.panel.toggleFullscreen.useMutation({onSuccess:()=>{l()}}),N=q.panel.toggleMinimize.useMutation({onSuccess:()=>{l()}});(0,zt.useEffect)(()=>{let K=_=>{An(_)&&(_.key==="Escape"&&f&&(_.preventDefault(),h.mutate({id:f.id})),(_.metaKey||_.ctrlKey)&&_.key==="m"&&r&&(_.preventDefault(),N.mutate({id:r})),(_.metaKey||_.ctrlKey)&&_.key==="f"&&r&&(_.preventDefault(),h.mutate({id:r})))};return window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)},[f,r]);let C=(0,zt.useCallback)((K,_)=>{l()},[l]),F=(0,zt.useCallback)(K=>{a(K)},[]),[M,j]=(0,zt.useState)(null),[B,le]=(0,zt.useState)(!1),[ee,ne]=(0,zt.useState)(null),ue=(0,zt.useCallback)(K=>{K.length>0&&v.mutate({workspaceId:e,updates:K})},[e,v]),A=(0,zt.useCallback)(K=>{if(i.length===0||!K)return;if(B&&ee){let Q=K.find(J=>J.i===ee);if(Q){for(let J of i)if(J.id!==ee&&J.is_locked){let b=K.find(O=>O.i===J.id);if(b&&!(Q.x+Q.w<=b.x||Q.x>=b.x+b.w||Q.y+Q.h<=b.y||Q.y>=b.y+b.h)&&M){console.log("\u26A0\uFE0F Collision with locked panel detected during drag:",J.id);let U=M.find($=>$.i===ee);U&&(Q.x=U.x,Q.y=U.y,Q.w=U.w,Q.h=U.h);break}}}}console.log("\u{1F504} Layout Change Handler:",{panelCount:i.length,newLayoutCount:K.length,isDragging:B,draggedItemId:ee});let re=K.map(Q=>({...Q,w:Math.max(2,Math.min(24,Q.w)),h:Math.max(2,Math.min(50,Q.h))})).filter(Q=>{let J=i.find(O=>O.id===Q.i);if(J&&J.is_locked)return!1;let b=J&&(J.position_x!==Q.x||J.position_y!==Q.y||J.width!==Q.w||J.height!==Q.h);return b&&J&&console.log("\u{1F504} Panel dimension change detected:",{panelId:J.id,oldDimensions:{x:J.position_x,y:J.position_y,w:J.width,h:J.height},newDimensions:{x:Q.x,y:Q.y,w:Q.w,h:Q.h}}),b}).map(Q=>({id:Q.i,position_x:Q.x,position_y:Q.y,width:Q.w,height:Q.h}));re.length>0&&(console.log("\u{1F4BE} Applying layout updates:",re.length,"panels"),ue(re))},[i,ue,p,B,ee,M]);(0,zt.useEffect)(()=>{let K=_=>{_.key==="Escape"&&B&&M&&console.log("\u{1F504} Escape pressed - snapping back to original layout")};if(B)return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[B,M]);let k=(0,zt.useCallback)((K,_,re,Q,J,b)=>{j([...K]),le(!0),ne(_.i),b.style.zIndex="9998",b.style.opacity="0.95",b.style.transition="transform 0.15s ease-out, box-shadow 0.15s ease-out",b.style.transform+=" scale(1.02)",b.style.boxShadow="0 8px 20px rgba(20, 49, 151, 0.15), 0 4px 8px rgba(0,0,0,0.1)",b.style.border="2px solid rgba(20, 49, 151, 0.4)",console.log("\u{1F3AF} Drag started - stored original layout:",{originalCount:K.length,draggedPanel:_.i})},[]),y=(0,zt.useCallback)((K,_,re,Q,J,b)=>{b.style.transform=b.style.transform.replace(/scale\([^)]*\)/,"scale(1.02)"),A(K)},[A]),E=(0,zt.useCallback)((K,_,re,Q,J,b)=>{le(!1),ne(null),b.style.transition="all 0.3s ease-out",b.style.zIndex="",b.style.opacity="",b.style.transform=b.style.transform.replace(/scale\([^)]*\)/,"").trim(),b.style.boxShadow="",b.style.border="";let O=!1,U=i.find($=>$.id===re.i);if(U){for(let $ of i)if($.id!==U.id&&$.is_locked){let ie=K.find(W=>W.i===$.id);if(ie&&!(re.x+re.w<=ie.x||re.x>=ie.x+ie.w||re.y+re.h<=ie.y||re.y>=ie.y+ie.h)){console.log("\u26A0\uFE0F Final position overlaps with locked panel:",$.id),O=!0;break}}}if(O&&M){console.log("\u{1F504} Reverting to original layout due to locked panel collision");let $=M.filter(ie=>{let W=i.find(de=>de.id===ie.i);return W&&!W.is_locked}).map(ie=>({id:ie.i,position_x:ie.x,position_y:ie.y,width:ie.w,height:ie.h}));ue($)}else{let $=K.filter(ie=>{let W=i.find(de=>de.id===ie.i);return W&&!W.is_locked}).map(ie=>({id:ie.i,position_x:ie.x,position_y:ie.y,width:ie.w,height:ie.h}));console.log("\u{1F4BE} Saving final positions immediately (excluding locked panels):",$),ue($)}setTimeout(()=>{b.style.transition="",j(null)},300)},[ue,i,M]),x=(0,zt.useCallback)((K,_,re,Q,J,b)=>{b.style.zIndex="9997",b.style.opacity="0.98",b.style.transition="border 0.15s ease-out",b.style.border="2px solid rgba(31, 187, 101, 0.5)"},[]),S=(0,zt.useCallback)((K,_,re,Q,J,b)=>{},[]),P=(0,zt.useCallback)((K,_,re,Q,J,b)=>{b.style.transition="all 0.2s ease-out",b.style.zIndex="",b.style.opacity="",b.style.border="",setTimeout(()=>{b.style.transition=""},200),A(K)},[A]),Y=(0,zt.useMemo)(()=>{let K=i.map(_=>{let re=s.has(_.id)||o&&n&&_.id!==n;return{i:_.id,x:_.position_x,y:_.position_y,w:_.width,h:_.is_minimized?2:_.height,minW:2,minH:(_.is_minimized,2),maxW:24,maxH:_.is_minimized?2:50,isDraggable:!_.is_locked&&!re,isResizable:!_.is_locked&&!re&&!_.is_minimized,static:_.is_locked||_.is_minimized}});return console.log("\u{1F4CA} Panel to Grid Layout Conversion:",{panelCount:i.length,focusMode:o,focusedPanelId:n,gridLayout:K.map(_=>({id:_.i,w:_.w,h:_.h,x:_.x,y:_.y}))}),K.forEach(_=>{((_.w||0)<(_.minW||2)||(_.h||0)<(_.minH||2))&&console.warn("\u26A0\uFE0F Panel size below minimum:",_)}),K},[i,s,o,n]),be=24;return i.length===0?(0,ka.jsx)("div",{className:D("flex items-center justify-center h-full p-8",t),children:(0,ka.jsxs)("div",{className:"text-center",children:[(0,ka.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No panels yet"}),(0,ka.jsx)("p",{className:"text-gray-600",children:"Add panels using the toolbar above to get started."})]})}):(0,ka.jsxs)("div",{className:D("panel-workspace panel-workspace-container h-full flex-1",t),style:{overflowX:"visible",overflowY:"auto",scrollBehavior:"auto"},children:[(0,ka.jsx)("style",{children:`
        .react-grid-layout {
          position: relative;
          min-height: 100%;
          overflow: visible;
        }
        
        .react-grid-item {
          transition: all 200ms cubic-bezier(0.23, 1, 0.32, 1);
          transition-property: left, top, width, height, transform, box-shadow, border;
          background: white;
          border: 1px solid #e5e7eb;
          border-radius: 12px;
          box-shadow: 0 2px 8px 0 rgb(0 0 0 / 0.04), 0 1px 4px -1px rgb(0 0 0 / 0.03);
          will-change: transform, box-shadow;
          cursor: grab;
        }
        
        .react-grid-item:hover {
          box-shadow: 0 4px 16px 0 rgb(0 0 0 / 0.08), 0 2px 8px -2px rgb(0 0 0 / 0.05);
          transform: translateY(-0.5px);
          border-color: rgba(59, 130, 246, 0.3);
          cursor: grab;
        }
        
        .react-grid-item:active {
          cursor: grabbing;
        }
        
        .react-grid-item.react-grid-placeholder {
          background: rgba(34, 197, 94, 0.1);
          border: 2px dashed rgba(34, 197, 94, 0.4);
          border-radius: 12px;
          transition: all 150ms cubic-bezier(0.23, 1, 0.32, 1);
          z-index: 2;
          user-select: none;
          backdrop-filter: blur(2px);
        }
        
        .react-grid-item.react-draggable-dragging {
          transition: none;
          z-index: 9998;
          opacity: 0.95;
          transform: scale(1.02);
          box-shadow: 0 8px 20px rgba(20, 49, 151, 0.15), 0 4px 8px rgba(0, 0, 0, 0.1);
          border: 2px solid rgba(20, 49, 151, 0.4);
          cursor: grabbing;
        }
        
        .react-grid-item.resizing {
          z-index: 9997;
          opacity: 0.95;
          border: 2px solid rgba(31, 187, 101, 0.4);
          box-shadow: 0 8px 24px rgba(31, 187, 101, 0.2), 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .react-grid-item.snapping {
          border: 2px solid rgba(20, 49, 151, 0.6);
          box-shadow: 0 0 0 4px rgba(20, 49, 151, 0.1);
        }

        .react-grid-item.focusing {
          animation: focusPulse 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        @keyframes focusPulse {
          0% { transform: scale(1); }
          50% { transform: scale(1.02); }
          100% { transform: scale(1); }
        }

        .react-grid-layout {
          transition: height 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .react-resizable-handle {
          position: absolute;
          background-color: transparent !important;
          background-image: none !important;
          background: none !important;
        }

        .react-resizable-handle::before,
        .react-resizable-handle::after {
          display: none !important;
          content: none !important;
          background: none !important;
        }

        .react-resizable-handle > * {
          display: none !important;
        }

        .react-resizable-handle-se {
          bottom: 0;
          right: 0;
          width: 20px;
          height: 20px;
          cursor: se-resize;
        }

        .react-resizable-handle-ne {
          top: 0;
          right: 0;
          width: 20px;
          height: 20px;
          cursor: ne-resize;
        }

        .react-resizable-handle-sw {
          bottom: 0;
          left: 0;
          width: 20px;
          height: 20px;
          cursor: sw-resize;
        }

        .react-resizable-handle-nw {
          top: 0;
          left: 0;
          width: 20px;
          height: 20px;
          cursor: nw-resize;
        }

        .react-resizable-handle-e {
          top: 0;
          right: -6px;
          bottom: 0;
          width: 12px;
          cursor: e-resize;
        }

        .react-resizable-handle-w {
          top: 0;
          left: -6px;
          bottom: 0;
          width: 12px;
          cursor: w-resize;
        }

        .react-resizable-handle-n {
          top: -6px;
          left: 0;
          right: 0;
          height: 12px;
          cursor: n-resize;
        }

        .react-resizable-handle-s {
          bottom: -6px;
          left: 0;
          right: 0;
          height: 12px;
          cursor: s-resize;
        }
      `}),(0,ka.jsx)(qC,{className:"layout",layout:Y,cols:be,onLayoutChange:A,isDraggable:!0,isResizable:!0,resizeHandles:["se","e","s","w","n","nw","ne","sw"],margin:[12,12],containerPadding:[16,16],rowHeight:25,draggableHandle:".panel-drag-handle",useCSSTransforms:!0,preventCollision:!0,compactType:null,autoSize:!0,draggableCancel:"input,textarea,button,select,option,.panel-content",transformScale:1,width:Math.max(d,5e3),onDrag:y,onDragStart:k,onDragStop:E,onResize:S,onResizeStart:x,onResizeStop:P,children:i.map(K=>{let _=s.has(K.id)||o&&n&&K.id!==n;return(0,ka.jsx)("div",{className:"panel-container","data-panel-type":K.type,style:{visibility:_?"hidden":"visible",pointerEvents:_?"none":"auto"},children:(0,ka.jsx)(Mp,{panel:{...K,data:K.data||{}},workspaceId:e,onRefresh:l,onFullscreen:C,onFocus:F})},K.id)})})]})}var Na=w(X(),1);var lc=w(X(),1);var No=w(X(),1);var Rr=w(z(),1),Fy=No.forwardRef(({className:e,...t},r)=>(0,Rr.jsx)(Ft,{ref:r,className:D("flex h-full w-full flex-col overflow-hidden rounded-md bg-white dark:bg-gray-900 text-sidebar-foreground",e),...t}));Fy.displayName=Ft.displayName;var zy=({children:e,...t})=>(0,Rr.jsx)(nr,{...t,children:(0,Rr.jsx)(er,{className:"overflow-hidden p-0",children:(0,Rr.jsx)(Fy,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),Ip=No.forwardRef(({className:e,...t},r)=>(0,Rr.jsxs)("div",{className:"flex items-center border-b border-sidebar-border px-3","cmdk-input-wrapper":"",children:[(0,Rr.jsx)($t,{className:"mr-2 h-4 w-4 shrink-0 text-krushr-secondary"}),(0,Rr.jsx)(Ft.Input,{ref:r,className:D("flex h-10 w-full rounded-md bg-transparent py-3 text-sm font-light font-manrope outline-none placeholder:text-sidebar-foreground/60 disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Ip.displayName=Ft.Input.displayName;var Op=No.forwardRef(({className:e,...t},r)=>(0,Rr.jsx)(Ft.List,{ref:r,className:D("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Op.displayName=Ft.List.displayName;var Fp=No.forwardRef((e,t)=>(0,Rr.jsx)(Ft.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Fp.displayName=Ft.Empty.displayName;var zp=No.forwardRef(({className:e,...t},r)=>(0,Rr.jsx)(Ft.Group,{ref:r,className:D("overflow-hidden p-1 text-sidebar-foreground font-manrope [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-semibold [&_[cmdk-group-heading]]:text-sidebar-foreground/70 [&_[cmdk-group-heading]]:uppercase [&_[cmdk-group-heading]]:tracking-wide",e),...t}));zp.displayName=Ft.Group.displayName;var VC=No.forwardRef(({className:e,...t},r)=>(0,Rr.jsx)(Ft.Separator,{ref:r,className:D("-mx-1 h-px bg-border",e),...t}));VC.displayName=Ft.Separator.displayName;var jp=No.forwardRef(({className:e,...t},r)=>(0,Rr.jsx)(Ft.Item,{ref:r,className:D("relative flex cursor-default gap-2 select-none items-center rounded-lg px-2 py-1.5 text-sm font-light font-manrope outline-none transition-colors data-[disabled=true]:pointer-events-none data-[selected=true]:bg-sidebar-accent data-[selected=true]:text-sidebar-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));jp.displayName=Ft.Item.displayName;var Hp=({className:e,...t})=>(0,Rr.jsx)("span",{className:D("ml-auto text-xs tracking-widest text-sidebar-foreground/60 font-manrope",e),...t});Hp.displayName="CommandShortcut";var rr=w(z(),1);function Bp({isOpen:e,onOpenChange:t,workspaceId:r,onNavigate:a,onCreatePanel:o,onAction:n}){let[i,l]=(0,lc.useState)(""),{user:s}=Ye(),{data:c=[]}=q.activity.getRecent.useQuery({workspaceId:r,limit:10},{enabled:!!r}),{data:d=[]}=q.workspace.list.useQuery(),u=[{id:"quick-task",title:"Create Task",subtitle:"Add new task to Kanban",icon:je,shortcut:"\u2318N",action:()=>o?.("TASK"),group:"Quick Actions",keywords:["task","todo","create","add","kanban"],priority:10},{id:"quick-note",title:"Create Note",subtitle:"Start writing immediately",icon:gt,shortcut:"\u2318\u21E7N",action:()=>o?.("NOTE"),group:"Quick Actions",keywords:["note","write","document","create"],priority:9},{id:"quick-event",title:"Schedule Event",subtitle:"Add to calendar",icon:Ae,shortcut:"\u2318\u21E7C",action:()=>o?.("CALENDAR"),group:"Quick Actions",keywords:["event","meeting","schedule","calendar"],priority:8},{id:"quick-chat",title:"Start Chat",subtitle:"Message team members",icon:fn,shortcut:"\u2318/",action:()=>o?.("CHAT"),group:"Quick Actions",keywords:["chat","message","communicate","talk"],priority:7},{id:"ai-analyze",title:"AI Task Analysis",subtitle:"Get insights on your tasks",icon:Da,action:()=>n?.("ai-analyze"),group:"AI Assistant",keywords:["ai","analyze","insights","smart","assistant"],priority:6},{id:"ai-schedule",title:"Smart Scheduling",subtitle:"AI-powered time blocking",icon:ma,action:()=>n?.("ai-schedule"),group:"AI Assistant",keywords:["ai","schedule","smart","time","block"],priority:5},{id:"ai-suggest",title:"Task Suggestions",subtitle:"Get AI recommendations",icon:Ra,action:()=>n?.("ai-suggest"),group:"AI Assistant",keywords:["ai","suggest","recommend","smart"],priority:4},{id:"nav-dashboard",title:"Go to Dashboard",subtitle:"Overview of all projects",icon:pn,shortcut:"\u23181",action:()=>a?.("/dashboard"),group:"Navigation",keywords:["dashboard","home","overview"],priority:3},{id:"nav-projects",title:"View Projects",subtitle:"All workspace projects",icon:Ca,shortcut:"\u23182",action:()=>a?.("/projects"),group:"Navigation",keywords:["projects","folders","workspace"],priority:2},{id:"nav-team",title:"Team Members",subtitle:"View and manage team",icon:xt,shortcut:"\u23183",action:()=>a?.("/team"),group:"Navigation",keywords:["team","members","users","people"],priority:1},{id:"panel-layout-save",title:"Save Layout",subtitle:"Save current panel arrangement",icon:us,shortcut:"\u2318S",action:()=>n?.("save-layout"),group:"Panel Management",keywords:["save","layout","panels","arrangement"]},{id:"panel-layout-load",title:"Load Layout",subtitle:"Switch to saved layout",icon:vn,shortcut:"\u2318L",action:()=>n?.("load-layout"),group:"Panel Management",keywords:["load","layout","switch","panels"]},{id:"panel-focus",title:"Focus Mode",subtitle:"Hide all but current panel",icon:mn,shortcut:"\u2318\u21E7F",action:()=>n?.("focus-mode"),group:"Panel Management",keywords:["focus","hide","minimize","distraction-free"]},{id:"panel-minimize-all",title:"Minimize All",subtitle:"Collapse all panels",icon:gn,shortcut:"\u2318\u21E7M",action:()=>n?.("minimize-all"),group:"Panel Management",keywords:["minimize","collapse","hide","panels"]},{id:"view-grid",title:"Grid View",subtitle:"Arrange panels in grid",icon:bs,action:()=>n?.("view-grid"),group:"View Options",keywords:["grid","view","arrange","layout"]},{id:"view-list",title:"List View",subtitle:"Vertical panel layout",icon:ys,action:()=>n?.("view-list"),group:"View Options",keywords:["list","view","vertical","layout"]},{id:"settings-workspace",title:"Workspace Settings",subtitle:"Configure workspace",icon:yr,action:()=>a?.("/settings"),group:"Settings",keywords:["settings","configure","workspace","options"]},{id:"settings-profile",title:"Profile Settings",subtitle:"Update your profile",icon:lr,action:()=>a?.("/profile"),group:"Settings",keywords:["profile","account","user","settings"]},{id:"logout",title:"Sign Out",subtitle:"Log out of workspace",icon:Eo,action:()=>n?.("logout"),group:"Settings",keywords:["logout","sign out","exit","leave"]}],p=d.map(N=>({id:`workspace-${N.id}`,title:`Switch to ${N.name}`,subtitle:`${N.memberCount||0} members`,icon:Ca,action:()=>a?.(`/workspace/${N.id}`),group:"Workspaces",keywords:["workspace","switch",N.name.toLowerCase()],priority:N.id===r?10:1})),g=c.map(N=>({id:`recent-${N.id}`,title:N.title||N.name,subtitle:`${N.type} \u2022 ${N.updatedAt}`,icon:N.type==="TASK"?je:N.type==="NOTE"?gt:Ae,action:()=>a?.(`/${N.type.toLowerCase()}/${N.id}`),group:"Recent",keywords:["recent",N.title?.toLowerCase(),N.type.toLowerCase()],priority:5})),v=[...u,...p,...g].filter(N=>{if(!i)return!0;let C=i.toLowerCase(),F=N.title.toLowerCase().includes(C),M=N.subtitle?.toLowerCase().includes(C),j=N.keywords?.some(B=>B.includes(C));return F||M||j}).reduce((N,C)=>(N[C.group]||(N[C.group]=[]),N[C.group].push(C),N),{}),h=Object.entries(v).sort(([N],[C])=>{let F={"Quick Actions":1,"AI Assistant":2,Recent:3,Navigation:4,Workspaces:5,"Panel Management":6,"View Options":7,Settings:8};return(F[N]||9)-(F[C]||9)});return(0,lc.useEffect)(()=>{let N=C=>{if((C.metaKey||C.ctrlKey)&&C.key==="k"){if(!An(C))return;C.preventDefault(),t(!0)}C.key==="Escape"&&t(!1)};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[t]),(0,rr.jsxs)(zy,{open:e,onOpenChange:t,children:[(0,rr.jsx)(Ip,{placeholder:"Search commands, create items, or ask AI...",value:i,onValueChange:l}),(0,rr.jsxs)(Op,{children:[(0,rr.jsx)(Fp,{children:(0,rr.jsxs)("div",{className:"text-center py-6",children:[(0,rr.jsx)(Za,{className:"w-8 h-8 mx-auto mb-2 text-krushr-secondary"}),(0,rr.jsx)("p",{className:"text-sidebar-foreground font-manrope",children:"No commands found."}),(0,rr.jsx)("p",{className:"text-sm text-sidebar-foreground/60 mt-1 font-manrope",children:"Try searching for actions, panels, or navigation"})]})}),h.map(([N,C])=>(0,rr.jsx)(zp,{heading:N,children:C.sort((F,M)=>(M.priority||0)-(F.priority||0)).map(F=>(0,rr.jsxs)(jp,{onSelect:()=>{F.action(),t(!1)},className:"flex items-center gap-3 px-3 py-2",children:[(0,rr.jsx)(F.icon,{className:"w-4 h-4 text-krushr-secondary"}),(0,rr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,rr.jsx)("div",{className:"text-sm font-light font-manrope text-sidebar-foreground",children:F.title}),F.subtitle&&(0,rr.jsx)("div",{className:"text-xs text-sidebar-foreground/60 truncate font-manrope",children:F.subtitle})]}),F.shortcut&&(0,rr.jsx)(Hp,{className:"text-xs",children:F.shortcut}),N==="AI Assistant"&&(0,rr.jsx)(ye,{variant:"secondary",className:"text-xs px-1.5 py-0.5 font-manrope",children:"AI"})]},F.id))},N))]})]})}var mt=w(z(),1);function Up({isOpen:e,onOpenChange:t}){return(0,mt.jsx)(nr,{open:e,onOpenChange:t,children:(0,mt.jsxs)(er,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,mt.jsx)(Pr,{children:(0,mt.jsxs)(Tr,{className:"flex items-center space-x-2",children:[(0,mt.jsx)(xc,{className:"w-5 h-5"}),(0,mt.jsx)("span",{children:"Keyboard Shortcuts"})]})}),(0,mt.jsxs)("div",{className:"mt-6",children:[(0,mt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[{title:"Essential Commands",shortcuts:[{key:"\u2318K",description:"Open command palette",icon:Za},{key:"\u2318N",description:"Quick add task",icon:je},{key:"\u2318/",description:"Focus search",icon:$t},{key:"\u2318\u21E7F",description:"Focus mode",icon:mn},{key:"\u2318\u21E7A",description:"AI assistant",icon:ma},{key:"\u2318?",description:"Show shortcuts",icon:xc}]},{title:"Panel Creation",shortcuts:[{key:"\u2318\u21E7N",description:"Create note",icon:gt},{key:"\u2318\u21E7C",description:"Create calendar event",icon:Ae},{key:"\u2318\u21E7M",description:"Start chat",icon:fn},{key:"\u2318\u21E7K",description:"Create kanban board",icon:pn}]},{title:"Layout Management",shortcuts:[{key:"\u2318S",description:"Save layout",icon:us},{key:"\u2318L",description:"Load layout",icon:pn},{key:"\u2318\u21E7M",description:"Minimize all panels",icon:gn},{key:"\u2318\u21E7R",description:"Refresh workspace",icon:to}]},{title:"Navigation",shortcuts:[{key:"\u23181",description:"Go to dashboard",icon:pn},{key:"\u23182",description:"View projects",icon:Ca},{key:"\u23183",description:"Team members",icon:lr},{key:"\u23184",description:"Settings",icon:yr}]},{title:"Content Actions",shortcuts:[{key:"\u2318D",description:"Duplicate item",icon:jm},{key:"\u2318\u21E7S",description:"Share item",icon:tf},{key:"\u2318\u21E7D",description:"Download/Export",icon:br},{key:"\u2318\u21E7U",description:"Upload file",icon:ta}]},{title:"Organization",shortcuts:[{key:"\u2318F",description:"Filter items",icon:eo},{key:"\u2318\u21E7O",description:"Sort items",icon:Am},{key:"\u2318G",description:"Grid view",icon:bs},{key:"\u2318\u21E7L",description:"List view",icon:ys}]},{title:"Quick Actions",shortcuts:[{key:"\u2318\u21E7\u2B50",description:"Star/Favorite",icon:Ra},{key:"\u2318\u21E7A",description:"Archive item",icon:ds},{key:"\u2318\u21E7\u232B",description:"Delete item",icon:nf},{key:"\u2318\u21E7Q",description:"Sign out",icon:Eo}]},{title:"AI & Analytics",shortcuts:[{key:"\u2318\u21E7I",description:"AI insights",icon:Da},{key:"\u2318\u21E7T",description:"Task suggestions",icon:ma},{key:"\u2318\u21E7P",description:"Performance analytics",icon:Da}]}].map((a,o)=>(0,mt.jsxs)("div",{className:"space-y-3",children:[(0,mt.jsx)("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wide",children:a.title}),(0,mt.jsx)("div",{className:"space-y-2",children:a.shortcuts.map((n,i)=>(0,mt.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-gray-50 group",children:[(0,mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,mt.jsx)(n.icon,{className:"w-4 h-4 text-gray-500 group-hover:text-gray-700"}),(0,mt.jsx)("span",{className:"text-sm text-gray-700 group-hover:text-gray-900",children:n.description})]}),(0,mt.jsx)(ye,{variant:"outline",className:"text-xs font-mono",children:n.key})]},i))})]},o))}),(0,mt.jsxs)("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,mt.jsx)("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Pro Tips"}),(0,mt.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,mt.jsx)("li",{children:"\u2022 Use \u2318K to access the command palette for any action"}),(0,mt.jsx)("li",{children:"\u2022 Hold \u2318 and click to open items in new panels"}),(0,mt.jsx)("li",{children:"\u2022 Use \u2318\u21E7F to enter focus mode and eliminate distractions"}),(0,mt.jsx)("li",{children:"\u2022 Create custom shortcuts in Settings \u2192 Keyboard"}),(0,mt.jsx)("li",{children:"\u2022 Most shortcuts work across all panels and contexts"})]})]}),(0,mt.jsx)("div",{className:"mt-4 text-center",children:(0,mt.jsxs)("p",{className:"text-xs text-gray-500",children:["Press ",(0,mt.jsx)(ye,{variant:"outline",className:"text-xs",children:"ESC"})," to close this dialog"]})})]})]})})}var cc=w(X(),1);var en=w(X(),1);var Qr=w(X(),1);var Sr=w(z(),1),jy="AlertDialog",[GC,FO]=ra(jy,[Sc]),Xa=Sc(),Hy=e=>{let{__scopeAlertDialog:t,...r}=e,a=Xa(t);return(0,Sr.jsx)(yn,{...a,...r,modal:!0})};Hy.displayName=jy;var XC="AlertDialogTrigger",By=Qr.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,o=Xa(r);return(0,Sr.jsx)(Ts,{...o,...a,ref:t})});By.displayName=XC;var QC="AlertDialogPortal",Uy=e=>{let{__scopeAlertDialog:t,...r}=e,a=Xa(t);return(0,Sr.jsx)(wn,{...a,...r})};Uy.displayName=QC;var JC="AlertDialogOverlay",Wy=Qr.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,o=Xa(r);return(0,Sr.jsx)(Po,{...o,...a,ref:t})});Wy.displayName=JC;var ai="AlertDialogContent",[ZC,e5]=GC(ai),t5=Tm("AlertDialogContent"),$y=Qr.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:a,...o}=e,n=Xa(r),i=Qr.useRef(null),l=fr(t,i),s=Qr.useRef(null);return(0,Sr.jsx)(bf,{contentName:ai,titleName:Yy,docsSlug:"alert-dialog",children:(0,Sr.jsx)(ZC,{scope:r,cancelRef:s,children:(0,Sr.jsxs)(To,{role:"alertdialog",...n,...o,ref:l,onOpenAutoFocus:vt(o.onOpenAutoFocus,c=>{c.preventDefault(),s.current?.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[(0,Sr.jsx)(t5,{children:a}),(0,Sr.jsx)(a5,{contentRef:i})]})})})});$y.displayName=ai;var Yy="AlertDialogTitle",Ky=Qr.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,o=Xa(r);return(0,Sr.jsx)(fi,{...o,...a,ref:t})});Ky.displayName=Yy;var qy="AlertDialogDescription",Vy=Qr.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,o=Xa(r);return(0,Sr.jsx)(gi,{...o,...a,ref:t})});Vy.displayName=qy;var r5="AlertDialogAction",Gy=Qr.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,o=Xa(r);return(0,Sr.jsx)(hi,{...o,...a,ref:t})});Gy.displayName=r5;var Xy="AlertDialogCancel",Qy=Qr.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,{cancelRef:o}=e5(Xy,r),n=Xa(r),i=fr(t,o);return(0,Sr.jsx)(hi,{...n,...a,ref:i})});Qy.displayName=Xy;var a5=({contentRef:e})=>{let t=`\`${ai}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ai}\` by passing a \`${qy}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ai}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return Qr.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Jy=Hy,Zy=By,e0=Uy,Wp=Wy,$p=$y,Yp=Gy,Kp=Qy,qp=Ky,Vp=Vy;var da=w(z(),1),t0=Jy,r0=Zy,n5=e0,a0=en.forwardRef(({className:e,...t},r)=>(0,da.jsx)(Wp,{className:D("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));a0.displayName=Wp.displayName;var Gp=en.forwardRef(({className:e,...t},r)=>(0,da.jsxs)(n5,{children:[(0,da.jsx)(a0,{}),(0,da.jsx)($p,{ref:r,className:D("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Gp.displayName=$p.displayName;var Xp=({className:e,...t})=>(0,da.jsx)("div",{className:D("flex flex-col space-y-2 text-center sm:text-left",e),...t});Xp.displayName="AlertDialogHeader";var Qp=({className:e,...t})=>(0,da.jsx)("div",{className:D("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Qp.displayName="AlertDialogFooter";var Jp=en.forwardRef(({className:e,...t},r)=>(0,da.jsx)(qp,{ref:r,className:D("text-lg font-semibold",e),...t}));Jp.displayName=qp.displayName;var Zp=en.forwardRef(({className:e,...t},r)=>(0,da.jsx)(Vp,{ref:r,className:D("text-sm text-muted-foreground",e),...t}));Zp.displayName=Vp.displayName;var em=en.forwardRef(({className:e,...t},r)=>(0,da.jsx)(Yp,{ref:r,className:D(nn(),e),...t}));em.displayName=Yp.displayName;var tm=en.forwardRef(({className:e,...t},r)=>(0,da.jsx)(Kp,{ref:r,className:D(nn({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));tm.displayName=Kp.displayName;var ce=w(z(),1);function rm({workspaceId:e,panels:t,className:r}){let[a,o]=(0,cc.useState)(!1),[n,i]=(0,cc.useState)(!1),[l,s]=(0,cc.useState)({name:"",description:"",isDefault:!1}),{presets:c,savePreset:d,loadPreset:u,deletePreset:p,setDefaultPreset:g,performAutoSave:m,isSaving:f,isLoading:v,isDeleting:h,isSettingDefault:N,isAutoSaving:C,refetchPresets:F}=ri({workspaceId:e,panels:t,enabled:!0}),M=()=>{l.name.trim()&&(d(l.name.trim(),l.description.trim()||void 0,l.isDefault),s({name:"",description:"",isDefault:!1}),o(!1))},j=A=>{u(A),i(!1)},B=A=>{p(A)},le=A=>{g(A)},ee=()=>{m()},ne=A=>new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ue=t.length>0;return(0,ce.jsxs)("div",{className:D("flex items-center gap-2",r),children:[C&&(0,ce.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,ce.jsx)(Xe,{className:"w-3 h-3 animate-spin"}),(0,ce.jsx)("span",{children:"Saving..."})]}),(0,ce.jsxs)(nr,{open:a,onOpenChange:o,children:[(0,ce.jsx)(id,{asChild:!0,children:(0,ce.jsxs)(T,{variant:"outline",size:"sm",disabled:t.length===0,className:"flex items-center gap-2",children:[(0,ce.jsx)(br,{className:"w-4 h-4"}),(0,ce.jsx)("span",{className:"hidden sm:inline",children:"Save Layout"})]})}),(0,ce.jsxs)(er,{className:"sm:max-w-md",children:[(0,ce.jsxs)(Pr,{children:[(0,ce.jsx)(Tr,{children:"Save Layout Preset"}),(0,ce.jsx)(lo,{children:"Save your current panel arrangement as a reusable layout preset."})]}),(0,ce.jsxs)("div",{className:"space-y-4",children:[(0,ce.jsxs)("div",{children:[(0,ce.jsx)(Ct,{htmlFor:"preset-name",children:"Preset Name"}),(0,ce.jsx)(Ie,{id:"preset-name",label:"Preset Name",value:l.name,onChange:A=>s(k=>({...k,name:A.target.value})),className:"mt-1"})]}),(0,ce.jsxs)("div",{children:[(0,ce.jsx)(Ct,{htmlFor:"preset-description",children:"Description (Optional)"}),(0,ce.jsx)(Ba,{id:"preset-description",value:l.description,onChange:A=>s(k=>({...k,description:A.target.value})),placeholder:"Describe this layout arrangement...",className:"mt-1",rows:3})]}),(0,ce.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ce.jsx)("input",{type:"checkbox",id:"is-default",checked:l.isDefault,onChange:A=>s(k=>({...k,isDefault:A.target.checked})),className:"rounded border-gray-300"}),(0,ce.jsx)(Ct,{htmlFor:"is-default",className:"text-sm",children:"Set as default layout for this workspace"})]})]}),(0,ce.jsxs)(Js,{children:[(0,ce.jsx)(T,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),(0,ce.jsxs)(T,{onClick:M,disabled:!l.name.trim()||f,children:[f?(0,ce.jsx)(Xe,{className:"w-4 h-4 mr-2 animate-spin"}):(0,ce.jsx)(za,{className:"w-4 h-4 mr-2"}),"Save Preset"]})]})]})]}),(0,ce.jsxs)(nr,{open:n,onOpenChange:i,children:[(0,ce.jsx)(id,{asChild:!0,children:(0,ce.jsxs)(T,{variant:"outline",size:"sm",disabled:c.length===0,className:"flex items-center gap-2",children:[(0,ce.jsx)(ta,{className:"w-4 h-4"}),(0,ce.jsx)("span",{className:"hidden sm:inline",children:"Load Layout"})]})}),(0,ce.jsxs)(er,{className:"sm:max-w-lg",children:[(0,ce.jsxs)(Pr,{children:[(0,ce.jsx)(Tr,{children:"Load Layout Preset"}),(0,ce.jsx)(lo,{children:"Choose a saved layout to restore your panel arrangement."})]}),(0,ce.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:c.length===0?(0,ce.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,ce.jsx)(Fa,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,ce.jsx)("p",{children:"No saved layout presets yet."}),(0,ce.jsx)("p",{className:"text-sm",children:"Save your current layout to get started."})]}):c.map(A=>(0,ce.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[(0,ce.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ce.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ce.jsx)("h4",{className:"font-medium truncate",children:A.name}),A.isDefault&&(0,ce.jsxs)(ye,{variant:"secondary",className:"flex items-center gap-1",children:[(0,ce.jsx)(Ra,{className:"w-3 h-3"}),"Default"]})]}),A.description&&(0,ce.jsx)("p",{className:"text-sm text-gray-600 truncate mt-1",children:A.description}),(0,ce.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Created ",ne(A.createdAt)]})]}),(0,ce.jsxs)("div",{className:"flex items-center gap-1 ml-3",children:[(0,ce.jsx)(T,{variant:"ghost",size:"sm",onClick:()=>j(A.id),disabled:v,className:"text-blue-600 hover:text-blue-700",children:v?(0,ce.jsx)(Xe,{className:"w-4 h-4 animate-spin"}):(0,ce.jsx)(ta,{className:"w-4 h-4"})}),!A.isDefault&&(0,ce.jsxs)(ce.Fragment,{children:[(0,ce.jsx)(T,{variant:"ghost",size:"sm",onClick:()=>le(A.id),disabled:N,className:"text-orange-600 hover:text-orange-700",title:"Set as default",children:(0,ce.jsx)(Ra,{className:"w-4 h-4"})}),(0,ce.jsxs)(t0,{children:[(0,ce.jsx)(r0,{asChild:!0,children:(0,ce.jsx)(T,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:(0,ce.jsx)(Hr,{className:"w-4 h-4"})})}),(0,ce.jsxs)(Gp,{children:[(0,ce.jsxs)(Xp,{children:[(0,ce.jsx)(Jp,{children:"Delete Layout Preset"}),(0,ce.jsxs)(Zp,{children:['Are you sure you want to delete "',A.name,'"? This action cannot be undone.']})]}),(0,ce.jsxs)(Qp,{children:[(0,ce.jsx)(tm,{children:"Cancel"}),(0,ce.jsx)(em,{onClick:()=>B(A.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})]})]},A.id))}),(0,ce.jsx)(Js,{children:(0,ce.jsx)(T,{variant:"outline",onClick:()=>i(!1),children:"Close"})})]})]})]})}var L=w(z(),1),oi=[{type:"KANBAN",icon:ms,label:"Kanban",description:"Task management with drag-and-drop columns",defaultTitle:"New Kanban"},{type:"CHAT",icon:Wt,label:"Chat",description:"Team communication and messaging",defaultTitle:"Team Chat"},{type:"AI_CHAT",icon:ps,label:"AI Assistant",description:"Gemini 2.5 Flash AI-powered assistant",defaultTitle:"AI Assistant"},{type:"CALENDAR",icon:Ae,label:"Calendar",description:"Schedule and event management",defaultTitle:"Calendar"},{type:"NOTES",icon:Sa,label:"Notes",description:"Quick notes and documentation",defaultTitle:"Notes"},{type:"EMAIL",icon:jr,label:"Email",description:"Email management and communication",defaultTitle:"Email"},{type:"CONTACTS",icon:xt,label:"Contacts",description:"Contact and customer management",defaultTitle:"Contacts"}];function am({workspaceId:e,panels:t=[],currentPanel:r,onNavigate:a,onCreatePanel:o,onAction:n,className:i}){let[l,s]=(0,Na.useState)(!1),[c,d]=(0,Na.useState)(!1),[u,p]=(0,Na.useState)(!1),[g,m]=(0,Na.useState)(navigator.onLine),[f,v]=(0,Na.useState)(""),[h,N]=(0,Na.useState)(null),[C,F]=(0,Na.useState)(""),{user:M}=Ye(),j=q.useUtils(),{data:B=[]}=q.workspace.list.useQuery(),{data:le}=q.workspace.findById.useQuery({id:e},{enabled:!!e}),{data:ee=[]}=q.notification.list.useQuery({workspaceId:e,unreadOnly:!0},{enabled:!!e}),{data:ne=[]}=q.kanban.list.useQuery({workspaceId:e}),{data:ue=[]}=q.chat.listThreads.useQuery({workspaceId:e}),A=q.panel.create.useMutation({onSuccess:()=>{j.panel.list.invalidate({workspaceId:e}),p(!1),N(null),F("")}}),k=q.panel.toggleMinimizeAll.useMutation({onSuccess:()=>j.panel.list.invalidate({workspaceId:e})}),y=q.panel.toggleLockAll.useMutation({onSuccess:()=>j.panel.list.invalidate({workspaceId:e})}),E=q.panel.deleteAll.useMutation({onSuccess:()=>j.panel.list.invalidate({workspaceId:e})}),x=q.panel.exitAllFullscreen.useMutation({onSuccess:()=>j.panel.list.invalidate({workspaceId:e})});(0,Na.useEffect)(()=>{let b=()=>m(!0),O=()=>m(!1);return window.addEventListener("online",b),window.addEventListener("offline",O),()=>{window.removeEventListener("online",b),window.removeEventListener("offline",O)}},[]),(0,Na.useEffect)(()=>{let b=O=>{An(O)&&((O.metaKey||O.ctrlKey)&&O.key==="k"&&(O.preventDefault(),s(!0)),(O.metaKey||O.ctrlKey)&&O.key==="n"&&(O.preventDefault(),S("KANBAN")),(O.metaKey||O.ctrlKey)&&O.key==="?"&&(O.preventDefault(),d(!0)))};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[]);let S=b=>{let O=oi.find(ie=>ie.type===b);if(!O)return;let U={workspaceId:e},$={width:4,height:3};b==="KANBAN"?($={width:8,height:6},U={workspaceId:e,createNew:!0}):b==="CHAT"?($={width:4,height:5},U={workspaceId:e,createNew:!0}):b==="NOTES"&&($={width:6,height:5},U={workspaceId:e,createNew:!0}),A.mutate({type:b,title:O.defaultTitle,workspaceId:e,position:{x:0,y:0},size:$,data:U}),o?.(b)},P=()=>{if(!h)return;let b=oi.find(ie=>ie.type===h);if(!b)return;let O=C.trim()||b.defaultTitle,U={workspaceId:e,createNew:!0},$={width:4,height:3};h==="KANBAN"?$={width:8,height:6}:h==="CHAT"?$={width:4,height:5}:h==="NOTES"&&($={width:6,height:5}),A.mutate({type:h,title:O,workspaceId:e,position:{x:0,y:0},size:$,data:U})},Y=()=>{let b=t.some(O=>O.is_minimized);k.mutate({workspaceId:e,minimize:!b})},be=()=>{let b=t.some(O=>O.is_locked);y.mutate({workspaceId:e,lock:!b})},K=()=>{confirm(`Delete all ${t.length} panels in this workspace?`)&&E.mutate({workspaceId:e})},_=()=>{x.mutate({workspaceId:e})},re=t.some(b=>b.is_minimized),Q=t.some(b=>b.is_locked),J=t.some(b=>{try{return(typeof b.data=="string"?JSON.parse(b.data):b.data)?.isFullscreen===!0}catch{return!1}});return(0,L.jsx)(Mo,{children:(0,L.jsxs)("header",{className:D("h-16 bg-white border-b border-gray-200 px-4 flex items-center justify-between shadow-sm",i),children:[(0,L.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,L.jsxs)(Sn,{children:[(0,L.jsx)(Dn,{asChild:!0,children:(0,L.jsx)(T,{variant:"ghost",className:"h-10 px-3 hover:bg-gray-50",children:(0,L.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,L.jsx)(Ca,{className:"w-4 h-4 text-krushr-primary"}),(0,L.jsx)("span",{className:"font-semibold text-gray-900 max-w-32 truncate",children:le?.name||"Workspace"}),(0,L.jsx)(sr,{className:"w-4 h-4 text-gray-500"})]})})}),(0,L.jsxs)(En,{align:"start",className:"w-64",children:[(0,L.jsx)(Pn,{children:"Switch Workspace"}),(0,L.jsx)(ga,{}),B.map(b=>(0,L.jsxs)(dr,{onClick:()=>a?.(`/workspace/${b.id}`),className:"flex items-center space-x-3 p-3",children:[(0,L.jsx)(Ca,{className:"w-4 h-4 text-gray-500"}),(0,L.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,L.jsx)("div",{className:"font-medium text-sm truncate",children:b.name}),(0,L.jsxs)("div",{className:"text-xs text-gray-500",children:[b.memberCount||0," members"]})]}),b.id===e&&(0,L.jsx)(ye,{variant:"secondary",className:"text-xs",children:"Current"})]},b.id)),(0,L.jsx)(ga,{}),(0,L.jsxs)(dr,{onClick:()=>a?.("/workspaces/new"),children:[(0,L.jsx)(je,{className:"w-4 h-4 mr-2"}),"Create Workspace"]})]})]}),(0,L.jsx)(rm,{workspaceId:e,panels:t})]}),(0,L.jsx)("div",{className:"flex-1 max-w-2xl mx-8",children:(0,L.jsxs)("div",{className:"relative",children:[(0,L.jsx)($t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,L.jsx)(Vr,{placeholder:"Search workspace or type \u2318K for commands...",value:f,onChange:b=>v(b.target.value),className:"pl-10 pr-20 h-9 bg-gray-50 border-gray-200 focus:bg-white focus:border-krushr-primary",onFocus:()=>s(!0)}),(0,L.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-1",children:(0,L.jsx)("kbd",{className:"px-1.5 py-0.5 text-xs font-medium bg-gray-100 border border-gray-200 rounded",children:"\u2318K"})})]})}),(0,L.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,L.jsxs)("div",{className:"flex items-center space-x-1",children:[oi.slice(0,4).map(({type:b,icon:O,label:U})=>(0,L.jsxs)(oa,{children:[(0,L.jsx)(na,{asChild:!0,children:(0,L.jsx)(T,{variant:"outline",size:"sm",onClick:()=>S(b),disabled:A.isLoading,className:"h-8 w-8 p-0 hover:bg-krushr-secondary hover:text-white",children:(0,L.jsx)(O,{className:"w-4 h-4"})})}),(0,L.jsx)(ia,{children:(0,L.jsxs)("span",{className:"text-xs",children:["Add ",U]})})]},b)),(0,L.jsxs)(Sn,{children:[(0,L.jsx)(Dn,{asChild:!0,children:(0,L.jsx)(T,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:(0,L.jsx)(je,{className:"w-4 h-4"})})}),(0,L.jsxs)(En,{align:"end",children:[(0,L.jsx)(Pn,{children:"More Panels"}),(0,L.jsx)(ga,{}),oi.slice(4).map(({type:b,icon:O,label:U})=>(0,L.jsxs)(dr,{onClick:()=>S(b),className:"flex items-center gap-2",children:[(0,L.jsx)(O,{className:"w-4 h-4"}),U]},b)),(0,L.jsx)(ga,{}),(0,L.jsxs)(dr,{onClick:()=>p(!0),children:[(0,L.jsx)(Nc,{className:"w-4 h-4 mr-2"}),"Custom Panel..."]})]})]})]}),t.length>0&&(0,L.jsxs)(Sn,{children:[(0,L.jsx)(Dn,{asChild:!0,children:(0,L.jsx)(T,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:(0,L.jsx)(Nc,{className:"w-4 h-4"})})}),(0,L.jsxs)(En,{align:"end",className:"w-48",children:[(0,L.jsx)(Pn,{children:"Panel Controls"}),(0,L.jsx)(ga,{}),(0,L.jsx)(dr,{onClick:Y,disabled:k.isPending,className:"flex items-center gap-2",children:re?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(xs,{className:"w-4 h-4"}),"Restore All"]}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(ui,{className:"w-4 h-4"}),"Minimize All"]})}),(0,L.jsx)(dr,{onClick:be,disabled:y.isPending,className:"flex items-center gap-2",children:Q?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(ws,{className:"w-4 h-4"}),"Unlock All"]}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(ea,{className:"w-4 h-4"}),"Lock All"]})}),J&&(0,L.jsxs)(dr,{onClick:_,disabled:x.isPending,className:"flex items-center gap-2",children:[(0,L.jsx)(ui,{className:"w-4 h-4"}),"Exit All Fullscreen"]}),(0,L.jsx)(ga,{}),(0,L.jsxs)(dr,{onClick:K,disabled:E.isPending,className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[(0,L.jsx)(Hr,{className:"w-4 h-4"}),"Delete All Panels"]})]})]}),(0,L.jsxs)(oa,{children:[(0,L.jsx)(na,{asChild:!0,children:(0,L.jsx)(T,{size:"sm",onClick:()=>s(!0),className:"h-8 w-8 p-0 bg-krushr-info hover:bg-krushr-info/90 text-white",children:(0,L.jsx)(Za,{className:"w-4 h-4"})})}),(0,L.jsx)(ia,{children:(0,L.jsxs)("div",{className:"text-center",children:[(0,L.jsx)("div",{className:"font-medium",children:"Command Palette"}),(0,L.jsx)("div",{className:"text-xs opacity-70",children:"\u2318K"})]})})]}),(0,L.jsxs)(oa,{children:[(0,L.jsx)(na,{asChild:!0,children:(0,L.jsx)(T,{size:"sm",onClick:()=>n?.("ai-assistant"),className:"h-8 w-8 p-0 bg-krushr-success hover:bg-krushr-success/90 text-white",children:(0,L.jsx)(ma,{className:"w-4 h-4"})})}),(0,L.jsx)(ia,{children:(0,L.jsxs)("div",{className:"text-center",children:[(0,L.jsx)("div",{className:"font-medium",children:"AI Assistant"}),(0,L.jsx)("div",{className:"text-xs opacity-70",children:"\u2318\u21E7A"})]})})]}),(0,L.jsxs)(oa,{children:[(0,L.jsx)(na,{asChild:!0,children:(0,L.jsx)(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:g?(0,L.jsx)(Rc,{className:"w-4 h-4 text-krushr-success"}):(0,L.jsx)(Rc,{className:"w-4 h-4 text-krushr-warning"})})}),(0,L.jsx)(ia,{children:(0,L.jsx)("span",{className:"text-xs",children:g?"Connected":"Offline"})})]}),(0,L.jsxs)(oa,{children:[(0,L.jsx)(na,{asChild:!0,children:(0,L.jsxs)(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 relative",children:[(0,L.jsx)(gr,{className:"w-4 h-4"}),ee.length>0&&(0,L.jsx)(ye,{className:"absolute -top-1 -right-1 h-4 w-4 p-0 text-xs bg-krushr-secondary",children:ee.length>9?"9+":ee.length})]})}),(0,L.jsx)(ia,{children:(0,L.jsx)("span",{className:"text-xs",children:ee.length>0?`${ee.length} new notifications`:"No notifications"})})]}),(0,L.jsxs)(Sn,{children:[(0,L.jsx)(Dn,{asChild:!0,children:(0,L.jsx)(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,L.jsx)(Oa,{className:"w-4 h-4"})})}),(0,L.jsxs)(En,{align:"end",className:"w-56",children:[(0,L.jsx)(Pn,{children:"Global Controls"}),(0,L.jsx)(ga,{}),(0,L.jsxs)(dr,{onClick:()=>n?.("save-layout"),children:["Save Layout",(0,L.jsx)(bi,{children:"\u2318S"})]}),(0,L.jsxs)(dr,{onClick:()=>n?.("load-layout"),children:["Load Layout",(0,L.jsx)(bi,{children:"\u2318L"})]}),(0,L.jsxs)(dr,{onClick:()=>n?.("focus-mode"),children:["Focus Mode",(0,L.jsx)(bi,{children:"\u2318\u21E7F"})]}),(0,L.jsx)(ga,{}),(0,L.jsxs)(dr,{onClick:()=>d(!0),children:["Keyboard Shortcuts",(0,L.jsx)(bi,{children:"\u2318?"})]})]})]}),(0,L.jsxs)(oa,{children:[(0,L.jsx)(na,{asChild:!0,children:(0,L.jsx)(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>a?.("/settings"),children:(0,L.jsx)(yr,{className:"w-4 h-4"})})}),(0,L.jsx)(ia,{children:(0,L.jsx)("span",{className:"text-xs",children:"Settings"})})]}),(0,L.jsxs)(Sn,{children:[(0,L.jsx)(Dn,{asChild:!0,children:(0,L.jsx)(T,{variant:"ghost",className:"h-8 w-8 p-0 rounded-full",children:(0,L.jsxs)(ut,{className:"h-8 w-8",children:[(0,L.jsx)(jt,{src:M?.avatar}),(0,L.jsx)(bt,{className:"text-xs bg-krushr-primary text-white",children:M?.name?.charAt(0)?.toUpperCase()||"U"})]})})}),(0,L.jsxs)(En,{align:"end",className:"w-56",children:[(0,L.jsx)(Pn,{children:(0,L.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,L.jsx)("p",{className:"text-sm font-medium",children:M?.name||"User"}),(0,L.jsx)("p",{className:"text-xs text-gray-500",children:M?.email})]})}),(0,L.jsx)(ga,{}),(0,L.jsx)(dr,{onClick:()=>a?.("/profile"),children:"Profile Settings"}),(0,L.jsx)(dr,{onClick:()=>a?.("/preferences"),children:"Preferences"}),(0,L.jsx)(ga,{}),(0,L.jsx)(dr,{onClick:()=>n?.("logout"),children:"Sign Out"})]})]})]}),(0,L.jsx)(nr,{open:u,onOpenChange:p,children:(0,L.jsxs)(er,{className:"sm:max-w-md",children:[(0,L.jsxs)(Pr,{children:[(0,L.jsx)(Tr,{children:"Create Custom Panel"}),(0,L.jsx)(lo,{children:"Choose a panel type and customize its settings."})]}),(0,L.jsxs)("div",{className:"space-y-4",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Panel Type"}),(0,L.jsx)("div",{className:"grid grid-cols-2 gap-2",children:oi.map(({type:b,icon:O,label:U,description:$})=>(0,L.jsxs)("button",{onClick:()=>N(b),className:D("p-3 border rounded-lg text-left transition-all",h===b?"border-krushr-primary bg-krushr-primary/5":"border-gray-200 hover:border-gray-300"),children:[(0,L.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,L.jsx)(O,{className:"w-4 h-4 text-krushr-secondary"}),(0,L.jsx)("span",{className:"font-medium text-sm",children:U})]}),(0,L.jsx)("p",{className:"text-xs text-gray-600",children:$})]},b))})]}),h&&(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Panel Title"}),(0,L.jsx)(Ie,{label:"Panel Title",placeholder:oi.find(b=>b.type===h)?.defaultTitle,value:C,onChange:b=>F(b.target.value)})]}),(0,L.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,L.jsx)(T,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),(0,L.jsxs)(T,{onClick:P,disabled:!h||A.isLoading,className:"bg-krushr-primary hover:bg-krushr-primary/90",children:[A.isLoading?(0,L.jsx)(Xe,{className:"w-4 h-4 mr-2 animate-spin"}):(0,L.jsx)(je,{className:"w-4 h-4 mr-2"}),"Create Panel"]})]})]})]})}),(0,L.jsx)(Bp,{isOpen:l,onOpenChange:s,workspaceId:e,onNavigate:a,onCreatePanel:o,onAction:n}),(0,L.jsx)(Up,{isOpen:c,onOpenChange:d})]})})}var Jr=w(z(),1);function om({workspaceId:e}){return(0,Jr.jsxs)("header",{className:"h-16 bg-white border-b border-gray-200 px-4 flex items-center justify-between shadow-sm",children:[(0,Jr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Jr.jsx)("div",{className:"text-lg font-semibold text-blue-600",children:"\u{1F680} Enhanced Workspace Header"}),(0,Jr.jsx)("button",{className:"px-3 py-1 bg-blue-500 text-white rounded text-sm",children:"Quick Add"}),(0,Jr.jsx)("button",{className:"px-3 py-1 bg-green-500 text-white rounded text-sm",children:"Command \u2318K"})]}),(0,Jr.jsx)("div",{className:"flex-1 max-w-md mx-8",children:(0,Jr.jsx)("input",{type:"text",placeholder:"Search workspace or press \u2318K...",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})}),(0,Jr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Jr.jsx)("button",{className:"px-3 py-1 bg-gray-500 text-white rounded text-sm",children:"Sync"}),(0,Jr.jsx)("button",{className:"px-3 py-1 bg-purple-500 text-white rounded text-sm",children:"Notifications"}),(0,Jr.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm",children:"U"})]})]})}var os=w(X(),1);var Se=w(z(),1);function nm({open:e,onClose:t,workspaceId:r,panels:a,initialMode:o="save"}){let[n,i]=(0,os.useState)(o),[l,s]=(0,os.useState)(""),[c,d]=(0,os.useState)(""),[u,p]=(0,os.useState)(!1),{presets:g,savePreset:m,loadPreset:f,deletePreset:v,setDefaultPreset:h,isSaving:N,isLoading:C,isDeleting:F,isSettingDefault:M}=ri({workspaceId:r,panels:a,enabled:!0}),j=()=>{l.trim()&&(m(l,c||void 0,u),s(""),d(""),p(!1),i("load"))},B=ne=>{f(ne),t()},le=(ne,ue)=>{ue.stopPropagation(),confirm("Are you sure you want to delete this layout?")&&v(ne)},ee=(ne,ue)=>{ue.stopPropagation(),h(ne)};return(0,Se.jsx)(nr,{open:e,onOpenChange:t,children:(0,Se.jsxs)(er,{className:"sm:max-w-[600px]",children:[(0,Se.jsxs)(Pr,{children:[(0,Se.jsxs)(Tr,{className:"flex items-center gap-2",children:[(0,Se.jsx)(vn,{className:"w-5 h-5 text-krushr-primary"}),"Layout Manager"]}),(0,Se.jsx)(lo,{children:"Save your current panel arrangement or load a previously saved layout"})]}),(0,Se.jsxs)(Cl,{value:n,onValueChange:i,className:"mt-4",children:[(0,Se.jsxs)(zi,{className:"grid w-full grid-cols-2",children:[(0,Se.jsxs)(qa,{value:"save",children:[(0,Se.jsx)(za,{className:"w-4 h-4 mr-2"}),"Save Layout"]}),(0,Se.jsxs)(qa,{value:"load",children:[(0,Se.jsx)(br,{className:"w-4 h-4 mr-2"}),"Load Layout"]})]}),(0,Se.jsxs)(Rl,{value:"save",className:"space-y-4 mt-4",children:[(0,Se.jsxs)("div",{className:"space-y-2",children:[(0,Se.jsx)(Ct,{htmlFor:"layout-name",children:"Layout Name"}),(0,Se.jsx)(Vr,{id:"layout-name",placeholder:"My Workspace Layout",value:l,onChange:ne=>s(ne.target.value),disabled:N})]}),(0,Se.jsxs)("div",{className:"space-y-2",children:[(0,Se.jsx)(Ct,{htmlFor:"layout-description",children:"Description (optional)"}),(0,Se.jsx)(Ba,{id:"layout-description",placeholder:"Describe this layout...",value:c,onChange:ne=>d(ne.target.value),disabled:N,rows:3})]}),(0,Se.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Se.jsx)("input",{type:"checkbox",id:"make-default",checked:u,onChange:ne=>p(ne.target.checked),disabled:N,className:"h-4 w-4 rounded border-gray-300 text-krushr-primary focus:ring-krushr-primary"}),(0,Se.jsx)(Ct,{htmlFor:"make-default",className:"text-sm font-normal",children:"Set as default layout for this workspace"})]}),(0,Se.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,Se.jsx)(T,{variant:"outline",onClick:t,disabled:N,children:"Cancel"}),(0,Se.jsx)(T,{onClick:j,disabled:!l.trim()||N,children:N?(0,Se.jsxs)(Se.Fragment,{children:[(0,Se.jsx)(Zt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):(0,Se.jsxs)(Se.Fragment,{children:[(0,Se.jsx)(za,{className:"w-4 h-4 mr-2"}),"Save Layout"]})})]})]}),(0,Se.jsxs)(Rl,{value:"load",className:"mt-4",children:[g.length===0?(0,Se.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Se.jsx)(Fa,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,Se.jsx)("p",{children:"No saved layouts yet"}),(0,Se.jsx)("p",{className:"text-sm mt-1",children:"Save your current layout to get started"})]}):(0,Se.jsx)("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:g.map(ne=>(0,Se.jsx)("div",{onClick:()=>B(ne.id),className:D("p-4 border rounded-lg cursor-pointer transition-colors","hover:bg-gray-50 hover:border-krushr-primary/50",ne.isDefault&&"border-krushr-primary bg-krushr-primary/5"),children:(0,Se.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Se.jsxs)("div",{className:"flex-1",children:[(0,Se.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Se.jsx)("h4",{className:"font-medium",children:ne.name}),ne.isDefault&&(0,Se.jsx)(Ra,{className:"w-4 h-4 text-krushr-primary fill-current"})]}),ne.description&&(0,Se.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:ne.description}),(0,Se.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Saved ",_f(new Date(ne.createdAt),{addSuffix:!0})]})]}),(0,Se.jsxs)("div",{className:"flex items-center gap-1 ml-4",children:[!ne.isDefault&&(0,Se.jsx)(T,{size:"sm",variant:"ghost",onClick:ue=>ee(ne.id,ue),disabled:M||C,title:"Set as default",children:(0,Se.jsx)(Ra,{className:"w-4 h-4"})}),(0,Se.jsx)(T,{size:"sm",variant:"ghost",onClick:ue=>le(ne.id,ue),disabled:F||C,className:"text-red-600 hover:text-red-700",children:(0,Se.jsx)(Hr,{className:"w-4 h-4"})})]})]})},ne.id))}),(0,Se.jsx)("div",{className:"flex justify-end gap-2 mt-4",children:(0,Se.jsx)(T,{variant:"outline",onClick:t,disabled:C,children:"Close"})})]})]})]})})}var Bt=w(z(),1);function ns(){let e=Nt(),{workspaceId:t}=Kc(),r=q.useUtils(),{showTaskCreationModal:a,taskCreationColumnId:o,taskCreationKanbanId:n,openTaskCreationModal:i,closeTaskCreationModal:l,showLayoutManager:s,layoutManagerMode:c,openLayoutManager:d,closeLayoutManager:u,triggerNoteCreation:p,toggleFocusMode:g,focusMode:m}=Tn(),{data:f,isLoading:v}=q.workspace.list.useQuery(void 0,{staleTime:3e5,cacheTime:6e5}),h=t?f?.find(A=>A.id===t):f?.find(A=>A._count.projects>0||A._count.teams>0||A._count.kanbans>0)||f?.[0],{data:N=[]}=q.panel.list.useQuery({workspaceId:h?.id??""},{enabled:!!h?.id,staleTime:6e4,cacheTime:3e5}),{data:C=[]}=q.kanban.list.useQuery({workspaceId:h?.id??""},{enabled:!!h?.id,staleTime:6e4,cacheTime:3e5}),F=C[0],{data:M}=q.kanban.get.useQuery({id:F?.id??""},{enabled:!!F?.id,staleTime:6e4,cacheTime:3e5}),j=q.panel.create.useMutation({onSuccess:()=>{h&&r.panel.list.invalidate({workspaceId:h.id})}}),B=q.panel.toggleMinimizeAll.useMutation({onSuccess:()=>{h&&r.panel.list.invalidate({workspaceId:h.id})}}),le=A=>{console.log("Navigate to:",A),e(A)};if((0,o0.useEffect)(()=>{let A=k=>{(k.metaKey||k.ctrlKey)&&k.shiftKey&&k.key==="F"&&(k.preventDefault(),g())};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[]),v)return(0,Bt.jsx)(Rt,{children:(0,Bt.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Bt.jsxs)("div",{className:"text-center",children:[(0,Bt.jsx)(Xe,{className:"w-8 h-8 mx-auto mb-2 animate-spin text-krushr-primary"}),(0,Bt.jsx)("p",{className:"text-gray-600",children:"Loading workspace..."})]})})});if(!h)return(0,Bt.jsx)(Rt,{children:(0,Bt.jsxs)("div",{className:"flex flex-col min-h-full",style:{backgroundColor:"hsl(0deg 0% 96.47%)"},children:[(0,Bt.jsx)(om,{workspaceId:"demo-workspace-id"}),(0,Bt.jsx)("div",{className:"flex items-center justify-center flex-1",children:(0,Bt.jsxs)("div",{className:"text-center",children:[(0,Bt.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Workspace Found"}),(0,Bt.jsx)("p",{className:"text-gray-600",children:"You need to create or join a workspace to use the panel system."}),(0,Bt.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"(Enhanced header shown above for testing)"})]})})]})});let ee=A=>{if(!h)return;if(A==="TASK"){let E=M?.columns?.[0];i({kanbanId:F?.id,columnId:E?.id});return}if(A==="NOTE"){p();return}let y={KANBAN:{title:"New Kanban Board",width:8,height:12},NOTES:{title:"New Note",width:6,height:10},CALENDAR:{title:"Calendar",width:10,height:14},CHAT:{title:"Chat",width:6,height:12}}[A]||{title:"New Panel",width:6,height:10};j.mutate({workspaceId:h.id,type:A,title:y.title,position_x:0,position_y:0,width:y.width,height:y.height,data:{}})},ne=A=>{switch(A){case"logout":Ye.getState().logout(),e("/login");break;case"save-layout":d("save");break;case"load-layout":d("load");break;case"focus-mode":g();break;case"minimize-all":ue();break;case"view-grid":case"view-list":console.log(`Switching to ${A.replace("view-","")} view...`);break;case"ai-analyze":case"ai-schedule":case"ai-suggest":console.log(`AI feature: ${A}`);break;default:console.log("Unknown action:",A)}},ue=()=>{if(!h)return;let A=(N||[]).some(k=>!k.is_minimized);B.mutate({workspaceId:h.id,minimize:A})};return(0,Bt.jsx)(Rt,{children:(0,Bt.jsxs)("div",{className:"flex flex-col min-h-full",style:{backgroundColor:"hsl(0deg 0% 96.47%)"},children:[m&&(0,Bt.jsxs)("div",{className:"bg-krushr-primary text-white text-sm py-1 px-4 flex items-center justify-center",children:[(0,Bt.jsx)(vs,{className:"w-4 h-4 mr-2"}),"Focus Mode Active - Press \u2318\u21E7F to exit"]}),(0,Bt.jsx)(am,{workspaceId:h.id,panels:N,onNavigate:le,onCreatePanel:ee,onAction:ne}),(0,Bt.jsx)(Lp,{workspaceId:h.id,className:"flex-1"}),a&&F&&(0,Bt.jsx)(Bf,{open:a,onClose:l,workspaceId:h.id,kanbanId:n||F.id,kanbanColumnId:o||M?.columns?.[0]?.id,onSuccess:()=>{l(),r.task.list.invalidate(),r.kanban.get.invalidate()}}),s&&(0,Bt.jsx)(nm,{open:s,onClose:u,workspaceId:h.id,panels:N,initialMode:c})]})})}var tn=w(X(),1);var Ue=w(X(),1),i0=w(ii(),1);var dt=w(z(),1),dm="ToastProvider",[um,i5,s5]=yf("Toast"),[s0,lz]=ra("Toast",[s5]),[l5,uc]=s0(dm),l0=e=>{let{__scopeToast:t,label:r="Notification",duration:a=5e3,swipeDirection:o="right",swipeThreshold:n=50,children:i}=e,[l,s]=Ue.useState(null),[c,d]=Ue.useState(0),u=Ue.useRef(!1),p=Ue.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${dm}\`. Expected non-empty \`string\`.`),(0,dt.jsx)(um.Provider,{scope:t,children:(0,dt.jsx)(l5,{scope:t,label:r,duration:a,swipeDirection:o,swipeThreshold:n,toastCount:c,viewport:l,onViewportChange:s,onToastAdd:Ue.useCallback(()=>d(g=>g+1),[]),onToastRemove:Ue.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:p,children:i})})};l0.displayName=dm;var c0="ToastViewport",c5=["F8"],sm="toast.viewportPause",lm="toast.viewportResume",d0=Ue.forwardRef((e,t)=>{let{__scopeToast:r,hotkey:a=c5,label:o="Notifications ({hotkey})",...n}=e,i=uc(c0,r),l=i5(r),s=Ue.useRef(null),c=Ue.useRef(null),d=Ue.useRef(null),u=Ue.useRef(null),p=fr(t,u,i.onViewportChange),g=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=i.toastCount>0;Ue.useEffect(()=>{let v=h=>{a.length!==0&&a.every(C=>h[C]||h.code===C)&&u.current?.focus()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[a]),Ue.useEffect(()=>{let v=s.current,h=u.current;if(m&&v&&h){let N=()=>{if(!i.isClosePausedRef.current){let j=new CustomEvent(sm);h.dispatchEvent(j),i.isClosePausedRef.current=!0}},C=()=>{if(i.isClosePausedRef.current){let j=new CustomEvent(lm);h.dispatchEvent(j),i.isClosePausedRef.current=!1}},F=j=>{!v.contains(j.relatedTarget)&&C()},M=()=>{v.contains(document.activeElement)||C()};return v.addEventListener("focusin",N),v.addEventListener("focusout",F),v.addEventListener("pointermove",N),v.addEventListener("pointerleave",M),window.addEventListener("blur",N),window.addEventListener("focus",C),()=>{v.removeEventListener("focusin",N),v.removeEventListener("focusout",F),v.removeEventListener("pointermove",N),v.removeEventListener("pointerleave",M),window.removeEventListener("blur",N),window.removeEventListener("focus",C)}}},[m,i.isClosePausedRef]);let f=Ue.useCallback(({tabbingDirection:v})=>{let N=l().map(C=>{let F=C.ref.current,M=[F,...k5(F)];return v==="forwards"?M:M.reverse()});return(v==="forwards"?N.reverse():N).flat()},[l]);return Ue.useEffect(()=>{let v=u.current;if(v){let h=N=>{let C=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!C){let M=document.activeElement,j=N.shiftKey;if(N.target===v&&j){c.current?.focus();return}let ee=f({tabbingDirection:j?"backwards":"forwards"}),ne=ee.findIndex(ue=>ue===M);im(ee.slice(ne+1))?N.preventDefault():j?c.current?.focus():d.current?.focus()}};return v.addEventListener("keydown",h),()=>v.removeEventListener("keydown",h)}},[l,f]),(0,dt.jsxs)(mf,{ref:s,role:"region","aria-label":o.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&(0,dt.jsx)(cm,{ref:c,onFocusFromOutsideViewport:()=>{let v=f({tabbingDirection:"forwards"});im(v)}}),(0,dt.jsx)(um.Slot,{scope:r,children:(0,dt.jsx)(Je.ol,{tabIndex:-1,...n,ref:p})}),m&&(0,dt.jsx)(cm,{ref:d,onFocusFromOutsideViewport:()=>{let v=f({tabbingDirection:"backwards"});im(v)}})]})});d0.displayName=c0;var u0="ToastFocusProxy",cm=Ue.forwardRef((e,t)=>{let{__scopeToast:r,onFocusFromOutsideViewport:a,...o}=e,n=uc(u0,r);return(0,dt.jsx)(Pc,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{let l=i.relatedTarget;!n.viewport?.contains(l)&&a()}})});cm.displayName=u0;var is="Toast",d5="toast.swipeStart",u5="toast.swipeMove",p5="toast.swipeCancel",m5="toast.swipeEnd",p0=Ue.forwardRef((e,t)=>{let{forceMount:r,open:a,defaultOpen:o,onOpenChange:n,...i}=e,[l,s]=Ea({prop:a,defaultProp:o??!0,onChange:n,caller:is});return(0,dt.jsx)(ja,{present:r||l,children:(0,dt.jsx)(h5,{open:l,...i,ref:t,onClose:()=>s(!1),onPause:mi(e.onPause),onResume:mi(e.onResume),onSwipeStart:vt(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:vt(e.onSwipeMove,c=>{let{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:vt(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:vt(e.onSwipeEnd,c=>{let{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),s(!1)})})})});p0.displayName=is;var[f5,g5]=s0(is,{onClose(){}}),h5=Ue.forwardRef((e,t)=>{let{__scopeToast:r,type:a="foreground",duration:o,open:n,onClose:i,onEscapeKeyDown:l,onPause:s,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:p,onSwipeEnd:g,...m}=e,f=uc(is,r),[v,h]=Ue.useState(null),N=fr(t,y=>h(y)),C=Ue.useRef(null),F=Ue.useRef(null),M=o||f.duration,j=Ue.useRef(0),B=Ue.useRef(M),le=Ue.useRef(0),{onToastAdd:ee,onToastRemove:ne}=f,ue=mi(()=>{v?.contains(document.activeElement)&&f.viewport?.focus(),i()}),A=Ue.useCallback(y=>{!y||y===1/0||(window.clearTimeout(le.current),j.current=new Date().getTime(),le.current=window.setTimeout(ue,y))},[ue]);Ue.useEffect(()=>{let y=f.viewport;if(y){let E=()=>{A(B.current),c?.()},x=()=>{let S=new Date().getTime()-j.current;B.current=B.current-S,window.clearTimeout(le.current),s?.()};return y.addEventListener(sm,x),y.addEventListener(lm,E),()=>{y.removeEventListener(sm,x),y.removeEventListener(lm,E)}}},[f.viewport,M,s,c,A]),Ue.useEffect(()=>{n&&!f.isClosePausedRef.current&&A(M)},[n,M,f.isClosePausedRef,A]),Ue.useEffect(()=>(ee(),()=>ne()),[ee,ne]);let k=Ue.useMemo(()=>v?y0(v):null,[v]);return f.viewport?(0,dt.jsxs)(dt.Fragment,{children:[k&&(0,dt.jsx)(v5,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),(0,dt.jsx)(f5,{scope:r,onClose:ue,children:i0.createPortal((0,dt.jsx)(um.ItemSlot,{scope:r,children:(0,dt.jsx)(pf,{asChild:!0,onEscapeKeyDown:vt(l,()=>{f.isFocusedToastEscapeKeyDownRef.current||ue(),f.isFocusedToastEscapeKeyDownRef.current=!1}),children:(0,dt.jsx)(Je.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":n?"open":"closed","data-swipe-direction":f.swipeDirection,...m,ref:N,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:vt(e.onKeyDown,y=>{y.key==="Escape"&&(l?.(y.nativeEvent),y.nativeEvent.defaultPrevented||(f.isFocusedToastEscapeKeyDownRef.current=!0,ue()))}),onPointerDown:vt(e.onPointerDown,y=>{y.button===0&&(C.current={x:y.clientX,y:y.clientY})}),onPointerMove:vt(e.onPointerMove,y=>{if(!C.current)return;let E=y.clientX-C.current.x,x=y.clientY-C.current.y,S=!!F.current,P=["left","right"].includes(f.swipeDirection),Y=["left","up"].includes(f.swipeDirection)?Math.min:Math.max,be=P?Y(0,E):0,K=P?0:Y(0,x),_=y.pointerType==="touch"?10:2,re={x:be,y:K},Q={originalEvent:y,delta:re};S?(F.current=re,dc(u5,u,Q,{discrete:!1})):n0(re,f.swipeDirection,_)?(F.current=re,dc(d5,d,Q,{discrete:!1}),y.target.setPointerCapture(y.pointerId)):(Math.abs(E)>_||Math.abs(x)>_)&&(C.current=null)}),onPointerUp:vt(e.onPointerUp,y=>{let E=F.current,x=y.target;if(x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId),F.current=null,C.current=null,E){let S=y.currentTarget,P={originalEvent:y,delta:E};n0(E,f.swipeDirection,f.swipeThreshold)?dc(m5,g,P,{discrete:!0}):dc(p5,p,P,{discrete:!0}),S.addEventListener("click",Y=>Y.preventDefault(),{once:!0})}})})})}),f.viewport)})]}):null}),v5=e=>{let{__scopeToast:t,children:r,...a}=e,o=uc(is,t),[n,i]=Ue.useState(!1),[l,s]=Ue.useState(!1);return w5(()=>i(!0)),Ue.useEffect(()=>{let c=window.setTimeout(()=>s(!0),1e3);return()=>window.clearTimeout(c)},[]),l?null:(0,dt.jsx)(Ps,{asChild:!0,children:(0,dt.jsx)(Pc,{...a,children:n&&(0,dt.jsxs)(dt.Fragment,{children:[o.label," ",r]})})})},b5="ToastTitle",m0=Ue.forwardRef((e,t)=>{let{__scopeToast:r,...a}=e;return(0,dt.jsx)(Je.div,{...a,ref:t})});m0.displayName=b5;var y5="ToastDescription",f0=Ue.forwardRef((e,t)=>{let{__scopeToast:r,...a}=e;return(0,dt.jsx)(Je.div,{...a,ref:t})});f0.displayName=y5;var g0="ToastAction",h0=Ue.forwardRef((e,t)=>{let{altText:r,...a}=e;return r.trim()?(0,dt.jsx)(b0,{altText:r,asChild:!0,children:(0,dt.jsx)(pm,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${g0}\`. Expected non-empty \`string\`.`),null)});h0.displayName=g0;var v0="ToastClose",pm=Ue.forwardRef((e,t)=>{let{__scopeToast:r,...a}=e,o=g5(v0,r);return(0,dt.jsx)(b0,{asChild:!0,children:(0,dt.jsx)(Je.button,{type:"button",...a,ref:t,onClick:vt(e.onClick,o.onClose)})})});pm.displayName=v0;var b0=Ue.forwardRef((e,t)=>{let{__scopeToast:r,altText:a,...o}=e;return(0,dt.jsx)(Je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...o,ref:t})});function y0(e){let t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),x5(a)){let o=a.ariaHidden||a.hidden||a.style.display==="none",n=a.dataset.radixToastAnnounceExclude==="";if(!o)if(n){let i=a.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...y0(a))}}),t}function dc(e,t,r,{discrete:a}){let o=r.originalEvent.currentTarget,n=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),a?df(o,n):o.dispatchEvent(n)}var n0=(e,t,r=0)=>{let a=Math.abs(e.x),o=Math.abs(e.y),n=a>o;return t==="left"||t==="right"?n&&a>r:!n&&o>r};function w5(e=()=>{}){let t=mi(e);cf(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[t])}function x5(e){return e.nodeType===e.ELEMENT_NODE}function k5(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{let o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function im(e){let t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var w0=l0,mm=d0,fm=p0,gm=m0,hm=f0,vm=h0,bm=pm;var Co=w(z(),1),x0=w0,ym=tn.forwardRef(({className:e,...t},r)=>(0,Co.jsx)(mm,{ref:r,className:D("fixed top-0 z-[9999999] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ym.displayName=mm.displayName;var C5=on("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wm=tn.forwardRef(({className:e,variant:t,...r},a)=>(0,Co.jsx)(fm,{ref:a,className:D(C5({variant:t}),e),...r}));wm.displayName=fm.displayName;var R5=tn.forwardRef(({className:e,...t},r)=>(0,Co.jsx)(vm,{ref:r,className:D("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));R5.displayName=vm.displayName;var xm=tn.forwardRef(({className:e,...t},r)=>(0,Co.jsx)(bm,{ref:r,className:D("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:(0,Co.jsx)(ht,{className:"h-4 w-4"})}));xm.displayName=bm.displayName;var km=tn.forwardRef(({className:e,...t},r)=>(0,Co.jsx)(gm,{ref:r,className:D("text-sm font-semibold [&+div]:text-xs",e),...t}));km.displayName=gm.displayName;var Nm=tn.forwardRef(({className:e,...t},r)=>(0,Co.jsx)(hm,{ref:r,className:D("text-sm opacity-90",e),...t}));Nm.displayName=hm.displayName;var Qa=w(z(),1);function k0(){let{toasts:e}=Rn();return(0,Qa.jsxs)(x0,{children:[e.map(function({id:t,title:r,description:a,action:o,...n}){return(0,Qa.jsxs)(wm,{...n,children:[(0,Qa.jsxs)("div",{className:"grid gap-1",children:[r&&(0,Qa.jsx)(km,{children:r}),a&&(0,Qa.jsx)(Nm,{children:a})]}),o,(0,Qa.jsx)(xm,{})]},t)}),(0,Qa.jsx)(ym,{})]})}var C0=w(z(),1),N0=({...e})=>(0,C0.jsx)(Us,{theme:"light",className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-white group-[.toaster]:text-gray-900 group-[.toaster]:border-gray-200 group-[.toaster]:shadow-lg",description:"group-[.toast]:text-gray-600",actionButton:"group-[.toast]:bg-krushr-primary group-[.toast]:text-white",cancelButton:"group-[.toast]:bg-gray-100 group-[.toast]:text-gray-900",error:"group-[.toaster]:bg-red-50 group-[.toaster]:text-red-900 group-[.toaster]:border-red-200",success:"group-[.toaster]:bg-green-50 group-[.toaster]:text-green-900 group-[.toaster]:border-green-200",warning:"group-[.toaster]:bg-orange-50 group-[.toaster]:text-orange-900 group-[.toaster]:border-orange-200",info:"group-[.toaster]:bg-blue-50 group-[.toaster]:text-blue-900 group-[.toaster]:border-blue-200"}},...e});var ke=w(z(),1);function ua({children:e}){let{isAuthenticated:t,isLoading:r}=Ye();return r?(0,ke.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ke.jsxs)("div",{className:"text-center",children:[(0,ke.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"}),(0,ke.jsx)("p",{children:"Loading..."})]})}):t?(0,ke.jsx)(ke.Fragment,{children:e}):(0,ke.jsx)(Xs,{to:"/login",replace:!0})}function Cm(){let{hydrate:e}=Ye();return(0,R0.useEffect)(()=>{e().catch(console.error)},[e]),(0,ke.jsxs)(nd,{children:[(0,ke.jsx)(td,{children:(0,ke.jsxs)(Jc,{children:[(0,ke.jsx)(qt,{path:"/",element:(0,ke.jsx)(Xs,{to:"/workspace",replace:!0})}),(0,ke.jsx)(qt,{path:"/test",element:(0,ke.jsx)(qd,{})}),(0,ke.jsx)(qt,{path:"/login",element:(0,ke.jsx)(Vd,{})}),(0,ke.jsx)(qt,{path:"/register",element:(0,ke.jsx)(Xd,{})}),(0,ke.jsx)(qt,{path:"/pricing",element:(0,ke.jsx)(Pb,{})}),(0,ke.jsx)(qt,{path:"/home",element:(0,ke.jsx)(ua,{children:(0,ke.jsx)(ku,{})})}),(0,ke.jsx)(qt,{path:"/board",element:(0,ke.jsx)(ua,{children:(0,ke.jsx)(Su,{})})}),(0,ke.jsx)(qt,{path:"/calendar",element:(0,ke.jsx)(ua,{children:(0,ke.jsx)(Pu,{})})}),(0,ke.jsx)(qt,{path:"/notes",element:(0,ke.jsx)(ua,{children:(0,ke.jsx)(Tu,{})})}),(0,ke.jsx)(qt,{path:"/chat",element:(0,ke.jsx)(ua,{children:(0,ke.jsx)(_u,{})})}),(0,ke.jsx)(qt,{path:"/teams",element:(0,ke.jsx)(ua,{children:(0,ke.jsx)(Lu,{})})}),(0,ke.jsx)(qt,{path:"/projects",element:(0,ke.jsx)(ua,{children:(0,ke.jsx)(Ou,{})})}),(0,ke.jsx)(qt,{path:"/workspace",element:(0,ke.jsx)(ua,{children:(0,ke.jsx)(ns,{})})}),(0,ke.jsx)(qt,{path:"/workspace/:workspaceId",element:(0,ke.jsx)(ua,{children:(0,ke.jsx)(ns,{})})}),(0,ke.jsx)(qt,{path:"/workspaces/new",element:(0,ke.jsx)(ua,{children:(0,ke.jsx)(ns,{})})}),(0,ke.jsx)(qt,{path:"/profile",element:(0,ke.jsx)(ua,{children:(0,ke.jsx)(Fu,{})})}),(0,ke.jsx)(qt,{path:"/settings",element:(0,ke.jsx)(ua,{children:(0,ke.jsx)(zu,{})})})]})}),(0,ke.jsx)(k0,{}),(0,ke.jsx)(N0,{position:"top-center",richColors:!0})]})}var ss=w(z(),1);function S5(){if(typeof window<"u"&&window.customElements){let e=window.customElements.define.bind(window.customElements),t=new Set;try{Object.getOwnPropertyNames(window.customElements).forEach(o=>t.add(o))}catch{["mce-autosize-textarea","mce-editor","tinymce-editor"].forEach(n=>{window.customElements.get(n)&&t.add(n)})}window.customElements.define=function(a,o,n){if(t.has(a)||window.customElements.get(a)){console.warn(`\u26A0\uFE0F Custom element '${a}' already defined, skipping duplicate registration`);return}try{let i=e(a,o,n);return t.add(a),i}catch(i){if(i instanceof Error&&(i.message.includes("already been defined")||i.message.includes("already defined")||i.name==="NotSupportedError")){console.warn(`\u26A0\uFE0F Custom element '${a}' registration prevented:`,i.message),t.add(a);return}if(D0()){console.warn(`\u26A0\uFE0F Custom element '${a}' error suppressed in dev:`,i.message);return}throw console.error(`\u274C Failed to define custom element '${a}':`,i),i}};let r=window.addEventListener;window.addEventListener=function(a,o,n){if(a==="error"){let i=function(l){if(l.error&&l.error.message&&l.error.message.includes("already been defined")){console.warn("\u26A0\uFE0F Prevented custom element duplicate registration error:",l.error.message),l.preventDefault();return}if(typeof o=="function")return o.call(this,l)};return r.call(this,a,i,n)}return r.call(this,a,o,n)},window.addEventListener("error",a=>{if(a.error&&a.error.message&&a.error.message.includes("already been defined"))return console.warn("\u26A0\uFE0F Global error handler caught custom element duplicate registration:",a.error.message),a.preventDefault(),a.stopPropagation(),!1},!0),window.WebComponents&&window.WebComponents.ready&&console.warn("\u26A0\uFE0F WebComponents polyfill detected - enhanced error suppression active")}}S5();if(D0()){let e=console.log,t=console.info,r=console.warn,a=o=>function(...n){if(!(n.length>0&&typeof n[0]=="string"&&n[0].includes("Download the React DevTools")))return o.apply(console,n)};console.log=a(e),console.info=a(t),console.warn=a(r)}window.addEventListener("error",e=>{let t=e.error?.message||e.message||"";if(t.includes("mce-autosize-textarea")||t.includes("already been defined")||t.includes("custom element")||e.filename?.includes("webcomponents")||e.filename?.includes("overlay_bundle"))return console.warn("\u26A0\uFE0F Suppressed webcomponents error:",t),e.preventDefault(),e.stopPropagation(),!1},!0);function D0(){return window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.startsWith("192.168.")||window.location.hostname.startsWith("10.")||window.location.port!==""||window.location.protocol==="http:"||!1}async function D5(){if("serviceWorker"in navigator)try{let e=await navigator.serviceWorker.getRegistrations();for(let t of e)await t.unregister(),console.log("\u{1F5D1}\uFE0F Unregistered existing service worker:",t.scope);console.log("\u{1F6AB} Service Worker cleanup completed for Vercel deployment")}catch{}}window.addEventListener("load",D5);var E5=(0,S0.createRoot)(document.getElementById("app"));E5.render((0,ss.jsxs)(kb,{children:[(0,ss.jsx)(Cm,{}),(0,ss.jsx)(Us,{position:"top-right",richColors:!0})]}));
/*! Bundled license information:

react-router/dist/development/chunk-QMGIS6GS.mjs:
react-router/dist/development/index.mjs:
  (**
   * react-router v7.6.3
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)
*/
