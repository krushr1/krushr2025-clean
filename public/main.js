import{A as Pp,B as wa,C as Ua,D as xa,E as ka,F as ht,G as dn,H as No,I as Wa,J as $a,K as Ap,L as Ip,M as vs,N as Lp,O as bs,P as Op,Q as zp,R as jp,S as Up,a as Lt,b as br,c as tn,d as is,e as rn,f as ss,g as ls,h as cs,i as tc,j as Sp,k as an,l as ds,m as on,n as vo,o as bo,p as Kn,q as Gn,r as qn,s as us,t as ms,u as ya,v as yo,w as wo,x as sn,y as ln,z as ps}from"/chunks/chunk-ZL5WJ6SB.js";import{a as Wp}from"/chunks/chunk-HNDZNLAP.js";import{a as lr,b as Hp}from"/chunks/chunk-B565GQFQ.js";import{a as Kt,b as Vn,c as hs,d as Bp,e as un}from"/chunks/chunk-CAXLYIK5.js";import{A as _p,B as Mp,C as rr,a as Oe,b as ot,c as Pt,d as Ui,e as qe,f as xe,g as Et,h as cn,i as Tr,j as Dp,n as xo,o as fs,p as rc,q as ac,r as ia,t as sr,u as oc,v as gs,x as tr,y as Ep,z as Tp}from"/chunks/chunk-QRIC7R5K.js";import{a as Ee}from"/chunks/chunk-IANVKD3C.js";import{a as Vm,b as Xm,c as ba,d as Ht,e as Jt,f as Fp}from"/chunks/chunk-CZKUXEZA.js";import{a as ji,b as Yo,c as C}from"/chunks/chunk-NZBLXIDN.js";import{a as Km,b as Gm,c as X,d as qm}from"/chunks/chunk-6W2CN5GW.js";import{a as ko}from"/chunks/chunk-SIAFKOCI.js";import{a as ge,c as Yt,e as Be,f as Rp,g as en,h as ir,j as nn,k as st,l as At,m as lt}from"/chunks/chunk-BAU7VHDQ.js";import{a as Fi}from"/chunks/chunk-VGELVBOW.js";import{a as ra,b as St,c as Bi,e as Hi}from"/chunks/chunk-KZ7WDE2O.js";import{$ as Xi,$a as os,A as vr,Aa as fp,B as rp,Ba as gp,C as za,Ca as hp,D as Cr,Da as Ie,E as ap,Ea as ja,F as Ki,Fa as Jl,Ga as rs,H as Yr,Ha as gt,I as Gi,Ia as Yn,J as qo,Ja as Ql,K as op,Ka as Pr,L as Rr,La as vp,M as ga,Ma as bp,N as Un,Na as as,O as np,Oa as yp,P as qi,Pa as Zl,Q as ip,Qa as wp,R as Vi,Ra as Zo,S as sp,Sa as go,T as lp,Ta as na,U as Dt,Ua as xp,V as cp,Va as kp,W as Gl,Wa as Dr,X as mo,Xa as Np,Y as aa,Ya as ho,Z as Fa,Za as Er,_ as dp,_a as ha,a as it,aa as ql,ab as er,ba as Wn,bb as dt,c as y,ca as po,cb as ns,d as Q,db as Cp,e as M,ea as Vl,eb as ec,fa as Xl,fb as Mt,g as S,ga as Vo,gb as va,h as Jm,ha as up,ia as Ji,j as Ko,ja as kt,k as Qm,ka as Qi,la as oa,m as jn,ma as fo,n as Zm,na as Sr,o as nr,oa as mp,p as ep,pa as Zi,q as Wi,qa as Xo,r as $i,ra as es,sa as _t,ta as Ba,u as Re,ua as $n,v as Yi,va as Jo,w as tp,wa as Qo,x as Oa,xa as ts,y as Zt,ya as Ha,z as Go,za as pp}from"/chunks/chunk-UTGMEFH3.js";var Yp=it(nc=>{"use strict";var $p=Fi();nc.createRoot=$p.createRoot,nc.hydrateRoot=$p.hydrateRoot;var VC});var qp=it(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.parse=B0;ys.serialize=H0;var A0=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,I0=/^[\u0021-\u003A\u003C-\u007E]*$/,L0=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,O0=/^[\u0020-\u003A\u003D-\u007E]*$/,z0=Object.prototype.toString,F0=(()=>{let e=function(){};return e.prototype=Object.create(null),e})();function B0(e,t){let r=new F0,a=e.length;if(a<2)return r;let o=t?.decode||j0,n=0;do{let i=e.indexOf("=",n);if(i===-1)break;let l=e.indexOf(";",n),s=l===-1?a:l;if(i>s){n=e.lastIndexOf(";",i-1)+1;continue}let c=Kp(e,n,i),d=Gp(e,i,c),u=e.slice(c,d);if(r[u]===void 0){let m=Kp(e,i+1,s),g=Gp(e,s,m),p=o(e.slice(m,g));r[u]=p}n=s+1}while(n<a);return r}function Kp(e,t,r){do{let a=e.charCodeAt(t);if(a!==32&&a!==9)return t}while(++t<r);return r}function Gp(e,t,r){for(;t>r;){let a=e.charCodeAt(--t);if(a!==32&&a!==9)return t+1}return r}function H0(e,t,r){let a=r?.encode||encodeURIComponent;if(!A0.test(e))throw new TypeError(`argument name is invalid: ${e}`);let o=a(t);if(!I0.test(o))throw new TypeError(`argument val is invalid: ${t}`);let n=e+"="+o;if(!r)return n;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);n+="; Max-Age="+r.maxAge}if(r.domain){if(!L0.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);n+="; Domain="+r.domain}if(r.path){if(!O0.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);n+="; Path="+r.path}if(r.expires){if(!U0(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);n+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(n+="; HttpOnly"),r.secure&&(n+="; Secure"),r.partitioned&&(n+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":n+="; Priority=Low";break;case"medium":n+="; Priority=Medium";break;case"high":n+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":n+="; SameSite=Strict";break;case"lax":n+="; SameSite=Lax";break;case"none":n+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return n}function j0(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function U0(e){return z0.call(e)==="[object Date]"}});var sl=it((il,Fh)=>{(function(e,t){typeof il=="object"&&typeof Fh<"u"?t(il):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e["fast-equals"]={}))})(il,function(e){"use strict";function t(P){return function(Z,ne,Ne,j,ue,je,rt){return P(Z,ne,rt)}}function r(P){return function(Z,ne,Ne,j){if(!Z||!ne||typeof Z!="object"||typeof ne!="object")return P(Z,ne,Ne,j);var ue=j.get(Z),je=j.get(ne);if(ue&&je)return ue===ne&&je===Z;j.set(Z,ne),j.set(ne,Z);var rt=P(Z,ne,Ne,j);return j.delete(Z),j.delete(ne),rt}}function a(P,k){var Z={};for(var ne in P)Z[ne]=P[ne];for(var ne in k)Z[ne]=k[ne];return Z}function o(P){return P.constructor===Object||P.constructor==null}function n(P){return typeof P.then=="function"}function i(P,k){return P===k||P!==P&&k!==k}var l="[object Arguments]",s="[object Boolean]",c="[object Date]",d="[object RegExp]",u="[object Map]",m="[object Number]",g="[object Object]",p="[object Set]",f="[object String]",v=Object.prototype.toString;function h(P){var k=P.areArraysEqual,Z=P.areDatesEqual,ne=P.areMapsEqual,Ne=P.areObjectsEqual,j=P.areRegExpsEqual,ue=P.areSetsEqual,je=P.createIsNestedEqual,rt=je(Zr);function Zr(xt,It,ea){if(xt===It)return!0;if(!xt||!It||typeof xt!="object"||typeof It!="object")return xt!==xt&&It!==It;if(o(xt)&&o(It))return Ne(xt,It,rt,ea);var $m=Array.isArray(xt),Ym=Array.isArray(It);if($m||Ym)return $m===Ym&&k(xt,It,rt,ea);var ta=v.call(xt);return ta!==v.call(It)?!1:ta===c?Z(xt,It,rt,ea):ta===d?j(xt,It,rt,ea):ta===u?ne(xt,It,rt,ea):ta===p?ue(xt,It,rt,ea):ta===g||ta===l?n(xt)||n(It)?!1:Ne(xt,It,rt,ea):ta===s||ta===m||ta===f?i(xt.valueOf(),It.valueOf()):!1}return Zr}function w(P,k,Z,ne){var Ne=P.length;if(k.length!==Ne)return!1;for(;Ne-- >0;)if(!Z(P[Ne],k[Ne],Ne,Ne,P,k,ne))return!1;return!0}var x=r(w);function _(P,k){return i(P.valueOf(),k.valueOf())}function O(P,k,Z,ne){var Ne=P.size===k.size;if(!Ne)return!1;if(!P.size)return!0;var j={},ue=0;return P.forEach(function(je,rt){if(Ne){var Zr=!1,xt=0;k.forEach(function(It,ea){!Zr&&!j[xt]&&(Zr=Z(rt,ea,ue,xt,P,k,ne)&&Z(je,It,rt,ea,P,k,ne))&&(j[xt]=!0),xt++}),ue++,Ne=Zr}}),Ne}var B=r(O),E="_owner",ee=Object.prototype.hasOwnProperty;function ae(P,k,Z,ne){var Ne=Object.keys(P),j=Ne.length;if(Object.keys(k).length!==j)return!1;for(var ue;j-- >0;){if(ue=Ne[j],ue===E){var je=!!P.$$typeof,rt=!!k.$$typeof;if((je||rt)&&je!==rt)return!1}if(!ee.call(k,ue)||!Z(P[ue],k[ue],ue,ue,P,k,ne))return!1}return!0}var Ae=r(ae);function ze(P,k){return P.source===k.source&&P.flags===k.flags}function A(P,k,Z,ne){var Ne=P.size===k.size;if(!Ne)return!1;if(!P.size)return!0;var j={};return P.forEach(function(ue,je){if(Ne){var rt=!1,Zr=0;k.forEach(function(xt,It){!rt&&!j[Zr]&&(rt=Z(ue,xt,je,It,P,k,ne))&&(j[Zr]=!0),Zr++}),Ne=rt}}),Ne}var L=r(A),H=Object.freeze({areArraysEqual:w,areDatesEqual:_,areMapsEqual:O,areObjectsEqual:ae,areRegExpsEqual:ze,areSetsEqual:A,createIsNestedEqual:t}),z=Object.freeze({areArraysEqual:x,areDatesEqual:_,areMapsEqual:B,areObjectsEqual:Ae,areRegExpsEqual:ze,areSetsEqual:L,createIsNestedEqual:t}),D=h(H);function U(P,k){return D(P,k,void 0)}var R=h(a(H,{createIsNestedEqual:function(){return i}}));function T(P,k){return R(P,k,void 0)}var le=h(z);function oe(P,k){return le(P,k,new WeakMap)}var F=h(a(z,{createIsNestedEqual:function(){return i}}));function q(P,k){return F(P,k,new WeakMap)}function G(P){return h(a(H,P(H)))}function J(P){var k=h(a(z,P(z)));return function(Z,ne,Ne){return Ne===void 0&&(Ne=new WeakMap),k(Z,ne,Ne)}}e.circularDeepEqual=oe,e.circularShallowEqual=q,e.createCustomCircularEqual=J,e.createCustomEqual=G,e.deepEqual=U,e.sameValueZeroEqual=i,e.shallowEqual=T,Object.defineProperty(e,"__esModule",{value:!0})})});var bi=it((gA,Xd)=>{function Hh(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Hh(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Bh(){for(var e,t,r=0,a="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Hh(e))&&(a&&(a+=" "),a+=t);return a}Xd.exports=Bh,Xd.exports.clsx=Bh});var Uh=it((hA,jh)=>{jh.exports=function(t,r,a){return t===r?!0:t.className===r.className&&a(t.style,r.style)&&t.width===r.width&&t.autoSize===r.autoSize&&t.cols===r.cols&&t.draggableCancel===r.draggableCancel&&t.draggableHandle===r.draggableHandle&&a(t.verticalCompact,r.verticalCompact)&&a(t.compactType,r.compactType)&&a(t.layout,r.layout)&&a(t.margin,r.margin)&&a(t.containerPadding,r.containerPadding)&&t.rowHeight===r.rowHeight&&t.maxRows===r.maxRows&&t.isBounded===r.isBounded&&t.isDraggable===r.isDraggable&&t.isResizable===r.isResizable&&t.allowOverlap===r.allowOverlap&&t.preventCollision===r.preventCollision&&t.useCSSTransforms===r.useCSSTransforms&&t.transformScale===r.transformScale&&t.isDroppable===r.isDroppable&&a(t.resizeHandles,r.resizeHandles)&&a(t.resizeHandle,r.resizeHandle)&&t.onLayoutChange===r.onLayoutChange&&t.onDragStart===r.onDragStart&&t.onDrag===r.onDrag&&t.onDragStop===r.onDragStop&&t.onResizeStart===r.onResizeStart&&t.onResize===r.onResize&&t.onResizeStop===r.onResizeStop&&t.onDrop===r.onDrop&&a(t.droppingItem,r.droppingItem)&&a(t.innerRef,r.innerRef)}});var Mo=it(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.bottom=Zd;Xe.childrenEqual=ik;Xe.cloneLayout=$h;Xe.cloneLayoutItem=_o;Xe.collides=cl;Xe.compact=Kh;Xe.compactItem=Gh;Xe.compactType=yk;Xe.correctBounds=qh;Xe.fastPositionEqual=sk;Xe.fastRGLPropsEqual=void 0;Xe.getAllCollisions=Vh;Xe.getFirstCollision=To;Xe.getLayoutItem=eu;Xe.getStatics=tu;Xe.modifyLayout=Yh;Xe.moveElement=wi;Xe.moveElementAwayFromCollision=Qd;Xe.noop=void 0;Xe.perc=ck;Xe.resizeItemInDirection=gk;Xe.setTopLeft=vk;Xe.setTransform=hk;Xe.sortLayoutItems=su;Xe.sortLayoutItemsByColRow=ev;Xe.sortLayoutItemsByRowCol=Zh;Xe.synchronizeLayoutWithChildren=bk;Xe.validateLayout=tv;Xe.withLayoutItem=nk;var Wh=sl(),yi=rk(Q());function rk(e){return e&&e.__esModule?e:{default:e}}var ak=!0,ok=!1;function Zd(e){let t=0,r;for(let a=0,o=e.length;a<o;a++)r=e[a].y+e[a].h,r>t&&(t=r);return t}function $h(e){let t=Array(e.length);for(let r=0,a=e.length;r<a;r++)t[r]=_o(e[r]);return t}function Yh(e,t){let r=Array(e.length);for(let a=0,o=e.length;a<o;a++)t.i===e[a].i?r[a]=t:r[a]=e[a];return r}function nk(e,t,r){let a=eu(e,t);return a?(a=r(_o(a)),e=Yh(e,a),[e,a]):[e,null]}function _o(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:!!e.moved,static:!!e.static,isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}function ik(e,t){return(0,Wh.deepEqual)(yi.default.Children.map(e,r=>r?.key),yi.default.Children.map(t,r=>r?.key))&&(0,Wh.deepEqual)(yi.default.Children.map(e,r=>r?.props["data-grid"]),yi.default.Children.map(t,r=>r?.props["data-grid"]))}var vA=Xe.fastRGLPropsEqual=Uh();function sk(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height}function cl(e,t){return!(e.i===t.i||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function Kh(e,t,r,a){let o=tu(e),n=su(e,t),i=Array(e.length);for(let l=0,s=n.length;l<s;l++){let c=_o(n[l]);c.static||(c=Gh(o,c,t,r,n,a),o.push(c)),i[e.indexOf(n[l])]=c,c.moved=!1}return i}var lk={x:"w",y:"h"};function Jd(e,t,r,a){let o=lk[a];t[a]+=1;let n=e.map(i=>i.i).indexOf(t.i);for(let i=n+1;i<e.length;i++){let l=e[i];if(!l.static){if(l.y>t.y+t.h)break;cl(t,l)&&Jd(e,l,r+t[o],a)}}t[a]=r}function Gh(e,t,r,a,o,n){let i=r==="vertical",l=r==="horizontal";if(i)for(t.y=Math.min(Zd(e),t.y);t.y>0&&!To(e,t);)t.y--;else if(l)for(;t.x>0&&!To(e,t);)t.x--;let s;for(;(s=To(e,t))&&!(r===null&&n);)if(l?Jd(o,t,s.x+s.w,"x"):Jd(o,t,s.y+s.h,"y"),l&&t.x+t.w>a)for(t.x=a-t.w,t.y++;t.x>0&&!To(e,t);)t.x--;return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function qh(e,t){let r=tu(e);for(let a=0,o=e.length;a<o;a++){let n=e[a];if(n.x+n.w>t.cols&&(n.x=t.cols-n.w),n.x<0&&(n.x=0,n.w=t.cols),!n.static)r.push(n);else for(;To(r,n);)n.y++}return e}function eu(e,t){for(let r=0,a=e.length;r<a;r++)if(e[r].i===t)return e[r]}function To(e,t){for(let r=0,a=e.length;r<a;r++)if(cl(e[r],t))return e[r]}function Vh(e,t){return e.filter(r=>cl(r,t))}function tu(e){return e.filter(t=>t.static)}function wi(e,t,r,a,o,n,i,l,s){if(t.static&&t.isDraggable!==!0||t.y===a&&t.x===r)return e;ll(`Moving element ${t.i} to [${String(r)},${String(a)}] from [${t.x},${t.y}]`);let c=t.x,d=t.y;typeof r=="number"&&(t.x=r),typeof a=="number"&&(t.y=a),t.moved=!0;let u=su(e,i);(i==="vertical"&&typeof a=="number"?d>=a:i==="horizontal"&&typeof r=="number"?c>=r:!1)&&(u=u.reverse());let g=Vh(u,t),p=g.length>0;if(p&&s)return $h(e);if(p&&n)return ll(`Collision prevented on ${t.i}, reverting.`),t.x=c,t.y=d,t.moved=!1,e;for(let f=0,v=g.length;f<v;f++){let h=g[f];ll(`Resolving collision between ${t.i} at [${t.x},${t.y}] and ${h.i} at [${h.x},${h.y}]`),!h.moved&&(h.static?e=Qd(e,h,t,o,i,l):e=Qd(e,t,h,o,i,l))}return e}function Qd(e,t,r,a,o,n){let i=o==="horizontal",l=o==="vertical",s=t.static;if(a){a=!1;let u={x:i?Math.max(t.x-r.w,0):r.x,y:l?Math.max(t.y-r.h,0):r.y,w:r.w,h:r.h,i:"-1"},m=To(e,u),g=m&&m.y+m.h>t.y,p=m&&t.x+t.w>m.x;if(m){if(g&&l)return wi(e,r,void 0,t.y+1,a,s,o,n);if(g&&o==null)return t.y=r.y,r.y=r.y+r.h,e;if(p&&i)return wi(e,t,r.x,void 0,a,s,o,n)}else return ll(`Doing reverse collision on ${r.i} up to [${u.x},${u.y}].`),wi(e,r,i?u.x:void 0,l?u.y:void 0,a,s,o,n)}let c=i?r.x+1:void 0,d=l?r.y+1:void 0;return c==null&&d==null?e:wi(e,r,i?r.x+1:void 0,l?r.y+1:void 0,a,s,o,n)}function ck(e){return e*100+"%"}var Xh=(e,t,r,a)=>e+r>a?t:r,Jh=(e,t,r)=>e<0?t:r,Qh=e=>Math.max(0,e),ru=e=>Math.max(0,e),au=(e,t,r)=>{let{left:a,height:o,width:n}=t,i=e.top-(o-e.height);return{left:a,width:n,height:Jh(i,e.height,o),top:ru(i)}},ou=(e,t,r)=>{let{top:a,left:o,height:n,width:i}=t;return{top:a,height:n,width:Xh(e.left,e.width,i,r),left:Qh(o)}},nu=(e,t,r)=>{let{top:a,height:o,width:n}=t,i=e.left-(n-e.width);return{height:o,width:i<0?e.width:Xh(e.left,e.width,n,r),top:ru(a),left:Qh(i)}},iu=(e,t,r)=>{let{top:a,left:o,height:n,width:i}=t;return{width:i,left:o,height:Jh(a,e.height,n),top:ru(a)}},dk=function(){return au(arguments.length<=0?void 0:arguments[0],ou(...arguments),arguments.length<=2?void 0:arguments[2])},uk=function(){return au(arguments.length<=0?void 0:arguments[0],nu(...arguments),arguments.length<=2?void 0:arguments[2])},mk=function(){return iu(arguments.length<=0?void 0:arguments[0],ou(...arguments),arguments.length<=2?void 0:arguments[2])},pk=function(){return iu(arguments.length<=0?void 0:arguments[0],nu(...arguments),arguments.length<=2?void 0:arguments[2])},fk={n:au,ne:dk,e:ou,se:mk,s:iu,sw:pk,w:nu,nw:uk};function gk(e,t,r,a){let o=fk[e];return o?o(t,{...t,...r},a):r}function hk(e){let{top:t,left:r,width:a,height:o}=e,n=`translate(${r}px,${t}px)`;return{transform:n,WebkitTransform:n,MozTransform:n,msTransform:n,OTransform:n,width:`${a}px`,height:`${o}px`,position:"absolute"}}function vk(e){let{top:t,left:r,width:a,height:o}=e;return{top:`${t}px`,left:`${r}px`,width:`${a}px`,height:`${o}px`,position:"absolute"}}function su(e,t){return t==="horizontal"?ev(e):t==="vertical"?Zh(e):e}function Zh(e){return e.slice(0).sort(function(t,r){return t.y>r.y||t.y===r.y&&t.x>r.x?1:t.y===r.y&&t.x===r.x?0:-1})}function ev(e){return e.slice(0).sort(function(t,r){return t.x>r.x||t.x===r.x&&t.y>r.y?1:-1})}function bk(e,t,r,a,o){e=e||[];let n=[];yi.default.Children.forEach(t,l=>{if(l?.key==null)return;let s=eu(e,String(l.key)),c=l.props["data-grid"];s&&c==null?n.push(_o(s)):c?(ak||tv([c],"ReactGridLayout.children"),n.push(_o({...c,i:l.key}))):n.push(_o({w:1,h:1,x:0,y:Zd(n),i:String(l.key)}))});let i=qh(n,{cols:r});return o?i:Kh(i,a,r)}function tv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout",r=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(let a=0,o=e.length;a<o;a++){let n=e[a];for(let i=0;i<r.length;i++){let l=r[i],s=n[l];if(typeof s!="number"||Number.isNaN(s))throw new Error(`ReactGridLayout: ${t}[${a}].${l} must be a number! Received: ${s} (${typeof s})`)}if(typeof n.i<"u"&&typeof n.i!="string")throw new Error(`ReactGridLayout: ${t}[${a}].i must be a string! Received: ${n.i} (${typeof n.i})`)}}function yk(e){let{verticalCompact:t,compactType:r}=e||{};return t===!1?null:r}function ll(){ok&&console.log(...arguments)}var wk=()=>{};Xe.noop=wk});var ul=it(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.calcGridColWidth=dl;ro.calcGridItemPosition=xk;ro.calcGridItemWHPx=lu;ro.calcWH=Nk;ro.calcXY=kk;ro.clamp=Ao;function dl(e){let{margin:t,containerPadding:r,containerWidth:a,cols:o}=e;return(a-t[0]*(o-1)-r[0]*2)/o}function lu(e,t,r){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*r):e}function xk(e,t,r,a,o,n){let{margin:i,containerPadding:l,rowHeight:s}=e,c=dl(e),d={};return n&&n.resizing?(d.width=Math.round(n.resizing.width),d.height=Math.round(n.resizing.height)):(d.width=lu(a,c,i[0]),d.height=lu(o,s,i[1])),n&&n.dragging?(d.top=Math.round(n.dragging.top),d.left=Math.round(n.dragging.left)):n&&n.resizing&&typeof n.resizing.top=="number"&&typeof n.resizing.left=="number"?(d.top=Math.round(n.resizing.top),d.left=Math.round(n.resizing.left)):(d.top=Math.round((s+i[1])*r+l[1]),d.left=Math.round((c+i[0])*t+l[0])),d}function kk(e,t,r,a,o){let{margin:n,containerPadding:i,cols:l,rowHeight:s,maxRows:c}=e,d=dl(e),u=Math.round((r-i[0])/(d+n[0])),m=Math.round((t-i[1])/(s+n[1]));return u=Ao(u,0,l-a),m=Ao(m,0,c-o),{x:u,y:m}}function Nk(e,t,r,a,o,n){let{margin:i,maxRows:l,cols:s,rowHeight:c}=e,d=dl(e),u=Math.round((t+i[0])/(d+i[0])),m=Math.round((r+i[1])/(c+i[1])),g=Ao(u,0,s-a),p=Ao(m,0,l-o);return["sw","w","nw"].indexOf(n)!==-1&&(g=Ao(u,0,s)),["nw","n","ne"].indexOf(n)!==-1&&(p=Ao(m,0,l)),{w:g,h:p}}function Ao(e,t,r){return Math.max(Math.min(e,r),t)}});var xi=it(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.dontSetMe=Dk;Io.findInArray=Ck;Io.int=Pk;Io.isFunction=Rk;Io.isNum=Sk;function Ck(e,t){for(let r=0,a=e.length;r<a;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function Rk(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Sk(e){return typeof e=="number"&&!isNaN(e)}function Pk(e){return parseInt(e,10)}function Dk(e,t,r){if(e[t])return new Error(`Invalid prop ${t} passed to ${r} - do not set this, set it on the child.`)}});var ov=it(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.browserPrefixToKey=av;Lo.browserPrefixToStyle=Ek;Lo.default=void 0;Lo.getPrefix=rv;var cu=["Moz","Webkit","O","ms"];function rv(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";let t=window.document?.documentElement?.style;if(!t||e in t)return"";for(let r=0;r<cu.length;r++)if(av(e,cu[r])in t)return cu[r];return""}function av(e,t){return t?`${t}${Tk(e)}`:e}function Ek(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function Tk(e){let t="",r=!0;for(let a=0;a<e.length;a++)r?(t+=e[a].toUpperCase(),r=!1):e[a]==="-"?r=!0:t+=e[a];return t}var xA=Lo.default=rv()});var pl=it(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.addClassName=cv;Ft.addEvent=Mk;Ft.addUserSelectStyles=Wk;Ft.createCSSTransform=Bk;Ft.createSVGTransform=Hk;Ft.getTouch=jk;Ft.getTouchIdentifier=Uk;Ft.getTranslation=du;Ft.innerHeight=Ok;Ft.innerWidth=zk;Ft.matchesSelector=lv;Ft.matchesSelectorAndParentsTo=_k;Ft.offsetXYFromParent=Fk;Ft.outerHeight=Ik;Ft.outerWidth=Lk;Ft.removeClassName=dv;Ft.removeEvent=Ak;Ft.scheduleRemoveUserSelectStyles=$k;var zr=xi(),nv=sv(ov());function sv(e,t){if(typeof WeakMap=="function")var r=new WeakMap,a=new WeakMap;return(sv=function(o,n){if(!n&&o&&o.__esModule)return o;var i,l,s={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return s;if(i=n?a:r){if(i.has(o))return i.get(o);i.set(o,s)}for(let c in o)c!=="default"&&{}.hasOwnProperty.call(o,c)&&((l=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,c))&&(l.get||l.set)?i(s,c,l):s[c]=o[c]);return s})(e,t)}var ml="";function lv(e,t){return ml||(ml=(0,zr.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,zr.isFunction)(e[r])})),(0,zr.isFunction)(e[ml])?e[ml](t):!1}function _k(e,t,r){let a=e;do{if(lv(a,t))return!0;if(a===r)return!1;a=a.parentNode}while(a);return!1}function Mk(e,t,r,a){if(!e)return;let o={capture:!0,...a};e.addEventListener?e.addEventListener(t,r,o):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}function Ak(e,t,r,a){if(!e)return;let o={capture:!0,...a};e.removeEventListener?e.removeEventListener(t,r,o):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}function Ik(e){let t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,zr.int)(r.borderTopWidth),t+=(0,zr.int)(r.borderBottomWidth),t}function Lk(e){let t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,zr.int)(r.borderLeftWidth),t+=(0,zr.int)(r.borderRightWidth),t}function Ok(e){let t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,zr.int)(r.paddingTop),t-=(0,zr.int)(r.paddingBottom),t}function zk(e){let t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,zr.int)(r.paddingLeft),t-=(0,zr.int)(r.paddingRight),t}function Fk(e,t,r){let o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),n=(e.clientX+t.scrollLeft-o.left)/r,i=(e.clientY+t.scrollTop-o.top)/r;return{x:n,y:i}}function Bk(e,t){let r=du(e,t,"px");return{[(0,nv.browserPrefixToKey)("transform",nv.default)]:r}}function Hk(e,t){return du(e,t,"")}function du(e,t,r){let{x:a,y:o}=e,n=`translate(${a}${r},${o}${r})`;if(t){let i=`${typeof t.x=="string"?t.x:t.x+r}`,l=`${typeof t.y=="string"?t.y:t.y+r}`;n=`translate(${i}, ${l})`+n}return n}function jk(e,t){return e.targetTouches&&(0,zr.findInArray)(e.targetTouches,r=>t===r.identifier)||e.changedTouches&&(0,zr.findInArray)(e.changedTouches,r=>t===r.identifier)}function Uk(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function Wk(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&cv(e.body,"react-draggable-transparent-selection")}function $k(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{iv(e)}):iv(e)}function iv(e){if(e)try{if(e.body&&dv(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{let t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function cv(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function dv(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}});var mu=it(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.canDragX=Gk;Ma.canDragY=qk;Ma.createCoreData=Xk;Ma.createDraggableData=Jk;Ma.getBoundPosition=Yk;Ma.getControlPosition=Vk;Ma.snapToGrid=Kk;var Fr=xi(),Rn=pl();function Yk(e,t,r){if(!e.props.bounds)return[t,r];let{bounds:a}=e.props;a=typeof a=="string"?a:Qk(a);let o=uu(e);if(typeof a=="string"){let{ownerDocument:n}=o,i=n.defaultView,l;if(a==="parent"?l=o.parentNode:l=o.getRootNode().querySelector(a),!(l instanceof i.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');let s=l,c=i.getComputedStyle(o),d=i.getComputedStyle(s);a={left:-o.offsetLeft+(0,Fr.int)(d.paddingLeft)+(0,Fr.int)(c.marginLeft),top:-o.offsetTop+(0,Fr.int)(d.paddingTop)+(0,Fr.int)(c.marginTop),right:(0,Rn.innerWidth)(s)-(0,Rn.outerWidth)(o)-o.offsetLeft+(0,Fr.int)(d.paddingRight)-(0,Fr.int)(c.marginRight),bottom:(0,Rn.innerHeight)(s)-(0,Rn.outerHeight)(o)-o.offsetTop+(0,Fr.int)(d.paddingBottom)-(0,Fr.int)(c.marginBottom)}}return(0,Fr.isNum)(a.right)&&(t=Math.min(t,a.right)),(0,Fr.isNum)(a.bottom)&&(r=Math.min(r,a.bottom)),(0,Fr.isNum)(a.left)&&(t=Math.max(t,a.left)),(0,Fr.isNum)(a.top)&&(r=Math.max(r,a.top)),[t,r]}function Kk(e,t,r){let a=Math.round(t/e[0])*e[0],o=Math.round(r/e[1])*e[1];return[a,o]}function Gk(e){return e.props.axis==="both"||e.props.axis==="x"}function qk(e){return e.props.axis==="both"||e.props.axis==="y"}function Vk(e,t,r){let a=typeof t=="number"?(0,Rn.getTouch)(e,t):null;if(typeof t=="number"&&!a)return null;let o=uu(r),n=r.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,Rn.offsetXYFromParent)(a||e,n,r.props.scale)}function Xk(e,t,r){let a=!(0,Fr.isNum)(e.lastX),o=uu(e);return a?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:o,deltaX:t-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:r}}function Jk(e,t){let r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function Qk(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function uu(e){let t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}});var fu=it(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.default=Zk;function Zk(){}});var mv=it(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.default=void 0;var gu=uv(Q()),dr=vu($a()),e2=vu(Fi()),ar=pl(),ao=mu(),hu=xi(),ki=vu(fu());function vu(e){return e&&e.__esModule?e:{default:e}}function uv(e,t){if(typeof WeakMap=="function")var r=new WeakMap,a=new WeakMap;return(uv=function(o,n){if(!n&&o&&o.__esModule)return o;var i,l,s={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return s;if(i=n?a:r){if(i.has(o))return i.get(o);i.set(o,s)}for(let c in o)c!=="default"&&{}.hasOwnProperty.call(o,c)&&((l=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,c))&&(l.get||l.set)?i(s,c,l):s[c]=o[c]);return s})(e,t)}function ur(e,t,r){return(t=t2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t2(e){var t=r2(e,"string");return typeof t=="symbol"?t:t+""}function r2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xr={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},oo=Xr.mouse,Sn=class extends gu.Component{constructor(){super(...arguments),ur(this,"dragging",!1),ur(this,"lastX",NaN),ur(this,"lastY",NaN),ur(this,"touchIdentifier",null),ur(this,"mounted",!1),ur(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;let r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");let{ownerDocument:a}=r;if(this.props.disabled||!(t.target instanceof a.defaultView.Node)||this.props.handle&&!(0,ar.matchesSelectorAndParentsTo)(t.target,this.props.handle,r)||this.props.cancel&&(0,ar.matchesSelectorAndParentsTo)(t.target,this.props.cancel,r))return;t.type==="touchstart"&&!this.props.allowMobileScroll&&t.preventDefault();let o=(0,ar.getTouchIdentifier)(t);this.touchIdentifier=o;let n=(0,ao.getControlPosition)(t,o,this);if(n==null)return;let{x:i,y:l}=n,s=(0,ao.createCoreData)(this,i,l);(0,ki.default)("DraggableCore: handleDragStart: %j",s),(0,ki.default)("calling",this.props.onStart),!(this.props.onStart(t,s)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,ar.addUserSelectStyles)(a),this.dragging=!0,this.lastX=i,this.lastY=l,(0,ar.addEvent)(a,oo.move,this.handleDrag),(0,ar.addEvent)(a,oo.stop,this.handleDragStop))}),ur(this,"handleDrag",t=>{let r=(0,ao.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:a,y:o}=r;if(Array.isArray(this.props.grid)){let l=a-this.lastX,s=o-this.lastY;if([l,s]=(0,ao.snapToGrid)(this.props.grid,l,s),!l&&!s)return;a=this.lastX+l,o=this.lastY+s}let n=(0,ao.createCoreData)(this,a,o);if((0,ki.default)("DraggableCore: handleDrag: %j",n),this.props.onDrag(t,n)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{let s=document.createEvent("MouseEvents");s.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(s)}return}this.lastX=a,this.lastY=o}),ur(this,"handleDragStop",t=>{if(!this.dragging)return;let r=(0,ao.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:a,y:o}=r;if(Array.isArray(this.props.grid)){let s=a-this.lastX||0,c=o-this.lastY||0;[s,c]=(0,ao.snapToGrid)(this.props.grid,s,c),a=this.lastX+s,o=this.lastY+c}let n=(0,ao.createCoreData)(this,a,o);if(this.props.onStop(t,n)===!1||this.mounted===!1)return!1;let l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,ar.scheduleRemoveUserSelectStyles)(l.ownerDocument),(0,ki.default)("DraggableCore: handleDragStop: %j",n),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,ki.default)("DraggableCore: Removing handlers"),(0,ar.removeEvent)(l.ownerDocument,oo.move,this.handleDrag),(0,ar.removeEvent)(l.ownerDocument,oo.stop,this.handleDragStop))}),ur(this,"onMouseDown",t=>(oo=Xr.mouse,this.handleDragStart(t))),ur(this,"onMouseUp",t=>(oo=Xr.mouse,this.handleDragStop(t))),ur(this,"onTouchStart",t=>(oo=Xr.touch,this.handleDragStart(t))),ur(this,"onTouchEnd",t=>(oo=Xr.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;let t=this.findDOMNode();t&&(0,ar.addEvent)(t,Xr.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;let t=this.findDOMNode();if(t){let{ownerDocument:r}=t;(0,ar.removeEvent)(r,Xr.mouse.move,this.handleDrag),(0,ar.removeEvent)(r,Xr.touch.move,this.handleDrag),(0,ar.removeEvent)(r,Xr.mouse.stop,this.handleDragStop),(0,ar.removeEvent)(r,Xr.touch.stop,this.handleDragStop),(0,ar.removeEvent)(t,Xr.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,ar.scheduleRemoveUserSelectStyles)(r)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:e2.default.findDOMNode(this)}render(){return gu.cloneElement(gu.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};fl.default=Sn;ur(Sn,"displayName","DraggableCore");ur(Sn,"propTypes",{allowAnyClick:dr.default.bool,allowMobileScroll:dr.default.bool,children:dr.default.node.isRequired,disabled:dr.default.bool,enableUserSelectHack:dr.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:dr.default.arrayOf(dr.default.number),handle:dr.default.string,cancel:dr.default.string,nodeRef:dr.default.object,onStart:dr.default.func,onDrag:dr.default.func,onStop:dr.default.func,onMouseDown:dr.default.func,scale:dr.default.number,className:hu.dontSetMe,style:hu.dontSetMe,transform:hu.dontSetMe});ur(Sn,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})});var gv=it(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Object.defineProperty(Ni,"DraggableCore",{enumerable:!0,get:function(){return vl.default}});Ni.default=void 0;var gl=fv(Q()),yt=bl($a()),a2=bl(Fi()),o2=bi(),pv=pl(),Pn=mu(),bu=xi(),vl=bl(mv()),hl=bl(fu());function bl(e){return e&&e.__esModule?e:{default:e}}function fv(e,t){if(typeof WeakMap=="function")var r=new WeakMap,a=new WeakMap;return(fv=function(o,n){if(!n&&o&&o.__esModule)return o;var i,l,s={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return s;if(i=n?a:r){if(i.has(o))return i.get(o);i.set(o,s)}for(let c in o)c!=="default"&&{}.hasOwnProperty.call(o,c)&&((l=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,c))&&(l.get||l.set)?i(s,c,l):s[c]=o[c]);return s})(e,t)}function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},yu.apply(null,arguments)}function Dn(e,t,r){return(t=n2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n2(e){var t=i2(e,"string");return typeof t=="symbol"?t:t+""}function i2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var En=class extends gl.Component{static getDerivedStateFromProps(t,r){let{position:a}=t,{prevPropsPosition:o}=r;return a&&(!o||a.x!==o.x||a.y!==o.y)?((0,hl.default)("Draggable: getDerivedStateFromProps %j",{position:a,prevPropsPosition:o}),{x:a.x,y:a.y,prevPropsPosition:{...a}}):null}constructor(t){super(t),Dn(this,"onDragStart",(r,a)=>{if((0,hl.default)("Draggable: onDragStart: %j",a),this.props.onStart(r,(0,Pn.createDraggableData)(this,a))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),Dn(this,"onDrag",(r,a)=>{if(!this.state.dragging)return!1;(0,hl.default)("Draggable: onDrag: %j",a);let o=(0,Pn.createDraggableData)(this,a),n={x:o.x,y:o.y,slackX:0,slackY:0};if(this.props.bounds){let{x:l,y:s}=n;n.x+=this.state.slackX,n.y+=this.state.slackY;let[c,d]=(0,Pn.getBoundPosition)(this,n.x,n.y);n.x=c,n.y=d,n.slackX=this.state.slackX+(l-n.x),n.slackY=this.state.slackY+(s-n.y),o.x=n.x,o.y=n.y,o.deltaX=n.x-this.state.x,o.deltaY=n.y-this.state.y}if(this.props.onDrag(r,o)===!1)return!1;this.setState(n)}),Dn(this,"onDragStop",(r,a)=>{if(!this.state.dragging||this.props.onStop(r,(0,Pn.createDraggableData)(this,a))===!1)return!1;(0,hl.default)("Draggable: onDragStop: %j",a);let n={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){let{x:l,y:s}=this.props.position;n.x=l,n.y=s}this.setState(n)}),this.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,prevPropsPosition:{...t.position},slackX:0,slackY:0,isElementSVG:!1},t.position&&!(t.onDrag||t.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??a2.default.findDOMNode(this)}render(){let{axis:t,bounds:r,children:a,defaultPosition:o,defaultClassName:n,defaultClassNameDragging:i,defaultClassNameDragged:l,position:s,positionOffset:c,scale:d,...u}=this.props,m={},g=null,f=!!!s||this.state.dragging,v=s||o,h={x:(0,Pn.canDragX)(this)&&f?this.state.x:v.x,y:(0,Pn.canDragY)(this)&&f?this.state.y:v.y};this.state.isElementSVG?g=(0,pv.createSVGTransform)(h,c):m=(0,pv.createCSSTransform)(h,c);let w=(0,o2.clsx)(a.props.className||"",n,{[i]:this.state.dragging,[l]:this.state.dragged});return gl.createElement(vl.default,yu({},u,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),gl.cloneElement(gl.Children.only(a),{className:w,style:{...a.props.style,...m},transform:g}))}};Ni.default=En;Dn(En,"displayName","Draggable");Dn(En,"propTypes",{...vl.default.propTypes,axis:yt.default.oneOf(["both","x","y","none"]),bounds:yt.default.oneOfType([yt.default.shape({left:yt.default.number,right:yt.default.number,top:yt.default.number,bottom:yt.default.number}),yt.default.string,yt.default.oneOf([!1])]),defaultClassName:yt.default.string,defaultClassNameDragging:yt.default.string,defaultClassNameDragged:yt.default.string,defaultPosition:yt.default.shape({x:yt.default.number,y:yt.default.number}),positionOffset:yt.default.shape({x:yt.default.oneOfType([yt.default.number,yt.default.string]),y:yt.default.oneOfType([yt.default.number,yt.default.string])}),position:yt.default.shape({x:yt.default.number,y:yt.default.number}),className:bu.dontSetMe,style:bu.dontSetMe,transform:bu.dontSetMe});Dn(En,"defaultProps",{...vl.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})});var wl=it((DA,yl)=>{"use strict";var{default:hv,DraggableCore:s2}=gv();yl.exports=hv;yl.exports.default=hv;yl.exports.DraggableCore=s2});var yv=it(wu=>{"use strict";wu.__esModule=!0;wu.cloneElement=p2;var l2=c2(Q());function c2(e){return e&&e.__esModule?e:{default:e}}function vv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function bv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vv(Object(r),!0).forEach(function(a){d2(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vv(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function d2(e,t,r){return t=u2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u2(e){var t=m2(e,"string");return typeof t=="symbol"?t:String(t)}function m2(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p2(e,t){return t.style&&e.props.style&&(t.style=bv(bv({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),l2.default.cloneElement(e,t)}});var xu=it(xl=>{"use strict";xl.__esModule=!0;xl.resizableProps=void 0;var He=f2($a()),TA=wl();function f2(e){return e&&e.__esModule?e:{default:e}}var g2={axis:He.default.oneOf(["both","x","y","none"]),className:He.default.string,children:He.default.element.isRequired,draggableOpts:He.default.shape({allowAnyClick:He.default.bool,cancel:He.default.string,children:He.default.node,disabled:He.default.bool,enableUserSelectHack:He.default.bool,offsetParent:He.default.node,grid:He.default.arrayOf(He.default.number),handle:He.default.string,nodeRef:He.default.object,onStart:He.default.func,onDrag:He.default.func,onStop:He.default.func,onMouseDown:He.default.func,scale:He.default.number}),height:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=r[0];if(o.axis==="both"||o.axis==="y"){var n;return(n=He.default.number).isRequired.apply(n,r)}return He.default.number.apply(He.default,r)},handle:He.default.oneOfType([He.default.node,He.default.func]),handleSize:He.default.arrayOf(He.default.number),lockAspectRatio:He.default.bool,maxConstraints:He.default.arrayOf(He.default.number),minConstraints:He.default.arrayOf(He.default.number),onResizeStop:He.default.func,onResizeStart:He.default.func,onResize:He.default.func,resizeHandles:He.default.arrayOf(He.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:He.default.number,width:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=r[0];if(o.axis==="both"||o.axis==="x"){var n;return(n=He.default.number).isRequired.apply(n,r)}return He.default.number.apply(He.default,r)}};xl.resizableProps=g2});var Su=it(kl=>{"use strict";kl.__esModule=!0;kl.default=void 0;var Ci=w2(Q()),h2=wl(),v2=yv(),b2=xu(),y2=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function xv(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(xv=function(o){return o?r:t})(e)}function w2(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=xv(t);if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(a,n,i):a[n]=e[n]}return a.default=e,r&&r.set(e,a),a}function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Nu.apply(this,arguments)}function x2(e,t){if(e==null)return{};var r={},a=Object.keys(e),o,n;for(n=0;n<a.length;n++)o=a[n],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function wv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wv(Object(r),!0).forEach(function(a){k2(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wv(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function k2(e,t,r){return t=N2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N2(e){var t=C2(e,"string");return typeof t=="symbol"?t:String(t)}function C2(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R2(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Cu(e,t)}function Cu(e,t){return Cu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,o){return a.__proto__=o,a},Cu(e,t)}var Ru=function(e){R2(t,e);function t(){for(var a,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return a=e.call.apply(e,[this].concat(n))||this,a.handleRefs={},a.lastHandleRect=null,a.slack=null,a}var r=t.prototype;return r.componentWillUnmount=function(){this.resetData()},r.resetData=function(){this.lastHandleRect=this.slack=null},r.runConstraints=function(o,n){var i=this.props,l=i.minConstraints,s=i.maxConstraints,c=i.lockAspectRatio;if(!l&&!s&&!c)return[o,n];if(c){var d=this.props.width/this.props.height,u=o-this.props.width,m=n-this.props.height;Math.abs(u)>Math.abs(m*d)?n=o/d:o=n*d}var g=o,p=n,f=this.slack||[0,0],v=f[0],h=f[1];return o+=v,n+=h,l&&(o=Math.max(l[0],o),n=Math.max(l[1],n)),s&&(o=Math.min(s[0],o),n=Math.min(s[1],n)),this.slack=[v+(g-o),h+(p-n)],[o,n]},r.resizeHandler=function(o,n){var i=this;return function(l,s){var c=s.node,d=s.deltaX,u=s.deltaY;o==="onResizeStart"&&i.resetData();var m=(i.props.axis==="both"||i.props.axis==="x")&&n!=="n"&&n!=="s",g=(i.props.axis==="both"||i.props.axis==="y")&&n!=="e"&&n!=="w";if(!(!m&&!g)){var p=n[0],f=n[n.length-1],v=c.getBoundingClientRect();if(i.lastHandleRect!=null){if(f==="w"){var h=v.left-i.lastHandleRect.left;d+=h}if(p==="n"){var w=v.top-i.lastHandleRect.top;u+=w}}i.lastHandleRect=v,f==="w"&&(d=-d),p==="n"&&(u=-u);var x=i.props.width+(m?d/i.props.transformScale:0),_=i.props.height+(g?u/i.props.transformScale:0),O=i.runConstraints(x,_);x=O[0],_=O[1];var B=x!==i.props.width||_!==i.props.height,E=typeof i.props[o]=="function"?i.props[o]:null,ee=o==="onResize"&&!B;E&&!ee&&(l.persist==null||l.persist(),E(l,{node:c,size:{width:x,height:_},handle:n})),o==="onResizeStop"&&i.resetData()}}},r.renderResizeHandle=function(o,n){var i=this.props.handle;if(!i)return Ci.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+o,ref:n});if(typeof i=="function")return i(o,n);var l=typeof i.type=="string",s=ku({ref:n},l?{}:{handleAxis:o});return Ci.cloneElement(i,s)},r.render=function(){var o=this,n=this.props,i=n.children,l=n.className,s=n.draggableOpts,c=n.width,d=n.height,u=n.handle,m=n.handleSize,g=n.lockAspectRatio,p=n.axis,f=n.minConstraints,v=n.maxConstraints,h=n.onResize,w=n.onResizeStop,x=n.onResizeStart,_=n.resizeHandles,O=n.transformScale,B=x2(n,y2);return(0,v2.cloneElement)(i,ku(ku({},B),{},{className:(l?l+" ":"")+"react-resizable",children:[].concat(i.props.children,_.map(function(E){var ee,ae=(ee=o.handleRefs[E])!=null?ee:o.handleRefs[E]=Ci.createRef();return Ci.createElement(h2.DraggableCore,Nu({},s,{nodeRef:ae,key:"resizableHandle-"+E,onStop:o.resizeHandler("onResizeStop",E),onStart:o.resizeHandler("onResizeStart",E),onDrag:o.resizeHandler("onResize",E)}),o.renderResizeHandle(E,ae))}))}))},t}(Ci.Component);kl.default=Ru;Ru.propTypes=b2.resizableProps;Ru.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}});var Sv=it(Cl=>{"use strict";Cl.__esModule=!0;Cl.default=void 0;var Pu=T2(Q()),S2=Nv($a()),P2=Nv(Su()),D2=xu(),E2=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function Nv(e){return e&&e.__esModule?e:{default:e}}function Cv(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Cv=function(o){return o?r:t})(e)}function T2(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Cv(t);if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(a,n,i):a[n]=e[n]}return a.default=e,r&&r.set(e,a),a}function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Du.apply(this,arguments)}function kv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function Nl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kv(Object(r),!0).forEach(function(a){_2(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kv(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _2(e,t,r){return t=M2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M2(e){var t=A2(e,"string");return typeof t=="symbol"?t:String(t)}function A2(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I2(e,t){if(e==null)return{};var r={},a=Object.keys(e),o,n;for(n=0;n<a.length;n++)o=a[n],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function L2(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Eu(e,t)}function Eu(e,t){return Eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,o){return a.__proto__=o,a},Eu(e,t)}var Rv=function(e){L2(t,e);function t(){for(var a,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return a=e.call.apply(e,[this].concat(n))||this,a.state={width:a.props.width,height:a.props.height,propsWidth:a.props.width,propsHeight:a.props.height},a.onResize=function(l,s){var c=s.size;a.props.onResize?(l.persist==null||l.persist(),a.setState(c,function(){return a.props.onResize&&a.props.onResize(l,s)})):a.setState(c)},a}t.getDerivedStateFromProps=function(o,n){return n.propsWidth!==o.width||n.propsHeight!==o.height?{width:o.width,height:o.height,propsWidth:o.width,propsHeight:o.height}:null};var r=t.prototype;return r.render=function(){var o=this.props,n=o.handle,i=o.handleSize,l=o.onResize,s=o.onResizeStart,c=o.onResizeStop,d=o.draggableOpts,u=o.minConstraints,m=o.maxConstraints,g=o.lockAspectRatio,p=o.axis,f=o.width,v=o.height,h=o.resizeHandles,w=o.style,x=o.transformScale,_=I2(o,E2);return Pu.createElement(P2.default,{axis:p,draggableOpts:d,handle:n,handleSize:i,height:this.state.height,lockAspectRatio:g,maxConstraints:m,minConstraints:u,onResizeStart:s,onResize:this.onResize,onResizeStop:c,resizeHandles:h,transformScale:x,width:this.state.width},Pu.createElement("div",Du({},_,{style:Nl(Nl({},w),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(Pu.Component);Cl.default=Rv;Rv.propTypes=Nl(Nl({},D2.resizableProps),{},{children:S2.default.element})});var Pv=it((IA,Rl)=>{"use strict";Rl.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};Rl.exports.Resizable=Su().default;Rl.exports.ResizableBox=Sv().default});var Tu=it(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.resizeHandleType=no.resizeHandleAxesType=no.default=void 0;var Ue=Dv($a()),O2=Dv(Q());function Dv(e){return e&&e.__esModule?e:{default:e}}var z2=no.resizeHandleAxesType=Ue.default.arrayOf(Ue.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),F2=no.resizeHandleType=Ue.default.oneOfType([Ue.default.node,Ue.default.func]),LA=no.default={className:Ue.default.string,style:Ue.default.object,width:Ue.default.number,autoSize:Ue.default.bool,cols:Ue.default.number,draggableCancel:Ue.default.string,draggableHandle:Ue.default.string,verticalCompact:function(e){e.verticalCompact},compactType:Ue.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;t!==void 0&&Mo().validateLayout(t,"layout")},margin:Ue.default.arrayOf(Ue.default.number),containerPadding:Ue.default.arrayOf(Ue.default.number),rowHeight:Ue.default.number,maxRows:Ue.default.number,isBounded:Ue.default.bool,isDraggable:Ue.default.bool,isResizable:Ue.default.bool,allowOverlap:Ue.default.bool,preventCollision:Ue.default.bool,useCSSTransforms:Ue.default.bool,transformScale:Ue.default.number,isDroppable:Ue.default.bool,resizeHandles:z2,resizeHandle:F2,onLayoutChange:Ue.default.func,onDragStart:Ue.default.func,onDrag:Ue.default.func,onDragStop:Ue.default.func,onResizeStart:Ue.default.func,onResize:Ue.default.func,onResizeStop:Ue.default.func,onDrop:Ue.default.func,droppingItem:Ue.default.shape({i:Ue.default.string.isRequired,w:Ue.default.number.isRequired,h:Ue.default.number.isRequired}),children:function(e,t){let r=e[t],a={};O2.default.Children.forEach(r,function(o){if(o?.key!=null){if(a[o.key])throw new Error('Duplicate child key "'+o.key+'" found! This will cause problems in ReactGridLayout.');a[o.key]=!0}})},innerRef:Ue.default.any}});var _v=it(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.default=void 0;var Tn=_u(Q()),Ev=Fi(),tt=_u($a()),B2=wl(),H2=Pv(),_n=Mo(),Qt=ul(),Tv=Tu(),j2=_u(bi());function _u(e){return e&&e.__esModule?e:{default:e}}function fa(e,t,r){return(t=U2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U2(e){var t=W2(e,"string");return typeof t=="symbol"?t:t+""}function W2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ri=class extends Tn.default.Component{constructor(){super(...arguments),fa(this,"state",{resizing:null,dragging:null,className:""}),fa(this,"elementRef",Tn.default.createRef()),fa(this,"onDragStart",(t,r)=>{let{node:a}=r,{onDragStart:o,transformScale:n}=this.props;if(!o)return;let i={top:0,left:0},{offsetParent:l}=a;if(!l)return;let s=l.getBoundingClientRect(),c=a.getBoundingClientRect(),d=c.left/n,u=s.left/n,m=c.top/n,g=s.top/n;i.left=d-u+l.scrollLeft,i.top=m-g+l.scrollTop,this.setState({dragging:i});let{x:p,y:f}=(0,Qt.calcXY)(this.getPositionParams(),i.top,i.left,this.props.w,this.props.h);return o.call(this,this.props.i,p,f,{e:t,node:a,newPosition:i})}),fa(this,"onDrag",(t,r,a)=>{let{node:o,deltaX:n,deltaY:i}=r,{onDrag:l}=this.props;if(!l)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let s=this.state.dragging.top+i,c=this.state.dragging.left+n,{isBounded:d,i:u,w:m,h:g,containerWidth:p}=this.props,f=this.getPositionParams();if(d){let{offsetParent:x}=o;if(x){let{margin:_,rowHeight:O}=this.props,B=x.clientHeight-(0,Qt.calcGridItemWHPx)(g,O,_[1]);s=(0,Qt.clamp)(s,0,B);let E=(0,Qt.calcGridColWidth)(f),ee=p-(0,Qt.calcGridItemWHPx)(m,E,_[0]);c=(0,Qt.clamp)(c,0,ee)}}let v={top:s,left:c};a?this.setState({dragging:v}):(0,Ev.flushSync)(()=>{this.setState({dragging:v})});let{x:h,y:w}=(0,Qt.calcXY)(f,s,c,m,g);return l.call(this,u,h,w,{e:t,node:o,newPosition:v})}),fa(this,"onDragStop",(t,r)=>{let{node:a}=r,{onDragStop:o}=this.props;if(!o)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");let{w:n,h:i,i:l}=this.props,{left:s,top:c}=this.state.dragging,d={top:c,left:s};this.setState({dragging:null});let{x:u,y:m}=(0,Qt.calcXY)(this.getPositionParams(),c,s,n,i);return o.call(this,l,u,m,{e:t,node:a,newPosition:d})}),fa(this,"onResizeStop",(t,r,a)=>this.onResizeHandler(t,r,a,"onResizeStop")),fa(this,"onResizeStart",(t,r,a)=>this.onResizeHandler(t,r,a,"onResizeStart")),fa(this,"onResize",(t,r,a)=>this.onResizeHandler(t,r,a,"onResize"))}shouldComponentUpdate(t,r){if(this.props.children!==t.children||this.props.droppingPosition!==t.droppingPosition)return!0;let a=(0,Qt.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),o=(0,Qt.calcGridItemPosition)(this.getPositionParams(t),t.x,t.y,t.w,t.h,r);return!(0,_n.fastPositionEqual)(a,o)||this.props.useCSSTransforms!==t.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(t){this.moveDroppingItem(t)}moveDroppingItem(t){let{droppingPosition:r}=this.props;if(!r)return;let a=this.elementRef.current;if(!a)return;let o=t.droppingPosition||{left:0,top:0},{dragging:n}=this.state,i=n&&r.left!==o.left||r.top!==o.top;if(!n)this.onDragStart(r.e,{node:a,deltaX:r.left,deltaY:r.top});else if(i){let l=r.left-n.left,s=r.top-n.top;this.onDrag(r.e,{node:a,deltaX:l,deltaY:s},!0)}}getPositionParams(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:t.cols,containerPadding:t.containerPadding,containerWidth:t.containerWidth,margin:t.margin,maxRows:t.maxRows,rowHeight:t.rowHeight}}createStyle(t){let{usePercentages:r,containerWidth:a,useCSSTransforms:o}=this.props,n;return o?n=(0,_n.setTransform)(t):(n=(0,_n.setTopLeft)(t),r&&(n.left=(0,_n.perc)(t.left/a),n.width=(0,_n.perc)(t.width/a))),n}mixinDraggable(t,r){return Tn.default.createElement(B2.DraggableCore,{disabled:!r,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},t)}curryResizeHandler(t,r){return(a,o)=>r(a,o,t)}mixinResizable(t,r,a){let{cols:o,minW:n,minH:i,maxW:l,maxH:s,transformScale:c,resizeHandles:d,resizeHandle:u}=this.props,m=this.getPositionParams(),g=(0,Qt.calcGridItemPosition)(m,0,0,o,0).width,p=(0,Qt.calcGridItemPosition)(m,0,0,n,i),f=(0,Qt.calcGridItemPosition)(m,0,0,l,s),v=[p.width,p.height],h=[Math.min(f.width,g),Math.min(f.height,1/0)];return Tn.default.createElement(H2.Resizable,{draggableOpts:{disabled:!a},className:a?void 0:"react-resizable-hide",width:r.width,height:r.height,minConstraints:v,maxConstraints:h,onResizeStop:this.curryResizeHandler(r,this.onResizeStop),onResizeStart:this.curryResizeHandler(r,this.onResizeStart),onResize:this.curryResizeHandler(r,this.onResize),transformScale:c,resizeHandles:d,handle:u},t)}onResizeHandler(t,r,a,o){let{node:n,size:i,handle:l}=r,s=this.props[o];if(!s)return;let{x:c,y:d,i:u,maxH:m,minH:g,containerWidth:p}=this.props,{minW:f,maxW:v}=this.props,h=i;n&&(h=(0,_n.resizeItemInDirection)(l,a,i,p),(0,Ev.flushSync)(()=>{this.setState({resizing:o==="onResizeStop"?null:h})}));let{w,h:x}=(0,Qt.calcWH)(this.getPositionParams(),h.width,h.height,c,d,l);w=(0,Qt.clamp)(w,Math.max(f,1),v),x=(0,Qt.clamp)(x,g,m),s.call(this,u,w,x,{e:t,node:n,size:h,handle:l})}render(){let{x:t,y:r,w:a,h:o,isDraggable:n,isResizable:i,droppingPosition:l,useCSSTransforms:s}=this.props,c=(0,Qt.calcGridItemPosition)(this.getPositionParams(),t,r,a,o,this.state),d=Tn.default.Children.only(this.props.children),u=Tn.default.cloneElement(d,{ref:this.elementRef,className:(0,j2.default)("react-grid-item",d.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":n,"react-draggable-dragging":!!this.state.dragging,dropping:!!l,cssTransforms:s}),style:{...this.props.style,...d.props.style,...this.createStyle(c)}});return u=this.mixinResizable(u,c,i),u=this.mixinDraggable(u,n),u}};Sl.default=Ri;fa(Ri,"propTypes",{children:tt.default.element,cols:tt.default.number.isRequired,containerWidth:tt.default.number.isRequired,rowHeight:tt.default.number.isRequired,margin:tt.default.array.isRequired,maxRows:tt.default.number.isRequired,containerPadding:tt.default.array.isRequired,x:tt.default.number.isRequired,y:tt.default.number.isRequired,w:tt.default.number.isRequired,h:tt.default.number.isRequired,minW:function(e,t){let r=e[t];if(typeof r!="number")return new Error("minWidth not Number");if(r>e.w||r>e.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(e,t){let r=e[t];if(typeof r!="number")return new Error("maxWidth not Number");if(r<e.w||r<e.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(e,t){let r=e[t];if(typeof r!="number")return new Error("minHeight not Number");if(r>e.h||r>e.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(e,t){let r=e[t];if(typeof r!="number")return new Error("maxHeight not Number");if(r<e.h||r<e.minH)return new Error("maxHeight smaller than item height/minHeight")},i:tt.default.string.isRequired,resizeHandles:Tv.resizeHandleAxesType,resizeHandle:Tv.resizeHandleType,onDragStop:tt.default.func,onDragStart:tt.default.func,onDrag:tt.default.func,onResizeStop:tt.default.func,onResizeStart:tt.default.func,onResize:tt.default.func,isDraggable:tt.default.bool.isRequired,isResizable:tt.default.bool.isRequired,isBounded:tt.default.bool.isRequired,static:tt.default.bool,useCSSTransforms:tt.default.bool.isRequired,transformScale:tt.default.number,className:tt.default.string,handle:tt.default.string,cancel:tt.default.string,droppingPosition:tt.default.shape({e:tt.default.object.isRequired,left:tt.default.number.isRequired,top:tt.default.number.isRequired})});fa(Ri,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})});var Iu=it(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.default=void 0;var Oo=Iv(Q()),Mu=sl(),$2=Au(bi()),Te=Mo(),Y2=ul(),Mv=Au(_v()),K2=Au(Tu());function Au(e){return e&&e.__esModule?e:{default:e}}function Iv(e,t){if(typeof WeakMap=="function")var r=new WeakMap,a=new WeakMap;return(Iv=function(o,n){if(!n&&o&&o.__esModule)return o;var i,l,s={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return s;if(i=n?a:r){if(i.has(o))return i.get(o);i.set(o,s)}for(let c in o)c!=="default"&&{}.hasOwnProperty.call(o,c)&&((l=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,c))&&(l.get||l.set)?i(s,c,l):s[c]=o[c]);return s})(e,t)}function or(e,t,r){return(t=G2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G2(e){var t=q2(e,"string");return typeof t=="symbol"?t:t+""}function q2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Av="react-grid-layout",Lv=!1;try{Lv=/firefox/i.test(navigator.userAgent)}catch{}var Mn=class extends Oo.Component{constructor(){super(...arguments),or(this,"state",{activeDrag:null,layout:(0,Te.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,Te.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),or(this,"dragEnterCounter",0),or(this,"onDragStart",(t,r,a,o)=>{let{e:n,node:i}=o,{layout:l}=this.state,s=(0,Te.getLayoutItem)(l,t);if(!s)return;let c={w:s.w,h:s.h,x:s.x,y:s.y,placeholder:!0,i:t};return this.setState({oldDragItem:(0,Te.cloneLayoutItem)(s),oldLayout:l,activeDrag:c}),this.props.onDragStart(l,s,s,null,n,i)}),or(this,"onDrag",(t,r,a,o)=>{let{e:n,node:i}=o,{oldDragItem:l}=this.state,{layout:s}=this.state,{cols:c,allowOverlap:d,preventCollision:u}=this.props,m=(0,Te.getLayoutItem)(s,t);if(!m)return;let g={w:m.w,h:m.h,x:m.x,y:m.y,placeholder:!0,i:t};s=(0,Te.moveElement)(s,m,r,a,!0,u,(0,Te.compactType)(this.props),c,d),this.props.onDrag(s,l,m,g,n,i),this.setState({layout:d?s:(0,Te.compact)(s,(0,Te.compactType)(this.props),c),activeDrag:g})}),or(this,"onDragStop",(t,r,a,o)=>{let{e:n,node:i}=o;if(!this.state.activeDrag)return;let{oldDragItem:l}=this.state,{layout:s}=this.state,{cols:c,preventCollision:d,allowOverlap:u}=this.props,m=(0,Te.getLayoutItem)(s,t);if(!m)return;s=(0,Te.moveElement)(s,m,r,a,!0,d,(0,Te.compactType)(this.props),c,u);let p=u?s:(0,Te.compact)(s,(0,Te.compactType)(this.props),c);this.props.onDragStop(p,l,m,null,n,i);let{oldLayout:f}=this.state;this.setState({activeDrag:null,layout:p,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(p,f)}),or(this,"onResizeStart",(t,r,a,o)=>{let{e:n,node:i}=o,{layout:l}=this.state,s=(0,Te.getLayoutItem)(l,t);s&&(this.setState({oldResizeItem:(0,Te.cloneLayoutItem)(s),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(l,s,s,null,n,i))}),or(this,"onResize",(t,r,a,o)=>{let{e:n,node:i,size:l,handle:s}=o,{oldResizeItem:c}=this.state,{layout:d}=this.state,{cols:u,preventCollision:m,allowOverlap:g}=this.props,p=!1,f,v,h,[w,x]=(0,Te.withLayoutItem)(d,t,O=>{let B;return v=O.x,h=O.y,["sw","w","nw","n","ne"].indexOf(s)!==-1&&(["sw","nw","w"].indexOf(s)!==-1&&(v=O.x+(O.w-r),r=O.x!==v&&v<0?O.w:r,v=v<0?0:v),["ne","n","nw"].indexOf(s)!==-1&&(h=O.y+(O.h-a),a=O.y!==h&&h<0?O.h:a,h=h<0?0:h),p=!0),m&&!g&&(B=(0,Te.getAllCollisions)(d,{...O,w:r,h:a,x:v,y:h}).filter(ee=>ee.i!==O.i).length>0,B&&(h=O.y,a=O.h,v=O.x,r=O.w,p=!1)),O.w=r,O.h=a,O});if(!x)return;f=w,p&&(f=(0,Te.moveElement)(w,x,v,h,!0,this.props.preventCollision,(0,Te.compactType)(this.props),u,g));let _={w:x.w,h:x.h,x:x.x,y:x.y,static:!0,i:t};this.props.onResize(f,c,x,_,n,i),this.setState({layout:g?f:(0,Te.compact)(f,(0,Te.compactType)(this.props),u),activeDrag:_})}),or(this,"onResizeStop",(t,r,a,o)=>{let{e:n,node:i}=o,{layout:l,oldResizeItem:s}=this.state,{cols:c,allowOverlap:d}=this.props,u=(0,Te.getLayoutItem)(l,t),m=d?l:(0,Te.compact)(l,(0,Te.compactType)(this.props),c);this.props.onResizeStop(m,s,u,null,n,i);let{oldLayout:g}=this.state;this.setState({activeDrag:null,layout:m,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(m,g)}),or(this,"onDragOver",t=>{if(t.preventDefault(),t.stopPropagation(),Lv&&!t.nativeEvent.target?.classList.contains(Av))return!1;let{droppingItem:r,onDropDragOver:a,margin:o,cols:n,rowHeight:i,maxRows:l,width:s,containerPadding:c,transformScale:d}=this.props,u=a?.(t);if(u===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;let m={...r,...u},{layout:g}=this.state,p=t.currentTarget.getBoundingClientRect(),f=t.clientX-p.left,v=t.clientY-p.top,h={left:f/d,top:v/d,e:t};if(this.state.droppingDOMNode){if(this.state.droppingPosition){let{left:w,top:x}=this.state.droppingPosition;(w!=f||x!=v)&&this.setState({droppingPosition:h})}}else{let w={cols:n,margin:o,maxRows:l,rowHeight:i,containerWidth:s,containerPadding:c||o},x=(0,Y2.calcXY)(w,v,f,m.w,m.h);this.setState({droppingDOMNode:Oo.createElement("div",{key:m.i}),droppingPosition:h,layout:[...g,{...m,x:x.x,y:x.y,static:!1,isDraggable:!0}]})}}),or(this,"removeDroppingPlaceholder",()=>{let{droppingItem:t,cols:r}=this.props,{layout:a}=this.state,o=(0,Te.compact)(a.filter(n=>n.i!==t.i),(0,Te.compactType)(this.props),r,this.props.allowOverlap);this.setState({layout:o,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),or(this,"onDragLeave",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),or(this,"onDragEnter",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter++}),or(this,"onDrop",t=>{t.preventDefault(),t.stopPropagation();let{droppingItem:r}=this.props,{layout:a}=this.state,o=a.find(n=>n.i===r.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(a,o,t)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(t,r){let a;return r.activeDrag?null:(!(0,Mu.deepEqual)(t.layout,r.propsLayout)||t.compactType!==r.compactType?a=t.layout:(0,Te.childrenEqual)(t.children,r.children)||(a=r.layout),a?{layout:(0,Te.synchronizeLayoutWithChildren)(a,t.children,t.cols,(0,Te.compactType)(t),t.allowOverlap),compactType:t.compactType,children:t.children,propsLayout:t.layout}:null)}shouldComponentUpdate(t,r){return this.props.children!==t.children||!(0,Te.fastRGLPropsEqual)(this.props,t,Mu.deepEqual)||this.state.activeDrag!==r.activeDrag||this.state.mounted!==r.mounted||this.state.droppingPosition!==r.droppingPosition}componentDidUpdate(t,r){if(!this.state.activeDrag){let a=this.state.layout,o=r.layout;this.onLayoutMaybeChanged(a,o)}}containerHeight(){if(!this.props.autoSize)return;let t=(0,Te.bottom)(this.state.layout),r=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return t*this.props.rowHeight+(t-1)*this.props.margin[1]+r*2+"px"}onLayoutMaybeChanged(t,r){r||(r=this.state.layout),(0,Mu.deepEqual)(r,t)||this.props.onLayoutChange(t)}placeholder(){let{activeDrag:t}=this.state;if(!t)return null;let{width:r,cols:a,margin:o,containerPadding:n,rowHeight:i,maxRows:l,useCSSTransforms:s,transformScale:c}=this.props;return Oo.createElement(Mv.default,{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:r,cols:a,margin:o,containerPadding:n||o,maxRows:l,rowHeight:i,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:s,transformScale:c},Oo.createElement("div",null))}processGridItem(t,r){if(!t||!t.key)return;let a=(0,Te.getLayoutItem)(this.state.layout,String(t.key));if(!a)return null;let{width:o,cols:n,margin:i,containerPadding:l,rowHeight:s,maxRows:c,isDraggable:d,isResizable:u,isBounded:m,useCSSTransforms:g,transformScale:p,draggableCancel:f,draggableHandle:v,resizeHandles:h,resizeHandle:w}=this.props,{mounted:x,droppingPosition:_}=this.state,O=typeof a.isDraggable=="boolean"?a.isDraggable:!a.static&&d,B=typeof a.isResizable=="boolean"?a.isResizable:!a.static&&u,E=a.resizeHandles||h,ee=O&&m&&a.isBounded!==!1;return Oo.createElement(Mv.default,{containerWidth:o,cols:n,margin:i,containerPadding:l||i,maxRows:c,rowHeight:s,cancel:f,handle:v,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:O,isResizable:B,isBounded:ee,useCSSTransforms:g&&x,usePercentages:!x,transformScale:p,w:a.w,h:a.h,x:a.x,y:a.y,i:a.i,minH:a.minH,minW:a.minW,maxH:a.maxH,maxW:a.maxW,static:a.static,droppingPosition:r?_:void 0,resizeHandles:E,resizeHandle:w},t)}render(){let{className:t,style:r,isDroppable:a,innerRef:o}=this.props,n=(0,$2.default)(Av,t),i={height:this.containerHeight(),...r};return Oo.createElement("div",{ref:o,className:n,style:i,onDrop:a?this.onDrop:Te.noop,onDragLeave:a?this.onDragLeave:Te.noop,onDragEnter:a?this.onDragEnter:Te.noop,onDragOver:a?this.onDragOver:Te.noop},Oo.Children.map(this.props.children,l=>this.processGridItem(l)),a&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}};Pl.default=Mn;or(Mn,"displayName","ReactGridLayout");or(Mn,"propTypes",K2.default);or(Mn,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:Te.noop,onDragStart:Te.noop,onDrag:Te.noop,onDragStop:Te.noop,onResizeStart:Te.noop,onResize:Te.noop,onResizeStop:Te.noop,onDrop:Te.noop,onDropDragOver:Te.noop})});var Ou=it(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.findOrGenerateResponsiveLayout=J2;An.getBreakpointFromWidth=V2;An.getColsFromBreakpoint=X2;An.sortBreakpoints=Lu;var Dl=Mo();function V2(e,t){let r=Lu(e),a=r[0];for(let o=1,n=r.length;o<n;o++){let i=r[o];t>e[i]&&(a=i)}return a}function X2(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]}function J2(e,t,r,a,o,n){if(e[r])return(0,Dl.cloneLayout)(e[r]);let i=e[a],l=Lu(t),s=l.slice(l.indexOf(r));for(let c=0,d=s.length;c<d;c++){let u=s[c];if(e[u]){i=e[u];break}}return i=(0,Dl.cloneLayout)(i||[]),(0,Dl.compact)((0,Dl.correctBounds)(i,{cols:o}),n,o)}function Lu(e){return Object.keys(e).sort(function(r,a){return e[r]-e[a]})}});var Hv=it(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.default=void 0;var Ov=Bv(Q()),Nr=Fv($a()),zu=sl(),In=Mo(),zo=Ou(),Q2=Fv(Iu());function Fv(e){return e&&e.__esModule?e:{default:e}}function Bv(e,t){if(typeof WeakMap=="function")var r=new WeakMap,a=new WeakMap;return(Bv=function(o,n){if(!n&&o&&o.__esModule)return o;var i,l,s={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return s;if(i=n?a:r){if(i.has(o))return i.get(o);i.set(o,s)}for(let c in o)c!=="default"&&{}.hasOwnProperty.call(o,c)&&((l=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,c))&&(l.get||l.set)?i(s,c,l):s[c]=o[c]);return s})(e,t)}function Fu(){return Fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Fu.apply(null,arguments)}function Tl(e,t,r){return(t=Z2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z2(e){var t=eN(e,"string");return typeof t=="symbol"?t:t+""}function eN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zv=e=>Object.prototype.toString.call(e);function El(e,t){return e==null?null:Array.isArray(e)?e:e[t]}var Si=class extends Ov.Component{constructor(){super(...arguments),Tl(this,"state",this.generateInitialState()),Tl(this,"onLayoutChange",t=>{this.props.onLayoutChange(t,{...this.props.layouts,[this.state.breakpoint]:t})})}generateInitialState(){let{width:t,breakpoints:r,layouts:a,cols:o}=this.props,n=(0,zo.getBreakpointFromWidth)(r,t),i=(0,zo.getColsFromBreakpoint)(n,o),l=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,zo.findOrGenerateResponsiveLayout)(a,r,n,n,i,l),breakpoint:n,cols:i}}static getDerivedStateFromProps(t,r){if(!(0,zu.deepEqual)(t.layouts,r.layouts)){let{breakpoint:a,cols:o}=r;return{layout:(0,zo.findOrGenerateResponsiveLayout)(t.layouts,t.breakpoints,a,a,o,t.compactType),layouts:t.layouts}}return null}componentDidUpdate(t){(this.props.width!=t.width||this.props.breakpoint!==t.breakpoint||!(0,zu.deepEqual)(this.props.breakpoints,t.breakpoints)||!(0,zu.deepEqual)(this.props.cols,t.cols))&&this.onWidthChange(t)}onWidthChange(t){let{breakpoints:r,cols:a,layouts:o,compactType:n}=this.props,i=this.props.breakpoint||(0,zo.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),l=this.state.breakpoint,s=(0,zo.getColsFromBreakpoint)(i,a),c={...o};if(l!==i||t.breakpoints!==r||t.cols!==a){l in c||(c[l]=(0,In.cloneLayout)(this.state.layout));let m=(0,zo.findOrGenerateResponsiveLayout)(c,r,i,l,s,n);m=(0,In.synchronizeLayoutWithChildren)(m,this.props.children,s,n,this.props.allowOverlap),c[i]=m,this.props.onBreakpointChange(i,s),this.props.onLayoutChange(m,c),this.setState({breakpoint:i,layout:m,cols:s})}let d=El(this.props.margin,i),u=El(this.props.containerPadding,i);this.props.onWidthChange(this.props.width,d,s,u)}render(){let{breakpoint:t,breakpoints:r,cols:a,layouts:o,margin:n,containerPadding:i,onBreakpointChange:l,onLayoutChange:s,onWidthChange:c,...d}=this.props;return Ov.createElement(Q2.default,Fu({},d,{margin:El(n,this.state.breakpoint),containerPadding:El(i,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};_l.default=Si;Tl(Si,"propTypes",{breakpoint:Nr.default.string,breakpoints:Nr.default.object,allowOverlap:Nr.default.bool,cols:Nr.default.object,margin:Nr.default.oneOfType([Nr.default.array,Nr.default.object]),containerPadding:Nr.default.oneOfType([Nr.default.array,Nr.default.object]),layouts(e,t){if(zv(e[t])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+zv(e[t]));Object.keys(e[t]).forEach(r=>{if(!(r in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,In.validateLayout)(e.layouts[r],"layouts."+r)})},width:Nr.default.number.isRequired,onBreakpointChange:Nr.default.func,onLayoutChange:Nr.default.func,onWidthChange:Nr.default.func});Tl(Si,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:In.noop,onLayoutChange:In.noop,onWidthChange:In.noop})});var jv=it((Bu,Hu)=>{(function(e,t){typeof Bu=="object"&&typeof Hu<"u"?Hu.exports=t():typeof define=="function"&&define.amd?define(t):e.ResizeObserver=t()})(Bu,function(){"use strict";var e=function(){if(typeof Map<"u")return Map;function L(H,z){var D=-1;return H.some(function(U,R){return U[0]===z?(D=R,!0):!1}),D}return function(){function H(){this.__entries__=[]}return Object.defineProperty(H.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),H.prototype.get=function(z){var D=L(this.__entries__,z),U=this.__entries__[D];return U&&U[1]},H.prototype.set=function(z,D){var U=L(this.__entries__,z);~U?this.__entries__[U][1]=D:this.__entries__.push([z,D])},H.prototype.delete=function(z){var D=this.__entries__,U=L(D,z);~U&&D.splice(U,1)},H.prototype.has=function(z){return!!~L(this.__entries__,z)},H.prototype.clear=function(){this.__entries__.splice(0)},H.prototype.forEach=function(z,D){D===void 0&&(D=null);for(var U=0,R=this.__entries__;U<R.length;U++){var T=R[U];z.call(D,T[1],T[0])}},H}()}(),t=typeof window<"u"&&typeof document<"u"&&window.document===document,r=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),a=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(r):function(L){return setTimeout(function(){return L(Date.now())},1e3/60)}}(),o=2;function n(L,H){var z=!1,D=!1,U=0;function R(){z&&(z=!1,L()),D&&le()}function T(){a(R)}function le(){var oe=Date.now();if(z){if(oe-U<o)return;D=!0}else z=!0,D=!1,setTimeout(T,H);U=oe}return le}var i=20,l=["top","right","bottom","left","width","height","size","weight"],s=typeof MutationObserver<"u",c=function(){function L(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=n(this.refresh.bind(this),i)}return L.prototype.addObserver=function(H){~this.observers_.indexOf(H)||this.observers_.push(H),this.connected_||this.connect_()},L.prototype.removeObserver=function(H){var z=this.observers_,D=z.indexOf(H);~D&&z.splice(D,1),!z.length&&this.connected_&&this.disconnect_()},L.prototype.refresh=function(){var H=this.updateObservers_();H&&this.refresh()},L.prototype.updateObservers_=function(){var H=this.observers_.filter(function(z){return z.gatherActive(),z.hasActive()});return H.forEach(function(z){return z.broadcastActive()}),H.length>0},L.prototype.connect_=function(){!t||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},L.prototype.disconnect_=function(){!t||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},L.prototype.onTransitionEnd_=function(H){var z=H.propertyName,D=z===void 0?"":z,U=l.some(function(R){return!!~D.indexOf(R)});U&&this.refresh()},L.getInstance=function(){return this.instance_||(this.instance_=new L),this.instance_},L.instance_=null,L}(),d=function(L,H){for(var z=0,D=Object.keys(H);z<D.length;z++){var U=D[z];Object.defineProperty(L,U,{value:H[U],enumerable:!1,writable:!1,configurable:!0})}return L},u=function(L){var H=L&&L.ownerDocument&&L.ownerDocument.defaultView;return H||r},m=B(0,0,0,0);function g(L){return parseFloat(L)||0}function p(L){for(var H=[],z=1;z<arguments.length;z++)H[z-1]=arguments[z];return H.reduce(function(D,U){var R=L["border-"+U+"-width"];return D+g(R)},0)}function f(L){for(var H=["top","right","bottom","left"],z={},D=0,U=H;D<U.length;D++){var R=U[D],T=L["padding-"+R];z[R]=g(T)}return z}function v(L){var H=L.getBBox();return B(0,0,H.width,H.height)}function h(L){var H=L.clientWidth,z=L.clientHeight;if(!H&&!z)return m;var D=u(L).getComputedStyle(L),U=f(D),R=U.left+U.right,T=U.top+U.bottom,le=g(D.width),oe=g(D.height);if(D.boxSizing==="border-box"&&(Math.round(le+R)!==H&&(le-=p(D,"left","right")+R),Math.round(oe+T)!==z&&(oe-=p(D,"top","bottom")+T)),!x(L)){var F=Math.round(le+R)-H,q=Math.round(oe+T)-z;Math.abs(F)!==1&&(le-=F),Math.abs(q)!==1&&(oe-=q)}return B(U.left,U.top,le,oe)}var w=function(){return typeof SVGGraphicsElement<"u"?function(L){return L instanceof u(L).SVGGraphicsElement}:function(L){return L instanceof u(L).SVGElement&&typeof L.getBBox=="function"}}();function x(L){return L===u(L).document.documentElement}function _(L){return t?w(L)?v(L):h(L):m}function O(L){var H=L.x,z=L.y,D=L.width,U=L.height,R=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,T=Object.create(R.prototype);return d(T,{x:H,y:z,width:D,height:U,top:z,right:H+D,bottom:U+z,left:H}),T}function B(L,H,z,D){return{x:L,y:H,width:z,height:D}}var E=function(){function L(H){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=B(0,0,0,0),this.target=H}return L.prototype.isActive=function(){var H=_(this.target);return this.contentRect_=H,H.width!==this.broadcastWidth||H.height!==this.broadcastHeight},L.prototype.broadcastRect=function(){var H=this.contentRect_;return this.broadcastWidth=H.width,this.broadcastHeight=H.height,H},L}(),ee=function(){function L(H,z){var D=O(z);d(this,{target:H,contentRect:D})}return L}(),ae=function(){function L(H,z,D){if(this.activeObservations_=[],this.observations_=new e,typeof H!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=H,this.controller_=z,this.callbackCtx_=D}return L.prototype.observe=function(H){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(H instanceof u(H).Element))throw new TypeError('parameter 1 is not of type "Element".');var z=this.observations_;z.has(H)||(z.set(H,new E(H)),this.controller_.addObserver(this),this.controller_.refresh())}},L.prototype.unobserve=function(H){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(H instanceof u(H).Element))throw new TypeError('parameter 1 is not of type "Element".');var z=this.observations_;z.has(H)&&(z.delete(H),z.size||this.controller_.removeObserver(this))}},L.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},L.prototype.gatherActive=function(){var H=this;this.clearActive(),this.observations_.forEach(function(z){z.isActive()&&H.activeObservations_.push(z)})},L.prototype.broadcastActive=function(){if(this.hasActive()){var H=this.callbackCtx_,z=this.activeObservations_.map(function(D){return new ee(D.target,D.broadcastRect())});this.callback_.call(H,z,H),this.clearActive()}},L.prototype.clearActive=function(){this.activeObservations_.splice(0)},L.prototype.hasActive=function(){return this.activeObservations_.length>0},L}(),Ae=typeof WeakMap<"u"?new WeakMap:new e,ze=function(){function L(H){if(!(this instanceof L))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var z=c.getInstance(),D=new ae(H,z,this);Ae.set(this,D)}return L}();["observe","unobserve","disconnect"].forEach(function(L){ze.prototype[L]=function(){var H;return(H=Ae.get(this))[L].apply(H,arguments)}});var A=function(){return typeof r.ResizeObserver<"u"?r.ResizeObserver:ze}();return A})});var Wv=it(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.default=sN;var Ml=Uv(Q()),tN=Uu($a()),rN=Uu(jv()),aN=Uu(bi());function Uu(e){return e&&e.__esModule?e:{default:e}}function Uv(e,t){if(typeof WeakMap=="function")var r=new WeakMap,a=new WeakMap;return(Uv=function(o,n){if(!n&&o&&o.__esModule)return o;var i,l,s={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return s;if(i=n?a:r){if(i.has(o))return i.get(o);i.set(o,s)}for(let c in o)c!=="default"&&{}.hasOwnProperty.call(o,c)&&((l=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,c))&&(l.get||l.set)?i(s,c,l):s[c]=o[c]);return s})(e,t)}function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ju.apply(null,arguments)}function Ln(e,t,r){return(t=oN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oN(e){var t=nN(e,"string");return typeof t=="symbol"?t:t+""}function nN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iN="react-grid-layout";function sN(e){var t;return t=class extends Ml.Component{constructor(){super(...arguments),Ln(this,"state",{width:1280}),Ln(this,"elementRef",Ml.createRef()),Ln(this,"mounted",!1),Ln(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new rN.default(o=>{if(this.elementRef.current instanceof HTMLElement){let i=o[0].contentRect.width;this.setState({width:i})}});let a=this.elementRef.current;a instanceof HTMLElement&&this.resizeObserver.observe(a)}componentWillUnmount(){this.mounted=!1;let a=this.elementRef.current;a instanceof HTMLElement&&this.resizeObserver.unobserve(a),this.resizeObserver.disconnect()}render(){let{measureBeforeMount:a,...o}=this.props;return a&&!this.mounted?Ml.createElement("div",{className:(0,aN.default)(this.props.className,iN),style:this.props.style,ref:this.elementRef}):Ml.createElement(e,ju({innerRef:this.elementRef},o,this.state))}},Ln(t,"defaultProps",{measureBeforeMount:!1}),Ln(t,"propTypes",{measureBeforeMount:tN.default.bool}),t}});var $v=it((WA,Fo)=>{Fo.exports=Iu().default;Fo.exports.utils=Mo();Fo.exports.calculateUtils=ul();Fo.exports.Responsive=Hv().default;Fo.exports.Responsive.utils=Ou();Fo.exports.WidthProvider=Wv().default});var _0=y(Yp(),1);var vt=y(Q(),1),la=y(Q(),1),be=y(Q(),1),ke=y(Q(),1),Ze=y(Q(),1),Rc=y(Q(),1),Yy=y(Q(),1),Ky=y(Q(),1),gf=y(Q(),1),Gy=y(Q(),1),_f=y(Q(),1),Dc=y(Q(),1),Mf=y(Q(),1),Af=y(qp(),1);var Vp="popstate";function W0(e={}){function t(o,n){let{pathname:i="/",search:l="",hash:s=""}=Ya(o.location.hash.substring(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),lc("",{pathname:i,search:l,hash:s},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(o,n){let i=o.document.querySelector("base"),l="";if(i&&i.getAttribute("href")){let s=o.location.href,c=s.indexOf("#");l=c===-1?s:s.slice(0,c)}return l+"#"+(typeof n=="string"?n:mn(n))}function a(o,n){_r(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(n)})`)}return Y0(t,r,a,e)}function ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _r(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $0(){return Math.random().toString(36).substring(2,10)}function Xp(e,t){return{usr:e.state,key:e.key,idx:t}}function lc(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ya(t):t,state:r,key:t&&t.key||a||$0()}}function mn({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ya(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function Y0(e,t,r,a={}){let{window:o=document.defaultView,v5Compat:n=!1}=a,i=o.history,l="POP",s=null,c=d();c==null&&(c=0,i.replaceState({...i.state,idx:c},""));function d(){return(i.state||{idx:null}).idx}function u(){l="POP";let v=d(),h=v==null?null:v-c;c=v,s&&s({action:l,location:f.location,delta:h})}function m(v,h){l="PUSH";let w=lc(f.location,v,h);r&&r(w,v),c=d()+1;let x=Xp(w,c),_=f.createHref(w);try{i.pushState(x,"",_)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;o.location.assign(_)}n&&s&&s({action:l,location:f.location,delta:1})}function g(v,h){l="REPLACE";let w=lc(f.location,v,h);r&&r(w,v),c=d();let x=Xp(w,c),_=f.createHref(w);i.replaceState(x,"",_),n&&s&&s({action:l,location:f.location,delta:0})}function p(v){return K0(v)}let f={get action(){return l},get location(){return e(o,i)},listen(v){if(s)throw new Error("A history only accepts one active listener");return o.addEventListener(Vp,u),s=v,()=>{o.removeEventListener(Vp,u),s=null}},createHref(v){return t(o,v)},createURL:p,encodeLocation(v){let h=p(v);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:m,replace:g,go(v){return i.go(v)}};return f}function K0(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ut(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:mn(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}var G0;G0=new WeakMap;function mc(e,t,r="/"){return q0(e,t,r,!1)}function q0(e,t,r,a){let o=typeof t=="string"?Ya(t):t,n=sa(o.pathname||"/",r);if(n==null)return null;let i=ef(e);X0(i);let l=null;for(let s=0;l==null&&s<i.length;++s){let c=sy(n);l=ny(i[s],c,a)}return l}function V0(e,t){let{route:r,pathname:a,params:o}=e;return{id:r.id,pathname:a,params:o,data:t[r.id],handle:r.handle}}function ef(e,t=[],r=[],a=""){let o=(n,i,l)=>{let s={relativePath:l===void 0?n.path||"":l,caseSensitive:n.caseSensitive===!0,childrenIndex:i,route:n};s.relativePath.startsWith("/")&&(ut(s.relativePath.startsWith(a),`Absolute route path "${s.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(a.length));let c=Na([a,s.relativePath]),d=r.concat(s);n.children&&n.children.length>0&&(ut(n.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),ef(n.children,t,d,c)),!(n.path==null&&!n.index)&&t.push({path:c,score:ay(c,n.index),routesMeta:d})};return e.forEach((n,i)=>{if(n.path===""||!n.path?.includes("?"))o(n,i);else for(let l of tf(n.path))o(n,i,l)}),t}function tf(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,o=r.endsWith("?"),n=r.replace(/\?$/,"");if(a.length===0)return o?[n,""]:[n];let i=tf(a.join("/")),l=[];return l.push(...i.map(s=>s===""?n:[n,s].join("/"))),o&&l.push(...i),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function X0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:oy(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var J0=/^:[\w-]+$/,Q0=3,Z0=2,ey=1,ty=10,ry=-2,Jp=e=>e==="*";function ay(e,t){let r=e.split("/"),a=r.length;return r.some(Jp)&&(a+=ry),t&&(a+=Z0),r.filter(o=>!Jp(o)).reduce((o,n)=>o+(J0.test(n)?Q0:n===""?ey:ty),a)}function oy(e,t){return e.length===t.length&&e.slice(0,-1).every((a,o)=>a===t[o])?e[e.length-1]-t[t.length-1]:0}function ny(e,t,r=!1){let{routesMeta:a}=e,o={},n="/",i=[];for(let l=0;l<a.length;++l){let s=a[l],c=l===a.length-1,d=n==="/"?t:t.slice(n.length)||"/",u=Jn({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},d),m=s.route;if(!u&&c&&r&&!a[a.length-1].route.index&&(u=Jn({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},d)),!u)return null;Object.assign(o,u.params),i.push({params:o,pathname:Na([n,u.pathname]),pathnameBase:dy(Na([n,u.pathnameBase])),route:m}),u.pathnameBase!=="/"&&(n=Na([n,u.pathnameBase]))}return i}function Jn(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=iy(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let n=o[0],i=n.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((c,{paramName:d,isOptional:u},m)=>{if(d==="*"){let p=l[m]||"";i=n.slice(0,n.length-p.length).replace(/(.)\/+$/,"$1")}let g=l[m];return u&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:n,pathnameBase:i,pattern:e}}function iy(e,t=!1,r=!0){_r(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,s)=>(a.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function sy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _r(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function sa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function rf(e,t="/"){let{pathname:r,search:a="",hash:o=""}=typeof e=="string"?Ya(e):e;return{pathname:r?r.startsWith("/")?r:ly(r,t):t,search:uy(a),hash:my(o)}}function ly(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function ic(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cy(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function pc(e){let t=cy(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function fc(e,t,r,a=!1){let o;typeof e=="string"?o=Ya(e):(o={...e},ut(!o.pathname||!o.pathname.includes("?"),ic("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),ic("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),ic("#","search","hash",o)));let n=e===""||o.pathname==="",i=n?"/":o.pathname,l;if(i==null)l=r;else{let u=t.length-1;if(!a&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),u-=1;o.pathname=m.join("/")}l=u>=0?t[u]:"/"}let s=rf(o,l),c=i&&i!=="/"&&i.endsWith("/"),d=(n||i===".")&&r.endsWith("/");return!s.pathname.endsWith("/")&&(c||d)&&(s.pathname+="/"),s}var Na=e=>e.join("/").replace(/\/\/+/g,"/"),dy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,my=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function af(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var of=["POST","PUT","PATCH","DELETE"],oR=new Set(of),py=["GET",...of],nR=new Set(py);var iR=Symbol("ResetLoaderData");var Co=la.createContext(null);Co.displayName="DataRouter";var pn=la.createContext(null);pn.displayName="DataRouterState";var gc=la.createContext({isTransitioning:!1});gc.displayName="ViewTransition";var nf=la.createContext(new Map);nf.displayName="Fetchers";var fy=la.createContext(null);fy.displayName="Await";var yr=la.createContext(null);yr.displayName="Navigation";var fn=la.createContext(null);fn.displayName="Location";var jr=la.createContext({outlet:null,matches:[],isDataRoute:!1});jr.displayName="Route";var hc=la.createContext(null);hc.displayName="RouteError";var cc=!0;function sf(e,{relative:t}={}){ut(Ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=be.useContext(yr),{hash:o,pathname:n,search:i}=gn(e,{relative:t}),l=n;return r!=="/"&&(l=n==="/"?r:Na([r,n])),a.createHref({pathname:l,search:i,hash:o})}function Ro(){return be.useContext(fn)!=null}function Mr(){return ut(Ro(),"useLocation() may be used only in the context of a <Router> component."),be.useContext(fn).location}var lf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cf(e){be.useContext(yr).static||be.useLayoutEffect(e)}function bt(){let{isDataRoute:e}=be.useContext(jr);return e?Cy():gy()}function gy(){ut(Ro(),"useNavigate() may be used only in the context of a <Router> component.");let e=be.useContext(Co),{basename:t,navigator:r}=be.useContext(yr),{matches:a}=be.useContext(jr),{pathname:o}=Mr(),n=JSON.stringify(pc(a)),i=be.useRef(!1);return cf(()=>{i.current=!0}),be.useCallback((s,c={})=>{if(_r(i.current,lf),!i.current)return;if(typeof s=="number"){r.go(s);return}let d=fc(s,JSON.parse(n),o,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Na([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,n,o,e])}var sR=be.createContext(null);function vc(){let{matches:e}=be.useContext(jr),t=e[e.length-1];return t?t.params:{}}function gn(e,{relative:t}={}){let{matches:r}=be.useContext(jr),{pathname:a}=Mr(),o=JSON.stringify(pc(r));return be.useMemo(()=>fc(e,JSON.parse(o),a,t==="path"),[e,o,a,t])}function df(e,t){return uf(e,t)}function uf(e,t,r,a){ut(Ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=be.useContext(yr),{matches:n}=be.useContext(jr),i=n[n.length-1],l=i?i.params:{},s=i?i.pathname:"/",c=i?i.pathnameBase:"/",d=i&&i.route;if(cc){let h=d&&d.path||"";ff(s,!d||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${s}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let u=Mr(),m;if(t){let h=typeof t=="string"?Ya(t):t;ut(c==="/"||h.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${h.pathname}" was given in the \`location\` prop.`),m=h}else m=u;let g=m.pathname||"/",p=g;if(c!=="/"){let h=c.replace(/^\//,"").split("/");p="/"+g.replace(/^\//,"").split("/").slice(h.length).join("/")}let f=mc(e,{pathname:p});cc&&(_r(d||f!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),_r(f==null||f[f.length-1].route.element!==void 0||f[f.length-1].route.Component!==void 0||f[f.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`));let v=wy(f&&f.map(h=>Object.assign({},h,{params:Object.assign({},l,h.params),pathname:Na([c,o.encodeLocation?o.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?c:Na([c,o.encodeLocation?o.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),n,r,a);return t&&v?be.createElement(fn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},v):v}function hy(){let e=pf(),t=af(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},n={padding:"2px 4px",backgroundColor:a},i=null;return cc&&(console.error("Error handled by React Router default ErrorBoundary:",e),i=be.createElement(be.Fragment,null,be.createElement("p",null,"\u{1F4BF} Hey developer \u{1F44B}"),be.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",be.createElement("code",{style:n},"ErrorBoundary")," or"," ",be.createElement("code",{style:n},"errorElement")," prop on your route."))),be.createElement(be.Fragment,null,be.createElement("h2",null,"Unexpected Application Error!"),be.createElement("h3",{style:{fontStyle:"italic"}},t),r?be.createElement("pre",{style:o},r):null,i)}var vy=be.createElement(hy,null),by=class extends be.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?be.createElement(jr.Provider,{value:this.props.routeContext},be.createElement(hc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yy({routeContext:e,match:t,children:r}){let a=be.useContext(Co);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),be.createElement(jr.Provider,{value:e},r)}function wy(e,t=[],r=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,n=r?.errors;if(n!=null){let s=o.findIndex(c=>c.route.id&&n?.[c.route.id]!==void 0);ut(s>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(n).join(",")}`),o=o.slice(0,Math.min(o.length,s+1))}let i=!1,l=-1;if(r)for(let s=0;s<o.length;s++){let c=o[s];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=s),c.route.id){let{loaderData:d,errors:u}=r,m=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!u||u[c.route.id]===void 0);if(c.route.lazy||m){i=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((s,c,d)=>{let u,m=!1,g=null,p=null;r&&(u=n&&c.route.id?n[c.route.id]:void 0,g=c.route.errorElement||vy,i&&(l<0&&d===0?(ff("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,p=null):l===d&&(m=!0,p=c.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,d+1)),v=()=>{let h;return u?h=g:m?h=p:c.route.Component?h=be.createElement(c.route.Component,null):c.route.element?h=c.route.element:h=s,be.createElement(yy,{match:c,routeContext:{outlet:s,matches:f,isDataRoute:r!=null},children:h})};return r&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?be.createElement(by,{location:r.location,revalidation:r.revalidation,component:g,error:u,children:v(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):v()},null)}function bc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xy(e){let t=be.useContext(Co);return ut(t,bc(e)),t}function yc(e){let t=be.useContext(pn);return ut(t,bc(e)),t}function ky(e){let t=be.useContext(jr);return ut(t,bc(e)),t}function wc(e){let t=ky(e),r=t.matches[t.matches.length-1];return ut(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Ny(){return wc("useRouteId")}function mf(){return yc("useNavigation").navigation}function xc(){let{matches:e,loaderData:t}=yc("useMatches");return be.useMemo(()=>e.map(r=>V0(r,t)),[e,t])}function pf(){let e=be.useContext(hc),t=yc("useRouteError"),r=wc("useRouteError");return e!==void 0?e:t.errors?.[r]}function Cy(){let{router:e}=xy("useNavigate"),t=wc("useNavigate"),r=be.useRef(!1);return cf(()=>{r.current=!0}),be.useCallback(async(o,n={})=>{_r(r.current,lf),r.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...n}))},[e,t])}var Qp={};function ff(e,t,r){!t&&!Qp[e]&&(Qp[e]=!0,_r(!1,r))}var lR=vt.memo(Ry);function Ry({routes:e,future:t,state:r}){return uf(e,void 0,r,t)}function Rs({to:e,replace:t,state:r,relative:a}){ut(Ro(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=vt.useContext(yr);_r(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:n}=vt.useContext(jr),{pathname:i}=Mr(),l=bt(),s=fc(e,pc(n),i,a==="path"),c=JSON.stringify(s);return vt.useEffect(()=>{l(JSON.parse(c),{replace:t,state:r,relative:a})},[l,c,a,t,r]),null}function Ot(e){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kc({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:o,static:n=!1}){ut(!Ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),l=vt.useMemo(()=>({basename:i,navigator:o,static:n,future:{}}),[i,o,n]);typeof r=="string"&&(r=Ya(r));let{pathname:s="/",search:c="",hash:d="",state:u=null,key:m="default"}=r,g=vt.useMemo(()=>{let p=sa(s,i);return p==null?null:{location:{pathname:p,search:c,hash:d,state:u,key:m},navigationType:a}},[i,s,c,d,u,m,a]);return _r(g!=null,`<Router basename="${i}"> is not able to match the URL "${s}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:vt.createElement(yr.Provider,{value:l},vt.createElement(fn.Provider,{children:t,value:g}))}function Nc({children:e,location:t}){return df(Cs(e),t)}function Cs(e,t=[]){let r=[];return vt.Children.forEach(e,(a,o)=>{if(!vt.isValidElement(a))return;let n=[...t,o];if(a.type===vt.Fragment){r.push.apply(r,Cs(a.props.children,n));return}ut(a.type===Ot,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!a.props.index||!a.props.children,"An index route cannot have child routes.");let i={id:a.props.id||n.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(i.children=Cs(a.props.children,n)),r.push(i)}),r}var ks="get",Ns="application/x-www-form-urlencoded";function Ss(e){return e!=null&&typeof e.tagName=="string"}function Sy(e){return Ss(e)&&e.tagName.toLowerCase()==="button"}function Py(e){return Ss(e)&&e.tagName.toLowerCase()==="form"}function Dy(e){return Ss(e)&&e.tagName.toLowerCase()==="input"}function Ey(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ty(e,t){return e.button===0&&(!t||t==="_self")&&!Ey(e)}var ws=null;function _y(){if(ws===null)try{new FormData(document.createElement("form"),0),ws=!1}catch{ws=!0}return ws}var My=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sc(e){return e!=null&&!My.has(e)?(_r(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ns}"`),null):e}function Ay(e,t){let r,a,o,n,i;if(Py(e)){let l=e.getAttribute("action");a=l?sa(l,t):null,r=e.getAttribute("method")||ks,o=sc(e.getAttribute("enctype"))||Ns,n=new FormData(e)}else if(Sy(e)||Dy(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||l.getAttribute("action");if(a=s?sa(s,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||ks,o=sc(e.getAttribute("formenctype"))||sc(l.getAttribute("enctype"))||Ns,n=new FormData(l,e),!_y()){let{name:c,type:d,value:u}=e;if(d==="image"){let m=c?`${c}.`:"";n.append(`${m}x`,"0"),n.append(`${m}y`,"0")}else c&&n.append(c,u)}}else{if(Ss(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ks,a=null,o=Ns,i=e}return n&&o==="text/plain"&&(i=n,n=void 0),{action:a,method:r.toLowerCase(),encType:o,formData:n,body:i}}function Cc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Iy(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){if(console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode&&import.meta.hot)throw r;return window.location.reload(),new Promise(()=>{})}}function Ly(e){return e!=null&&typeof e.page=="string"}function Oy(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function zy(e,t,r){let a=await Promise.all(e.map(async o=>{let n=t.routes[o.route.id];if(n){let i=await Iy(n,r);return i.links?i.links():[]}return[]}));return jy(a.flat(1).filter(Oy).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Zp(e,t,r,a,o,n){let i=(s,c)=>r[c]?s.route.id!==r[c].route.id:!0,l=(s,c)=>r[c].pathname!==s.pathname||r[c].route.path?.endsWith("*")&&r[c].params["*"]!==s.params["*"];return n==="assets"?t.filter((s,c)=>i(s,c)||l(s,c)):n==="data"?t.filter((s,c)=>{let d=a.routes[s.route.id];if(!d||!d.hasLoader)return!1;if(i(s,c)||l(s,c))return!0;if(s.route.shouldRevalidate){let u=s.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:s.params,defaultShouldRevalidate:!0});if(typeof u=="boolean")return u}return!0}):[]}function Fy(e,t,{includeHydrateFallback:r}={}){return By(e.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let n=[o.module];return o.clientActionModule&&(n=n.concat(o.clientActionModule)),o.clientLoaderModule&&(n=n.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(n=n.concat(o.hydrateFallbackModule)),o.imports&&(n=n.concat(o.imports)),n}).flat(1))}function By(e){return[...new Set(e)]}function Hy(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function jy(e,t){let r=new Set,a=new Set(t);return e.reduce((o,n)=>{if(t&&!Ly(n)&&n.as==="script"&&n.href&&a.has(n.href))return o;let l=JSON.stringify(Hy(n));return r.has(l)||(r.add(l),o.push({key:l,link:n})),o},[])}var cR=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Uy=Symbol("SingleFetchRedirect");var Wy=new Set([100,101,204,205]);function $y(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&sa(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function hf(){let e=Ze.useContext(Co);return Cc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function qy(){let e=Ze.useContext(pn);return Cc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Qn=Ze.createContext(void 0);Qn.displayName="FrameworkContext";function vf(){let e=Ze.useContext(Qn);return Cc(e,"You must render this element inside a <HydratedRouter> element"),e}function Vy(e,t){let r=Ze.useContext(Qn),[a,o]=Ze.useState(!1),[n,i]=Ze.useState(!1),{onFocus:l,onBlur:s,onMouseEnter:c,onMouseLeave:d,onTouchStart:u}=t,m=Ze.useRef(null);Ze.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let f=h=>{h.forEach(w=>{i(w.isIntersecting)})},v=new IntersectionObserver(f,{threshold:.5});return m.current&&v.observe(m.current),()=>{v.disconnect()}}},[e]),Ze.useEffect(()=>{if(a){let f=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(f)}}},[a]);let g=()=>{o(!0)},p=()=>{o(!1),i(!1)};return r?e!=="intent"?[n,m,{}]:[n,m,{onFocus:Xn(l,g),onBlur:Xn(s,p),onMouseEnter:Xn(c,g),onMouseLeave:Xn(d,p),onTouchStart:Xn(u,g)}]:[!1,m,{}]}function Xn(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function bf({page:e,...t}){let{router:r}=hf(),a=Ze.useMemo(()=>mc(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?Ze.createElement(Jy,{page:e,matches:a,...t}):null}function Xy(e){let{manifest:t,routeModules:r}=vf(),[a,o]=Ze.useState([]);return Ze.useEffect(()=>{let n=!1;return zy(e,t,r).then(i=>{n||o(i)}),()=>{n=!0}},[e,t,r]),a}function Jy({page:e,matches:t,...r}){let a=Mr(),{manifest:o,routeModules:n}=vf(),{basename:i}=hf(),{loaderData:l,matches:s}=qy(),c=Ze.useMemo(()=>Zp(e,t,s,o,a,"data"),[e,t,s,o,a]),d=Ze.useMemo(()=>Zp(e,t,s,o,a,"assets"),[e,t,s,o,a]),u=Ze.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let p=new Set,f=!1;if(t.forEach(h=>{let w=o.routes[h.route.id];!w||!w.hasLoader||(!c.some(x=>x.route.id===h.route.id)&&h.route.id in l&&n[h.route.id]?.shouldRevalidate||w.hasClientLoader?f=!0:p.add(h.route.id))}),p.size===0)return[];let v=$y(e,i);return f&&p.size>0&&v.searchParams.set("_routes",t.filter(h=>p.has(h.route.id)).map(h=>h.route.id).join(",")),[v.pathname+v.search]},[i,l,a,o,c,t,e,n]),m=Ze.useMemo(()=>Fy(d,o),[d,o]),g=Xy(d);return Ze.createElement(Ze.Fragment,null,u.map(p=>Ze.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),m.map(p=>Ze.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),g.map(({key:p,link:f})=>Ze.createElement("link",{key:p,...f})))}function Qy(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var yf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yf&&(window.__reactRouterVersion="7.6.3")}catch{}function Sc({basename:e,children:t,window:r}){let a=ke.useRef();a.current==null&&(a.current=W0({window:r,v5Compat:!0}));let o=a.current,[n,i]=ke.useState({action:o.action,location:o.location}),l=ke.useCallback(s=>{ke.startTransition(()=>i(s))},[i]);return ke.useLayoutEffect(()=>o.listen(l),[o,l]),ke.createElement(kc,{basename:e,children:t,location:n.location,navigationType:n.action,navigator:o})}function wf({basename:e,children:t,history:r}){let[a,o]=ke.useState({action:r.action,location:r.location}),n=ke.useCallback(i=>{ke.startTransition(()=>o(i))},[o]);return ke.useLayoutEffect(()=>r.listen(n),[r,n]),ke.createElement(kc,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:r})}wf.displayName="unstable_HistoryRouter";var xf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kr=ke.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:o,reloadDocument:n,replace:i,state:l,target:s,to:c,preventScrollReset:d,viewTransition:u,...m},g){let{basename:p}=ke.useContext(yr),f=typeof c=="string"&&xf.test(c),v,h=!1;if(typeof c=="string"&&f&&(v=c,yf))try{let ae=new URL(window.location.href),Ae=c.startsWith("//")?new URL(ae.protocol+c):new URL(c),ze=sa(Ae.pathname,p);Ae.origin===ae.origin&&ze!=null?c=ze+Ae.search+Ae.hash:h=!0}catch{_r(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=sf(c,{relative:o}),[x,_,O]=Vy(a,m),B=Sf(c,{replace:i,state:l,target:s,preventScrollReset:d,relative:o,viewTransition:u});function E(ae){t&&t(ae),ae.defaultPrevented||B(ae)}let ee=ke.createElement("a",{...m,...O,href:v||w,onClick:h||n?t:E,ref:Qy(g,_),target:s,"data-discover":!f&&r==="render"?"true":void 0});return x&&!f?ke.createElement(ke.Fragment,null,ee,ke.createElement(bf,{page:w})):ee});Kr.displayName="Link";var kf=ke.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:o=!1,style:n,to:i,viewTransition:l,children:s,...c},d){let u=gn(i,{relative:c.relative}),m=Mr(),g=ke.useContext(pn),{navigator:p,basename:f}=ke.useContext(yr),v=g!=null&&Tf(u)&&l===!0,h=p.encodeLocation?p.encodeLocation(u).pathname:u.pathname,w=m.pathname,x=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(w=w.toLowerCase(),x=x?x.toLowerCase():null,h=h.toLowerCase()),x&&f&&(x=sa(x,f)||x);let _=h!=="/"&&h.endsWith("/")?h.length-1:h.length,O=w===h||!o&&w.startsWith(h)&&w.charAt(_)==="/",B=x!=null&&(x===h||!o&&x.startsWith(h)&&x.charAt(h.length)==="/"),E={isActive:O,isPending:B,isTransitioning:v},ee=O?t:void 0,ae;typeof a=="function"?ae=a(E):ae=[a,O?"active":null,B?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let Ae=typeof n=="function"?n(E):n;return ke.createElement(Kr,{...c,"aria-current":ee,className:ae,ref:d,style:Ae,to:i,viewTransition:l},typeof s=="function"?s(E):s)});kf.displayName="NavLink";var Nf=ke.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:o,state:n,method:i=ks,action:l,onSubmit:s,relative:c,preventScrollReset:d,viewTransition:u,...m},g)=>{let p=Pf(),f=Df(l,{relative:c}),v=i.toLowerCase()==="get"?"get":"post",h=typeof l=="string"&&xf.test(l);return ke.createElement("form",{ref:g,method:v,action:f,onSubmit:a?s:x=>{if(s&&s(x),x.defaultPrevented)return;x.preventDefault();let _=x.nativeEvent.submitter,O=_?.getAttribute("formmethod")||i;p(_||x.currentTarget,{fetcherKey:t,method:O,navigate:r,replace:o,state:n,relative:c,preventScrollReset:d,viewTransition:u})},...m,"data-discover":!h&&e==="render"?"true":void 0})});Nf.displayName="Form";function Cf({getKey:e,storageKey:t,...r}){let a=ke.useContext(Qn),{basename:o}=ke.useContext(yr),n=Mr(),i=xc();Ef({getKey:e,storageKey:t});let l=ke.useMemo(()=>{if(!a||!e)return null;let c=uc(n,i,o,e);return c!==n.key?c:null},[]);if(!a||a.isSpaMode)return null;let s=((c,d)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let m=JSON.parse(sessionStorage.getItem(c)||"{}")[d||window.history.state.key];typeof m=="number"&&window.scrollTo(0,m)}catch(u){console.error(u),sessionStorage.removeItem(c)}}).toString();return ke.createElement("script",{...r,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${s})(${JSON.stringify(t||dc)}, ${JSON.stringify(l)})`}})}Cf.displayName="ScrollRestoration";function Rf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pc(e){let t=ke.useContext(Co);return ut(t,Rf(e)),t}function Zy(e){let t=ke.useContext(pn);return ut(t,Rf(e)),t}function Sf(e,{target:t,replace:r,state:a,preventScrollReset:o,relative:n,viewTransition:i}={}){let l=bt(),s=Mr(),c=gn(e,{relative:n});return ke.useCallback(d=>{if(Ty(d,t)){d.preventDefault();let u=r!==void 0?r:mn(s)===mn(c);l(e,{replace:u,state:a,preventScrollReset:o,relative:n,viewTransition:i})}},[s,l,c,r,a,t,e,o,n,i])}var ew=0,tw=()=>`__${String(++ew)}__`;function Pf(){let{router:e}=Pc("useSubmit"),{basename:t}=ke.useContext(yr),r=Ny();return ke.useCallback(async(a,o={})=>{let{action:n,method:i,encType:l,formData:s,body:c}=Ay(a,t);if(o.navigate===!1){let d=o.fetcherKey||tw();await e.fetch(d,r,o.action||n,{preventScrollReset:o.preventScrollReset,formData:s,body:c,formMethod:o.method||i,formEncType:o.encType||l,flushSync:o.flushSync})}else await e.navigate(o.action||n,{preventScrollReset:o.preventScrollReset,formData:s,body:c,formMethod:o.method||i,formEncType:o.encType||l,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,r])}function Df(e,{relative:t}={}){let{basename:r}=ke.useContext(yr),a=ke.useContext(jr);ut(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),n={...gn(e||".",{relative:t})},i=Mr();if(e==null){n.search=i.search;let l=new URLSearchParams(n.search),s=l.getAll("index");if(s.some(d=>d==="")){l.delete("index"),s.filter(u=>u).forEach(u=>l.append("index",u));let d=l.toString();n.search=d?`?${d}`:""}}return(!e||e===".")&&o.route.index&&(n.search=n.search?n.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(n.pathname=n.pathname==="/"?r:Na([r,n.pathname])),mn(n)}var dc="react-router-scroll-positions",xs={};function uc(e,t,r,a){let o=null;return a&&(r!=="/"?o=a({...e,pathname:sa(e.pathname,r)||e.pathname},t):o=a(e,t)),o==null&&(o=e.key),o}function Ef({getKey:e,storageKey:t}={}){let{router:r}=Pc("useScrollRestoration"),{restoreScrollPosition:a,preventScrollReset:o}=Zy("useScrollRestoration"),{basename:n}=ke.useContext(yr),i=Mr(),l=xc(),s=mf();ke.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),rw(ke.useCallback(()=>{if(s.state==="idle"){let c=uc(i,l,n,e);xs[c]=window.scrollY}try{sessionStorage.setItem(t||dc,JSON.stringify(xs))}catch(c){_r(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${c}).`)}window.history.scrollRestoration="auto"},[s.state,e,n,i,l,t])),typeof document<"u"&&(ke.useLayoutEffect(()=>{try{let c=sessionStorage.getItem(t||dc);c&&(xs=JSON.parse(c))}catch{}},[t]),ke.useLayoutEffect(()=>{let c=r?.enableScrollRestoration(xs,()=>window.scrollY,e?(d,u)=>uc(d,u,n,e):void 0);return()=>c&&c()},[r,n,e]),ke.useLayoutEffect(()=>{if(a!==!1){if(typeof a=="number"){window.scrollTo(0,a);return}if(i.hash){let c=document.getElementById(decodeURIComponent(i.hash.slice(1)));if(c){c.scrollIntoView();return}}o!==!0&&window.scrollTo(0,0)}},[i,a,o]))}function rw(e,t){let{capture:r}=t||{};ke.useEffect(()=>{let a=r!=null?{capture:r}:void 0;return window.addEventListener("pagehide",e,a),()=>{window.removeEventListener("pagehide",e,a)}},[e,r])}function Tf(e,t={}){let r=ke.useContext(gc);ut(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Pc("useViewTransitionState"),o=gn(e,{relative:t.relative});if(!r.isTransitioning)return!1;let n=sa(r.currentLocation.pathname,a)||r.currentLocation.pathname,i=sa(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Jn(o.pathname,i)!=null||Jn(o.pathname,n)!=null}var dR=new Set([...Wy,304]);var If=y(Q(),1);var Ec=y(M(),1);function Tc({children:e}){let[t]=(0,If.useState)(()=>new Km({defaultOptions:{queries:{staleTime:3e5,refetchOnWindowFocus:!1}}}));return(0,Ec.jsx)(X.Provider,{client:qm,queryClient:t,children:(0,Ec.jsx)(Gm,{client:t,children:e})})}var et=Vm()(Xm((e,t)=>({user:null,token:null,isAuthenticated:!1,isLoading:!0,hydrate:async()=>{if(typeof window<"u"){let r=localStorage.getItem("auth-token");e({token:r||null,isLoading:!0}),await t().fetchUser()}},fetchUser:async()=>{let r=t().token;if(r)try{let a=await fetch("http://localhost:3002/trpc/user.me",{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(a.ok){let n=(await a.json()).result.data;e({user:{id:n.id,name:n.name,email:n.email,avatar:n.avatar,createdAt:new Date(n.createdAt)},isAuthenticated:!0,isLoading:!1})}else e({user:null,isAuthenticated:!1,isLoading:!1})}catch(a){console.error("Failed to fetch user:",a),e({user:null,isAuthenticated:!1,isLoading:!1})}},setUser:r=>e({user:r,isAuthenticated:!0,isLoading:!1}),setToken:r=>{typeof window<"u"&&localStorage.setItem("auth-token",r),e({token:r})},logout:()=>{typeof window<"u"&&localStorage.removeItem("auth-token"),e({user:null,token:null,isAuthenticated:!1,isLoading:!1})},setLoading:r=>e({isLoading:r})}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}));var T0=y(Q(),1);var ii=y(Q(),1);var Us=y(Q(),1);var pt=y(Q(),1);var Zn=y(Q(),1);var Ar=y(M(),1),Ir=an,_c=ds,aw=on;var Of=Zn.forwardRef(({className:e,...t},r)=>(0,Ar.jsx)(vo,{ref:r,className:S("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Of.displayName=vo.displayName;var wr=Zn.forwardRef(({className:e,children:t,...r},a)=>(0,Ar.jsxs)(aw,{children:[(0,Ar.jsx)(Of,{}),(0,Ar.jsxs)(bo,{ref:a,className:S("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,(0,Ar.jsxs)(qn,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,Ar.jsx)(Mt,{className:"h-4 w-4"}),(0,Ar.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));wr.displayName=bo.displayName;var ca=({className:e,...t})=>(0,Ar.jsx)("div",{className:S("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ca.displayName="DialogHeader";var Ps=({className:e,...t})=>(0,Ar.jsx)("div",{className:S("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ps.displayName="DialogFooter";var da=Zn.forwardRef(({className:e,...t},r)=>(0,Ar.jsx)(Kn,{ref:r,className:S("text-lg font-semibold leading-none tracking-tight",e),...t}));da.displayName=Kn.displayName;var hn=Zn.forwardRef(({className:e,...t},r)=>(0,Ar.jsx)(Gn,{ref:r,className:S("text-sm text-muted-foreground",e),...t}));hn.displayName=Gn.displayName;var Hf=y(Q(),1);var zf=y(Q(),1);var Ff=y(M(),1),ow="Label",Bf=zf.forwardRef((e,t)=>(0,Ff.jsx)(Be.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Bf.displayName=ow;var Mc=Bf;var jf=y(M(),1),iw=ji("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Tt=Hf.forwardRef(({className:e,...t},r)=>(0,jf.jsx)(Mc,{ref:r,className:S(iw(),e),...t}));Tt.displayName=Mc.displayName;var Y=y(M()),Ve=y(Q());function Ds(e,t){let r=t*7;return Kt(e,r)}function Uf(e,t){return Tr(e,t*12)}function Wf(e){let t;return e.forEach(function(r){let a=Et(r);(t===void 0||t<a||isNaN(Number(a)))&&(t=a)}),t||new Date(NaN)}function $f(e){let t;return e.forEach(r=>{let a=Et(r);(!t||t>a||isNaN(+a))&&(t=a)}),t||new Date(NaN)}function Yf(e,t,r){let a=xo(e,r),o=xo(t,r),n=+a-ac(a),i=+o-ac(o);return Math.round((n-i)/Dp)}function Ac(e){return Vn(e,{weekStartsOn:1})}function Kf(e){let t=Et(e),r=t.getFullYear(),a=t.getMonth(),o=cn(e,0);return o.setFullYear(r,a+1,0),o.setHours(0,0,0,0),o.getDate()}function Gf(e){return Math.trunc(+Et(e)/1e3)}function qf(e){let t=Et(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Vf(e,t){return Yf(qf(e),tr(e),t)+1}function Es(e,t){let r=Et(e),a=Et(t);return r.getTime()>a.getTime()}function Ic(e,t){let r=Et(e),a=Et(t);return+r<+a}function Xf(e,t){let r=Et(e),a=Et(t);return r.getFullYear()===a.getFullYear()}function Ts(e,t){return Kt(e,-t)}function _s(e,t){let r=Et(e),a=r.getFullYear(),o=r.getDate(),n=cn(e,0);n.setFullYear(a,t,15),n.setHours(0,0,0,0);let i=Kf(n);return r.setMonth(t,Math.min(o,i)),r}function Lc(e,t){let r=Et(e);return isNaN(+r)?cn(e,NaN):(r.setFullYear(t),r)}var Pe=function(){return Pe=Object.assign||function(t){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pe.apply(this,arguments)};function sw(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r}function tg(e,t,r){if(r||arguments.length===2)for(var a=0,o=t.length,n;a<o;a++)(n||!(a in t))&&(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}function ei(e){return e.mode==="multiple"}function ti(e){return e.mode==="range"}function Is(e){return e.mode==="single"}var lw={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function cw(e,t){return rr(e,"LLLL y",t)}function dw(e,t){return rr(e,"d",t)}function uw(e,t){return rr(e,"LLLL",t)}function mw(e){return"".concat(e)}function pw(e,t){return rr(e,"cccccc",t)}function fw(e,t){return rr(e,"yyyy",t)}var gw=Object.freeze({__proto__:null,formatCaption:cw,formatDay:dw,formatMonthCaption:uw,formatWeekNumber:mw,formatWeekdayName:pw,formatYearCaption:fw}),hw=function(e,t,r){return rr(e,"do MMMM (EEEE)",r)},vw=function(){return"Month: "},bw=function(){return"Go to next month"},yw=function(){return"Go to previous month"},ww=function(e,t){return rr(e,"cccc",t)},xw=function(e){return"Week n. ".concat(e)},kw=function(){return"Year: "},Nw=Object.freeze({__proto__:null,labelDay:hw,labelMonthDropdown:vw,labelNext:bw,labelPrevious:yw,labelWeekNumber:xw,labelWeekday:ww,labelYearDropdown:kw});function Cw(){var e="buttons",t=lw,r=Tp,a={},o={},n=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:gw,labels:Nw,locale:r,modifiersClassNames:a,modifiers:o,numberOfMonths:n,styles:i,today:l,mode:"default"}}function Rw(e){var t=e.fromYear,r=e.toYear,a=e.fromMonth,o=e.toMonth,n=e.fromDate,i=e.toDate;return a?n=tr(a):t&&(n=new Date(t,0,1)),o?i=gs(o):r&&(i=new Date(r,11,31)),{fromDate:n?rc(n):void 0,toDate:i?rc(i):void 0}}var rg=(0,Ve.createContext)(void 0);function Sw(e){var t,r=e.initialProps,a=Cw(),o=Rw(r),n=o.fromDate,i=o.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:a.captionLayout;l!=="buttons"&&(!n||!i)&&(l="buttons");var s;(Is(r)||ei(r)||ti(r))&&(s=r.onSelect);var c=Pe(Pe(Pe({},a),r),{captionLayout:l,classNames:Pe(Pe({},a.classNames),r.classNames),components:Pe({},r.components),formatters:Pe(Pe({},a.formatters),r.formatters),fromDate:n,labels:Pe(Pe({},a.labels),r.labels),mode:r.mode||a.mode,modifiers:Pe(Pe({},a.modifiers),r.modifiers),modifiersClassNames:Pe(Pe({},a.modifiersClassNames),r.modifiersClassNames),onSelect:s,styles:Pe(Pe({},a.styles),r.styles),toDate:i});return(0,Y.jsx)(rg.Provider,{value:c,children:e.children})}function mt(){var e=(0,Ve.useContext)(rg);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function ag(e){var t=mt(),r=t.locale,a=t.classNames,o=t.styles,n=t.formatters.formatCaption;return(0,Y.jsx)("div",{className:a.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:n(e.displayMonth,{locale:r})})}function Pw(e){return(0,Y.jsx)("svg",Pe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:(0,Y.jsx)("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function og(e){var t,r,a=e.onChange,o=e.value,n=e.children,i=e.caption,l=e.className,s=e.style,c=mt(),d=(r=(t=c.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Pw;return(0,Y.jsxs)("div",{className:l,style:s,children:[(0,Y.jsx)("span",{className:c.classNames.vhidden,children:e["aria-label"]}),(0,Y.jsx)("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:o,onChange:a,children:n}),(0,Y.jsxs)("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[i,(0,Y.jsx)(d,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function Dw(e){var t,r=mt(),a=r.fromDate,o=r.toDate,n=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,s=r.classNames,c=r.components,d=r.labels.labelMonthDropdown;if(!a)return(0,Y.jsx)(Y.Fragment,{});if(!o)return(0,Y.jsx)(Y.Fragment,{});var u=[];if(Xf(a,o))for(var m=tr(a),g=a.getMonth();g<=o.getMonth();g++)u.push(_s(m,g));else for(var m=tr(new Date),g=0;g<=11;g++)u.push(_s(m,g));var p=function(v){var h=Number(v.target.value),w=_s(tr(e.displayMonth),h);e.onChange(w)},f=(t=c?.Dropdown)!==null&&t!==void 0?t:og;return(0,Y.jsx)(f,{name:"months","aria-label":d(),className:s.dropdown_month,style:n.dropdown_month,onChange:p,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:u.map(function(v){return(0,Y.jsx)("option",{value:v.getMonth(),children:l(v,{locale:i})},v.getMonth())})})}function Ew(e){var t,r=e.displayMonth,a=mt(),o=a.fromDate,n=a.toDate,i=a.locale,l=a.styles,s=a.classNames,c=a.components,d=a.formatters.formatYearCaption,u=a.labels.labelYearDropdown,m=[];if(!o)return(0,Y.jsx)(Y.Fragment,{});if(!n)return(0,Y.jsx)(Y.Fragment,{});for(var g=o.getFullYear(),p=n.getFullYear(),f=g;f<=p;f++)m.push(Lc(Ep(new Date),f));var v=function(w){var x=Lc(tr(r),Number(w.target.value));e.onChange(x)},h=(t=c?.Dropdown)!==null&&t!==void 0?t:og;return(0,Y.jsx)(h,{name:"years","aria-label":u(),className:s.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:i}),children:m.map(function(w){return(0,Y.jsx)("option",{value:w.getFullYear(),children:d(w,{locale:i})},w.getFullYear())})})}function Tw(e,t){var r=(0,Ve.useState)(e),a=r[0],o=r[1],n=t===void 0?a:t;return[n,o]}function _w(e){var t=e.month,r=e.defaultMonth,a=e.today,o=t||r||a||new Date,n=e.toDate,i=e.fromDate,l=e.numberOfMonths,s=l===void 0?1:l;if(n&&dn(n,o)<0){var c=-1*(s-1);o=Tr(n,c)}return i&&dn(o,i)<0&&(o=i),tr(o)}function Mw(){var e=mt(),t=_w(e),r=Tw(t,e.month),a=r[0],o=r[1],n=function(i){var l;if(!e.disableNavigation){var s=tr(i);o(s),(l=e.onMonthChange)===null||l===void 0||l.call(e,s)}};return[a,n]}function Aw(e,t){for(var r=t.reverseMonths,a=t.numberOfMonths,o=tr(e),n=tr(Tr(o,a)),i=dn(n,o),l=[],s=0;s<i;s++){var c=Tr(o,s);l.push(c)}return r&&(l=l.reverse()),l}function Iw(e,t){if(!t.disableNavigation){var r=t.toDate,a=t.pagedNavigation,o=t.numberOfMonths,n=o===void 0?1:o,i=a?n:1,l=tr(e);if(!r)return Tr(l,i);var s=dn(r,e);if(!(s<n))return Tr(l,i)}}function Lw(e,t){if(!t.disableNavigation){var r=t.fromDate,a=t.pagedNavigation,o=t.numberOfMonths,n=o===void 0?1:o,i=a?n:1,l=tr(e);if(!r)return Tr(l,-i);var s=dn(l,r);if(!(s<=0))return Tr(l,-i)}}var ng=(0,Ve.createContext)(void 0);function Ow(e){var t=mt(),r=Mw(),a=r[0],o=r[1],n=Aw(a,t),i=Iw(a,t),l=Lw(a,t),s=function(u){return n.some(function(m){return hs(u,m)})},c=function(u,m){s(u)||(m&&Ic(u,m)?o(Tr(u,1+t.numberOfMonths*-1)):o(u))},d={currentMonth:a,displayMonths:n,goToMonth:o,goToDate:c,previousMonth:l,nextMonth:i,isDateDisplayed:s};return(0,Y.jsx)(ng.Provider,{value:d,children:e.children})}function ri(){var e=(0,Ve.useContext)(ng);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Jf(e){var t,r=mt(),a=r.classNames,o=r.styles,n=r.components,i=ri().goToMonth,l=function(d){i(Tr(d,e.displayIndex?-e.displayIndex:0))},s=(t=n?.CaptionLabel)!==null&&t!==void 0?t:ag,c=(0,Y.jsx)(s,{id:e.id,displayMonth:e.displayMonth});return(0,Y.jsxs)("div",{className:a.caption_dropdowns,style:o.caption_dropdowns,children:[(0,Y.jsx)("div",{className:a.vhidden,children:c}),(0,Y.jsx)(Dw,{onChange:l,displayMonth:e.displayMonth}),(0,Y.jsx)(Ew,{onChange:l,displayMonth:e.displayMonth})]})}function zw(e){return(0,Y.jsx)("svg",Pe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:(0,Y.jsx)("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Fw(e){return(0,Y.jsx)("svg",Pe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:(0,Y.jsx)("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var As=(0,Ve.forwardRef)(function(e,t){var r=mt(),a=r.classNames,o=r.styles,n=[a.button_reset,a.button];e.className&&n.push(e.className);var i=n.join(" "),l=Pe(Pe({},o.button_reset),o.button);return e.style&&Object.assign(l,e.style),(0,Y.jsx)("button",Pe({},e,{ref:t,type:"button",className:i,style:l}))});function Bw(e){var t,r,a=mt(),o=a.dir,n=a.locale,i=a.classNames,l=a.styles,s=a.labels,c=s.labelPrevious,d=s.labelNext,u=a.components;if(!e.nextMonth&&!e.previousMonth)return(0,Y.jsx)(Y.Fragment,{});var m=c(e.previousMonth,{locale:n}),g=[i.nav_button,i.nav_button_previous].join(" "),p=d(e.nextMonth,{locale:n}),f=[i.nav_button,i.nav_button_next].join(" "),v=(t=u?.IconRight)!==null&&t!==void 0?t:Fw,h=(r=u?.IconLeft)!==null&&r!==void 0?r:zw;return(0,Y.jsxs)("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&(0,Y.jsx)(As,{name:"previous-month","aria-label":m,className:g,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:o==="rtl"?(0,Y.jsx)(v,{className:i.nav_icon,style:l.nav_icon}):(0,Y.jsx)(h,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&(0,Y.jsx)(As,{name:"next-month","aria-label":p,className:f,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:o==="rtl"?(0,Y.jsx)(h,{className:i.nav_icon,style:l.nav_icon}):(0,Y.jsx)(v,{className:i.nav_icon,style:l.nav_icon})})]})}function Qf(e){var t=mt().numberOfMonths,r=ri(),a=r.previousMonth,o=r.nextMonth,n=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(p){return hs(e.displayMonth,p)}),s=l===0,c=l===i.length-1,d=t>1&&(s||!c),u=t>1&&(c||!s),m=function(){a&&n(a)},g=function(){o&&n(o)};return(0,Y.jsx)(Bw,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:u,nextMonth:o,previousMonth:a,onPreviousClick:m,onNextClick:g})}function Hw(e){var t,r=mt(),a=r.classNames,o=r.disableNavigation,n=r.styles,i=r.captionLayout,l=r.components,s=(t=l?.CaptionLabel)!==null&&t!==void 0?t:ag,c;return o?c=(0,Y.jsx)(s,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?c=(0,Y.jsx)(Jf,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?c=(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Jf,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),(0,Y.jsx)(Qf,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):c=(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(s,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),(0,Y.jsx)(Qf,{displayMonth:e.displayMonth,id:e.id})]}),(0,Y.jsx)("div",{className:a.caption,style:n.caption,children:c})}function jw(e){var t=mt(),r=t.footer,a=t.styles,o=t.classNames.tfoot;return r?(0,Y.jsx)("tfoot",{className:o,style:a.tfoot,children:(0,Y.jsx)("tr",{children:(0,Y.jsx)("td",{colSpan:8,children:r})})}):(0,Y.jsx)(Y.Fragment,{})}function Uw(e,t,r){for(var a=r?fs(new Date):xo(new Date,{locale:e,weekStartsOn:t}),o=[],n=0;n<7;n++){var i=Kt(a,n);o.push(i)}return o}function Ww(){var e=mt(),t=e.classNames,r=e.styles,a=e.showWeekNumber,o=e.locale,n=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,s=e.labels.labelWeekday,c=Uw(o,n,i);return(0,Y.jsxs)("tr",{style:r.head_row,className:t.head_row,children:[a&&(0,Y.jsx)("td",{style:r.head_cell,className:t.head_cell}),c.map(function(d,u){return(0,Y.jsx)("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":s(d,{locale:o}),children:l(d,{locale:o})},u)})]})}function $w(){var e,t=mt(),r=t.classNames,a=t.styles,o=t.components,n=(e=o?.HeadRow)!==null&&e!==void 0?e:Ww;return(0,Y.jsx)("thead",{style:a.head,className:r.head,children:(0,Y.jsx)(n,{})})}function Yw(e){var t=mt(),r=t.locale,a=t.formatters.formatDay;return(0,Y.jsx)(Y.Fragment,{children:a(e.date,{locale:r})})}var Hc=(0,Ve.createContext)(void 0);function Kw(e){if(!ei(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return(0,Y.jsx)(Hc.Provider,{value:t,children:e.children})}return(0,Y.jsx)(Gw,{initialProps:e.initialProps,children:e.children})}function Gw(e){var t=e.initialProps,r=e.children,a=t.selected,o=t.min,n=t.max,i=function(c,d,u){var m,g;(m=t.onDayClick)===null||m===void 0||m.call(t,c,d,u);var p=!!(d.selected&&o&&a?.length===o);if(!p){var f=!!(!d.selected&&n&&a?.length===n);if(!f){var v=a?tg([],a,!0):[];if(d.selected){var h=v.findIndex(function(w){return sr(c,w)});v.splice(h,1)}else v.push(c);(g=t.onSelect)===null||g===void 0||g.call(t,v,c,d,u)}}},l={disabled:[]};a&&l.disabled.push(function(c){var d=n&&a.length>n-1,u=a.some(function(m){return sr(m,c)});return!!(d&&!u)});var s={selected:a,onDayClick:i,modifiers:l};return(0,Y.jsx)(Hc.Provider,{value:s,children:r})}function jc(){var e=(0,Ve.useContext)(Hc);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function qw(e,t){var r=t||{},a=r.from,o=r.to;return a&&o?sr(o,e)&&sr(a,e)?void 0:sr(o,e)?{from:o,to:void 0}:sr(a,e)?void 0:Es(a,e)?{from:e,to:o}:{from:a,to:e}:o?Es(e,o)?{from:o,to:e}:{from:e,to:o}:a?Ic(e,a)?{from:e,to:a}:{from:a,to:e}:{from:e,to:void 0}}var Uc=(0,Ve.createContext)(void 0);function Vw(e){if(!ti(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return(0,Y.jsx)(Uc.Provider,{value:t,children:e.children})}return(0,Y.jsx)(Xw,{initialProps:e.initialProps,children:e.children})}function Xw(e){var t=e.initialProps,r=e.children,a=t.selected,o=a||{},n=o.from,i=o.to,l=t.min,s=t.max,c=function(g,p,f){var v,h;(v=t.onDayClick)===null||v===void 0||v.call(t,g,p,f);var w=qw(g,a);(h=t.onSelect)===null||h===void 0||h.call(t,w,g,p,f)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(n?(d.range_start=[n],i?(d.range_end=[i],sr(n,i)||(d.range_middle=[{after:n,before:i}])):d.range_end=[n]):i&&(d.range_start=[i],d.range_end=[i]),l&&(n&&!i&&d.disabled.push({after:Ts(n,l-1),before:Kt(n,l-1)}),n&&i&&d.disabled.push({after:n,before:Kt(n,l-1)}),!n&&i&&d.disabled.push({after:Ts(i,l-1),before:Kt(i,l-1)})),s){if(n&&!i&&(d.disabled.push({before:Kt(n,-s+1)}),d.disabled.push({after:Kt(n,s-1)})),n&&i){var u=ia(i,n)+1,m=s-u;d.disabled.push({before:Ts(n,m)}),d.disabled.push({after:Kt(i,m)})}!n&&i&&(d.disabled.push({before:Kt(i,-s+1)}),d.disabled.push({after:Kt(i,s-1)}))}return(0,Y.jsx)(Uc.Provider,{value:{selected:a,onDayClick:c,modifiers:d},children:r})}function Wc(){var e=(0,Ve.useContext)(Uc);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Ms(e){return Array.isArray(e)?tg([],e,!0):e!==void 0?[e]:[]}function Jw(e){var t={};return Object.entries(e).forEach(function(r){var a=r[0],o=r[1];t[a]=Ms(o)}),t}var Gr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Gr||(Gr={}));var Qw=Gr.Selected,Ca=Gr.Disabled,Zw=Gr.Hidden,ex=Gr.Today,Oc=Gr.RangeEnd,zc=Gr.RangeMiddle,Fc=Gr.RangeStart,tx=Gr.Outside;function rx(e,t,r){var a,o=(a={},a[Qw]=Ms(e.selected),a[Ca]=Ms(e.disabled),a[Zw]=Ms(e.hidden),a[ex]=[e.today],a[Oc]=[],a[zc]=[],a[Fc]=[],a[tx]=[],a);return e.fromDate&&o[Ca].push({before:e.fromDate}),e.toDate&&o[Ca].push({after:e.toDate}),ei(e)?o[Ca]=o[Ca].concat(t.modifiers[Ca]):ti(e)&&(o[Ca]=o[Ca].concat(r.modifiers[Ca]),o[Fc]=r.modifiers[Fc],o[zc]=r.modifiers[zc],o[Oc]=r.modifiers[Oc]),o}var ig=(0,Ve.createContext)(void 0);function ax(e){var t=mt(),r=jc(),a=Wc(),o=rx(t,r,a),n=Jw(t.modifiers),i=Pe(Pe({},o),n);return(0,Y.jsx)(ig.Provider,{value:i,children:e.children})}function sg(){var e=(0,Ve.useContext)(ig);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function ox(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function nx(e){return!!(e&&typeof e=="object"&&"from"in e)}function ix(e){return!!(e&&typeof e=="object"&&"after"in e)}function sx(e){return!!(e&&typeof e=="object"&&"before"in e)}function lx(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function cx(e,t){var r,a=t.from,o=t.to;if(a&&o){var n=ia(o,a)<0;n&&(r=[o,a],a=r[0],o=r[1]);var i=ia(e,a)>=0&&ia(o,e)>=0;return i}return o?sr(o,e):a?sr(a,e):!1}function dx(e){return oc(e)}function ux(e){return Array.isArray(e)&&e.every(oc)}function mx(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(dx(r))return sr(e,r);if(ux(r))return r.includes(e);if(nx(r))return cx(e,r);if(lx(r))return r.dayOfWeek.includes(e.getDay());if(ox(r)){var a=ia(r.before,e),o=ia(r.after,e),n=a>0,i=o<0,l=Es(r.before,r.after);return l?i&&n:n||i}return ix(r)?ia(e,r.after)>0:sx(r)?ia(r.before,e)>0:typeof r=="function"?r(e):!1})}function $c(e,t,r){var a=Object.keys(t).reduce(function(n,i){var l=t[i];return mx(e,l)&&n.push(i),n},[]),o={};return a.forEach(function(n){return o[n]=!0}),r&&!hs(e,r)&&(o.outside=!0),o}function px(e,t){for(var r=tr(e[0]),a=gs(e[e.length-1]),o,n,i=r;i<=a;){var l=$c(i,t),s=!l.disabled&&!l.hidden;if(!s){i=Kt(i,1);continue}if(l.selected)return i;l.today&&!n&&(n=i),o||(o=i),i=Kt(i,1)}return n||o}var fx=365;function lg(e,t){var r=t.moveBy,a=t.direction,o=t.context,n=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,s=o.weekStartsOn,c=o.fromDate,d=o.toDate,u=o.locale,m={day:Kt,week:Ds,month:Tr,year:Uf,startOfWeek:function(v){return o.ISOWeek?fs(v):xo(v,{locale:u,weekStartsOn:s})},endOfWeek:function(v){return o.ISOWeek?Ac(v):Vn(v,{locale:u,weekStartsOn:s})}},g=m[r](e,a==="after"?1:-1);a==="before"&&c?g=Wf([c,g]):a==="after"&&d&&(g=$f([d,g]));var p=!0;if(n){var f=$c(g,n);p=!f.disabled&&!f.hidden}return p?g:l.count>fx?l.lastFocused:lg(g,{moveBy:r,direction:a,context:o,modifiers:n,retry:Pe(Pe({},l),{count:l.count+1})})}var cg=(0,Ve.createContext)(void 0);function gx(e){var t=ri(),r=sg(),a=(0,Ve.useState)(),o=a[0],n=a[1],i=(0,Ve.useState)(),l=i[0],s=i[1],c=px(t.displayMonths,r),d=o??(l&&t.isDateDisplayed(l))?l:c,u=function(){s(o),n(void 0)},m=function(v){n(v)},g=mt(),p=function(v,h){if(o){var w=lg(o,{moveBy:v,direction:h,context:g,modifiers:r});sr(o,w)||(t.goToDate(w,o),m(w))}},f={focusedDay:o,focusTarget:d,blur:u,focus:m,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return(0,Y.jsx)(cg.Provider,{value:f,children:e.children})}function Yc(){var e=(0,Ve.useContext)(cg);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function hx(e,t){var r=sg(),a=$c(e,r,t);return a}var Kc=(0,Ve.createContext)(void 0);function vx(e){if(!Is(e.initialProps)){var t={selected:void 0};return(0,Y.jsx)(Kc.Provider,{value:t,children:e.children})}return(0,Y.jsx)(bx,{initialProps:e.initialProps,children:e.children})}function bx(e){var t=e.initialProps,r=e.children,a=function(n,i,l){var s,c,d;if((s=t.onDayClick)===null||s===void 0||s.call(t,n,i,l),i.selected&&!t.required){(c=t.onSelect)===null||c===void 0||c.call(t,void 0,n,i,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,n,n,i,l)},o={selected:t.selected,onDayClick:a};return(0,Y.jsx)(Kc.Provider,{value:o,children:r})}function dg(){var e=(0,Ve.useContext)(Kc);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function yx(e,t){var r=mt(),a=dg(),o=jc(),n=Wc(),i=Yc(),l=i.focusDayAfter,s=i.focusDayBefore,c=i.focusWeekAfter,d=i.focusWeekBefore,u=i.blur,m=i.focus,g=i.focusMonthBefore,p=i.focusMonthAfter,f=i.focusYearBefore,v=i.focusYearAfter,h=i.focusStartOfWeek,w=i.focusEndOfWeek,x=function(U){var R,T,le,oe;Is(r)?(R=a.onDayClick)===null||R===void 0||R.call(a,e,t,U):ei(r)?(T=o.onDayClick)===null||T===void 0||T.call(o,e,t,U):ti(r)?(le=n.onDayClick)===null||le===void 0||le.call(n,e,t,U):(oe=r.onDayClick)===null||oe===void 0||oe.call(r,e,t,U)},_=function(U){var R;m(e),(R=r.onDayFocus)===null||R===void 0||R.call(r,e,t,U)},O=function(U){var R;u(),(R=r.onDayBlur)===null||R===void 0||R.call(r,e,t,U)},B=function(U){var R;(R=r.onDayMouseEnter)===null||R===void 0||R.call(r,e,t,U)},E=function(U){var R;(R=r.onDayMouseLeave)===null||R===void 0||R.call(r,e,t,U)},ee=function(U){var R;(R=r.onDayPointerEnter)===null||R===void 0||R.call(r,e,t,U)},ae=function(U){var R;(R=r.onDayPointerLeave)===null||R===void 0||R.call(r,e,t,U)},Ae=function(U){var R;(R=r.onDayTouchCancel)===null||R===void 0||R.call(r,e,t,U)},ze=function(U){var R;(R=r.onDayTouchEnd)===null||R===void 0||R.call(r,e,t,U)},A=function(U){var R;(R=r.onDayTouchMove)===null||R===void 0||R.call(r,e,t,U)},L=function(U){var R;(R=r.onDayTouchStart)===null||R===void 0||R.call(r,e,t,U)},H=function(U){var R;(R=r.onDayKeyUp)===null||R===void 0||R.call(r,e,t,U)},z=function(U){var R;switch(U.key){case"ArrowLeft":U.preventDefault(),U.stopPropagation(),r.dir==="rtl"?l():s();break;case"ArrowRight":U.preventDefault(),U.stopPropagation(),r.dir==="rtl"?s():l();break;case"ArrowDown":U.preventDefault(),U.stopPropagation(),c();break;case"ArrowUp":U.preventDefault(),U.stopPropagation(),d();break;case"PageUp":U.preventDefault(),U.stopPropagation(),U.shiftKey?f():g();break;case"PageDown":U.preventDefault(),U.stopPropagation(),U.shiftKey?v():p();break;case"Home":U.preventDefault(),U.stopPropagation(),h();break;case"End":U.preventDefault(),U.stopPropagation(),w();break}(R=r.onDayKeyDown)===null||R===void 0||R.call(r,e,t,U)},D={onClick:x,onFocus:_,onBlur:O,onKeyDown:z,onKeyUp:H,onMouseEnter:B,onMouseLeave:E,onPointerEnter:ee,onPointerLeave:ae,onTouchCancel:Ae,onTouchEnd:ze,onTouchMove:A,onTouchStart:L};return D}function wx(){var e=mt(),t=dg(),r=jc(),a=Wc(),o=Is(e)?t.selected:ei(e)?r.selected:ti(e)?a.selected:void 0;return o}function xx(e){return Object.values(Gr).includes(e)}function kx(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(a){var o=e.modifiersClassNames[a];if(o)r.push(o);else if(xx(a)){var n=e.classNames["day_".concat(a)];n&&r.push(n)}}),r}function Nx(e,t){var r=Pe({},e.styles.day);return Object.keys(t).forEach(function(a){var o;r=Pe(Pe({},r),(o=e.modifiersStyles)===null||o===void 0?void 0:o[a])}),r}function Cx(e,t,r){var a,o,n,i=mt(),l=Yc(),s=hx(e,t),c=yx(e,s),d=wx(),u=!!(i.onDayClick||i.mode!=="default");(0,Ve.useEffect)(function(){var B;s.outside||l.focusedDay&&u&&sr(l.focusedDay,e)&&((B=r.current)===null||B===void 0||B.focus())},[l.focusedDay,e,r,u,s.outside]);var m=kx(i,s).join(" "),g=Nx(i,s),p=!!(s.outside&&!i.showOutsideDays||s.hidden),f=(n=(o=i.components)===null||o===void 0?void 0:o.DayContent)!==null&&n!==void 0?n:Yw,v=(0,Y.jsx)(f,{date:e,displayMonth:t,activeModifiers:s}),h={style:g,className:m,children:v,role:"gridcell"},w=l.focusTarget&&sr(l.focusTarget,e)&&!s.outside,x=l.focusedDay&&sr(l.focusedDay,e),_=Pe(Pe(Pe({},h),(a={disabled:s.disabled,role:"gridcell"},a["aria-selected"]=s.selected,a.tabIndex=x||w?0:-1,a)),c),O={isButton:u,isHidden:p,activeModifiers:s,selectedDays:d,buttonProps:_,divProps:h};return O}function Rx(e){var t=(0,Ve.useRef)(null),r=Cx(e.date,e.displayMonth,t);return r.isHidden?(0,Y.jsx)("div",{role:"gridcell"}):r.isButton?(0,Y.jsx)(As,Pe({name:"day",ref:t},r.buttonProps)):(0,Y.jsx)("div",Pe({},r.divProps))}function Sx(e){var t=e.number,r=e.dates,a=mt(),o=a.onWeekNumberClick,n=a.styles,i=a.classNames,l=a.locale,s=a.labels.labelWeekNumber,c=a.formatters.formatWeekNumber,d=c(Number(t),{locale:l});if(!o)return(0,Y.jsx)("span",{className:i.weeknumber,style:n.weeknumber,children:d});var u=s(Number(t),{locale:l}),m=function(g){o(t,r,g)};return(0,Y.jsx)(As,{name:"week-number","aria-label":u,className:i.weeknumber,style:n.weeknumber,onClick:m,children:d})}function Px(e){var t,r,a=mt(),o=a.styles,n=a.classNames,i=a.showWeekNumber,l=a.components,s=(t=l?.Day)!==null&&t!==void 0?t:Rx,c=(r=l?.WeekNumber)!==null&&r!==void 0?r:Sx,d;return i&&(d=(0,Y.jsx)("td",{className:n.cell,style:o.cell,children:(0,Y.jsx)(c,{number:e.weekNumber,dates:e.dates})})),(0,Y.jsxs)("tr",{className:n.row,style:o.row,children:[d,e.dates.map(function(u){return(0,Y.jsx)("td",{className:n.cell,style:o.cell,role:"presentation",children:(0,Y.jsx)(s,{displayMonth:e.displayMonth,date:u})},Gf(u))})]})}function Zf(e,t,r){for(var a=r?.ISOWeek?Ac(t):Vn(t,r),o=r?.ISOWeek?fs(e):xo(e,r),n=ia(a,o),i=[],l=0;l<=n;l++)i.push(Kt(o,l));var s=i.reduce(function(c,d){var u=r?.ISOWeek?_p(d):Mp(d,r),m=c.find(function(g){return g.weekNumber===u});return m?(m.dates.push(d),c):(c.push({weekNumber:u,dates:[d]}),c)},[]);return s}function Dx(e,t){var r=Zf(tr(e),gs(e),t);if(t?.useFixedWeeks){var a=Vf(e,t);if(a<6){var o=r[r.length-1],n=o.dates[o.dates.length-1],i=Ds(n,6-a),l=Zf(Ds(n,1),i,t);r.push.apply(r,l)}}return r}function Ex(e){var t,r,a,o=mt(),n=o.locale,i=o.classNames,l=o.styles,s=o.hideHead,c=o.fixedWeeks,d=o.components,u=o.weekStartsOn,m=o.firstWeekContainsDate,g=o.ISOWeek,p=Dx(e.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:n,weekStartsOn:u,firstWeekContainsDate:m}),f=(t=d?.Head)!==null&&t!==void 0?t:$w,v=(r=d?.Row)!==null&&r!==void 0?r:Px,h=(a=d?.Footer)!==null&&a!==void 0?a:jw;return(0,Y.jsxs)("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!s&&(0,Y.jsx)(f,{}),(0,Y.jsx)("tbody",{className:i.tbody,style:l.tbody,children:p.map(function(w){return(0,Y.jsx)(v,{displayMonth:e.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),(0,Y.jsx)(h,{displayMonth:e.displayMonth})]})}function Tx(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var _x=Tx()?Ve.useLayoutEffect:Ve.useEffect,Bc=!1,Mx=0;function eg(){return"react-day-picker-".concat(++Mx)}function Ax(e){var t,r=e??(Bc?eg():null),a=(0,Ve.useState)(r),o=a[0],n=a[1];return _x(function(){o===null&&n(eg())},[]),(0,Ve.useEffect)(function(){Bc===!1&&(Bc=!0)},[]),(t=e??o)!==null&&t!==void 0?t:void 0}function Ix(e){var t,r,a=mt(),o=a.dir,n=a.classNames,i=a.styles,l=a.components,s=ri().displayMonths,c=Ax(a.id?"".concat(a.id,"-").concat(e.displayIndex):void 0),d=a.id?"".concat(a.id,"-grid-").concat(e.displayIndex):void 0,u=[n.month],m=i.month,g=e.displayIndex===0,p=e.displayIndex===s.length-1,f=!g&&!p;o==="rtl"&&(t=[g,p],p=t[0],g=t[1]),g&&(u.push(n.caption_start),m=Pe(Pe({},m),i.caption_start)),p&&(u.push(n.caption_end),m=Pe(Pe({},m),i.caption_end)),f&&(u.push(n.caption_between),m=Pe(Pe({},m),i.caption_between));var v=(r=l?.Caption)!==null&&r!==void 0?r:Hw;return(0,Y.jsxs)("div",{className:u.join(" "),style:m,children:[(0,Y.jsx)(v,{id:c,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),(0,Y.jsx)(Ex,{id:d,"aria-labelledby":c,displayMonth:e.displayMonth})]},e.displayIndex)}function Lx(e){var t=mt(),r=t.classNames,a=t.styles;return(0,Y.jsx)("div",{className:r.months,style:a.months,children:e.children})}function Ox(e){var t,r,a=e.initialProps,o=mt(),n=Yc(),i=ri(),l=(0,Ve.useState)(!1),s=l[0],c=l[1];(0,Ve.useEffect)(function(){o.initialFocus&&n.focusTarget&&(s||(n.focus(n.focusTarget),c(!0)))},[o.initialFocus,s,n.focus,n.focusTarget,n]);var d=[o.classNames.root,o.className];o.numberOfMonths>1&&d.push(o.classNames.multiple_months),o.showWeekNumber&&d.push(o.classNames.with_weeknumber);var u=Pe(Pe({},o.styles.root),o.style),m=Object.keys(a).filter(function(p){return p.startsWith("data-")}).reduce(function(p,f){var v;return Pe(Pe({},p),(v={},v[f]=a[f],v))},{}),g=(r=(t=a.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Lx;return(0,Y.jsx)("div",Pe({className:d.join(" "),style:u,dir:o.dir,id:o.id,nonce:a.nonce,title:a.title,lang:a.lang},m,{children:(0,Y.jsx)(g,{children:i.displayMonths.map(function(p,f){return(0,Y.jsx)(Ix,{displayIndex:f,displayMonth:p},f)})})}))}function zx(e){var t=e.children,r=sw(e,["children"]);return(0,Y.jsx)(Sw,{initialProps:r,children:(0,Y.jsx)(Ow,{children:(0,Y.jsx)(vx,{initialProps:r,children:(0,Y.jsx)(Kw,{initialProps:r,children:(0,Y.jsx)(Vw,{initialProps:r,children:(0,Y.jsx)(ax,{children:(0,Y.jsx)(gx,{children:t})})})})})})})}function ug(e){return(0,Y.jsx)(zx,Pe({},e,{children:(0,Y.jsx)(Ox,{initialProps:e})}))}var Ls=y(M(),1);function Ka({className:e,classNames:t,showOutsideDays:r=!0,...a}){return(0,Ls.jsx)(ug,{showOutsideDays:r,className:S("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:S(Yo({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:S("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md",a.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:S(Yo({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:o,...n})=>(0,Ls.jsx)(Go,{className:S("h-4 w-4",o),...n}),IconRight:({className:o,...n})=>(0,Ls.jsx)(vr,{className:S("h-4 w-4",o),...n})},...a})}Ka.displayName="Calendar";var Sg=y(Q(),1);var Nt=y(Q(),1);var zt=y(M(),1),Os="Popover",[pg,iP]=Yt(Os,[ya]),ai=ya(),[Fx,Ga]=pg(Os),fg=e=>{let{__scopePopover:t,children:r,open:a,defaultOpen:o,onOpenChange:n,modal:i=!1}=e,l=ai(t),s=Nt.useRef(null),[c,d]=Nt.useState(!1),[u,m]=br({prop:a,defaultProp:o??!1,onChange:n,caller:Os});return(0,zt.jsx)(yo,{...l,children:(0,zt.jsx)(Fx,{scope:t,contentId:Lt(),triggerRef:s,open:u,onOpenChange:m,onOpenToggle:Nt.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:c,onCustomAnchorAdd:Nt.useCallback(()=>d(!0),[]),onCustomAnchorRemove:Nt.useCallback(()=>d(!1),[]),modal:i,children:r})})};fg.displayName=Os;var gg="PopoverAnchor",Bx=Nt.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,o=Ga(gg,r),n=ai(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=o;return Nt.useEffect(()=>(i(),()=>l()),[i,l]),(0,zt.jsx)(wo,{...n,...a,ref:t})});Bx.displayName=gg;var hg="PopoverTrigger",vg=Nt.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,o=Ga(hg,r),n=ai(r),i=St(t,o.triggerRef),l=(0,zt.jsx)(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":kg(o.open),...a,ref:i,onClick:ge(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?l:(0,zt.jsx)(wo,{asChild:!0,...n,children:l})});vg.displayName=hg;var Gc="PopoverPortal",[Hx,jx]=pg(Gc,{forceMount:void 0}),bg=e=>{let{__scopePopover:t,forceMount:r,children:a,container:o}=e,n=Ga(Gc,t);return(0,zt.jsx)(Hx,{scope:t,forceMount:r,children:(0,zt.jsx)(ir,{present:r||n.open,children:(0,zt.jsx)(rn,{asChild:!0,container:o,children:a})})})};bg.displayName=Gc;var vn="PopoverContent",yg=Nt.forwardRef((e,t)=>{let r=jx(vn,e.__scopePopover),{forceMount:a=r.forceMount,...o}=e,n=Ga(vn,e.__scopePopover);return(0,zt.jsx)(ir,{present:a||n.open,children:n.modal?(0,zt.jsx)(Wx,{...o,ref:t}):(0,zt.jsx)($x,{...o,ref:t})})});yg.displayName=vn;var Ux=Bi("PopoverContent.RemoveScroll"),Wx=Nt.forwardRef((e,t)=>{let r=Ga(vn,e.__scopePopover),a=Nt.useRef(null),o=St(t,a),n=Nt.useRef(!1);return Nt.useEffect(()=>{let i=a.current;if(i)return cs(i)},[]),(0,zt.jsx)(ls,{as:Ux,allowPinchZoom:!0,children:(0,zt.jsx)(wg,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,i=>{i.preventDefault(),n.current||r.triggerRef.current?.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,i=>{let l=i.detail.originalEvent,s=l.button===0&&l.ctrlKey===!0,c=l.button===2||s;n.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:ge(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),$x=Nt.forwardRef((e,t)=>{let r=Ga(vn,e.__scopePopover),a=Nt.useRef(!1),o=Nt.useRef(!1);return(0,zt.jsx)(wg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{e.onCloseAutoFocus?.(n),n.defaultPrevented||(a.current||r.triggerRef.current?.focus(),n.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:n=>{e.onInteractOutside?.(n),n.defaultPrevented||(a.current=!0,n.detail.originalEvent.type==="pointerdown"&&(o.current=!0));let i=n.target;r.triggerRef.current?.contains(i)&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&o.current&&n.preventDefault()}})}),wg=Nt.forwardRef((e,t)=>{let{__scopePopover:r,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:n,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:s,onFocusOutside:c,onInteractOutside:d,...u}=e,m=Ga(vn,r),g=ai(r);return ss(),(0,zt.jsx)(is,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:n,children:(0,zt.jsx)(tn,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:s,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:(0,zt.jsx)(sn,{"data-state":kg(m.open),role:"dialog",id:m.contentId,...g,...u,ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),xg="PopoverClose",Yx=Nt.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,o=Ga(xg,r);return(0,zt.jsx)(Be.button,{type:"button",...a,ref:t,onClick:ge(e.onClick,()=>o.onOpenChange(!1))})});Yx.displayName=xg;var Kx="PopoverArrow",Gx=Nt.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,o=ai(r);return(0,zt.jsx)(ln,{...o,...a,ref:t})});Gx.displayName=Kx;function kg(e){return e?"open":"closed"}var Ng=fg;var Cg=vg,Rg=bg,qc=yg;var Vc=y(M(),1),Ra=Ng,Sa=Cg,ua=Sg.forwardRef(({className:e,align:t="center",sideOffset:r=4,...a},o)=>(0,Vc.jsx)(Rg,{children:(0,Vc.jsx)(qc,{ref:o,align:t,sideOffset:r,className:S("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));ua.displayName=qc.displayName;var Ag=y(Q(),1);var qr=y(Q(),1);var So=y(M(),1),zs="Switch",[Vx,hP]=Yt(zs),[Xx,Jx]=Vx(zs),Pg=qr.forwardRef((e,t)=>{let{__scopeSwitch:r,name:a,checked:o,defaultChecked:n,required:i,disabled:l,value:s="on",onCheckedChange:c,form:d,...u}=e,[m,g]=qr.useState(null),p=St(t,x=>g(x)),f=qr.useRef(!1),v=m?d||!!m.closest("form"):!0,[h,w]=br({prop:o,defaultProp:n??!1,onChange:c,caller:zs});return(0,So.jsxs)(Xx,{scope:r,checked:h,disabled:l,children:[(0,So.jsx)(Be.button,{type:"button",role:"switch","aria-checked":h,"aria-required":i,"data-state":_g(h),"data-disabled":l?"":void 0,disabled:l,value:s,...u,ref:p,onClick:ge(e.onClick,x=>{w(_=>!_),v&&(f.current=x.isPropagationStopped(),f.current||x.stopPropagation())})}),v&&(0,So.jsx)(Tg,{control:m,bubbles:!f.current,name:a,value:s,checked:h,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Pg.displayName=zs;var Dg="SwitchThumb",Eg=qr.forwardRef((e,t)=>{let{__scopeSwitch:r,...a}=e,o=Jx(Dg,r);return(0,So.jsx)(Be.span,{"data-state":_g(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t})});Eg.displayName=Dg;var Qx="SwitchBubbleInput",Tg=qr.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:a=!0,...o},n)=>{let i=qr.useRef(null),l=St(i,n),s=ps(r),c=ms(t);return qr.useEffect(()=>{let d=i.current;if(!d)return;let u=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(u,"checked").set;if(s!==r&&g){let p=new Event("click",{bubbles:a});g.call(d,r),d.dispatchEvent(p)}},[s,r,a]),(0,So.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:l,style:{...o.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Tg.displayName=Qx;function _g(e){return e?"checked":"unchecked"}var Xc=Pg,Mg=Eg;var Jc=y(M(),1),Pa=Ag.forwardRef(({className:e,...t},r)=>(0,Jc.jsx)(Xc,{className:S("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:(0,Jc.jsx)(Mg,{className:S("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Pa.displayName=Xc.displayName;var Hg=y(Q(),1);var cr=y(Q(),1);var Lr=y(M(),1),Fs="Checkbox",[e1,PP]=Yt(Fs),[t1,Qc]=e1(Fs);function r1(e){let{__scopeCheckbox:t,checked:r,children:a,defaultChecked:o,disabled:n,form:i,name:l,onCheckedChange:s,required:c,value:d="on",internal_do_not_use_render:u}=e,[m,g]=br({prop:r,defaultProp:o??!1,onChange:s,caller:Fs}),[p,f]=cr.useState(null),[v,h]=cr.useState(null),w=cr.useRef(!1),x=p?!!i||!!p.closest("form"):!0,_={checked:m,disabled:n,setChecked:g,control:p,setControl:f,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:w,required:c,defaultChecked:qa(o)?!1:o,isFormControl:x,bubbleInput:v,setBubbleInput:h};return(0,Lr.jsx)(t1,{scope:t,..._,children:a1(u)?u(_):a})}var Ig="CheckboxTrigger",Lg=cr.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...a},o)=>{let{control:n,value:i,disabled:l,checked:s,required:c,setControl:d,setChecked:u,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:p}=Qc(Ig,e),f=St(o,d),v=cr.useRef(s);return cr.useEffect(()=>{let h=n?.form;if(h){let w=()=>u(v.current);return h.addEventListener("reset",w),()=>h.removeEventListener("reset",w)}},[n,u]),(0,Lr.jsx)(Be.button,{type:"button",role:"checkbox","aria-checked":qa(s)?"mixed":s,"aria-required":c,"data-state":Bg(s),"data-disabled":l?"":void 0,disabled:l,value:i,...a,ref:f,onKeyDown:ge(t,h=>{h.key==="Enter"&&h.preventDefault()}),onClick:ge(r,h=>{u(w=>qa(w)?!0:!w),p&&g&&(m.current=h.isPropagationStopped(),m.current||h.stopPropagation())})})});Lg.displayName=Ig;var Bs=cr.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:a,checked:o,defaultChecked:n,required:i,disabled:l,value:s,onCheckedChange:c,form:d,...u}=e;return(0,Lr.jsx)(r1,{__scopeCheckbox:r,checked:o,defaultChecked:n,disabled:l,required:i,onCheckedChange:c,name:a,form:d,value:s,internal_do_not_use_render:({isFormControl:m})=>(0,Lr.jsxs)(Lr.Fragment,{children:[(0,Lr.jsx)(Lg,{...u,ref:t,__scopeCheckbox:r}),m&&(0,Lr.jsx)(Fg,{__scopeCheckbox:r})]})})});Bs.displayName=Fs;var Og="CheckboxIndicator",Zc=cr.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:a,...o}=e,n=Qc(Og,r);return(0,Lr.jsx)(ir,{present:a||qa(n.checked)||n.checked===!0,children:(0,Lr.jsx)(Be.span,{"data-state":Bg(n.checked),"data-disabled":n.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Zc.displayName=Og;var zg="CheckboxBubbleInput",Fg=cr.forwardRef(({__scopeCheckbox:e,...t},r)=>{let{control:a,hasConsumerStoppedPropagationRef:o,checked:n,defaultChecked:i,required:l,disabled:s,name:c,value:d,form:u,bubbleInput:m,setBubbleInput:g}=Qc(zg,e),p=St(r,g),f=ps(n),v=ms(a);cr.useEffect(()=>{let w=m;if(!w)return;let x=window.HTMLInputElement.prototype,O=Object.getOwnPropertyDescriptor(x,"checked").set,B=!o.current;if(f!==n&&O){let E=new Event("click",{bubbles:B});w.indeterminate=qa(n),O.call(w,qa(n)?!1:n),w.dispatchEvent(E)}},[m,f,n,o]);let h=cr.useRef(qa(n)?!1:n);return(0,Lr.jsx)(Be.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??h.current,required:l,disabled:s,name:c,value:d,form:u,...t,tabIndex:-1,ref:p,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Fg.displayName=zg;function a1(e){return typeof e=="function"}function qa(e){return e==="indeterminate"}function Bg(e){return qa(e)?"indeterminate":e?"checked":"unchecked"}var Hs=y(M(),1),ed=Hg.forwardRef(({className:e,...t},r)=>(0,Hs.jsx)(Bs,{ref:r,className:S("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:(0,Hs.jsx)(Zc,{className:S("flex items-center justify-center text-current"),children:(0,Hs.jsx)(Oa,{className:"h-4 w-4"})})}));ed.displayName=Bs.displayName;var Yg=y(Q(),1);var Ug=y(Q(),1);var Wg=y(M(),1),n1="Separator",jg="horizontal",i1=["horizontal","vertical"],$g=Ug.forwardRef((e,t)=>{let{decorative:r,orientation:a=jg,...o}=e,n=s1(a)?a:jg,l=r?{role:"none"}:{"aria-orientation":n==="vertical"?n:void 0,role:"separator"};return(0,Wg.jsx)(Be.div,{"data-orientation":n,...l,...o,ref:t})});$g.displayName=n1;function s1(e){return i1.includes(e)}var td=$g;var Kg=y(M(),1),js=Yg.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},o)=>(0,Kg.jsx)(td,{ref:o,decorative:r,orientation:t,className:S("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));js.displayName=td.displayName;var Va=(o=>(o.TASK="TASK",o.NOTE="NOTE",o.CALENDAR_EVENT="CALENDAR_EVENT",o.MIXED="MIXED",o))(Va||{});var b=y(M(),1),c1={low:{level:"low",dots:1,color:"bg-krushr-priority-low"},medium:{level:"medium",dots:2,color:"bg-krushr-priority-medium"},high:{level:"high",dots:3,color:"bg-krushr-priority-high"},critical:{level:"critical",dots:4,color:"bg-krushr-priority-critical"}},Gg={createVideoMeeting:!0,createCall:!0,kanbanTaskBoard:!0,notes:!0,ganttTimeline:!0,ganttDependency:!1,reminder:!0,notifyTeam:!1,changesNotifyTeam:!1,reminders:[{enabled:!0,timeBefore:"1d",type:"notification"},{enabled:!0,timeBefore:"1h",type:"notification"}]},qg={enabled:!1,pattern:"weekly",interval:1,daysOfWeek:[]};function oi({open:e,onClose:t,onSuccess:r,initialData:a,contentType:o="TASK",workspaceId:n,projectId:i,kanbanColumnId:l,showWorkflowToggles:s=!0,showFileUploads:c=!0,allowContentTypeSwitch:d=!1,compactMode:u=!1,requiredFields:m=["title"],maxTitleLength:g=200,maxDescriptionLength:p=5e3}){let[f,v]=(0,pt.useState)(()=>({contentType:o,title:"",description:"",priority:"medium",tags:[],allDay:!1,status:"TODO",teamMembers:[],checklist:[],subtasks:[],attachments:[],workflow:Gg,recurring:qg,workspaceId:n,...a})),[h,w]=(0,pt.useState)(""),[x,_]=(0,pt.useState)(""),[O,B]=(0,pt.useState)({dates:!0,description:!0,checklist:!1,subtasks:!1,files:!1,workflow:!0}),[E,ee]=(0,pt.useState)({isValid:!0,errors:{},warnings:{}}),{data:ae=[]}=X.user.listWorkspaceMembers.useQuery({workspaceId:n},{enabled:!!n}),{data:Ae=[]}=X.project.list.useQuery({workspaceId:n},{enabled:!!n}),{data:ze=[]}=X.template.list.useQuery({workspaceId:n},{enabled:!!n}),A=X.task.create.useMutation({onSuccess:j=>{r?.(f,"TASK"),t(),le()}}),L=X.notes?.create?.useMutation?.({onSuccess:j=>{r?.(f,"NOTE"),t(),le()}})||{mutate:()=>{},isLoading:!1},H=X.upload.uploadTaskFile?.useMutation?.()||{mutate:()=>{},isLoading:!1},z=(0,pt.useCallback)((j,ue)=>{v(je=>({...je,[j]:ue}))},[]),D=(0,pt.useCallback)(async j=>{try{let ue=[];for(let je of j){let rt={name:je.name,size:je.size,type:je.type,file:je};ue.push(rt)}z("attachments",[...f.attachments,...ue])}catch(ue){console.error("File preparation error:",ue)}},[f.attachments,z]),U=(0,pt.useCallback)(j=>{let ue=f.attachments.filter((je,rt)=>rt!==j);z("attachments",ue)},[f.attachments,z]),R=(0,pt.useMemo)(()=>!!f.id,[f.id]),T=(0,pt.useMemo)(()=>A.isLoading||L.isLoading||H.isLoading,[A.isLoading,L.isLoading,H.isLoading]),le=(0,pt.useCallback)(()=>{v({contentType:o,title:"",description:"",priority:"medium",tags:[],allDay:!1,status:"TODO",teamMembers:[],checklist:[],subtasks:[],attachments:[],workflow:Gg,recurring:qg,workspaceId:n,...a}),w(""),_(""),ee({isValid:!0,errors:{},warnings:{}})},[o,n,a]),oe=(0,pt.useCallback)(()=>{let j={},ue={};m.includes("title")&&!f.title.trim()&&(j.title="Title is required"),f.title.length>g&&(j.title=`Title must be less than ${g} characters`),f.description.length>p&&(j.description=`Description must be less than ${p} characters`),f.startDate&&f.endDate&&f.startDate>f.endDate&&(j.dates="Start date must be before end date"),f.contentType==="TASK"&&!f.assigneeId&&(ue.assignee="Consider assigning this task to someone");let je={isValid:Object.keys(j).length===0,errors:j,warnings:ue};return ee(je),je},[f,m,g,p]),F=(0,pt.useCallback)(async()=>{if(oe().isValid)try{switch(f.contentType){case"TASK":await A.mutateAsync({title:f.title,description:f.description,priority:f.priority,status:f.status,dueDate:f.endDate?.toISOString(),assigneeId:f.assigneeId,estimatedHours:f.estimatedHours,tags:f.tags,workspaceId:f.workspaceId,projectId:i||f.projectId,kanbanColumnId:l||f.kanbanColumnId});break;case"NOTE":L.mutate({title:f.title,content:f.description,tags:f.tags,workspaceId:f.workspaceId});break;case"CALENDAR_EVENT":console.log("Calendar event creation not yet implemented");break;case"MIXED":console.log("Mixed content creation not yet implemented");break}}catch(ue){console.error("Form submission error:",ue)}},[f,oe,A,L,i,l]),q=(0,pt.useCallback)(j=>{B(ue=>({...ue,[j]:!ue[j]}))},[]),G=(0,pt.useCallback)(()=>{h&&!f.tags.includes(h)&&(z("tags",[...f.tags,h]),w(""))},[h,f.tags,z]),J=(0,pt.useCallback)(j=>{z("tags",f.tags.filter(ue=>ue!==j))},[f.tags,z]),P=(0,pt.useCallback)(()=>{if(x.trim()){let j={text:x.trim(),completed:!1,order:f.checklist.length};z("checklist",[...f.checklist,j]),_("")}},[x,f.checklist,z]),k=(0,pt.useCallback)((j,ue)=>{let je=[...f.checklist];je[j]={...je[j],...ue},z("checklist",je)},[f.checklist,z]),Z=(0,pt.useCallback)(j=>{z("checklist",f.checklist.filter((ue,je)=>je!==j))},[f.checklist,z]),ne=(0,pt.useCallback)(j=>{let ue=c1[j];return(0,b.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:5},(je,rt)=>(0,b.jsx)("div",{className:S("w-3 h-3 rounded-full",rt<ue.dots?ue.color:"bg-gray-200")},rt))})},[]),Ne=(0,pt.useCallback)((j,ue,je=!1)=>(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)(Tt,{className:"text-base font-medium",children:j}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[je&&(0,b.jsx)(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,b.jsx)(Zo,{className:"h-4 w-4 text-gray-400"})}),(0,b.jsx)(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>q(ue),children:O[ue]?(0,b.jsx)(rp,{className:"h-4 w-4 text-gray-400"}):(0,b.jsx)(Zt,{className:"h-4 w-4 text-gray-400"})})]})]}),[O,q]);return(0,pt.useEffect)(()=>{a&&v(j=>({...j,...a}))},[a]),(0,b.jsx)(Ir,{open:e,onOpenChange:t,children:(0,b.jsxs)(wr,{className:"max-w-5xl max-h-[95vh] overflow-hidden p-0",children:[(0,b.jsx)(ca,{className:"px-6 py-4 border-b",children:(0,b.jsxs)(da,{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:R?"Edit Item":"New Item"}),d&&(0,b.jsxs)(wa,{value:f.contentType,onValueChange:j=>z("contentType",j),children:[(0,b.jsx)(xa,{className:"w-40",children:(0,b.jsx)(Ua,{})}),(0,b.jsxs)(ka,{children:[(0,b.jsx)(ht,{value:"TASK",children:"Task"}),(0,b.jsx)(ht,{value:"NOTE",children:"Note"}),(0,b.jsx)(ht,{value:"CALENDAR_EVENT",children:"Calendar Event"}),(0,b.jsx)(ht,{value:"MIXED",children:"Mixed"})]})]})]})}),(0,b.jsx)(ko,{className:"flex-1 px-6",children:(0,b.jsxs)("div",{className:"py-6 space-y-8",children:[(0,b.jsx)(Oe,{children:(0,b.jsxs)(qe,{className:"pt-6",children:[(0,b.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,b.jsx)("div",{className:"w-32 h-20 bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg flex items-center justify-center",children:(0,b.jsx)(Ha,{className:"w-8 h-8 text-blue-600"})}),(0,b.jsx)("div",{className:"w-32 h-20 bg-gradient-to-br from-green-100 to-green-200 rounded-lg flex items-center justify-center",children:(0,b.jsx)(xp,{className:"w-8 h-8 text-green-600"})}),(0,b.jsx)("div",{className:"w-32 h-20 bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg flex items-center justify-center",children:(0,b.jsx)(dt,{className:"w-8 h-8 text-purple-600"})})]}),(0,b.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(Ee,{value:f.title,onChange:j=>z("title",j.target.value),label:"Enter title...",className:"text-2xl font-medium text-krushr-primary",maxLength:g}),(0,b.jsx)(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,b.jsx)(Zo,{className:"h-4 w-4 text-gray-400"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[f.tags.map(j=>(0,b.jsxs)(xe,{variant:"secondary",className:"gap-1",children:[j,(0,b.jsx)(C,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:text-destructive",onClick:()=>J(j),children:(0,b.jsx)(Mt,{className:"h-3 w-3"})})]},j)),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(Ee,{value:h,onChange:j=>w(j.target.value),onKeyPress:j=>j.key==="Enter"&&G(),label:"+ Add Tag",className:"w-24 h-7 text-xs"}),(0,b.jsx)(C,{variant:"outline",size:"sm",onClick:G,className:"h-7 px-2",children:(0,b.jsx)(Ie,{className:"w-3 h-3"})})]})]})]}),(0,b.jsxs)("div",{className:"ml-6",children:[(0,b.jsx)(Tt,{className:"text-sm text-gray-600 mb-2 block",children:"Priority"}),(0,b.jsxs)(wa,{value:f.priority,onValueChange:j=>z("priority",j),children:[(0,b.jsx)(xa,{className:"w-32",children:(0,b.jsx)(Ua,{children:ne(f.priority)})}),(0,b.jsx)(ka,{children:Object.values(No).map(j=>(0,b.jsx)(ht,{value:j,children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[ne(j),(0,b.jsx)("span",{className:"capitalize",children:j.toLowerCase()})]})},j))})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsxs)("div",{className:"flex -space-x-2 mr-2",children:[f.teamMembers.slice(0,3).map((j,ue)=>(0,b.jsxs)(st,{className:"w-8 h-8 border-2 border-white",children:[(0,b.jsx)(At,{src:j.avatar}),(0,b.jsx)(lt,{className:"text-xs",children:j.name.charAt(0)})]},j.userId)),f.teamMembers.length>3&&(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center",children:(0,b.jsxs)("span",{className:"text-xs font-medium",children:["+",f.teamMembers.length-3]})})]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:"Design Team"}),(0,b.jsxs)("div",{className:"text-sm text-gray-500",children:["Last updated by ",f.lastUpdatedBy||"Unknown"," at ",rr(new Date,"h:mm a, M/d/yy")]})]})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"col-span-2 space-y-6",children:[(f.contentType==="CALENDAR_EVENT"||f.contentType==="MIXED")&&(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(Tt,{children:"All Day"}),(0,b.jsx)(Pa,{checked:f.allDay,onCheckedChange:j=>z("allDay",j)})]}),(0,b.jsxs)(Oe,{children:[(0,b.jsx)(ot,{className:"pb-3",children:Ne("Dates","dates")}),O.dates&&(0,b.jsxs)(qe,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(Tt,{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Start Date"}),(0,b.jsxs)(Ra,{children:[(0,b.jsx)(Sa,{asChild:!0,children:(0,b.jsxs)(C,{variant:"outline",className:S("w-full justify-start text-left font-normal mt-1",!f.startDate&&"text-muted-foreground"),children:[(0,b.jsx)(Re,{className:"mr-2 h-4 w-4"}),f.startDate?rr(f.startDate,"MMM dd"):"Start Date"]})}),(0,b.jsx)(ua,{className:"w-auto p-0",children:(0,b.jsx)(Ka,{mode:"single",selected:f.startDate,onSelect:j=>z("startDate",j),initialFocus:!0})})]})]}),!f.allDay&&(0,b.jsx)("div",{children:(0,b.jsx)(Ee,{type:"time",value:f.startTime||"",onChange:j=>z("startTime",j.target.value),label:"Time",className:"mt-1"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(Tt,{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Duration"}),(0,b.jsxs)(wa,{value:f.duration||"",onValueChange:j=>z("duration",j),children:[(0,b.jsx)(xa,{className:"mt-1",children:(0,b.jsx)(Ua,{placeholder:"Duration"})}),(0,b.jsxs)(ka,{children:[(0,b.jsx)(ht,{value:"15m",children:"15 minutes"}),(0,b.jsx)(ht,{value:"30m",children:"30 minutes"}),(0,b.jsx)(ht,{value:"1h",children:"1 hour"}),(0,b.jsx)(ht,{value:"2h",children:"2 hours"}),(0,b.jsx)(ht,{value:"4h",children:"4 hours"}),(0,b.jsx)(ht,{value:"1d",children:"1 day"})]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(Tt,{className:"text-xs text-gray-500 uppercase tracking-wide",children:"End Date"}),(0,b.jsxs)(Ra,{children:[(0,b.jsx)(Sa,{asChild:!0,children:(0,b.jsxs)(C,{variant:"outline",className:S("w-full justify-start text-left font-normal mt-1",!f.endDate&&"text-muted-foreground"),children:[(0,b.jsx)(Re,{className:"mr-2 h-4 w-4"}),f.endDate?rr(f.endDate,"MMM dd"):"End Date"]})}),(0,b.jsx)(ua,{className:"w-auto p-0",children:(0,b.jsx)(Ka,{mode:"single",selected:f.endDate,onSelect:j=>z("endDate",j),initialFocus:!0})})]})]}),!f.allDay&&(0,b.jsx)("div",{children:(0,b.jsx)(Ee,{type:"time",value:f.endTime||"",onChange:j=>z("endTime",j.target.value),label:"End Time",className:"mt-1"})})]})]})]}),(f.contentType==="CALENDAR_EVENT"||f.contentType==="MIXED")&&(0,b.jsx)("div",{children:(0,b.jsx)(Ee,{value:f.calendar||"",onChange:j=>z("calendar",j.target.value),label:"Calendar Email",className:"mt-1"})}),(f.contentType==="CALENDAR_EVENT"||f.contentType==="MIXED")&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(Tt,{children:"Recurring"}),(0,b.jsx)(Pa,{checked:f.recurring.enabled,onCheckedChange:j=>z("recurring",{...f.recurring,enabled:j})})]}),f.recurring.enabled&&(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)(Ra,{children:[(0,b.jsx)(Sa,{asChild:!0,children:(0,b.jsxs)(C,{variant:"outline",className:"justify-start",children:[(0,b.jsx)(Re,{className:"mr-2 h-4 w-4"}),f.recurring.startDate?rr(f.recurring.startDate,"PPP"):"Start Date"]})}),(0,b.jsx)(ua,{className:"w-auto p-0",children:(0,b.jsx)(Ka,{mode:"single",selected:f.recurring.startDate,onSelect:j=>z("recurring",{...f.recurring,startDate:j}),initialFocus:!0})})]}),(0,b.jsxs)(Ra,{children:[(0,b.jsx)(Sa,{asChild:!0,children:(0,b.jsxs)(C,{variant:"outline",className:"justify-start",children:[(0,b.jsx)(Re,{className:"mr-2 h-4 w-4"}),f.recurring.endDate?rr(f.recurring.endDate,"PPP"):"End Date"]})}),(0,b.jsx)(ua,{className:"w-auto p-0",children:(0,b.jsx)(Ka,{mode:"single",selected:f.recurring.endDate,onSelect:j=>z("recurring",{...f.recurring,endDate:j}),initialFocus:!0})})]})]})]}),(0,b.jsxs)(Oe,{children:[(0,b.jsx)(ot,{className:"pb-3",children:Ne("Description & Notes","description",!0)}),O.description&&(0,b.jsxs)(qe,{className:"space-y-4",children:[(0,b.jsx)("div",{className:"border rounded-lg p-4",children:(0,b.jsx)(ba,{value:f.description,onChange:j=>z("description",j.target.value),placeholder:"Add a detailed description...",className:"min-h-[120px] border-0 resize-none focus-visible:ring-0",maxLength:p})}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1 py-2 border-t",children:[(0,b.jsx)(C,{variant:"ghost",size:"sm",children:(0,b.jsx)(Zo,{className:"h-4 w-4"})}),(0,b.jsx)(C,{variant:"ghost",size:"sm",children:(0,b.jsx)(Mt,{className:"h-4 w-4"})}),(0,b.jsx)(js,{orientation:"vertical",className:"h-6"}),(0,b.jsx)(C,{variant:"ghost",size:"sm",className:"font-bold",children:"B"}),(0,b.jsx)(C,{variant:"ghost",size:"sm",className:"italic",children:"I"}),(0,b.jsx)(C,{variant:"ghost",size:"sm",className:"underline",children:"U"}),(0,b.jsx)(js,{orientation:"vertical",className:"h-6"}),(0,b.jsx)(C,{variant:"ghost",size:"sm",children:"\u2022"}),(0,b.jsx)(C,{variant:"ghost",size:"sm",children:"1."}),(0,b.jsx)(C,{variant:"ghost",size:"sm",children:(0,b.jsx)(up,{className:"h-4 w-4"})}),(0,b.jsx)(C,{variant:"ghost",size:"sm",children:"@"}),(0,b.jsx)(C,{variant:"ghost",size:"sm",children:"\u{1F60A}"}),(0,b.jsx)(xe,{variant:"secondary",className:"text-xs",children:"Tag"})]})]})]}),(0,b.jsxs)(Oe,{children:[(0,b.jsx)(ot,{className:"pb-3",children:Ne("Checklist","checklist",!0)}),O.checklist&&(0,b.jsxs)(qe,{className:"space-y-4",children:[f.checklist.map((j,ue)=>(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(ed,{checked:j.completed,onCheckedChange:je=>k(ue,{completed:!!je})}),(0,b.jsx)(Ee,{label:"Checklist item",value:j.text,onChange:je=>k(ue,{text:je.target.value}),className:"flex-1"}),(0,b.jsx)(C,{variant:"ghost",size:"sm",onClick:()=>Z(ue),className:"h-8 w-8 p-0 text-krushr-secondary hover:text-krushr-secondary-600",children:(0,b.jsx)(Mt,{className:"h-4 w-4"})})]},ue)),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(Ee,{value:x,onChange:j=>_(j.target.value),onKeyPress:j=>j.key==="Enter"&&P(),label:"Add new item...",className:"flex-1"}),(0,b.jsx)(C,{variant:"outline",size:"sm",onClick:P,children:(0,b.jsx)(Ie,{className:"w-4 h-4"})})]})]})]}),c&&(0,b.jsxs)(Oe,{children:[(0,b.jsx)(ot,{className:"pb-3",children:Ne("Files","files",!0)}),O.files&&(0,b.jsxs)(qe,{className:"space-y-4",children:[f.attachments.map((j,ue)=>{let je=(j.size/1024).toFixed(1),rt=j.type?.startsWith("image/");return(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden",children:rt&&j.file?(0,b.jsx)("img",{src:URL.createObjectURL(j.file),alt:j.name,className:"w-full h-full object-cover"}):(0,b.jsx)(Ha,{className:"w-6 h-6 text-gray-500"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"font-medium truncate",children:j.name}),(0,b.jsxs)("div",{className:"text-sm text-gray-500",children:[je," KB"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[j.url&&(0,b.jsx)(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-krushr-info hover:text-krushr-info-600",onClick:()=>window.open(j.url,"_blank"),children:(0,b.jsx)(Rr,{className:"h-4 w-4"})}),(0,b.jsx)(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-krushr-secondary hover:text-krushr-secondary-600",onClick:()=>U(ue),children:(0,b.jsx)(Dr,{className:"h-4 w-4"})})]})]},ue)}),(0,b.jsx)(Ip,{onUpload:D,accept:{"image/*":[".jpg",".jpeg",".png",".gif",".webp"],"application/pdf":[".pdf"],"text/*":[".txt",".md"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"]},maxSize:10*1024*1024,maxFiles:5,className:"mt-4"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(Oe,{children:[(0,b.jsx)(ot,{children:(0,b.jsx)(Pt,{children:"Workflow"})}),(0,b.jsx)(qe,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(C,{variant:"outline",className:"w-full justify-start",children:[(0,b.jsx)(hp,{className:"w-4 h-4 mr-2 text-krushr-success"}),"Load Template"]}),(0,b.jsxs)(C,{variant:"outline",className:"w-full justify-start",children:[(0,b.jsx)(Cp,{className:"w-4 h-4 mr-2 text-krushr-secondary"}),"Set As Template"]}),(0,b.jsxs)(C,{variant:"outline",className:"w-full justify-start",children:[(0,b.jsx)(vp,{className:"w-4 h-4 mr-2 text-krushr-info"}),"Share"]}),(0,b.jsxs)(C,{className:"w-full justify-start bg-krushr-secondary hover:bg-krushr-secondary-600",children:[(0,b.jsx)(Ie,{className:"w-4 h-4 mr-2"}),"Team"]}),(0,b.jsxs)(C,{className:"w-full justify-start bg-krushr-primary hover:bg-krushr-primary-700",children:[(0,b.jsx)(Ie,{className:"w-4 h-4 mr-2"}),"User"]})]})})]}),s&&(0,b.jsxs)(Oe,{children:[(0,b.jsx)(ot,{children:(0,b.jsx)(Pt,{children:"Workflow Additions"})}),(0,b.jsxs)(qe,{className:"space-y-4",children:[Object.entries({"Create video meeting":"createVideoMeeting","Create call":"createCall","Kanban task board":"kanbanTaskBoard",Notes:"notes","Gantt timeline":"ganttTimeline","Gantt Dependency":"ganttDependency",Reminder:"reminder","Notify team":"notifyTeam","Changes notify team":"changesNotifyTeam"}).map(([j,ue])=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(Tt,{className:"text-sm",children:j}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(Pa,{checked:f.workflow[ue],onCheckedChange:je=>z("workflow",{...f.workflow,[ue]:je})}),["kanbanTaskBoard","notes","ganttTimeline"].includes(ue)&&(0,b.jsx)(C,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:(0,b.jsx)(Zt,{className:"h-4 w-4 text-gray-400"})})]})]},ue)),f.workflow.reminder&&(0,b.jsxs)("div",{className:"pl-6 space-y-2 border-l-2 border-gray-200",children:[f.workflow.reminders.map((j,ue)=>(0,b.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-krushr-warning mr-3"}),(0,b.jsx)("span",{className:"text-sm",children:j.timeBefore==="1d"?"1 Day Prior":"1 Hour Prior"})]},ue)),(0,b.jsx)("div",{className:"text-krushr-primary text-lg font-bold cursor-pointer hover:text-krushr-primary-700",children:"+"})]})]})]}),(0,b.jsx)(Oe,{children:(0,b.jsxs)(qe,{className:"pt-6 space-y-3",children:[(0,b.jsxs)(C,{className:"w-full justify-start bg-krushr-success hover:bg-krushr-success-600",onClick:()=>{},children:[(0,b.jsx)(ap,{className:"w-4 h-4 mr-2"}),"Mark As Complete"]}),(0,b.jsxs)(C,{variant:"destructive",className:"w-full justify-start",onClick:()=>{},children:[(0,b.jsx)(Dr,{className:"w-4 h-4 mr-2"}),"Delete"]}),(0,b.jsxs)(C,{className:"w-full justify-start bg-krushr-primary hover:bg-krushr-primary-700",onClick:F,disabled:T||!E.isValid,children:[(0,b.jsx)(rs,{className:"w-4 h-4 mr-2"}),T?"Saving...":"Save Changes"]})]})})]})]})]})}),Object.keys(E.errors).length>0&&(0,b.jsx)("div",{className:"px-6 py-3 border-t bg-krushr-secondary-50",children:(0,b.jsx)("div",{className:"text-sm text-krushr-secondary-600",children:Object.values(E.errors).join(", ")})})]})})}var pe=y(M(),1);function rd(){let[e,t]=(0,Us.useState)(!1),[r,a]=(0,Us.useState)("TASK"),[o,n]=(0,Us.useState)([]),i=(d,u)=>{console.log("Form submitted successfully:",{data:d,contentType:u});let m={id:Date.now().toString(),title:d.title,type:u,createdAt:new Date};n(g=>[m,...g.slice(0,4)])},l=d=>{a(d),t(!0)},s=d=>{switch(d){case"TASK":return(0,pe.jsx)(Vl,{className:"w-4 h-4"});case"NOTE":return(0,pe.jsx)(Dt,{className:"w-4 h-4"});case"CALENDAR_EVENT":return(0,pe.jsx)(Re,{className:"w-4 h-4"});default:return(0,pe.jsx)(Ie,{className:"w-4 h-4"})}},c=d=>{switch(d){case"TASK":return"bg-blue-100 text-blue-800";case"NOTE":return"bg-green-100 text-green-800";case"CALENDAR_EVENT":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return(0,pe.jsxs)("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[(0,pe.jsxs)("div",{children:[(0,pe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Universal Input Form Demo"}),(0,pe.jsx)("p",{className:"text-gray-600",children:"Comprehensive form for creating tasks, notes, calendar events, and mixed content"})]}),(0,pe.jsxs)(Oe,{children:[(0,pe.jsx)(ot,{children:(0,pe.jsx)(Pt,{children:"Quick Actions"})}),(0,pe.jsxs)(qe,{children:[(0,pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,pe.jsxs)(C,{onClick:()=>l("TASK"),className:"h-24 flex flex-col items-center justify-center gap-2",variant:"outline",children:[(0,pe.jsx)(Vl,{className:"w-8 h-8 text-blue-600"}),(0,pe.jsx)("span",{children:"Create Task"})]}),(0,pe.jsxs)(C,{onClick:()=>l("NOTE"),className:"h-24 flex flex-col items-center justify-center gap-2",variant:"outline",children:[(0,pe.jsx)(Dt,{className:"w-8 h-8 text-green-600"}),(0,pe.jsx)("span",{children:"Create Note"})]}),(0,pe.jsxs)(C,{onClick:()=>l("CALENDAR_EVENT"),className:"h-24 flex flex-col items-center justify-center gap-2",variant:"outline",children:[(0,pe.jsx)(Re,{className:"w-8 h-8 text-purple-600"}),(0,pe.jsx)("span",{children:"Create Event"})]})]}),(0,pe.jsx)("div",{className:"mt-4 pt-4 border-t",children:(0,pe.jsxs)(C,{onClick:()=>l("MIXED"),className:"w-full",variant:"default",children:[(0,pe.jsx)(Ie,{className:"w-4 h-4 mr-2"}),"Universal Form (All Types)"]})})]})]}),o.length>0&&(0,pe.jsxs)(Oe,{children:[(0,pe.jsx)(ot,{children:(0,pe.jsx)(Pt,{children:"Recently Created"})}),(0,pe.jsx)(qe,{children:(0,pe.jsx)("div",{className:"space-y-3",children:o.map(d=>(0,pe.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[(0,pe.jsxs)("div",{className:"flex items-center gap-3",children:[s(d.type),(0,pe.jsxs)("div",{children:[(0,pe.jsx)("div",{className:"font-medium",children:d.title}),(0,pe.jsx)("div",{className:"text-sm text-gray-500",children:d.createdAt.toLocaleString()})]})]}),(0,pe.jsx)(xe,{variant:"secondary",className:c(d.type),children:d.type.toLowerCase().replace("_"," ")})]},d.id))})})]}),(0,pe.jsxs)(Oe,{children:[(0,pe.jsx)(ot,{children:(0,pe.jsx)(Pt,{children:"Form Features"})}),(0,pe.jsx)(qe,{children:(0,pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,pe.jsxs)("div",{children:[(0,pe.jsx)("h3",{className:"font-semibold mb-3",children:"Content Creation"}),(0,pe.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,pe.jsx)("li",{children:"\u2022 Multi-content type support"}),(0,pe.jsx)("li",{children:"\u2022 Rich text editing with toolbar"}),(0,pe.jsx)("li",{children:"\u2022 Priority and tag management"}),(0,pe.jsx)("li",{children:"\u2022 Team assignment"}),(0,pe.jsx)("li",{children:"\u2022 Due dates and scheduling"})]})]}),(0,pe.jsxs)("div",{children:[(0,pe.jsx)("h3",{className:"font-semibold mb-3",children:"Advanced Features"}),(0,pe.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,pe.jsx)("li",{children:"\u2022 File attachments with drag & drop"}),(0,pe.jsx)("li",{children:"\u2022 Recurring events"}),(0,pe.jsx)("li",{children:"\u2022 Workflow automation toggles"}),(0,pe.jsx)("li",{children:"\u2022 Checklist and subtasks"}),(0,pe.jsx)("li",{children:"\u2022 Form validation and error handling"})]})]})]})})]}),(0,pe.jsx)(oi,{open:e,onClose:()=>t(!1),onSuccess:i,contentType:r,workspaceId:"demo-workspace-id",projectId:"demo-project-id",kanbanColumnId:"demo-column-id",showWorkflowToggles:!0,showFileUploads:!0,allowContentTypeSwitch:r==="MIXED",initialData:{priority:"medium",status:"TODO",tags:[],workflow:{createVideoMeeting:!0,createCall:!0,kanbanTaskBoard:!0,notes:!0,ganttTimeline:!0,ganttDependency:!1,reminder:!0,notifyTeam:!1,changesNotifyTeam:!1,reminders:[{enabled:!0,timeBefore:"1d",type:"notification"},{enabled:!0,timeBefore:"1h",type:"notification"}]}}})]})}var bn=y(Q(),1);var I=y(M(),1),d1={contentType:"TASK",title:"",description:"",priority:"medium",tags:[],allDay:!1,status:"TODO",teamMembers:[],checklist:[],subtasks:[],attachments:[],assigneeId:void 0,workflow:{createVideoMeeting:!1,createCall:!1,kanbanTaskBoard:!1,notes:!1,ganttTimeline:!1,ganttDependency:!1,reminder:!1,notifyTeam:!1,changesNotifyTeam:!1,reminders:[]},recurring:{enabled:!1,pattern:"weekly",endDate:void 0},workspaceId:""};function ni({contentType:e="TASK",workspaceId:t,initialData:r={},onSuccess:a,onClose:o,integrationMode:n="panel",maxHeight:i="400px",showHeader:l=!0}){let[s,c]=(0,bn.useState)({...d1,contentType:e,workspaceId:t,...r}),[d,u]=(0,bn.useState)(""),[m,g]=(0,bn.useState)({basic:!0,dates:!1,team:!1,workflow:!1}),p=(0,bn.useCallback)((E,ee)=>{c(ae=>({...ae,[E]:ee}))},[]),f=X.task.create.useMutation({onSuccess:E=>{a?.(s,"TASK"),o?.()}}),v=X.notes?.create?.useMutation?.({onSuccess:E=>{a?.(s,"NOTE"),o?.()}})||{mutate:()=>{},isLoading:!1},h=E=>{g(ee=>({...ee,[E]:!ee[E]}))},w=()=>{d.trim()&&!s.tags.includes(d.trim())&&(p("tags",[...s.tags,d.trim()]),u(""))},x=E=>{p("tags",s.tags.filter(ee=>ee!==E))},_=E=>{let ee={low:"bg-krushr-priority-low",medium:"bg-krushr-priority-medium",high:"bg-krushr-priority-high",critical:"bg-krushr-priority-critical"},ae={low:1,medium:2,high:3,critical:4};return(0,I.jsx)("div",{className:"flex gap-0.5",children:Array.from({length:ae[E]}).map((Ae,ze)=>(0,I.jsx)("div",{className:S("w-1.5 h-1.5 rounded-full",ee[E])},ze))})},O=async()=>{if(s.title.trim())try{switch(s.contentType){case"TASK":f.mutate({title:s.title,description:s.description,priority:s.priority,status:s.status,workspaceId:s.workspaceId,tags:s.tags,startDate:s.startDate,endDate:s.endDate,assigneeId:s.assigneeId});break;case"NOTE":v.mutate({title:s.title,content:s.description,workspaceId:s.workspaceId,tags:s.tags});break;default:console.log("Creating:",s.contentType,s)}}catch(E){console.error("Failed to create item:",E)}},B=f.isLoading||v.isLoading;return(0,I.jsxs)("div",{className:S("bg-white border rounded-lg overflow-hidden",n==="modal"&&"shadow-lg",n==="panel"&&"border-gray-200",n==="inline"&&"border-transparent"),children:[l&&(0,I.jsxs)("div",{className:"flex items-center justify-between p-3 border-b bg-gray-50",children:[(0,I.jsxs)("div",{className:"flex items-center gap-2",children:[(0,I.jsxs)(wa,{value:s.contentType,onValueChange:E=>p("contentType",E),children:[(0,I.jsx)(xa,{className:"h-7 w-auto text-sm border-none bg-transparent p-1",children:(0,I.jsx)(Ua,{})}),(0,I.jsxs)(ka,{children:[(0,I.jsx)(ht,{value:"TASK",children:"\u{1F4CB} Task"}),(0,I.jsx)(ht,{value:"NOTE",children:"\u{1F4DD} Note"}),(0,I.jsx)(ht,{value:Va.EVENT,children:"\u{1F4C5} Event"}),(0,I.jsx)(ht,{value:"CALENDAR_EVENT",children:"\u{1F5D3}\uFE0F Calendar"})]})]}),(0,I.jsx)("div",{className:"flex items-center gap-1",children:_(s.priority)})]}),o&&(0,I.jsx)(C,{variant:"ghost",size:"sm",onClick:o,className:"h-6 w-6 p-0",children:(0,I.jsx)(Mt,{className:"h-3 w-3"})})]}),(0,I.jsx)("div",{className:"overflow-y-auto",style:{maxHeight:i},children:(0,I.jsxs)("div",{className:"p-3 space-y-3",children:[(0,I.jsxs)("div",{className:"space-y-2",children:[(0,I.jsx)(Ee,{label:"What needs to be done?",value:s.title,onChange:E=>p("title",E.target.value),className:"font-medium border-none shadow-none p-0 text-base focus-visible:ring-0",autoFocus:!0}),(0,I.jsx)(ba,{placeholder:"Add description...",value:s.description,onChange:E=>p("description",E.target.value),className:"min-h-[60px] resize-none border-none shadow-none p-0 text-base placeholder:text-gray-400 focus-visible:ring-0",rows:2})]}),(0,I.jsx)("div",{className:"flex items-center gap-2 text-sm"}),(0,I.jsxs)("div",{className:"space-y-1",children:[(0,I.jsx)("div",{className:"flex flex-wrap gap-1",children:s.tags.map(E=>(0,I.jsxs)(xe,{variant:"secondary",className:"text-sm h-5 px-1.5 gap-1",children:[E,(0,I.jsx)(C,{variant:"ghost",size:"sm",onClick:()=>x(E),className:"h-3 w-3 p-0 hover:bg-transparent",children:(0,I.jsx)(Mt,{className:"h-2 w-2"})})]},E))}),(0,I.jsxs)("div",{className:"flex gap-1",children:[(0,I.jsx)(Ee,{label:"Add tag",value:d,onChange:E=>u(E.target.value),onKeyDown:E=>E.key==="Enter"&&w(),className:"h-6 text-sm flex-1"}),(0,I.jsx)(C,{variant:"ghost",size:"sm",onClick:w,className:"h-6 w-6 p-0",children:(0,I.jsx)(Ie,{className:"h-3 w-3"})})]})]}),(0,I.jsxs)("div",{className:"border border-gray-100 rounded",children:[(0,I.jsxs)("button",{type:"button",onClick:()=>h("dates"),className:"flex items-center justify-between w-full p-2 text-sm font-medium text-left hover:bg-gray-50",children:[(0,I.jsx)("span",{children:"\u{1F4C5} Dates & Timing"}),m.dates?(0,I.jsx)(Zt,{className:"h-3 w-3"}):(0,I.jsx)(vr,{className:"h-3 w-3"})]}),m.dates&&(0,I.jsxs)("div",{className:"p-2 border-t border-gray-100 space-y-3",children:[(0,I.jsxs)("div",{className:"flex gap-4",children:[(0,I.jsxs)("div",{className:"flex-1 grid grid-cols-3 gap-2",children:[(0,I.jsxs)("div",{children:[(0,I.jsx)(Tt,{className:"text-sm text-gray-500",children:"Priority"}),(0,I.jsxs)(wa,{value:s.priority,onValueChange:E=>p("priority",E),children:[(0,I.jsx)(xa,{className:"h-7 w-full border border-gray-200 text-sm",children:(0,I.jsxs)("div",{className:"flex items-center gap-2",children:[_(s.priority),(0,I.jsx)("span",{className:"capitalize",children:s.priority.toLowerCase()})]})}),(0,I.jsx)(ka,{children:Object.values(No).map(E=>(0,I.jsx)(ht,{value:E,children:(0,I.jsxs)("div",{className:"flex items-center gap-2",children:[_(E),(0,I.jsx)("span",{className:"capitalize",children:E.toLowerCase()})]})},E))})]})]}),s.contentType==="TASK"&&(0,I.jsxs)("div",{children:[(0,I.jsx)(Tt,{className:"text-sm text-gray-500",children:"Column"}),(0,I.jsxs)(wa,{value:s.status,onValueChange:E=>p("status",E),children:[(0,I.jsx)(xa,{className:"h-7 w-full border border-gray-200 text-sm",children:(0,I.jsx)(Ua,{})}),(0,I.jsxs)(ka,{children:[(0,I.jsx)(ht,{value:"TODO",children:(0,I.jsxs)("div",{className:"flex items-center gap-2",children:[(0,I.jsx)("div",{className:"w-2 h-2 rounded-full bg-krushr-task-todo"}),(0,I.jsx)("span",{children:"To Do"})]})}),(0,I.jsx)(ht,{value:"IN_PROGRESS",children:(0,I.jsxs)("div",{className:"flex items-center gap-2",children:[(0,I.jsx)("div",{className:"w-2 h-2 rounded-full bg-krushr-task-progress"}),(0,I.jsx)("span",{children:"In Progress"})]})}),(0,I.jsx)(ht,{value:"DONE",children:(0,I.jsxs)("div",{className:"flex items-center gap-2",children:[(0,I.jsx)("div",{className:"w-2 h-2 rounded-full bg-krushr-task-done"}),(0,I.jsx)("span",{children:"Done"})]})})]})]})]}),(0,I.jsxs)("div",{children:[(0,I.jsx)(Tt,{className:"text-sm text-gray-500",children:"Assign To"}),(0,I.jsxs)(wa,{value:s.assigneeId||"",onValueChange:E=>p("assigneeId",E),children:[(0,I.jsx)(xa,{className:"h-7 w-full border border-gray-200 text-sm",children:(0,I.jsx)(Ua,{placeholder:"Unassigned"})}),(0,I.jsxs)(ka,{children:[(0,I.jsx)(ht,{value:"",children:(0,I.jsxs)("div",{className:"flex items-center gap-2",children:[(0,I.jsx)(st,{className:"w-4 h-4",children:(0,I.jsx)(lt,{className:"text-xs bg-gray-200",children:"?"})}),(0,I.jsx)("span",{children:"Unassigned"})]})}),(0,I.jsx)(ht,{value:"user1",children:(0,I.jsxs)("div",{className:"flex items-center gap-2",children:[(0,I.jsx)(st,{className:"w-4 h-4",children:(0,I.jsx)(lt,{className:"text-xs bg-krushr-primary text-white",children:"ME"})}),(0,I.jsx)("span",{children:"Assign to me"})]})}),(0,I.jsx)(ht,{value:"user2",children:(0,I.jsxs)("div",{className:"flex items-center gap-2",children:[(0,I.jsx)(st,{className:"w-4 h-4",children:(0,I.jsx)(lt,{className:"text-xs bg-krushr-secondary text-white",children:"JS"})}),(0,I.jsx)("span",{children:"John Smith"})]})}),(0,I.jsx)(ht,{value:"user3",children:(0,I.jsxs)("div",{className:"flex items-center gap-2",children:[(0,I.jsx)(st,{className:"w-4 h-4",children:(0,I.jsx)(lt,{className:"text-xs bg-krushr-success text-white",children:"AD"})}),(0,I.jsx)("span",{children:"Alice Davis"})]})})]})]})]})]}),(0,I.jsxs)("div",{className:"flex-shrink-0",children:[(0,I.jsx)(Tt,{className:"text-xs text-gray-500",children:"Start Date"}),(0,I.jsxs)(Ra,{children:[(0,I.jsx)(Sa,{asChild:!0,children:(0,I.jsxs)(C,{variant:"outline",className:"w-full h-7 justify-start text-left text-sm",children:[(0,I.jsx)(Re,{className:"mr-1 h-3 w-3"}),s.startDate?rr(s.startDate,"MMM dd"):"Date"]})}),(0,I.jsx)(ua,{className:"w-auto p-0",children:(0,I.jsx)(Ka,{mode:"single",selected:s.startDate,onSelect:E=>p("startDate",E),initialFocus:!0})})]})]})]}),!s.allDay&&(0,I.jsxs)("div",{className:"flex gap-4",children:[(0,I.jsx)("div",{className:"flex-1"}),(0,I.jsxs)("div",{className:"flex-shrink-0",children:[(0,I.jsx)(Tt,{className:"text-sm text-gray-500",children:"Start Time"}),(0,I.jsx)(Ee,{type:"time",label:"Time",value:s.startTime||"",onChange:E=>p("startTime",E.target.value),className:"h-7 text-sm"})]})]}),(0,I.jsxs)("div",{className:"flex items-center justify-between",children:[(0,I.jsx)(Tt,{className:"text-sm",children:"All Day"}),(0,I.jsx)(Pa,{checked:s.allDay,onCheckedChange:E=>p("allDay",E)})]})]})]}),(0,I.jsxs)("div",{className:"border border-gray-100 rounded",children:[(0,I.jsxs)("button",{type:"button",onClick:()=>h("team"),className:"flex items-center justify-between w-full p-2 text-sm font-medium text-left hover:bg-gray-50",children:[(0,I.jsx)("span",{children:"\u{1F465} Team & Assignment"}),m.team?(0,I.jsx)(Zt,{className:"h-3 w-3"}):(0,I.jsx)(vr,{className:"h-3 w-3"})]}),m.team&&(0,I.jsx)("div",{className:"p-2 border-t border-gray-100",children:(0,I.jsx)("div",{className:"text-sm text-gray-500",children:"Team assignment features coming soon..."})})]}),(0,I.jsxs)("div",{className:"border border-gray-100 rounded",children:[(0,I.jsxs)("button",{type:"button",onClick:()=>h("workflow"),className:"flex items-center justify-between w-full p-2 text-sm font-medium text-left hover:bg-gray-50",children:[(0,I.jsx)("span",{children:"\u26A1 Workflow & Automation"}),m.workflow?(0,I.jsx)(Zt,{className:"h-3 w-3"}):(0,I.jsx)(vr,{className:"h-3 w-3"})]}),m.workflow&&(0,I.jsxs)("div",{className:"p-2 border-t border-gray-100 space-y-2",children:[(0,I.jsxs)("div",{className:"flex items-center justify-between",children:[(0,I.jsx)(Tt,{className:"text-sm",children:"Auto-assign to team"}),(0,I.jsx)(Pa,{checked:s.workflow.autoAssign,onCheckedChange:E=>p("workflow",{...s.workflow,autoAssign:E})})]}),(0,I.jsxs)("div",{className:"flex items-center justify-between",children:[(0,I.jsx)(Tt,{className:"text-sm",children:"Notify team members"}),(0,I.jsx)(Pa,{checked:s.workflow.notifyTeam,onCheckedChange:E=>p("workflow",{...s.workflow,notifyTeam:E})})]})]})]})]})}),(0,I.jsxs)("div",{className:"flex items-center justify-between p-3 border-t bg-gray-50",children:[(0,I.jsxs)("div",{className:"flex items-center gap-1",children:[(0,I.jsx)(C,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:(0,I.jsx)(ha,{className:"h-3 w-3"})}),(0,I.jsxs)("span",{className:"text-sm text-gray-500",children:[s.attachments.length," files"]})]}),(0,I.jsxs)("div",{className:"flex items-center gap-2",children:[o&&(0,I.jsx)(C,{variant:"ghost",size:"sm",onClick:o,className:"h-7 text-sm",children:"Cancel"}),(0,I.jsx)(C,{onClick:O,disabled:!s.title.trim()||B,size:"sm",className:"h-7 text-xs",children:B?"Creating...":"Create"})]})]})]})}var Vg=y(Q(),1);var yn=y(M(),1);function Ws({workspaceId:e,projectId:t,columnId:r,columnStatus:a,onTaskCreated:o,className:n}){let[i,l]=(0,Vg.useState)(!1),s={status:a,projectId:t,kanbanColumnId:r,priority:"medium"},c=(u,m)=>{o?.(u),l(!1)},d=()=>{l(!1)};return i?(0,yn.jsx)(Oe,{className:S("mb-2",n),children:(0,yn.jsx)(ni,{workspaceId:e,contentType:"TASK",initialData:s,onSuccess:c,onClose:d,integrationMode:"inline",maxHeight:"300px",showHeader:!1})}):(0,yn.jsxs)(C,{variant:"ghost",className:S("w-full h-8 justify-start text-base text-krushr-secondary hover:text-krushr-secondary","border-2 border-dashed border-krushr-secondary/30 hover:border-krushr-secondary/50 hover:bg-krushr-secondary/5","rounded-lg mb-2 font-medium",n),onClick:()=>l(!0),children:[(0,yn.jsx)(Ie,{className:"h-4 w-4 mr-2"}),"Add a card"]})}var Xg=y(Q(),1);var $s=y(Q(),1);var jt=y(Q(),1);var W=y(M(),1);function Xa({workspaceId:e,kanbanColumnId:t,open:r,onClose:a,onSuccess:o}){let[n,i]=(0,jt.useState)(""),[l,s]=(0,jt.useState)(""),[c,d]=(0,jt.useState)("medium"),[u,m]=(0,jt.useState)("TODO"),[g,p]=(0,jt.useState)(""),[f,v]=(0,jt.useState)([]),[h,w]=(0,jt.useState)([]),[x,_]=(0,jt.useState)([]),[O,B]=(0,jt.useState)(""),[E,ee]=(0,jt.useState)(null),[ae,Ae]=(0,jt.useState)(""),[ze,A]=(0,jt.useState)(!1),[L,H]=(0,jt.useState)(!1),D=X.user.listWorkspaceMembers.useQuery({workspaceId:e}).data||[],U=(0,jt.useRef)(null),R=(0,jt.useRef)(null);(0,jt.useEffect)(()=>{let k=Z=>{U.current&&!U.current.contains(Z.target)&&A(!1),R.current&&!R.current.contains(Z.target)&&H(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);let T=()=>{i(""),s(""),d("medium"),m("TODO"),p(""),v([]),w([]),_([]),B(""),ee(null),Ae(""),A(!1),H(!1)},le=()=>{T(),a()},oe=X.task.create.useMutation({onSuccess:async k=>{try{for(let Z of f)await F.mutateAsync({taskId:k.id,content:Z.content});for(let Z of h)if(Z.file){let ne=new FormData;ne.append("file",Z.file),ne.append("taskId",k.id);try{await fetch("/api/upload",{method:"POST",body:ne})}catch(Ne){console.error("Failed to upload file:",Z.name,Ne)}}}catch(Z){console.error("Failed to process post-creation actions:",Z)}T(),o?.(),a()},onError:k=>{console.error("Failed to create task:",k)}}),F=X.comment.create.useMutation({onSuccess:()=>{p("")}}),q=()=>{if(g.trim()){let k={id:Date.now().toString(),content:g.trim(),user:{name:"You"},createdAt:new Date().toISOString(),isLocal:!0};v(Z=>[...Z,k]),p("")}},G=()=>{n.trim()&&oe.mutate({title:n.trim(),description:l.trim(),priority:c,status:u,workspaceId:e,kanbanColumnId:t,assigneeId:E,dueDate:ae||void 0})},J=k=>({low:"text-green-500 bg-green-50 border-green-200",medium:"text-orange-500 bg-orange-50 border-orange-200",high:"text-red-500 bg-red-50 border-red-200"})[k],P=k=>{switch(k){case"DONE":return(0,W.jsx)(Cr,{className:"w-4 h-4 text-green-500"});case"IN_PROGRESS":return(0,W.jsx)(za,{className:"w-4 h-4 text-blue-500"});default:return(0,W.jsx)(Ki,{className:"w-4 h-4 text-gray-400"})}};return(0,W.jsx)(vs,{open:r,onOpenChange:le,children:(0,W.jsxs)(bs,{className:"w-full sm:max-w-2xl overflow-y-auto",children:[(0,W.jsx)(Op,{className:"space-y-0",children:(0,W.jsxs)("div",{className:"flex items-center justify-between",children:[(0,W.jsx)(zp,{className:"text-xl font-brand",children:"Create New Task"}),(0,W.jsxs)("div",{className:"flex items-center gap-1",children:[(0,W.jsx)(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-500 hover:text-gray-700",onClick:le,title:"Cancel creation",children:(0,W.jsx)(Dr,{className:"w-4 h-4"})}),(0,W.jsx)(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-500 hover:text-gray-700",onClick:le,title:"Close panel",children:(0,W.jsx)(Mt,{className:"w-4 h-4"})})]})]})}),(0,W.jsxs)("div",{className:"mt-4 space-y-6",children:[(0,W.jsxs)("div",{children:[(0,W.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-2 font-manrope",children:"Task Title"}),(0,W.jsx)(Ee,{label:"Task Title",value:n,onChange:k=>i(k.target.value),className:"text-lg font-medium border border-gray-200 rounded-lg px-3 py-2 focus:border-krushr-blue focus:ring-2 focus:ring-krushr-blue/20",autoFocus:!0})]}),(0,W.jsxs)("div",{className:"flex items-center justify-between",children:[(0,W.jsx)("div",{className:"flex gap-1",children:["TODO","IN_PROGRESS",Wa.REVIEW,"DONE"].map(k=>{let Z={TODO:"To Do",IN_PROGRESS:"In Progress",[Wa.REVIEW]:"Review",DONE:"Done"},ne={TODO:u===k?"bg-blue-50 text-krushr-blue border-krushr-blue/30":"bg-white text-gray-600 border-gray-200 hover:border-krushr-blue/30",IN_PROGRESS:u===k?"bg-orange-50 text-orange-700 border-orange-300":"bg-white text-gray-600 border-gray-200 hover:border-orange-300",[Wa.REVIEW]:u===k?"bg-purple-50 text-purple-700 border-purple-300":"bg-white text-gray-600 border-gray-200 hover:border-purple-300",DONE:u===k?"bg-green-50 text-green-700 border-green-300":"bg-white text-gray-600 border-gray-200 hover:border-green-300"};return(0,W.jsx)("button",{onClick:()=>m(k),className:S("px-3 py-1.5 text-sm font-medium rounded-md border transition-all duration-200",ne[k]),children:Z[k]},k)})}),(0,W.jsxs)("div",{className:"flex items-center gap-2",children:[(0,W.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Priority:"}),(0,W.jsx)("div",{className:"flex gap-1",children:[1,2,3].map(k=>{let Z=c==="low"&&k<=1||c==="medium"&&k<=2||c==="high"&&k<=3,ne=k===1?"low":k===2?"medium":"high";return(0,W.jsx)("button",{onClick:()=>d(ne),className:S("w-3 h-3 rounded-full transition-colors border-2",Z?"bg-krushr-secondary border-krushr-secondary":"bg-white border-gray-300 hover:border-krushr-secondary/50"),title:`${k===1?"Low":k===2?"Medium":"High"} Priority`},k)})})]})]}),(0,W.jsxs)("div",{className:"space-y-3",children:[(0,W.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Description & Notes"}),(0,W.jsx)(ba,{placeholder:"Add a description...",value:l,onChange:k=>s(k.target.value),className:"min-h-[100px] resize-y text-sm border-gray-200 rounded-lg p-4 focus:border-krushr-blue focus:ring-2 focus:ring-krushr-blue/20",onKeyPress:k=>{k.key==="Enter"&&k.ctrlKey&&!oe.isLoading&&(k.preventDefault(),G())}})]}),(0,W.jsxs)("div",{className:"grid grid-cols-3 gap-4 py-3 border-t border-gray-100",children:[(0,W.jsxs)("div",{className:"relative",ref:U,children:[(0,W.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-lg border border-gray-200 cursor-pointer hover:border-krushr-blue/50 transition-colors",onClick:()=>A(!ze),children:[E?(0,W.jsx)(W.Fragment,{children:(()=>{let k=D.find(Z=>Z.id===E);return k?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("div",{className:"w-4 h-4 rounded-full bg-krushr-blue text-white text-xs flex items-center justify-center",children:k.name?.charAt(0)}),(0,W.jsx)("span",{className:"text-sm text-gray-900",children:k.name})]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(er,{className:"w-4 h-4 text-gray-500"}),(0,W.jsx)("span",{className:"text-sm text-gray-600",children:"Unassigned"})]})})()}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(er,{className:"w-4 h-4 text-gray-500"}),(0,W.jsx)("span",{className:"text-sm text-gray-600",children:"Unassigned"})]}),(0,W.jsx)(Zt,{className:"w-3 h-3 text-gray-400 ml-auto"})]}),ze&&(0,W.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 max-h-40 overflow-y-auto",children:[(0,W.jsx)("div",{className:"p-2 hover:bg-gray-50 cursor-pointer text-sm",onClick:()=>{ee(null),A(!1)},children:(0,W.jsxs)("div",{className:"flex items-center gap-2",children:[(0,W.jsx)(er,{className:"w-4 h-4 text-gray-500"}),(0,W.jsx)("span",{className:"text-gray-600",children:"Unassigned"})]})}),D.map(k=>(0,W.jsx)("div",{className:"p-2 hover:bg-gray-50 cursor-pointer text-sm",onClick:()=>{ee(k.id),A(!1)},children:(0,W.jsxs)("div",{className:"flex items-center gap-2",children:[(0,W.jsx)("div",{className:"w-4 h-4 rounded-full bg-krushr-blue text-white text-xs flex items-center justify-center",children:k.name?.charAt(0)}),(0,W.jsx)("span",{className:"text-gray-900",children:k.name})]})},k.id))]})]}),(0,W.jsxs)("div",{className:"relative",ref:R,children:[(0,W.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-lg border border-gray-200 cursor-pointer hover:border-krushr-blue/50 transition-colors",onClick:()=>H(!L),children:[(0,W.jsx)(Re,{className:"w-4 h-4 text-gray-500"}),(0,W.jsx)("span",{className:"text-sm text-gray-600",children:ae?new Date(ae).toLocaleDateString():"No date"}),(0,W.jsx)(Zt,{className:"w-3 h-3 text-gray-400 ml-auto"})]}),L&&(0,W.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 p-3",children:[(0,W.jsx)("input",{type:"date",value:ae,onChange:k=>{Ae(k.target.value),H(!1)},className:"w-full p-2 border border-gray-200 rounded text-sm focus:ring-2 focus:ring-krushr-blue focus:border-krushr-blue"}),ae&&(0,W.jsx)("button",{onClick:()=>{Ae(""),H(!1)},className:"mt-2 text-xs text-red-500 hover:text-red-700",children:"Clear date"})]})]}),(0,W.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-gray-50",children:[(0,W.jsx)(Yr,{className:"w-4 h-4 text-gray-400"}),(0,W.jsx)("span",{className:"text-sm text-gray-500",children:"Just now"})]})]}),(0,W.jsxs)("div",{className:"space-y-4",children:[(0,W.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 space-y-3",children:[(0,W.jsxs)("div",{className:"flex items-center gap-2",children:[(0,W.jsx)(Ba,{className:"w-4 h-4 text-krushr-blue"}),(0,W.jsxs)("h4",{className:"text-sm font-medium text-gray-900",children:["Comments (",f.length,")"]})]}),(0,W.jsxs)("div",{className:"flex gap-2",children:[(0,W.jsx)(ba,{value:g,onChange:k=>p(k.target.value),placeholder:"Add a comment...",className:"flex-1 min-h-[60px] text-sm resize-none border-gray-200 focus:border-krushr-blue focus:ring-2 focus:ring-krushr-blue/20",onKeyPress:k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),q())}}),(0,W.jsx)(C,{size:"sm",onClick:q,disabled:!g.trim(),className:"h-10 px-3 bg-krushr-blue hover:bg-krushr-blue/90",children:(0,W.jsx)(Yn,{className:"w-3 h-3"})})]}),f.length>0&&(0,W.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:f.map(k=>(0,W.jsxs)("div",{className:"bg-white rounded p-2 border",children:[(0,W.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,W.jsx)("span",{className:"text-xs font-medium text-gray-900",children:k.user?.name}),(0,W.jsx)("span",{className:"text-xs text-gray-500",children:k.isLocal?"Just now":"Unknown"})]}),(0,W.jsx)("p",{className:"text-xs text-gray-600",children:k.content})]},k.id))})]}),(0,W.jsxs)("div",{className:"space-y-2",children:[(0,W.jsxs)("div",{className:"flex items-center gap-2",children:[(0,W.jsx)(Ha,{className:"w-4 h-4 text-gray-500"}),(0,W.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Files (",h.length,")"]})]}),(0,W.jsxs)("div",{className:"border border-dashed border-gray-200 rounded-lg p-2 text-center hover:border-krushr-blue/50 transition-colors",children:[(0,W.jsx)(ha,{className:"h-4 w-4 mx-auto text-gray-400 mb-1"}),(0,W.jsx)("input",{type:"file",multiple:!0,className:"hidden",id:"file-upload",onChange:k=>{let ne=Array.from(k.target.files||[]).map(Ne=>({id:Date.now()+Math.random(),name:Ne.name,size:Ne.size,type:Ne.type,file:Ne,isLocal:!0}));w(Ne=>[...Ne,...ne])}}),(0,W.jsx)(C,{variant:"ghost",size:"sm",className:"text-xs text-gray-600 hover:text-gray-800 p-0",onClick:()=>document.getElementById("file-upload")?.click(),children:"Drop files or click to upload"})]}),h.length>0&&(0,W.jsx)("div",{className:"space-y-1 max-h-24 overflow-y-auto",children:h.map(k=>(0,W.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-sm",children:[(0,W.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,W.jsx)(Ha,{className:"w-3 h-3 text-gray-500 flex-shrink-0"}),(0,W.jsx)("span",{className:"truncate",children:k.name}),(0,W.jsxs)("span",{className:"text-xs text-gray-400",children:["(",(k.size/1024).toFixed(1)," KB)"]})]}),(0,W.jsx)(C,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 text-red-500 hover:text-red-700 flex-shrink-0",onClick:()=>{w(Z=>Z.filter(ne=>ne.id!==k.id))},children:(0,W.jsx)(Mt,{className:"w-3 h-3"})})]},k.id))})]}),(f.length>0||h.length>0)&&(0,W.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,W.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,W.jsx)(Yr,{className:"w-4 h-4 text-gray-500"}),(0,W.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Ready to Create"})]}),(0,W.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[f.length>0&&(0,W.jsxs)("div",{children:[f.length," comment",f.length>1?"s":""," prepared"]}),h.length>0&&(0,W.jsxs)("div",{children:[h.length," file",h.length>1?"s":""," ready to upload"]})]})]})]}),(0,W.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[(0,W.jsx)(C,{variant:"ghost",onClick:a,disabled:oe.isLoading,className:"h-10 px-4 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-50",children:"Cancel"}),(0,W.jsx)(C,{onClick:G,disabled:!n.trim()||oe.isLoading,className:"h-10 px-6 text-sm gap-2 bg-krushr-secondary hover:bg-krushr-secondary/90 focus:ring-2 focus:ring-krushr-secondary/50 text-white font-medium",children:oe.isLoading?(0,W.jsx)(W.Fragment,{children:"Creating..."}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(Yn,{className:"w-4 h-4"}),"Create Task"]})})]})]})]})})}var Gt=y(M(),1);function ad({workspaceId:e,isOpen:t=!1,onToggle:r,position:a="floating"}){let[o,n]=(0,$s.useState)(!1),[i,l]=(0,$s.useState)(!1),[s,c]=(0,$s.useState)({x:20,y:20}),d=()=>{r?.()},u=()=>{r?.()};return t?a==="modal"?(0,Gt.jsx)(Xa,{workspaceId:e,open:t,onClose:u,onSuccess:d}):a==="floating"?(0,Gt.jsxs)(Oe,{className:S("fixed z-50 shadow-xl border-2","w-80 max-h-96",i&&"cursor-move"),style:{left:s.x,top:s.y},children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 border-b cursor-move",onMouseDown:m=>{l(!0);let g=m.clientX-s.x,p=m.clientY-s.y,f=h=>{c({x:h.clientX-g,y:h.clientY-p})},v=()=>{l(!1),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",v)};document.addEventListener("mousemove",f),document.addEventListener("mouseup",v)},children:[(0,Gt.jsx)("span",{className:"text-sm font-medium",children:"Quick Create"}),(0,Gt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Gt.jsx)(C,{variant:"ghost",size:"sm",onClick:()=>n(!o),className:"h-6 w-6 p-0",children:o?(0,Gt.jsx)(Xo,{className:"h-3 w-3"}):(0,Gt.jsx)(Jo,{className:"h-3 w-3"})}),(0,Gt.jsx)(C,{variant:"ghost",size:"sm",onClick:u,className:"h-6 w-6 p-0",children:(0,Gt.jsx)(Mt,{className:"h-3 w-3"})})]})]}),!o&&(0,Gt.jsxs)("div",{className:"p-3 text-center text-sm text-gray-500",children:[(0,Gt.jsx)("p",{children:"Click to open task creator"}),(0,Gt.jsx)(C,{onClick:()=>{n(!0),r?.()},className:"mt-2",size:"sm",children:"Create Task"})]})]}):(0,Gt.jsx)(Xa,{workspaceId:e,open:t,onClose:u,onSuccess:d}):(0,Gt.jsx)(C,{onClick:r,className:S("fixed bottom-6 right-6 h-12 w-12 rounded-full shadow-lg z-50","bg-krushr-coral-red hover:bg-krushr-coral-red/90 text-white","flex items-center justify-center"),children:(0,Gt.jsx)(Ie,{className:"h-6 w-6"})})}var ft=y(M(),1);function od({workspaceName:e,workspaceId:t,currentPanel:r,onPanelChange:a}){let[o,n]=(0,Xg.useState)(!1),{user:i}=et(),l=()=>{n(!o)};return(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("header",{className:"h-14 border-b bg-white px-4 flex items-center justify-between",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ft.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:e}),(0,ft.jsxs)(C,{onClick:l,className:"h-8 gap-2 bg-krushr-coral-red hover:bg-krushr-coral-red/90 text-white",children:[(0,ft.jsx)(Ie,{className:"h-4 w-4"}),(0,ft.jsx)("span",{className:"hidden sm:inline",children:"Create"})]}),r&&(0,ft.jsxs)(xe,{variant:"secondary",className:"text-xs",children:[r==="kanban"&&"\u{1F4CB}",r==="calendar"&&"\u{1F4C5}",r==="notes"&&"\u{1F4DD}",r==="chat"&&"\u{1F4AC}",r?.charAt(0).toUpperCase()+r?.slice(1)]})]}),(0,ft.jsx)("div",{className:"flex-1 max-w-md mx-8",children:(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)(gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,ft.jsx)(Ee,{label:"Search workspace",className:"pl-10 h-8 bg-gray-50 border-gray-200"})]})}),(0,ft.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ft.jsxs)(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 relative",children:[(0,ft.jsx)(nr,{className:"h-4 w-4"}),(0,ft.jsx)(xe,{className:"absolute -top-1 -right-1 h-4 w-4 p-0 text-xs",children:"3"})]}),(0,ft.jsx)(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,ft.jsx)(Pr,{className:"h-4 w-4"})}),(0,ft.jsxs)(st,{className:"h-8 w-8",children:[(0,ft.jsx)(At,{src:i?.avatar}),(0,ft.jsx)(lt,{className:"text-xs",children:i?.name?.charAt(0)||"U"})]})]})]}),(0,ft.jsx)(ad,{workspaceId:t,isOpen:o,onToggle:l,position:"modal"})]})}var Ce=y(M(),1);function nd(){let[e,t]=(0,ii.useState)("alice@krushr.dev"),[r,a]=(0,ii.useState)("password123"),[o,n]=(0,ii.useState)("Test User"),[i,l]=(0,ii.useState)(!1),{user:s,isAuthenticated:c,setUser:d,setToken:u,logout:m}=et(),g=bt(),p=X.auth.login.useMutation({onSuccess:x=>{d(x.user),u(x.token),console.log("\u2705 Login successful:",x)},onError:x=>{console.error("\u274C Login failed:",x.message)}}),f=X.auth.register.useMutation({onSuccess:x=>{d(x.user),u(x.token),console.log("\u2705 Registration successful:",x)},onError:x=>{console.error("\u274C Registration failed:",x.message)}}),v=X.auth.me.useQuery(void 0,{enabled:c});return(0,Ce.jsxs)("div",{className:"p-8 max-w-md mx-auto",children:[(0,Ce.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"\u{1F680} Krushr tRPC Test"}),c?(0,Ce.jsxs)("div",{className:"space-y-4",children:[(0,Ce.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,Ce.jsx)("h2",{className:"text-lg font-semibold text-green-800",children:"\u2705 Authenticated!"}),(0,Ce.jsxs)("p",{className:"text-green-700",children:["Welcome, ",s?.name,"!"]}),(0,Ce.jsx)("p",{className:"text-sm text-green-600",children:s?.email})]}),v.data&&(0,Ce.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Ce.jsx)("h3",{className:"font-semibold text-blue-800",children:"Profile from API:"}),(0,Ce.jsx)("pre",{className:"text-sm text-blue-700 mt-2",children:JSON.stringify(v.data,null,2)})]}),(0,Ce.jsx)("button",{onClick:m,className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Logout"}),(0,Ce.jsxs)("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[(0,Ce.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\u{1F3A8} Universal Input Form Demo"}),(0,Ce.jsx)(rd,{})]}),(0,Ce.jsxs)("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[(0,Ce.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\u{1F527} Workspace Panel Integration"}),(0,Ce.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Compact Panel Form"}),(0,Ce.jsx)("div",{className:"border rounded-lg",children:(0,Ce.jsx)(ni,{workspaceId:"demo-workspace",contentType:"TASK",maxHeight:"400px",integrationMode:"panel"})})]}),(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Kanban Quick Create"}),(0,Ce.jsxs)("div",{className:"space-y-2",children:[(0,Ce.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,Ce.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"To Do Column"}),(0,Ce.jsx)(Ws,{workspaceId:"demo-workspace",columnId:"todo",columnStatus:"TODO"})]}),(0,Ce.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,Ce.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"In Progress Column"}),(0,Ce.jsx)(Ws,{workspaceId:"demo-workspace",columnId:"in-progress",columnStatus:"IN_PROGRESS"})]})]})]})]}),(0,Ce.jsxs)("div",{className:"mt-6",children:[(0,Ce.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Workspace Header Integration"}),(0,Ce.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,Ce.jsx)(od,{workspaceName:"Demo Workspace",workspaceId:"demo-workspace",currentPanel:"kanban"})})]})]})]}):(0,Ce.jsxs)("div",{className:"space-y-4",children:[(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Ce.jsx)(Ee,{id:"email",type:"email",label:"Email",value:e,onChange:x=>t(x.target.value),autoComplete:"email"})]}),(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,Ce.jsx)(Ee,{id:"password",type:"password",label:"Password",value:r,onChange:x=>a(x.target.value),autoComplete:"current-password"})]}),i&&(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,Ce.jsx)(Ee,{id:"name",type:"text",label:"Name",value:o,onChange:x=>n(x.target.value),autoComplete:"name"})]}),(0,Ce.jsxs)("div",{className:"space-y-2",children:[(0,Ce.jsx)("button",{onClick:i?()=>{console.log("\u{1F4DD} Attempting registration with:",{email:e,password:r,name:o}),f.mutate({email:e,password:r,name:o})}:()=>{console.log("\u{1F510} Attempting login with:",{email:e,password:r}),p.mutate({email:e,password:r})},disabled:p.isPending||f.isPending,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:p.isPending||f.isPending?"Loading...":i?"Register":"Login"}),(0,Ce.jsx)("button",{onClick:()=>l(!i),className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:i?"Switch to Login":"Switch to Register"})]}),(0,Ce.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Ce.jsx)("p",{children:"Demo credentials:"}),(0,Ce.jsx)("p",{children:"Email: alice@krushr.dev"}),(0,Ce.jsx)("p",{children:"Password: password123"})]})]})]})}var Gs=y(Q(),1);var Ys=y(Q(),1);var Ks=y(M(),1),u1=ji("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),si=Ys.forwardRef(({className:e,variant:t,...r},a)=>(0,Ks.jsx)("div",{ref:a,role:"alert",className:S(u1({variant:t}),e),...r}));si.displayName="Alert";var m1=Ys.forwardRef(({className:e,...t},r)=>(0,Ks.jsx)("h5",{ref:r,className:S("mb-1 font-medium leading-none tracking-tight",e),...t}));m1.displayName="AlertTitle";var li=Ys.forwardRef(({className:e,...t},r)=>(0,Ks.jsx)("div",{ref:r,className:S("text-sm [&_p]:leading-relaxed",e),...t}));li.displayName="AlertDescription";var ci=y(M(),1);function Or({size:e="md",className:t,showText:r=!0}){let a={sm:"h-6",md:"h-8",lg:"h-12",xl:"h-16"},o={sm:"text-sm",md:"text-lg",lg:"text-xl",xl:"text-2xl"};return(0,ci.jsxs)("div",{className:S("flex items-center gap-2",t),children:[(0,ci.jsx)("img",{src:"/krushr.svg",alt:"Krushr",className:S("object-contain",a[e])}),r&&(0,ci.jsx)("span",{className:S("font-bold text-krushr-primary",o[e])})]})}var Me=y(M(),1);function id(){let e=bt(),{setUser:t,setToken:r}=et(),[a,o]=(0,Gs.useState)("alice@krushr.dev"),[n,i]=(0,Gs.useState)("password123"),[l,s]=(0,Gs.useState)(""),c=X.auth.login.useMutation({onSuccess:u=>{t(u.user),r(u.token),e("/board")},onError:u=>{s(u.message||"Invalid email or password")}});return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"flex justify-center mb-4",children:(0,Me.jsx)(Or,{size:"xl"})}),(0,Me.jsx)("p",{className:"text-muted-foreground",children:"Welcome back! Please sign in to continue."})]}),(0,Me.jsxs)(Oe,{children:[(0,Me.jsxs)(ot,{children:[(0,Me.jsx)(Pt,{children:"Sign in to your account"}),(0,Me.jsx)(Ui,{children:"Enter your email and password to access your workspace"})]}),(0,Me.jsx)(qe,{children:(0,Me.jsxs)("form",{onSubmit:u=>{if(u.preventDefault(),s(""),!a||!n){s("Please fill in all fields");return}c.mutate({email:a,password:n})},className:"space-y-4",children:[l&&(0,Me.jsxs)(si,{variant:"destructive",children:[(0,Me.jsx)(za,{className:"h-4 w-4"}),(0,Me.jsx)(li,{children:l})]}),(0,Me.jsx)("div",{className:"space-y-2",children:(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)(Sr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400 z-20"}),(0,Me.jsx)(Ee,{id:"email",type:"email",label:"Email address",value:a,onChange:u=>o(u.target.value),className:"pl-10",autoComplete:"email",required:!0})]})}),(0,Me.jsx)("div",{className:"space-y-2",children:(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)(oa,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400 z-20"}),(0,Me.jsx)(Ee,{id:"password",type:"password",label:"Password",value:n,onChange:u=>i(u.target.value),className:"pl-10",autoComplete:"current-password",required:!0})]})}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("label",{className:"flex items-center",children:[(0,Me.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Me.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),(0,Me.jsx)(Kr,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-500",children:"Forgot password?"})]}),(0,Me.jsx)(C,{type:"submit",className:"w-full",style:{backgroundColor:"#143197",color:"white"},disabled:c.isLoading,children:c.isLoading?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Me.jsx)("span",{className:"w-full border-t"})}),(0,Me.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,Me.jsx)("span",{className:"bg-white px-2 text-gray-500",children:"New to Krushr?"})})]}),(0,Me.jsx)(Kr,{to:"/register",children:(0,Me.jsx)(C,{type:"button",variant:"outline",className:"w-full",disabled:c.isLoading,children:"Create Free Account"})}),(0,Me.jsxs)("div",{className:"text-center text-sm",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Don't have an account? "}),(0,Me.jsx)(Kr,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]})]})})]})]})})}var sd=y(Q(),1);var De=y(M(),1);function ld(){let e=bt(),{setUser:t,setToken:r}=et(),[a,o]=(0,sd.useState)({name:"",email:"",password:"",confirmPassword:""}),[n,i]=(0,sd.useState)(""),l=X.auth.register.useMutation({onSuccess:d=>{t(d.user),r(d.token),e("/board")},onError:d=>{i(d.message||"Registration failed")}}),s=d=>{o(u=>({...u,[d.target.name]:d.target.value}))};return(0,De.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100 py-12 px-4 sm:px-6 lg:px-8",children:(0,De.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,De.jsxs)("div",{className:"text-center",children:[(0,De.jsx)("div",{className:"flex justify-center mb-4",children:(0,De.jsx)(Or,{size:"xl"})}),(0,De.jsx)("p",{className:"text-muted-foreground",children:"Create your account to get started"})]}),(0,De.jsxs)(Oe,{children:[(0,De.jsxs)(ot,{children:[(0,De.jsx)(Pt,{children:"Sign up for an account"}),(0,De.jsx)(Ui,{children:"Join Krushr to manage your projects and collaborate with your team"})]}),(0,De.jsx)(qe,{children:(0,De.jsxs)("form",{onSubmit:d=>{if(d.preventDefault(),i(""),!a.name||!a.email||!a.password){i("Please fill in all fields");return}if(a.password.length<6){i("Password must be at least 6 characters");return}if(a.password!==a.confirmPassword){i("Passwords do not match");return}l.mutate({name:a.name,email:a.email,password:a.password})},className:"space-y-4",children:[n&&(0,De.jsxs)(si,{variant:"destructive",children:[(0,De.jsx)(za,{className:"h-4 w-4"}),(0,De.jsx)(li,{children:n})]}),(0,De.jsx)("div",{className:"space-y-2",children:(0,De.jsxs)("div",{className:"relative",children:[(0,De.jsx)(er,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400 z-20"}),(0,De.jsx)(Ee,{id:"name",name:"name",type:"text",label:"Full name",value:a.name,onChange:s,className:"pl-10",autoComplete:"name",required:!0})]})}),(0,De.jsx)("div",{className:"space-y-2",children:(0,De.jsxs)("div",{className:"relative",children:[(0,De.jsx)(Sr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400 z-20"}),(0,De.jsx)(Ee,{id:"email",name:"email",type:"email",label:"Email address",value:a.email,onChange:s,className:"pl-10",autoComplete:"email",required:!0})]})}),(0,De.jsxs)("div",{className:"space-y-2",children:[(0,De.jsxs)("div",{className:"relative",children:[(0,De.jsx)(oa,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400 z-20"}),(0,De.jsx)(Ee,{id:"password",name:"password",type:"password",label:"Password",value:a.password,onChange:s,className:"pl-10",autoComplete:"new-password",required:!0})]}),(0,De.jsx)("p",{className:"text-xs text-gray-500",children:"Must be at least 6 characters long"})]}),(0,De.jsx)("div",{className:"space-y-2",children:(0,De.jsxs)("div",{className:"relative",children:[(0,De.jsx)(oa,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400 z-20"}),(0,De.jsx)(Ee,{id:"confirmPassword",name:"confirmPassword",type:"password",label:"Confirm password",value:a.confirmPassword,onChange:s,className:"pl-10",autoComplete:"new-password",required:!0})]})}),(0,De.jsx)("div",{className:"space-y-2",children:(0,De.jsxs)("label",{className:"flex items-start",children:[(0,De.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5",required:!0}),(0,De.jsxs)("span",{className:"ml-2 text-sm text-gray-600",children:["I agree to the"," ",(0,De.jsx)(Kr,{to:"/terms",className:"text-primary hover:text-primary/80",children:"Terms of Service"})," ","and"," ",(0,De.jsx)(Kr,{to:"/privacy",className:"text-primary hover:text-primary/80",children:"Privacy Policy"})]})]})}),(0,De.jsx)(C,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",disabled:l.isLoading,children:l.isLoading?(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)(kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create account"}),(0,De.jsxs)("div",{className:"text-center text-sm",children:[(0,De.jsx)("span",{className:"text-gray-600",children:"Already have an account? "}),(0,De.jsx)(Kr,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})]})})]})]})})}var rl=y(Q(),1);var eo=y(Q(),1);var cd=y(Q(),1);var ie=y(M(),1);function wn({currentPage:e,onPageChange:t}){let[r,a]=(0,cd.useState)(!1),[o,n]=(0,cd.useState)(!1),{user:i,logout:l}=et(),s=bt(),{data:c=[]}=X.workspace.list.useQuery(),d=c[0],{data:u=[],isLoading:m,error:g}=X.user.listWorkspaceMembers.useQuery({workspaceId:d?.id||""},{enabled:!!d?.id,staleTime:5*60*1e3,retry:3,refetchOnWindowFocus:!1}),p=u.length>0?u:[],f=d&&!g,v=[{name:"Dashboard",icon:po,href:"/home",key:"home"},{name:"Workspace",icon:ts,href:"/workspace",key:"workspace"},{name:"Board",icon:mo,href:"/board",key:"board"},{name:"Calendar",icon:Re,href:"/calendar",key:"calendar"},{name:"Chat",icon:_t,href:"/chat",key:"chat"},{name:"Notes",icon:na,href:"/notes",key:"notes"},{name:"Teams",icon:dt,href:"/teams",key:"teams"},{name:"Projects",icon:mo,href:"/projects",key:"projects"},{name:"Contacts",icon:er,href:"/contacts",key:"contacts"}],h=[{name:"Brandkit",icon:Qo,href:"/brandkit.html",key:"brandkit"},{name:"Brandkit 2",icon:Qo,href:"/brandkit-2.html",key:"brandkit2"},{name:"Landing Design System",icon:ep,href:"/design-system-landing.html",key:"landingkit"}],w=_=>_.split(" ").map(O=>O[0]).join("").toUpperCase().substring(0,2),x=()=>{l(),s("/login")};return(0,ie.jsxs)("div",{className:`${r?"w-16":"w-48"} bg-sidebar border-r border-sidebar-border flex flex-col h-full transition-all duration-300`,children:[(0,ie.jsx)("div",{className:"p-4 border-b border-sidebar-border",children:(0,ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ie.jsx)("div",{className:"flex-1",children:(0,ie.jsx)(Or,{size:r?"sm":"md",showText:!r})}),(0,ie.jsx)("button",{onClick:()=>a(!r),className:"p-1 hover:bg-sidebar-accent rounded transition-colors ml-2",title:r?"Expand sidebar":"Collapse sidebar",children:r?(0,ie.jsx)(es,{className:"w-5 h-5 text-sidebar-foreground"}):(0,ie.jsx)(Go,{className:"w-5 h-5 text-sidebar-foreground"})})]})}),(0,ie.jsx)("div",{className:"p-4 border-b border-sidebar-border",children:(0,ie.jsxs)("nav",{className:"space-y-1",children:[v.map(_=>{let O=e===_.key;return(0,ie.jsxs)("button",{onClick:B=>{B.preventDefault(),t(_.key)},className:`w-full flex items-center ${r?"justify-center px-2":"px-3"} py-2 text-sm font-light rounded-lg transition-colors ${O?"bg-krushr-primary text-white font-medium":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"}`,title:r?_.name:void 0,children:[(0,ie.jsx)(_.icon,{className:`w-4 h-4 ${r?"":"mr-3"} ${O?"":"text-sidebar-icon"}`}),!r&&_.name]},_.key)}),(0,ie.jsxs)("div",{children:[(0,ie.jsxs)("button",{onClick:()=>n(!o),className:`w-full flex items-center ${r?"justify-center px-2":"px-3"} py-2 text-sm font-light rounded-lg transition-colors text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground`,title:r?"Design System":void 0,children:[(0,ie.jsx)(Qo,{className:`w-4 h-4 ${r?"":"mr-3"} text-sidebar-icon`}),!r&&(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)("span",{className:"flex-1 text-left",children:"Design System"}),o?(0,ie.jsx)(Zt,{className:"w-4 h-4 text-sidebar-icon"}):(0,ie.jsx)(vr,{className:"w-4 h-4 text-sidebar-icon"})]})]}),o&&!r&&(0,ie.jsx)("div",{className:"ml-6 mt-1 space-y-1",children:h.map(_=>(0,ie.jsxs)("a",{href:_.href,target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center px-3 py-2 text-sm font-light rounded-lg transition-colors text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",children:[(0,ie.jsx)(_.icon,{className:"w-4 h-4 mr-3 text-sidebar-icon"}),_.name]},_.key))})]})]})}),f&&(0,ie.jsxs)("div",{className:`${r?"p-2":"p-4"} border-t border-sidebar-border flex-1`,children:[!r&&(0,ie.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ie.jsxs)("h3",{className:"text-xs font-semibold text-sidebar-foreground/70 uppercase tracking-wide",children:["Team ",m?"...":`(${p.length})`]}),m&&(0,ie.jsx)("div",{className:"w-3 h-3 border border-sidebar-foreground/30 border-t-sidebar-foreground rounded-full animate-spin"})]}),(0,ie.jsxs)("div",{className:`space-y-2 ${r?"flex flex-col items-center":""}`,children:[m&&p.length===0&&(0,ie.jsxs)("div",{className:`flex ${r?"justify-center":"items-center space-x-3"} p-2`,children:[(0,ie.jsx)("div",{className:"w-8 h-8 rounded-full bg-sidebar-accent animate-pulse"}),!r&&(0,ie.jsxs)("div",{className:"flex-1",children:[(0,ie.jsx)("div",{className:"h-3 bg-sidebar-accent rounded animate-pulse mb-1"}),(0,ie.jsx)("div",{className:"h-2 bg-sidebar-accent/60 rounded w-3/4 animate-pulse"})]})]}),p.slice(0,r?6:5).map(_=>(0,ie.jsxs)("div",{className:`group transition-colors cursor-pointer ${r?"flex justify-center mb-1":"flex items-center space-x-3 p-2 rounded-lg hover:bg-sidebar-accent"}`,title:r?`${_.name} (${_.email})`:void 0,children:[(0,ie.jsxs)("div",{className:"relative",children:[(0,ie.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-krushr-primary to-krushr-primary/80 flex items-center justify-center text-white text-xs font-medium group-hover:scale-105 transition-transform",children:w(_.name||"U")}),(0,ie.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-emerald-400 border-2 border-sidebar rounded-full"})]}),!r&&(0,ie.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ie.jsx)("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:_.name}),(0,ie.jsx)("p",{className:"text-xs text-sidebar-foreground/60 truncate",children:_.email.split("@")[0]})]})]},_.id)),p.length>(r?6:5)&&(0,ie.jsx)("div",{className:`${r?"flex justify-center":"text-center pt-2"}`,children:r?(0,ie.jsxs)("div",{className:"w-8 h-8 rounded-full bg-sidebar-accent flex items-center justify-center text-sidebar-foreground text-xs font-medium",title:`+${p.length-6} more members`,children:["+",p.length-6]}):(0,ie.jsxs)("button",{className:"text-xs text-sidebar-foreground/60 hover:text-sidebar-foreground transition-colors",children:["+",p.length-5," more members"]})}),!m&&p.length===0&&!r&&(0,ie.jsx)("div",{className:"text-xs text-sidebar-foreground/60 text-center py-2",children:"No team members yet"})]})]}),!f&&(0,ie.jsx)("div",{className:"flex-1"}),i&&(0,ie.jsx)("div",{className:"p-4 border-t border-sidebar-border",children:r?(0,ie.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,ie.jsxs)(st,{className:"w-8 h-8",title:i.name,children:[(0,ie.jsx)(At,{src:i.avatar}),(0,ie.jsx)(lt,{className:"bg-gradient-to-br from-pink-400 to-red-500 text-white text-xs font-medium",children:w(i.name||"U")})]}),(0,ie.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,ie.jsx)("button",{onClick:()=>s("/settings"),className:"p-1 hover:bg-sidebar-accent rounded transition-colors",title:"Settings",children:(0,ie.jsx)(Pr,{className:"w-4 h-4 text-sidebar-foreground/60"})}),(0,ie.jsx)("button",{onClick:x,className:"p-1 hover:bg-red-100 hover:text-red-600 rounded transition-colors",title:"Logout",children:(0,ie.jsx)(fo,{className:"w-4 h-4 text-sidebar-foreground/60"})})]})]}):(0,ie.jsxs)("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-sidebar-accent transition-colors",children:[(0,ie.jsxs)(st,{className:"w-8 h-8",children:[(0,ie.jsx)(At,{src:i.avatar}),(0,ie.jsx)(lt,{className:"bg-gradient-to-br from-pink-400 to-red-500 text-white text-xs font-medium",children:w(i.name||"U")})]}),(0,ie.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ie.jsx)("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:i.name}),(0,ie.jsx)("p",{className:"text-xs text-sidebar-foreground/60 truncate",children:i.email})]}),(0,ie.jsxs)("div",{className:"flex space-x-1",children:[(0,ie.jsx)("button",{onClick:()=>s("/settings"),className:"p-1 hover:bg-sidebar-accent rounded transition-colors",title:"Settings",children:(0,ie.jsx)(Pr,{className:"w-4 h-4 text-sidebar-foreground/60"})}),(0,ie.jsx)("button",{onClick:x,className:"p-1 hover:bg-red-100 hover:text-red-600 rounded transition-colors",title:"Logout",children:(0,ie.jsx)(fo,{className:"w-4 h-4 text-sidebar-foreground/60"})})]})]})})]})}var Da=y(M(),1);function dd({currentPage:e,onPageChange:t,className:r}){let{notifications:a}=Jt(),o=a.filter(i=>!i.is_read).length,n=[{key:"home",label:"Home",icon:po,href:"/",badge:null},{key:"board",label:"Board",icon:Yi,href:"/board",badge:null},{key:"calendar",label:"Calendar",icon:Re,href:"/calendar",badge:null},{key:"chat",label:"Chat",icon:_t,href:"/chat",badge:o>0?o:null},{key:"notes",label:"Notes",icon:na,href:"/notes",badge:null}];return(0,Da.jsx)("nav",{className:S("fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 md:hidden",r),children:(0,Da.jsx)("div",{className:"grid grid-cols-5 h-16",children:n.map(i=>{let l=i.icon,s=e===i.key;return(0,Da.jsxs)(C,{variant:"ghost",className:S("h-full rounded-none flex flex-col items-center justify-center space-y-1 relative",s&&"text-blue-600 bg-blue-50"),onClick:()=>t(i.key),children:[(0,Da.jsxs)("div",{className:"relative",children:[(0,Da.jsx)(l,{className:S("w-5 h-5",s?"text-blue-600":"text-gray-900/90")}),i.badge&&(0,Da.jsx)(xe,{className:"absolute -top-2 -right-2 h-4 w-4 p-0 flex items-center justify-center text-xs bg-red-500",children:i.badge>9?"9+":i.badge})]}),(0,Da.jsx)("span",{className:S("text-xs font-light",s?"text-blue-600":"text-gray-900/90"),children:i.label})]},i.key)})})})}var gh=y(Q(),1);var bd=y(Q(),1);var Js=y(Q(),1);var Ta=y(Q(),1);var qt=y(Q(),1);var Ja=y(M(),1),ud="rovingFocusGroup.onEntryFocus",p1={bubbles:!1,cancelable:!0},di="RovingFocusGroup",[md,Jg,f1]=us(di),[g1,xn]=Yt(di,[f1]),[h1,v1]=g1(di),Qg=qt.forwardRef((e,t)=>(0,Ja.jsx)(md.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,Ja.jsx)(md.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,Ja.jsx)(b1,{...e,ref:t})})}));Qg.displayName=di;var b1=qt.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:a,loop:o=!1,dir:n,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:s,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=e,m=qt.useRef(null),g=St(t,m),p=nn(n),[f,v]=br({prop:i,defaultProp:l??null,onChange:s,caller:di}),[h,w]=qt.useState(!1),x=en(c),_=Jg(r),O=qt.useRef(!1),[B,E]=qt.useState(0);return qt.useEffect(()=>{let ee=m.current;if(ee)return ee.addEventListener(ud,x),()=>ee.removeEventListener(ud,x)},[x]),(0,Ja.jsx)(h1,{scope:r,orientation:a,dir:p,loop:o,currentTabStopId:f,onItemFocus:qt.useCallback(ee=>v(ee),[v]),onItemShiftTab:qt.useCallback(()=>w(!0),[]),onFocusableItemAdd:qt.useCallback(()=>E(ee=>ee+1),[]),onFocusableItemRemove:qt.useCallback(()=>E(ee=>ee-1),[]),children:(0,Ja.jsx)(Be.div,{tabIndex:h||B===0?-1:0,"data-orientation":a,...u,ref:g,style:{outline:"none",...e.style},onMouseDown:ge(e.onMouseDown,()=>{O.current=!0}),onFocus:ge(e.onFocus,ee=>{let ae=!O.current;if(ee.target===ee.currentTarget&&ae&&!h){let Ae=new CustomEvent(ud,p1);if(ee.currentTarget.dispatchEvent(Ae),!Ae.defaultPrevented){let ze=_().filter(D=>D.focusable),A=ze.find(D=>D.active),L=ze.find(D=>D.id===f),z=[A,L,...ze].filter(Boolean).map(D=>D.ref.current);th(z,d)}}O.current=!1}),onBlur:ge(e.onBlur,()=>w(!1))})})}),Zg="RovingFocusGroupItem",eh=qt.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:a=!0,active:o=!1,tabStopId:n,children:i,...l}=e,s=Lt(),c=n||s,d=v1(Zg,r),u=d.currentTabStopId===c,m=Jg(r),{onFocusableItemAdd:g,onFocusableItemRemove:p,currentTabStopId:f}=d;return qt.useEffect(()=>{if(a)return g(),()=>p()},[a,g,p]),(0,Ja.jsx)(md.ItemSlot,{scope:r,id:c,focusable:a,active:o,children:(0,Ja.jsx)(Be.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ge(e.onMouseDown,v=>{a?d.onItemFocus(c):v.preventDefault()}),onFocus:ge(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:ge(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;let h=x1(v,d.orientation,d.dir);if(h!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let x=m().filter(_=>_.focusable).map(_=>_.ref.current);if(h==="last")x.reverse();else if(h==="prev"||h==="next"){h==="prev"&&x.reverse();let _=x.indexOf(v.currentTarget);x=d.loop?k1(x,_+1):x.slice(_+1)}setTimeout(()=>th(x))}}),children:typeof i=="function"?i({isCurrentTabStop:u,hasTabStop:f!=null}):i})})});eh.displayName=Zg;var y1={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function w1(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function x1(e,t,r){let a=w1(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return y1[a]}function th(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function k1(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var qs=Qg,Vs=eh;var Ea=y(M(),1),Xs="Tabs",[N1,Z4]=Yt(Xs,[xn]),ah=xn(),[C1,pd]=N1(Xs),oh=Ta.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,onValueChange:o,defaultValue:n,orientation:i="horizontal",dir:l,activationMode:s="automatic",...c}=e,d=nn(l),[u,m]=br({prop:a,onChange:o,defaultProp:n??"",caller:Xs});return(0,Ea.jsx)(C1,{scope:r,baseId:Lt(),value:u,onValueChange:m,orientation:i,dir:d,activationMode:s,children:(0,Ea.jsx)(Be.div,{dir:d,"data-orientation":i,...c,ref:t})})});oh.displayName=Xs;var nh="TabsList",ih=Ta.forwardRef((e,t)=>{let{__scopeTabs:r,loop:a=!0,...o}=e,n=pd(nh,r),i=ah(r);return(0,Ea.jsx)(qs,{asChild:!0,...i,orientation:n.orientation,dir:n.dir,loop:a,children:(0,Ea.jsx)(Be.div,{role:"tablist","aria-orientation":n.orientation,...o,ref:t})})});ih.displayName=nh;var sh="TabsTrigger",lh=Ta.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,disabled:o=!1,...n}=e,i=pd(sh,r),l=ah(r),s=uh(i.baseId,a),c=mh(i.baseId,a),d=a===i.value;return(0,Ea.jsx)(Vs,{asChild:!0,...l,focusable:!o,active:d,children:(0,Ea.jsx)(Be.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:s,...n,ref:t,onMouseDown:ge(e.onMouseDown,u=>{!o&&u.button===0&&u.ctrlKey===!1?i.onValueChange(a):u.preventDefault()}),onKeyDown:ge(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&i.onValueChange(a)}),onFocus:ge(e.onFocus,()=>{let u=i.activationMode!=="manual";!d&&!o&&u&&i.onValueChange(a)})})})});lh.displayName=sh;var ch="TabsContent",dh=Ta.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,forceMount:o,children:n,...i}=e,l=pd(ch,r),s=uh(l.baseId,a),c=mh(l.baseId,a),d=a===l.value,u=Ta.useRef(d);return Ta.useEffect(()=>{let m=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(m)},[]),(0,Ea.jsx)(ir,{present:o||d,children:({present:m})=>(0,Ea.jsx)(Be.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":s,hidden:!m,id:c,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:m&&n})})});dh.displayName=ch;function uh(e,t){return`${e}-trigger-${t}`}function mh(e,t){return`${e}-content-${t}`}var ph=oh,fd=ih,gd=lh,hd=dh;var Qs=y(M(),1),fh=ph,vd=Js.forwardRef(({className:e,...t},r)=>(0,Qs.jsx)(fd,{ref:r,className:S("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));vd.displayName=fd.displayName;var kn=Js.forwardRef(({className:e,...t},r)=>(0,Qs.jsx)(gd,{ref:r,className:S("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));kn.displayName=gd.displayName;var S1=Js.forwardRef(({className:e,...t},r)=>(0,Qs.jsx)(hd,{ref:r,className:S("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));S1.displayName=hd.displayName;var de=y(M(),1);function yd({className:e}){let[t,r]=(0,bd.useState)("all"),[a,o]=(0,bd.useState)(""),{notifications:n,markNotificationRead:i}=Jt(),l=n.filter(p=>{let f=!a||p.title.toLowerCase().includes(a.toLowerCase())||p.message.toLowerCase().includes(a.toLowerCase()),v=t==="all"||t==="unread"&&!p.is_read||t==="mentions"&&p.type.includes("mention")||t==="tasks"&&p.type.includes("task");return f&&v}),s=n.filter(p=>!p.is_read).length,c=p=>{switch(p){case"task_assigned":case"task_completed":case"task_updated":return(0,de.jsx)(Cr,{className:"w-4 h-4 text-blue-600"});case"comment_added":case"mention":return(0,de.jsx)(_t,{className:"w-4 h-4 text-purple-600"});case"meeting_scheduled":case"deadline_reminder":return(0,de.jsx)(Re,{className:"w-4 h-4 text-green-600"});case"team_invitation":case"user_invited":return(0,de.jsx)(os,{className:"w-4 h-4 text-indigo-600"});case"file_shared":return(0,de.jsx)(Dt,{className:"w-4 h-4 text-orange-600"});case"system_alert":return(0,de.jsx)(Er,{className:"w-4 h-4 text-red-600"});default:return(0,de.jsx)(nr,{className:"w-4 h-4 text-gray-600"})}},d=p=>{switch(p){case"task_assigned":case"task_completed":case"task_updated":return"border-l-blue-500 bg-blue-50";case"comment_added":case"mention":return"border-l-purple-500 bg-purple-50";case"meeting_scheduled":case"deadline_reminder":return"border-l-green-500 bg-green-50";case"team_invitation":case"user_invited":return"border-l-indigo-500 bg-indigo-50";case"file_shared":return"border-l-orange-500 bg-orange-50";case"system_alert":return"border-l-red-500 bg-red-50";default:return"border-l-gray-300 bg-white"}},u=p=>{i(p)},m=()=>{n.filter(p=>!p.is_read).forEach(p=>i(p.id))},g=p=>p.replace(/_/g," ").replace(/\b\w/g,f=>f.toUpperCase());return(0,de.jsxs)(Oe,{className:S("h-full flex flex-col",e),children:[(0,de.jsxs)(ot,{className:"flex-shrink-0 pb-3",children:[(0,de.jsxs)("div",{className:"flex items-center justify-between",children:[(0,de.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,de.jsx)(Pt,{className:"text-lg font-semibold",children:"Notifications"}),s>0&&(0,de.jsxs)(xe,{variant:"secondary",className:"bg-red-100 text-red-700",children:[s," new"]})]}),(0,de.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,de.jsx)(C,{variant:"ghost",size:"sm",children:(0,de.jsx)(Fa,{className:"w-4 h-4"})}),(0,de.jsx)(C,{variant:"ghost",size:"sm",children:(0,de.jsx)(Pr,{className:"w-4 h-4"})})]})]}),(0,de.jsxs)("div",{className:"relative",children:[(0,de.jsx)(gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,de.jsx)("input",{type:"text",placeholder:"Search notifications...",value:a,onChange:p=>o(p.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]})]}),(0,de.jsx)("div",{className:"flex-shrink-0 px-6",children:(0,de.jsxs)(fh,{value:t,onValueChange:r,children:[(0,de.jsxs)(vd,{className:"grid w-full grid-cols-4",children:[(0,de.jsx)(kn,{value:"all",className:"text-xs",children:"All"}),(0,de.jsxs)(kn,{value:"unread",className:"text-xs",children:["Unread",s>0&&(0,de.jsx)(xe,{variant:"secondary",className:"ml-1 h-4 w-4 p-0 text-xs",children:s>9?"9+":s})]}),(0,de.jsx)(kn,{value:"mentions",className:"text-xs",children:"Mentions"}),(0,de.jsx)(kn,{value:"tasks",className:"text-xs",children:"Tasks"})]}),s>0&&(0,de.jsx)("div",{className:"flex items-center justify-between mt-3",children:(0,de.jsxs)(C,{variant:"ghost",size:"sm",onClick:m,className:"text-blue-600 hover:text-blue-700",children:[(0,de.jsx)(tp,{className:"w-4 h-4 mr-2"}),"Mark all as read"]})})]})}),(0,de.jsx)(ko,{className:"flex-1",children:(0,de.jsx)("div",{className:"p-6 pt-4 space-y-3",children:l.length===0?(0,de.jsxs)("div",{className:"text-center py-12",children:[(0,de.jsx)(nr,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,de.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a?"No matching notifications":"No notifications"}),(0,de.jsx)("p",{className:"text-gray-500",children:a?"Try adjusting your search terms":"You're all caught up! New notifications will appear here."})]}):l.map(p=>(0,de.jsx)("div",{className:S("group p-4 rounded-lg border-l-4 transition-all duration-200 hover:shadow-sm cursor-pointer",p.is_read?"bg-white":d(p.type),!p.is_read&&"shadow-sm"),onClick:()=>!p.is_read&&u(p.id),children:(0,de.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,de.jsx)("div",{className:"flex-shrink-0 mt-1",children:c(p.type)}),(0,de.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,de.jsxs)("div",{className:"flex items-start justify-between",children:[(0,de.jsxs)("div",{className:"flex-1 pr-2",children:[(0,de.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:p.title}),(0,de.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:p.message}),(0,de.jsxs)("div",{className:"flex items-center space-x-3 mt-2",children:[(0,de.jsx)("span",{className:"text-xs text-gray-500",children:un(p.created_at)}),(0,de.jsx)(xe,{variant:"outline",className:"text-xs",children:g(p.type)}),p.sender&&(0,de.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,de.jsxs)(st,{className:"w-4 h-4",children:[(0,de.jsx)(At,{src:p.sender.avatar}),(0,de.jsx)(lt,{className:"text-xs bg-gray-100",children:p.sender.name.split(" ").map(f=>f[0]).join("").toUpperCase()})]}),(0,de.jsx)("span",{className:"text-xs text-gray-500",children:p.sender.name})]})]})]}),(0,de.jsxs)("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[!p.is_read&&(0,de.jsx)(C,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:f=>{f.stopPropagation(),u(p.id)},title:"Mark as read",children:(0,de.jsx)(Oa,{className:"w-3 h-3"})}),(0,de.jsx)(C,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",title:"Open",children:(0,de.jsx)(qi,{className:"w-3 h-3"})}),(0,de.jsx)(C,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",title:"Dismiss",children:(0,de.jsx)(Mt,{className:"w-3 h-3"})})]})]}),!p.is_read&&(0,de.jsx)("div",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-2 h-2 bg-blue-600 rounded-full"})]})]})},p.id))})})]})}var _a=y(M(),1);function Zs({className:e,variant:t="desktop"}){let[r,a]=(0,gh.useState)(!1),{notifications:o}=Jt(),n=o.filter(i=>!i.is_read).length;return(0,_a.jsxs)(Ra,{open:r,onOpenChange:a,children:[(0,_a.jsx)(Sa,{asChild:!0,children:(0,_a.jsxs)(C,{variant:"ghost",size:t==="mobile"?"sm":"default",className:S("relative",t==="mobile"&&"p-2",e),children:[(0,_a.jsx)(nr,{className:S("w-5 h-5")}),n>0&&(0,_a.jsx)(xe,{className:S("absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-xs bg-red-500",t==="mobile"&&"h-4 w-4"),children:n>9?"9+":n})]})}),(0,_a.jsx)(ua,{className:"w-96 p-0",align:"end",side:"bottom",sideOffset:8,children:(0,_a.jsx)(yd,{className:"border-0 shadow-none"})})]})}var mi=y(Q(),1);var ui=y(Q(),1);var Je=y(M(),1);function wd({notification:e,onClose:t,onAction:r,className:a}){let[o,n]=(0,ui.useState)(!1),[i,l]=(0,ui.useState)(!1);(0,ui.useEffect)(()=>{let u=setTimeout(()=>n(!0),100);return()=>clearTimeout(u)},[]);let s=()=>{l(!0),setTimeout(()=>{t()},200)},c=u=>{switch(u){case"task_assigned":case"task_completed":case"task_updated":return(0,Je.jsx)(Cr,{className:"w-5 h-5 text-blue-600"});case"comment_added":case"mention":return(0,Je.jsx)(_t,{className:"w-5 h-5 text-purple-600"});case"meeting_scheduled":case"deadline_reminder":return(0,Je.jsx)(Re,{className:"w-5 h-5 text-green-600"});case"team_invitation":case"user_invited":return(0,Je.jsx)(os,{className:"w-5 h-5 text-indigo-600"});case"file_shared":return(0,Je.jsx)(Dt,{className:"w-5 h-5 text-orange-600"});case"system_alert":return(0,Je.jsx)(Er,{className:"w-5 h-5 text-red-600"});default:return(0,Je.jsx)(nr,{className:"w-5 h-5 text-gray-600"})}};return(0,Je.jsx)(Oe,{className:S("fixed top-4 right-4 w-96 max-w-[calc(100vw-2rem)] shadow-lg border-l-4 z-50 transition-all duration-200",(u=>{switch(u){case"task_assigned":case"task_completed":case"task_updated":return"border-l-blue-500 bg-blue-50";case"comment_added":case"mention":return"border-l-purple-500 bg-purple-50";case"meeting_scheduled":case"deadline_reminder":return"border-l-green-500 bg-green-50";case"team_invitation":case"user_invited":return"border-l-indigo-500 bg-indigo-50";case"file_shared":return"border-l-orange-500 bg-orange-50";case"system_alert":return"border-l-red-500 bg-red-50";default:return"border-l-gray-300 bg-white"}})(e.type),o&&!i?"translate-x-0 opacity-100":"translate-x-full opacity-0",a),children:(0,Je.jsx)("div",{className:"p-4",children:(0,Je.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Je.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:c(e.type)}),(0,Je.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Je.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Je.jsxs)("div",{className:"flex-1 pr-2",children:[(0,Je.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:e.title}),(0,Je.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.message}),(0,Je.jsx)("div",{className:"flex items-center justify-between mt-2",children:(0,Je.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Je.jsx)("span",{className:"text-xs text-gray-500",children:un(e.created_at)}),e.sender&&(0,Je.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Je.jsxs)(st,{className:"w-4 h-4",children:[(0,Je.jsx)(At,{src:e.sender.avatar}),(0,Je.jsx)(lt,{className:"text-xs bg-gray-100",children:e.sender.name.split(" ").map(u=>u[0]).join("").toUpperCase()})]}),(0,Je.jsx)("span",{className:"text-xs text-gray-500",children:e.sender.name})]})]})})]}),(0,Je.jsx)(C,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-gray-400 hover:text-gray-600",onClick:s,children:(0,Je.jsx)(Mt,{className:"w-4 h-4"})})]}),(0,Je.jsxs)("div",{className:"flex items-center space-x-2 mt-3",children:[r&&(0,Je.jsxs)(C,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:r,children:[(0,Je.jsx)(qi,{className:"w-3 h-3 mr-1"}),"View"]}),(0,Je.jsx)(C,{variant:"ghost",size:"sm",className:"h-7 text-xs text-gray-500 hover:text-gray-700",onClick:s,children:"Dismiss"})]})]})]})})})}var el=y(M(),1);function xd(){let[e,t]=(0,mi.useState)([]),{notifications:r,markNotificationRead:a}=Jt();(0,mi.useEffect)(()=>{let l=r.filter(s=>!s.is_read).filter(s=>!e.some(c=>c.id===s.id)).slice(0,3);if(l.length>0){let s=l.map(c=>({...c,toastId:`toast-${c.id}-${Date.now()}`,timestamp:Date.now()}));t(c=>[...c,...s])}},[r,e]),(0,mi.useEffect)(()=>{e.forEach(l=>{let s=setTimeout(()=>{o(l.toastId)},5e3);return()=>clearTimeout(s)})},[e]);let o=l=>{t(s=>s.filter(c=>c.toastId!==l))},n=l=>{a(l.id),o(l.toastId),console.log("Navigate to:",l.type,l.id)},i=l=>{a(l.id),o(l.toastId)};return(0,el.jsx)("div",{className:"fixed top-0 right-0 z-50 p-4 space-y-3 pointer-events-none",children:e.map((l,s)=>(0,el.jsx)("div",{className:"pointer-events-auto",style:{transform:`translateY(${s*10}px)`,zIndex:1e3-s},children:(0,el.jsx)(wd,{notification:l,onClose:()=>i(l),onAction:()=>n(l)})},l.toastId))})}var Za=y(Q(),1);var hh=1,P1=.9,D1=.8,E1=.17,kd=.1,Nd=.999,T1=.9999,_1=.99,M1=/[\\\/_+.#"@\[\(\{&]/,A1=/[\\\/_+.#"@\[\(\{&]/g,I1=/[\s-]/,bh=/[\s-]/g;function Cd(e,t,r,a,o,n,i){if(n===t.length)return o===e.length?hh:_1;var l=`${o},${n}`;if(i[l]!==void 0)return i[l];for(var s=a.charAt(n),c=r.indexOf(s,o),d=0,u,m,g,p;c>=0;)u=Cd(e,t,r,a,c+1,n+1,i),u>d&&(c===o?u*=hh:M1.test(e.charAt(c-1))?(u*=D1,g=e.slice(o,c-1).match(A1),g&&o>0&&(u*=Math.pow(Nd,g.length))):I1.test(e.charAt(c-1))?(u*=P1,p=e.slice(o,c-1).match(bh),p&&o>0&&(u*=Math.pow(Nd,p.length))):(u*=E1,o>0&&(u*=Math.pow(Nd,c-o))),e.charAt(c)!==t.charAt(n)&&(u*=T1)),(u<kd&&r.charAt(c-1)===a.charAt(n+1)||a.charAt(n+1)===a.charAt(n)&&r.charAt(c-1)!==a.charAt(n))&&(m=Cd(e,t,r,a,c+1,n+2,i),m*kd>u&&(u=m*kd)),u>d&&(d=u),c=r.indexOf(s,c+1);return i[l]=d,d}function vh(e){return e.toLowerCase().replace(bh," ")}function yh(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Cd(e,t,vh(e),vh(t),0,0,{})}var se=y(Q(),1);var pi='[cmdk-group=""]',Rd='[cmdk-group-items=""]',L1='[cmdk-group-heading=""]',xh='[cmdk-item=""]',wh=`${xh}:not([aria-disabled="true"])`,Sd="cmdk-item-select",Nn="data-value",O1=(e,t,r)=>yh(e,t,r),kh=se.createContext(void 0),fi=()=>se.useContext(kh),Nh=se.createContext(void 0),Pd=()=>se.useContext(Nh),Ch=se.createContext(void 0),Rh=se.forwardRef((e,t)=>{let r=Cn(()=>{var F,q;return{search:"",value:(q=(F=e.value)!=null?F:e.defaultValue)!=null?q:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=Cn(()=>new Set),o=Cn(()=>new Map),n=Cn(()=>new Map),i=Cn(()=>new Set),l=Sh(e),{label:s,children:c,value:d,onValueChange:u,filter:m,shouldFilter:g,loop:p,disablePointerSelection:f=!1,vimBindings:v=!0,...h}=e,w=Lt(),x=Lt(),_=Lt(),O=se.useRef(null),B=G1();Po(()=>{if(d!==void 0){let F=d.trim();r.current.value=F,E.emit()}},[d]),Po(()=>{B(6,L)},[]);let E=se.useMemo(()=>({subscribe:F=>(i.current.add(F),()=>i.current.delete(F)),snapshot:()=>r.current,setState:(F,q,G)=>{var J,P,k,Z;if(!Object.is(r.current[F],q)){if(r.current[F]=q,F==="search")A(),Ae(),B(1,ze);else if(F==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ne=document.getElementById(_);ne?ne.focus():(J=document.getElementById(w))==null||J.focus()}if(B(7,()=>{var ne;r.current.selectedItemId=(ne=H())==null?void 0:ne.id,E.emit()}),G||B(5,L),((P=l.current)==null?void 0:P.value)!==void 0){let ne=q??"";(Z=(k=l.current).onValueChange)==null||Z.call(k,ne);return}}E.emit()}},emit:()=>{i.current.forEach(F=>F())}}),[]),ee=se.useMemo(()=>({value:(F,q,G)=>{var J;q!==((J=n.current.get(F))==null?void 0:J.value)&&(n.current.set(F,{value:q,keywords:G}),r.current.filtered.items.set(F,ae(q,G)),B(2,()=>{Ae(),E.emit()}))},item:(F,q)=>(a.current.add(F),q&&(o.current.has(q)?o.current.get(q).add(F):o.current.set(q,new Set([F]))),B(3,()=>{A(),Ae(),r.current.value||ze(),E.emit()}),()=>{n.current.delete(F),a.current.delete(F),r.current.filtered.items.delete(F);let G=H();B(4,()=>{A(),G?.getAttribute("id")===F&&ze(),E.emit()})}),group:F=>(o.current.has(F)||o.current.set(F,new Set),()=>{n.current.delete(F),o.current.delete(F)}),filter:()=>l.current.shouldFilter,label:s||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:w,inputId:_,labelId:x,listInnerRef:O}),[]);function ae(F,q){var G,J;let P=(J=(G=l.current)==null?void 0:G.filter)!=null?J:O1;return F?P(F,r.current.search,q):0}function Ae(){if(!r.current.search||l.current.shouldFilter===!1)return;let F=r.current.filtered.items,q=[];r.current.filtered.groups.forEach(J=>{let P=o.current.get(J),k=0;P.forEach(Z=>{let ne=F.get(Z);k=Math.max(ne,k)}),q.push([J,k])});let G=O.current;z().sort((J,P)=>{var k,Z;let ne=J.getAttribute("id"),Ne=P.getAttribute("id");return((k=F.get(Ne))!=null?k:0)-((Z=F.get(ne))!=null?Z:0)}).forEach(J=>{let P=J.closest(Rd);P?P.appendChild(J.parentElement===P?J:J.closest(`${Rd} > *`)):G.appendChild(J.parentElement===G?J:J.closest(`${Rd} > *`))}),q.sort((J,P)=>P[1]-J[1]).forEach(J=>{var P;let k=(P=O.current)==null?void 0:P.querySelector(`${pi}[${Nn}="${encodeURIComponent(J[0])}"]`);k?.parentElement.appendChild(k)})}function ze(){let F=z().find(G=>G.getAttribute("aria-disabled")!=="true"),q=F?.getAttribute(Nn);E.setState("value",q||void 0)}function A(){var F,q,G,J;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=a.current.size;return}r.current.filtered.groups=new Set;let P=0;for(let k of a.current){let Z=(q=(F=n.current.get(k))==null?void 0:F.value)!=null?q:"",ne=(J=(G=n.current.get(k))==null?void 0:G.keywords)!=null?J:[],Ne=ae(Z,ne);r.current.filtered.items.set(k,Ne),Ne>0&&P++}for(let[k,Z]of o.current)for(let ne of Z)if(r.current.filtered.items.get(ne)>0){r.current.filtered.groups.add(k);break}r.current.filtered.count=P}function L(){var F,q,G;let J=H();J&&(((F=J.parentElement)==null?void 0:F.firstChild)===J&&((G=(q=J.closest(pi))==null?void 0:q.querySelector(L1))==null||G.scrollIntoView({block:"nearest"})),J.scrollIntoView({block:"nearest"}))}function H(){var F;return(F=O.current)==null?void 0:F.querySelector(`${xh}[aria-selected="true"]`)}function z(){var F;return Array.from(((F=O.current)==null?void 0:F.querySelectorAll(wh))||[])}function D(F){let q=z()[F];q&&E.setState("value",q.getAttribute(Nn))}function U(F){var q;let G=H(),J=z(),P=J.findIndex(Z=>Z===G),k=J[P+F];(q=l.current)!=null&&q.loop&&(k=P+F<0?J[J.length-1]:P+F===J.length?J[0]:J[P+F]),k&&E.setState("value",k.getAttribute(Nn))}function R(F){let q=H(),G=q?.closest(pi),J;for(;G&&!J;)G=F>0?Y1(G,pi):K1(G,pi),J=G?.querySelector(wh);J?E.setState("value",J.getAttribute(Nn)):U(F)}let T=()=>D(z().length-1),le=F=>{F.preventDefault(),F.metaKey?T():F.altKey?R(1):U(1)},oe=F=>{F.preventDefault(),F.metaKey?D(0):F.altKey?R(-1):U(-1)};return se.createElement(Be.div,{ref:t,tabIndex:-1,...h,"cmdk-root":"",onKeyDown:F=>{var q;(q=h.onKeyDown)==null||q.call(h,F);let G=F.nativeEvent.isComposing||F.keyCode===229;if(!(F.defaultPrevented||G))switch(F.key){case"n":case"j":{v&&F.ctrlKey&&le(F);break}case"ArrowDown":{le(F);break}case"p":case"k":{v&&F.ctrlKey&&oe(F);break}case"ArrowUp":{oe(F);break}case"Home":{F.preventDefault(),D(0);break}case"End":{F.preventDefault(),T();break}case"Enter":{F.preventDefault();let J=H();if(J){let P=new Event(Sd);J.dispatchEvent(P)}}}}},se.createElement("label",{"cmdk-label":"",htmlFor:ee.inputId,id:ee.labelId,style:V1},s),tl(e,F=>se.createElement(Nh.Provider,{value:E},se.createElement(kh.Provider,{value:ee},F))))}),z1=se.forwardRef((e,t)=>{var r,a;let o=Lt(),n=se.useRef(null),i=se.useContext(Ch),l=fi(),s=Sh(e),c=(a=(r=s.current)==null?void 0:r.forceMount)!=null?a:i?.forceMount;Po(()=>{if(!c)return l.item(o,i?.id)},[c]);let d=Ph(o,n,[e.value,e.children,n],e.keywords),u=Pd(),m=Qa(B=>B.value&&B.value===d.current),g=Qa(B=>c||l.filter()===!1?!0:B.search?B.filtered.items.get(o)>0:!0);se.useEffect(()=>{let B=n.current;if(!(!B||e.disabled))return B.addEventListener(Sd,p),()=>B.removeEventListener(Sd,p)},[g,e.onSelect,e.disabled]);function p(){var B,E;f(),(E=(B=s.current).onSelect)==null||E.call(B,d.current)}function f(){u.setState("value",d.current,!0)}if(!g)return null;let{disabled:v,value:h,onSelect:w,forceMount:x,keywords:_,...O}=e;return se.createElement(Be.div,{ref:ra(n,t),...O,id:o,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!m,"data-disabled":!!v,"data-selected":!!m,onPointerMove:v||l.getDisablePointerSelection()?void 0:f,onClick:v?void 0:p},e.children)}),F1=se.forwardRef((e,t)=>{let{heading:r,children:a,forceMount:o,...n}=e,i=Lt(),l=se.useRef(null),s=se.useRef(null),c=Lt(),d=fi(),u=Qa(g=>o||d.filter()===!1?!0:g.search?g.filtered.groups.has(i):!0);Po(()=>d.group(i),[]),Ph(i,l,[e.value,e.heading,s]);let m=se.useMemo(()=>({id:i,forceMount:o}),[o]);return se.createElement(Be.div,{ref:ra(l,t),...n,"cmdk-group":"",role:"presentation",hidden:u?void 0:!0},r&&se.createElement("div",{ref:s,"cmdk-group-heading":"","aria-hidden":!0,id:c},r),tl(e,g=>se.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?c:void 0},se.createElement(Ch.Provider,{value:m},g))))}),B1=se.forwardRef((e,t)=>{let{alwaysRender:r,...a}=e,o=se.useRef(null),n=Qa(i=>!i.search);return!r&&!n?null:se.createElement(Be.div,{ref:ra(o,t),...a,"cmdk-separator":"",role:"separator"})}),H1=se.forwardRef((e,t)=>{let{onValueChange:r,...a}=e,o=e.value!=null,n=Pd(),i=Qa(c=>c.search),l=Qa(c=>c.selectedItemId),s=fi();return se.useEffect(()=>{e.value!=null&&n.setState("search",e.value)},[e.value]),se.createElement(Be.input,{ref:t,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":s.listId,"aria-labelledby":s.labelId,"aria-activedescendant":l,id:s.inputId,type:"text",value:o?e.value:i,onChange:c=>{o||n.setState("search",c.target.value),r?.(c.target.value)}})}),j1=se.forwardRef((e,t)=>{let{children:r,label:a="Suggestions",...o}=e,n=se.useRef(null),i=se.useRef(null),l=Qa(c=>c.selectedItemId),s=fi();return se.useEffect(()=>{if(i.current&&n.current){let c=i.current,d=n.current,u,m=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let g=c.offsetHeight;d.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return m.observe(c),()=>{cancelAnimationFrame(u),m.unobserve(c)}}},[]),se.createElement(Be.div,{ref:ra(n,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":a,id:s.listId},tl(e,c=>se.createElement("div",{ref:ra(i,s.listInnerRef),"cmdk-list-sizer":""},c)))}),U1=se.forwardRef((e,t)=>{let{open:r,onOpenChange:a,overlayClassName:o,contentClassName:n,container:i,...l}=e;return se.createElement(an,{open:r,onOpenChange:a},se.createElement(on,{container:i},se.createElement(vo,{"cmdk-overlay":"",className:o}),se.createElement(bo,{"aria-label":e.label,"cmdk-dialog":"",className:n},se.createElement(Rh,{ref:t,...l}))))}),W1=se.forwardRef((e,t)=>Qa(r=>r.filtered.count===0)?se.createElement(Be.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),$1=se.forwardRef((e,t)=>{let{progress:r,children:a,label:o="Loading...",...n}=e;return se.createElement(Be.div,{ref:t,...n,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},tl(e,i=>se.createElement("div",{"aria-hidden":!0},i)))}),Ct=Object.assign(Rh,{List:j1,Item:z1,Input:H1,Group:F1,Separator:B1,Dialog:U1,Empty:W1,Loading:$1});function Y1(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function K1(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function Sh(e){let t=se.useRef(e);return Po(()=>{t.current=e}),t}var Po=typeof window>"u"?se.useEffect:se.useLayoutEffect;function Cn(e){let t=se.useRef();return t.current===void 0&&(t.current=e()),t}function Qa(e){let t=Pd(),r=()=>e(t.snapshot());return se.useSyncExternalStore(t.subscribe,r,r)}function Ph(e,t,r,a=[]){let o=se.useRef(),n=fi();return Po(()=>{var i;let l=(()=>{var c;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(c=d.current.textContent)==null?void 0:c.trim():o.current}})(),s=a.map(c=>c.trim());n.value(e,l,s),(i=t.current)==null||i.setAttribute(Nn,l),o.current=l}),o}var G1=()=>{let[e,t]=se.useState(),r=Cn(()=>new Map);return Po(()=>{r.current.forEach(a=>a()),r.current=new Map},[e]),(a,o)=>{r.current.set(a,o),t({})}};function q1(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function tl({asChild:e,children:t},r){return e&&se.isValidElement(t)?se.cloneElement(q1(t),{ref:t.ref},r(t.props.children)):r(t)}var V1={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};var Se=y(M(),1);function Dd({open:e,onClose:t}){let r=bt(),a=(0,Za.useRef)(null),[o,n]=(0,Za.useState)(""),[i,l]=(0,Za.useState)(0),{data:s,isLoading:c}=X.search.global.useQuery({query:o},{enabled:o.length>2,debounceMs:300});(0,Za.useEffect)(()=>{e||(n(""),l(0))},[e]),(0,Za.useEffect)(()=>{e&&a.current&&a.current.focus()},[e]);let d=p=>{switch(p){case"task":return(0,Se.jsx)(wp,{className:"w-4 h-4"});case"project":return(0,Se.jsx)(aa,{className:"w-4 h-4"});case"team":return(0,Se.jsx)(dt,{className:"w-4 h-4"});case"workspace":return(0,Se.jsx)(Wn,{className:"w-4 h-4"});case"document":return(0,Se.jsx)(Dt,{className:"w-4 h-4"});case"event":return(0,Se.jsx)(Re,{className:"w-4 h-4"});case"message":return(0,Se.jsx)(Ba,{className:"w-4 h-4"});default:return(0,Se.jsx)(Dt,{className:"w-4 h-4"})}},u=p=>{switch(p){case"task":return"bg-blue-100 text-blue-700";case"project":return"bg-purple-100 text-purple-700";case"team":return"bg-green-100 text-green-700";case"workspace":return"bg-gray-100 text-gray-700";case"document":return"bg-orange-100 text-orange-700";case"event":return"bg-red-100 text-red-700";case"message":return"bg-indigo-100 text-indigo-700";default:return"bg-gray-100 text-gray-700"}},m=p=>{switch(p.type){case"task":r(`/board?task=${p.id}`);break;case"project":r(`/projects/${p.id}`);break;case"team":r(`/teams/${p.id}`);break;case"workspace":r(`/workspaces/${p.id}`);break;default:break}t()},g=[...(s?.tasks||[]).map(p=>({...p,type:"task"})),...(s?.projects||[]).map(p=>({...p,type:"project"})),...(s?.teams||[]).map(p=>({...p,type:"team"})),...(s?.workspaces||[]).map(p=>({...p,type:"workspace"}))];return(0,Se.jsx)(Ir,{open:e,onOpenChange:t,children:(0,Se.jsx)(wr,{className:"max-w-2xl p-0",children:(0,Se.jsxs)(Ct,{className:"rounded-lg shadow-md",children:[(0,Se.jsxs)("div",{className:"flex items-center border-b px-3",children:[(0,Se.jsx)(gt,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,Se.jsx)(Ee,{ref:a,label:"Search everything",value:o,onChange:p=>n(p.target.value),className:"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none disabled:cursor-not-allowed disabled:opacity-50 border-0 focus:ring-0"}),o&&(0,Se.jsx)(C,{variant:"ghost",size:"sm",onClick:()=>n(""),className:"h-6 w-6 p-0",children:(0,Se.jsx)(Mt,{className:"h-4 w-4"})})]}),(0,Se.jsxs)(Ct.List,{className:"max-h-[400px] overflow-y-auto p-2",children:[c&&(0,Se.jsx)("div",{className:"flex items-center justify-center py-6",children:(0,Se.jsx)(kt,{className:"h-6 w-6 animate-spin text-gray-400"})}),!c&&o.length>2&&g.length===0&&(0,Se.jsxs)("div",{className:"py-6 text-center text-sm text-gray-500",children:['No results found for "',o,'"']}),!c&&o.length<=2&&(0,Se.jsx)("div",{className:"py-6 text-center text-sm text-gray-500",children:"Type at least 3 characters to search"}),!c&&g.length>0&&(0,Se.jsxs)(Se.Fragment,{children:[s?.tasks&&s.tasks.length>0&&(0,Se.jsx)(Ct.Group,{heading:"Tasks",children:s.tasks.map((p,f)=>(0,Se.jsxs)(Ct.Item,{value:p.id,onSelect:()=>m({...p,type:"task"}),className:S("flex items-center gap-3 rounded-md px-3 py-2 text-sm cursor-pointer","hover:bg-gray-100",i===f&&"bg-gray-100"),children:[(0,Se.jsx)("div",{className:S("p-1 rounded",u("task")),children:d("task")}),(0,Se.jsxs)("div",{className:"flex-1",children:[(0,Se.jsx)("p",{className:"font-medium",children:p.title}),p.project&&(0,Se.jsxs)("p",{className:"text-xs text-gray-500",children:["in ",p.project.name]})]}),p.status&&(0,Se.jsx)(xe,{variant:"outline",className:"text-xs",children:p.status})]},p.id))}),s?.projects&&s.projects.length>0&&(0,Se.jsx)(Ct.Group,{heading:"Projects",children:s.projects.map(p=>(0,Se.jsxs)(Ct.Item,{value:p.id,onSelect:()=>m({...p,type:"project"}),className:S("flex items-center gap-3 rounded-md px-3 py-2 text-sm cursor-pointer","hover:bg-gray-100"),children:[(0,Se.jsx)("div",{className:S("p-1 rounded",u("project")),children:d("project")}),(0,Se.jsxs)("div",{className:"flex-1",children:[(0,Se.jsx)("p",{className:"font-medium",children:p.name}),p.description&&(0,Se.jsx)("p",{className:"text-xs text-gray-500",children:p.description})]})]},p.id))}),s?.teams&&s.teams.length>0&&(0,Se.jsx)(Ct.Group,{heading:"Teams",children:s.teams.map(p=>(0,Se.jsxs)(Ct.Item,{value:p.id,onSelect:()=>m({...p,type:"team"}),className:S("flex items-center gap-3 rounded-md px-3 py-2 text-sm cursor-pointer","hover:bg-gray-100"),children:[(0,Se.jsx)("div",{className:S("p-1 rounded",u("team")),children:d("team")}),(0,Se.jsxs)("div",{className:"flex-1",children:[(0,Se.jsx)("p",{className:"font-medium",children:p.name}),p._count?.members&&(0,Se.jsxs)("p",{className:"text-xs text-gray-500",children:[p._count.members," members"]})]})]},p.id))})]})]}),(0,Se.jsx)("div",{className:"border-t px-3 py-2",children:(0,Se.jsxs)("p",{className:"text-xs text-gray-500",children:["Press ",(0,Se.jsx)("kbd",{className:"rounded bg-gray-100 px-1",children:"\u2191"})," ",(0,Se.jsx)("kbd",{className:"rounded bg-gray-100 px-1",children:"\u2193"})," to navigate,"," ",(0,Se.jsx)("kbd",{className:"rounded bg-gray-100 px-1",children:"Enter"})," to select,"," ",(0,Se.jsx)("kbd",{className:"rounded bg-gray-100 px-1",children:"Esc"})," to close"]})})]})})})}var we=y(M(),1);function Ed({children:e}){let t=bt(),[r,a]=(0,eo.useState)("home"),[o,n]=(0,eo.useState)(!1),[i,l]=(0,eo.useState)(!1),[s,c]=(0,eo.useState)(!1),{user:d}=et(),u=!0,m=null;(0,eo.useEffect)(()=>{let p=()=>{l(window.innerWidth<768)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),(0,eo.useEffect)(()=>{let p=window.location.pathname.slice(1)||"home";a(p)},[]);let g=p=>{a(p);let f={home:"/home",workspace:"/workspace",board:"/board",calendar:"/calendar",chat:"/chat",notes:"/notes",teams:"/teams",projects:"/projects"};f[p]&&t(f[p])};return(0,we.jsxs)("div",{className:"h-screen flex flex-col bg-gray-50",children:[i&&(0,we.jsxs)("header",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between md:hidden",children:[(0,we.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,we.jsxs)(vs,{open:o,onOpenChange:n,children:[(0,we.jsx)(Lp,{asChild:!0,children:(0,we.jsx)(C,{variant:"ghost",size:"sm",className:"p-2",children:(0,we.jsx)(es,{className:"w-5 h-5"})})}),(0,we.jsx)(bs,{side:"left",className:"w-80 p-0",children:(0,we.jsx)(wn,{currentPage:r,onPageChange:g})})]}),(0,we.jsx)(Or,{size:"md"})]}),(0,we.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,we.jsx)(xe,{variant:u?"default":"outline",className:S("text-xs",u?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-amber-100 text-amber-700 border-amber-300"),children:u?"Live":"Offline"}),(0,we.jsx)(C,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>c(!0),children:(0,we.jsx)(gt,{className:"w-5 h-5"})}),(0,we.jsx)(Zs,{variant:"mobile"}),(0,we.jsxs)(st,{className:"w-8 h-8",children:[(0,we.jsx)(At,{src:d?.avatar}),(0,we.jsx)(lt,{className:"text-xs bg-secondary text-secondary-foreground",children:d?.name?.split(" ").map(p=>p[0]).join("").toUpperCase()||"U"})]})]})]}),!i&&(0,we.jsx)("header",{className:"bg-white/95 backdrop-blur-sm border-b border-border px-6 py-4 hidden md:block",children:(0,we.jsxs)("div",{className:"flex items-center justify-between",children:[(0,we.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,we.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,we.jsx)(Or,{size:"sm",showText:!1}),(0,we.jsx)("h1",{className:"text-xl font-semibold text-foreground",children:m?.name||"Workspace"})]}),(0,we.jsx)(xe,{variant:u?"default":"outline",className:S("text-xs",u?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-amber-100 text-amber-700 border-amber-300"),children:u?"Live":"Connecting..."})]}),(0,we.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,we.jsxs)(C,{variant:"outline",className:"w-64 justify-start text-muted-foreground hover:text-foreground",onClick:()=>c(!0),children:[(0,we.jsx)(gt,{className:"mr-2 h-4 w-4"}),"Search..."]}),(0,we.jsx)(Zs,{variant:"desktop"}),(0,we.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,we.jsxs)(st,{className:"w-8 h-8",children:[(0,we.jsx)(At,{src:d?.avatar}),(0,we.jsx)(lt,{className:"text-xs bg-secondary text-secondary-foreground",children:d?.name?.split(" ").map(p=>p[0]).join("").toUpperCase()||"U"})]}),(0,we.jsxs)("div",{className:"hidden lg:block",children:[(0,we.jsx)("div",{className:"text-sm font-medium text-foreground",children:d?.name||"User"}),(0,we.jsx)("div",{className:"text-xs text-gray-500",children:d?.email||"user@example.com"})]}),(0,we.jsx)(C,{variant:"ghost",size:"sm",children:(0,we.jsx)(Zt,{className:"w-4 h-4"})})]})]})]})}),(0,we.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[!i&&(0,we.jsx)("div",{className:"hidden md:block",children:(0,we.jsx)(wn,{currentPage:r,onPageChange:g})}),(0,we.jsx)("main",{className:S("flex-1 overflow-auto",i&&"pb-16"),children:e})]}),i&&(0,we.jsx)(dd,{currentPage:r,onPageChange:g}),(0,we.jsx)("footer",{className:"bg-gray-900 text-white w-full",children:(0,we.jsx)("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8",children:(0,we.jsxs)("div",{className:"flex flex-col lg:flex-row lg:justify-between items-center gap-4",children:[(0,we.jsx)("div",{className:"text-sm text-gray-400",children:"Copyright \xA9 krushr.io"}),(0,we.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[(0,we.jsx)("a",{href:"/privacy",className:"hover:text-white transition-colors",children:"Privacy"}),(0,we.jsx)("a",{href:"/terms",className:"hover:text-white transition-colors",children:"Terms"}),(0,we.jsx)("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})]})]})})}),(0,we.jsx)(xd,{}),(0,we.jsx)(Dd,{open:s,onClose:()=>c(!1)})]})}var Qe=y(M(),1);function Td({className:e}){let t=[{id:"1",type:"task_completed",user:{id:"1",name:"Sarah Chen",avatar:""},description:"completed task",target:{type:"task",id:"1",name:"Database Migration"},timestamp:new Date(Date.now()-3e5).toISOString(),priority:"high"},{id:"2",type:"comment_added",user:{id:"2",name:"Mike Johnson",avatar:""},description:"added a comment to",target:{type:"task",id:"2",name:"API Documentation"},timestamp:new Date(Date.now()-9e5).toISOString()},{id:"3",type:"task_created",user:{id:"3",name:"Emma Davis",avatar:""},description:"created new task",target:{type:"task",id:"3",name:"User Interface Design"},timestamp:new Date(Date.now()-18e5).toISOString(),priority:"medium"},{id:"4",type:"task_assigned",user:{id:"1",name:"Sarah Chen",avatar:""},description:"assigned task to Alex Kim",target:{type:"task",id:"4",name:"Code Review"},timestamp:new Date(Date.now()-27e5).toISOString()},{id:"5",type:"meeting_scheduled",user:{id:"4",name:"Alex Kim",avatar:""},description:"scheduled a meeting for",target:{type:"project",id:"1",name:"Q1 Planning"},timestamp:new Date(Date.now()-36e5).toISOString()}],r=n=>{switch(n){case"task_completed":return(0,Qe.jsx)(Cr,{className:"w-4 h-4 text-green-600"});case"task_created":return(0,Qe.jsx)(Ie,{className:"w-4 h-4 text-blue-600"});case"task_assigned":return(0,Qe.jsx)(dt,{className:"w-4 h-4 text-purple-600"});case"comment_added":return(0,Qe.jsx)(_t,{className:"w-4 h-4 text-orange-600"});case"file_uploaded":return(0,Qe.jsx)(Dt,{className:"w-4 h-4 text-gray-600"});case"meeting_scheduled":return(0,Qe.jsx)(Re,{className:"w-4 h-4 text-indigo-600"});default:return(0,Qe.jsx)(Yr,{className:"w-4 h-4 text-gray-400"})}},a=n=>{switch(n){case"task_completed":return"bg-green-50 border-green-200";case"task_created":return"bg-blue-50 border-blue-200";case"task_assigned":return"bg-purple-50 border-purple-200";case"comment_added":return"bg-orange-50 border-orange-200";case"file_uploaded":return"bg-gray-50 border-gray-200";case"meeting_scheduled":return"bg-indigo-50 border-indigo-200";default:return"bg-gray-50 border-gray-200"}},o=n=>{let i=new Date,l=new Date(n),s=Math.floor((i.getTime()-l.getTime())/(1e3*60));return s<1?"Just now":s<60?`${s}m ago`:s<1440?`${Math.floor(s/60)}h ago`:`${Math.floor(s/1440)}d ago`};return(0,Qe.jsxs)(Oe,{className:S("h-full flex flex-col",e),children:[(0,Qe.jsx)(ot,{className:"flex-shrink-0 pb-3",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsx)(Pt,{className:"text-lg font-semibold",children:"Recent Activity"}),(0,Qe.jsx)(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,Qe.jsx)(ja,{className:"w-4 h-4"})})]})}),(0,Qe.jsxs)(qe,{className:"flex-1 p-0 overflow-y-auto",children:[(0,Qe.jsx)("div",{className:"space-y-1",children:t.map((n,i)=>(0,Qe.jsx)("div",{className:S("p-4 border-l-4 hover:bg-gray-50 transition-colors cursor-pointer",a(n.type),i===0&&"bg-opacity-50"),children:(0,Qe.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Qe.jsxs)(st,{className:"w-8 h-8 flex-shrink-0",children:[(0,Qe.jsx)(At,{src:n.user.avatar}),(0,Qe.jsx)(lt,{className:"text-xs bg-gray-100",children:n.user.name.split(" ").map(l=>l[0]).join("").toUpperCase()})]}),(0,Qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[r(n.type),(0,Qe.jsx)("span",{className:"text-sm font-medium text-gray-900 truncate",children:n.user.name}),(0,Qe.jsx)("span",{className:"text-xs text-gray-500 flex-shrink-0",children:o(n.timestamp)})]}),(0,Qe.jsxs)("p",{className:"text-sm text-gray-600 leading-relaxed",children:[n.description," ",n.target&&(0,Qe.jsx)("span",{className:"font-medium text-gray-900",children:n.target.name})]}),n.priority&&(0,Qe.jsx)("div",{className:"mt-2",children:(0,Qe.jsxs)(xe,{variant:"outline",className:S("text-xs",n.priority==="high"&&"border-red-200 text-red-700 bg-red-50",n.priority==="medium"&&"border-orange-200 text-orange-700 bg-orange-50",n.priority==="low"&&"border-green-200 text-green-700 bg-green-50"),children:[n.priority," priority"]})})]})]})},n.id))}),(0,Qe.jsx)("div",{className:"p-4 text-center border-t",children:(0,Qe.jsx)(C,{variant:"ghost",size:"sm",className:"text-gray-600 hover:text-gray-900",onClick:()=>console.log("Loading more activity..."),children:"Load more activity"})})]})]})}var Vr=y(M(),1);function _d({className:e}){let t=bt(),r=[{id:"create-task",title:"Create Task",description:"Add a new task to your board",icon:Ie,color:"text-blue-600 bg-blue-50 hover:bg-blue-100",action:()=>{t("/board")}},{id:"schedule-meeting",title:"Schedule Meeting",description:"Set up a team meeting",icon:Re,color:"text-green-600 bg-green-50 hover:bg-green-100",action:()=>{t("/calendar")}},{id:"start-chat",title:"Start Chat",description:"Begin a team conversation",icon:_t,color:"text-purple-600 bg-purple-50 hover:bg-purple-100",action:()=>{t("/chat")}},{id:"create-note",title:"Quick Note",description:"Capture an idea or note",icon:Dt,color:"text-orange-600 bg-orange-50 hover:bg-orange-100",action:()=>{t("/notes")}},{id:"invite-member",title:"Invite Member",description:"Add someone to your team",icon:dt,color:"text-indigo-600 bg-indigo-50 hover:bg-indigo-100",action:()=>{t("/teams")}},{id:"start-call",title:"Start Call",description:"Begin a video call",icon:ns,color:"text-red-600 bg-red-50 hover:bg-red-100",action:()=>{t("/chat")}},{id:"track-time",title:"Track Time",description:"Start time tracking",icon:Yr,color:"text-teal-600 bg-teal-50 hover:bg-teal-100",action:()=>{t("/board")}},{id:"set-goal",title:"Set Goal",description:"Define a new objective",icon:kp,color:"text-pink-600 bg-pink-50 hover:bg-pink-100",action:()=>{t("/projects")}}];return(0,Vr.jsxs)(Oe,{className:S("h-full",e),children:[(0,Vr.jsx)(ot,{className:"pb-3",children:(0,Vr.jsx)(Pt,{className:"text-lg font-semibold",children:"Quick Actions"})}),(0,Vr.jsx)(qe,{className:"grid grid-cols-2 gap-3",children:r.map(a=>{let o=a.icon;return(0,Vr.jsxs)(C,{variant:"ghost",className:S("h-auto p-4 flex flex-col items-center text-center space-y-2 hover:scale-105 transition-all duration-200",a.color),onClick:a.action,children:[(0,Vr.jsx)(o,{className:"w-6 h-6"}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("div",{className:"font-medium text-sm",children:a.title}),(0,Vr.jsx)("div",{className:"text-xs opacity-75",children:a.description})]})]},a.id)})})]})}var Le=y(M(),1);function Md({className:e}){let t=bt(),r=[{id:"1",title:"Complete Dashboard",due_date:"2025-06-27",priority:"high",kanban_column_id:"in-progress"},{id:"2",title:"Review Code",due_date:"2025-06-28",priority:"medium",kanban_column_id:"done"},{id:"3",title:"Update Documentation",due_date:"2025-06-25",priority:"low",kanban_column_id:"todo"},{id:"4",title:"Fix Bug #123",due_date:"2025-06-24",priority:"high",kanban_column_id:"done"}],a=r.length,o=r.filter(m=>m.kanban_column_id.includes("done")||m.kanban_column_id.includes("complete")).length,n=r.filter(m=>m.kanban_column_id.includes("progress")||m.kanban_column_id.includes("review")).length,i=r.filter(m=>m.due_date?new Date(m.due_date)<new Date:!1).length,l=r.filter(m=>{if(!m.due_date)return!1;let g=new Date(m.due_date),p=new Date,f=new Date(p.getTime()+24*60*60*1e3);return g>p&&g<=f}).length,s=a>0?Math.round(o/a*100):0,c=[{label:"Total Tasks",value:a,icon:Cr,color:"text-gray-600",bgColor:"bg-gray-50"},{label:"In Progress",value:n,icon:Yr,color:"text-blue-600",bgColor:"bg-blue-50"},{label:"Completed",value:o,icon:Cr,color:"text-green-600",bgColor:"bg-green-50"},{label:"Overdue",value:i,icon:Er,color:"text-red-600",bgColor:"bg-red-50"}],d=r.filter(m=>m.due_date&&new Date(m.due_date)>new Date).sort((m,g)=>new Date(m.due_date).getTime()-new Date(g.due_date).getTime()).slice(0,3),u=m=>{let g=new Date(m),p=new Date,f=g.getTime()-p.getTime(),v=Math.ceil(f/(1e3*60*60*24));return v===0?"Today":v===1?"Tomorrow":v<7?`${v} days`:g.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return(0,Le.jsxs)(Oe,{className:S("h-full flex flex-col",e),children:[(0,Le.jsx)(ot,{className:"flex-shrink-0 pb-3",children:(0,Le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Le.jsx)(Pt,{className:"text-lg font-semibold",children:"Tasks Overview"}),(0,Le.jsxs)(xe,{variant:"outline",className:"text-green-700 border-green-200 bg-green-50",children:[(0,Le.jsx)(ho,{className:"w-3 h-3 mr-1"}),s,"% Complete"]})]})}),(0,Le.jsxs)(qe,{className:"flex-1 space-y-6",children:[(0,Le.jsx)("div",{className:"grid grid-cols-2 gap-4",children:c.map(m=>{let g=m.icon;return(0,Le.jsxs)("div",{className:S("p-4 rounded-lg border transition-colors hover:shadow-sm",m.bgColor),children:[(0,Le.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Le.jsx)(g,{className:S("w-5 h-5",m.color)}),(0,Le.jsx)("span",{className:S("text-2xl font-bold",m.color),children:m.value})]}),(0,Le.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:m.label})]},m.label)})}),(0,Le.jsxs)("div",{className:"space-y-2",children:[(0,Le.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Le.jsx)("span",{className:"text-gray-600",children:"Overall Progress"}),(0,Le.jsxs)("span",{className:"font-medium",children:[o,"/",a]})]}),(0,Le.jsx)(Ap,{value:s,className:"h-2"})]}),l>0&&(0,Le.jsx)("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:(0,Le.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Le.jsx)(Er,{className:"w-4 h-4 text-orange-600"}),(0,Le.jsxs)("span",{className:"text-sm font-medium text-orange-800",children:[l," task",l>1?"s":""," due within 24 hours"]})]})}),(0,Le.jsxs)("div",{className:"space-y-3",children:[(0,Le.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Upcoming Deadlines"}),d.length===0?(0,Le.jsxs)("div",{className:"text-center py-4 text-gray-500",children:[(0,Le.jsx)(Re,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,Le.jsx)("p",{className:"text-sm",children:"No upcoming deadlines"})]}):(0,Le.jsx)("div",{className:"space-y-2",children:d.map(m=>(0,Le.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:[(0,Le.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Le.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:m.title}),(0,Le.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,Le.jsx)(xe,{variant:"outline",className:S("text-xs",m.priority==="high"&&"border-red-200 text-red-700",m.priority==="medium"&&"border-orange-200 text-orange-700",m.priority==="low"&&"border-green-200 text-green-700"),children:m.priority}),(0,Le.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[(0,Le.jsx)(er,{className:"w-3 h-3"}),(0,Le.jsx)("span",{children:"Assigned"})]})]})]}),(0,Le.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[(0,Le.jsx)(Re,{className:"w-3 h-3"}),(0,Le.jsx)("span",{className:"font-medium",children:u(m.due_date)})]})]},m.id))})]}),(0,Le.jsx)("div",{className:"pt-2 border-t",children:(0,Le.jsxs)(C,{variant:"ghost",className:"w-full justify-between text-gray-600 hover:text-gray-900",onClick:()=>t("/board"),children:["View all tasks",(0,Le.jsx)(jn,{className:"w-4 h-4"})]})})]})]})}var Ke=y(M(),1);function Ad(){let{user:e,isAuthenticated:t}=et(),r=bt(),[a,o]=(0,rl.useState)(!1);(0,rl.useEffect)(()=>{t||r("/login")},[t,r]);let{data:n}=X.notification.list.useQuery({}),{data:i=[]}=X.workspace.list.useQuery(),l=n?.notifications||[],s=i[0],c=l.filter(u=>!u.isRead).length,d=[{title:"Board",icon:Yi,href:"/board",description:"Manage your kanban boards",color:"text-blue-600 bg-blue-50"},{title:"Calendar",icon:Re,href:"/calendar",description:"View deadlines and schedule",color:"text-green-600 bg-green-50"},{title:"Chat",icon:_t,href:"/chat",description:"Team conversations",color:"text-purple-600 bg-purple-50"},{title:"Notes",icon:na,href:"/notes",description:"Capture ideas and knowledge",color:"text-orange-600 bg-orange-50"}];return t?(0,Ke.jsxs)(Ed,{children:[(0,Ke.jsxs)("div",{className:"h-full flex flex-col bg-gray-50",children:[(0,Ke.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-6",children:(0,Ke.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ke.jsxs)("div",{children:[(0,Ke.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",e?.name?.split(" ")[0]||"User","!"]}),(0,Ke.jsx)("p",{className:"text-gray-600 mt-1",children:s?`Working in ${s.name}`:"Here's what's happening today"})]}),(0,Ke.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ke.jsxs)(C,{variant:"ghost",size:"sm",className:"relative",children:[(0,Ke.jsx)(nr,{className:"w-5 h-5"}),c>0&&(0,Ke.jsx)(xe,{className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-xs bg-red-500",children:c>9?"9+":c})]}),(0,Ke.jsxs)(C,{onClick:()=>o(!0),children:[(0,Ke.jsx)(Ie,{className:"w-4 h-4 mr-2"}),"Create Item"]})]})]})}),(0,Ke.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:(0,Ke.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[(0,Ke.jsxs)("div",{className:"space-y-6",children:[(0,Ke.jsxs)(Oe,{children:[(0,Ke.jsx)(ot,{className:"pb-3",children:(0,Ke.jsx)(Pt,{className:"text-lg font-semibold",children:"Quick Navigation"})}),(0,Ke.jsx)(qe,{className:"space-y-2",children:d.map(u=>{let m=u.icon;return(0,Ke.jsxs)(C,{variant:"ghost",className:"w-full justify-between h-auto p-4 hover:bg-gray-50",onClick:()=>{console.log("Button clicked:",u.title,u.href),r(u.href)},children:[(0,Ke.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ke.jsx)("div",{className:`p-2 rounded-lg ${u.color}`,children:(0,Ke.jsx)(m,{className:"w-4 h-4"})}),(0,Ke.jsxs)("div",{className:"text-left",children:[(0,Ke.jsx)("div",{className:"font-medium text-gray-900",children:u.title}),(0,Ke.jsx)("div",{className:"text-xs text-gray-500",children:u.description})]})]}),(0,Ke.jsx)(vr,{className:"w-4 h-4 text-gray-400"})]},u.title)})})]}),(0,Ke.jsx)(_d,{})]}),(0,Ke.jsx)("div",{children:(0,Ke.jsx)(Md,{})}),(0,Ke.jsx)("div",{children:(0,Ke.jsx)(Td,{})})]})})]}),(0,Ke.jsx)(oi,{open:a,onClose:()=>o(!1),onSuccess:(u,m)=>{console.log("Created:",{data:u,type:m}),o(!1)},contentType:"MIXED",workspaceId:s?.id||"demo-workspace",allowContentTypeSwitch:!0,showWorkflowToggles:!0,showFileUploads:!0})]}):null}var hi=y(Q(),1);var al=y(Q(),1);var gi=y(M(),1);function ct({children:e}){let t=bt(),r=Mr(),[a,o]=(0,al.useState)("home");return(0,al.useEffect)(()=>{let i={"/":"home","/home":"home","/workspace":"workspace","/board":"board","/calendar":"calendar","/chat":"chat","/notes":"notes","/teams":"teams","/projects":"projects"},l=r.pathname,s=i[l]||"home";o(s)},[r.pathname]),(0,gi.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,gi.jsx)(wn,{currentPage:a,onPageChange:i=>{console.log("Navigation clicked:",i),o(i);let l={home:"/home",workspace:"/workspace",board:"/board",calendar:"/calendar",chat:"/chat",notes:"/notes",teams:"/teams",projects:"/projects"};console.log("Will navigate to:",l[i]),l[i]?(console.log("Navigating to:",l[i]),t(l[i])):console.log("No route found for page:",i)}}),(0,gi.jsx)("main",{className:"flex-1 overflow-x-visible overflow-y-auto",children:e})]})}var to=y(M(),1);function Id({size:e="md",text:t="Loading...",className:r}){let a={sm:"w-16 h-16",md:"w-20 h-20",lg:"w-24 h-24"},o={sm:"text-sm",md:"text-base",lg:"text-lg"};return(0,to.jsxs)("div",{className:S("flex flex-col items-center justify-center space-y-4",r),children:[(0,to.jsxs)("div",{className:S("relative",a[e]),children:[(0,to.jsx)("div",{className:"absolute inset-0 border-4 border-muted rounded-full border-t-primary animate-spin"}),(0,to.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,to.jsx)("div",{className:"font-bold text-blue-600 text-sm",children:"K"})})]}),(0,to.jsx)("div",{className:S("text-muted-foreground font-medium",o[e]),children:t})]})}var Ld=y(M(),1),X1={plus:Ie,message:_t,calendar:Re,note:Dt,team:dt};function Od({onClick:e,className:t,variant:r="primary",size:a="md",icon:o="plus",tooltip:n}){let i=X1[o],l={sm:"w-12 h-12",md:"w-14 h-14",lg:"w-16 h-16"},s={sm:"w-5 h-5",md:"w-6 h-6",lg:"w-7 h-7"},c={primary:"bg-krushr-secondary hover:bg-krushr-secondary/90 text-white shadow-lg hover:shadow-xl",secondary:"bg-krushr-blue hover:bg-krushr-blue/90 text-white shadow-lg hover:shadow-xl"};return(0,Ld.jsx)(C,{onClick:e,className:S("fixed bottom-6 right-6 rounded-full transition-all duration-200 hover:scale-105 active:scale-95 z-50",l[a],c[r],t),title:n,children:(0,Ld.jsx)(i,{className:s[a]})})}var $e=y(M(),1);function zd(){let{isAuthenticated:e}=et(),[t,r]=(0,hi.useState)(null),[a,o]=(0,hi.useState)(!1),{data:n=[]}=X.workspace.list.useQuery(),i=n[0],{data:l=[],isLoading:s,error:c}=X.kanban.list.useQuery({workspaceId:i?.id||""},{enabled:!!i?.id});if((0,hi.useEffect)(()=>{l.length>0&&!t&&r(l[0].id)},[l,t]),!e)return null;let d=l.find(u=>u.id===t);return s?(0,$e.jsx)(ct,{children:(0,$e.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,$e.jsx)(Id,{text:"Loading your kanban boards..."})})}):c?(0,$e.jsx)(ct,{children:(0,$e.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,$e.jsx)(Oe,{className:"w-full max-w-md",children:(0,$e.jsxs)(qe,{className:"p-6 text-center",children:[(0,$e.jsx)("div",{className:"flex justify-center mb-4",children:(0,$e.jsx)(Or,{size:"md",showText:!1})}),(0,$e.jsx)("p",{className:"text-destructive mb-4",children:c?.message||"An error occurred"}),(0,$e.jsx)(C,{onClick:()=>window.location.reload(),className:"bg-primary",children:"Reload Page"})]})})})}):l.length===0?(0,$e.jsx)(ct,{children:(0,$e.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,$e.jsx)(Oe,{className:"w-full max-w-md",children:(0,$e.jsxs)(qe,{className:"p-8 text-center",children:[(0,$e.jsx)("div",{className:"flex justify-center mb-6",children:(0,$e.jsx)(Or,{size:"lg"})}),(0,$e.jsx)("h3",{className:"text-xl font-semibold mb-3 text-foreground",children:"Welcome to Krushr!"}),(0,$e.jsx)("p",{className:"text-muted-foreground mb-6",children:"Create your first kanban board to start organizing tasks and boosting productivity."}),(0,$e.jsxs)(C,{className:"bg-primary hover:bg-primary/90",children:[(0,$e.jsx)(Ie,{className:"w-4 h-4 mr-2"}),"Create Your First Board"]})]})})})}):(0,$e.jsxs)(ct,{children:[(0,$e.jsxs)("div",{className:"h-full flex flex-col",children:[l.length>1&&(0,$e.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-3",children:(0,$e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$e.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Board:"}),(0,$e.jsx)("div",{className:"flex space-x-2",children:l.map(u=>(0,$e.jsx)(C,{variant:t===u.id?"default":"outline",size:"sm",onClick:()=>r(u.id),children:u.title},u.id))})]})}),(0,$e.jsx)("div",{className:"flex-1",children:d&&i?.id?(0,$e.jsx)(Up,{kanban:{...d,workspaceId:i.id}}):(0,$e.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,$e.jsx)(Oe,{className:"w-full max-w-md",children:(0,$e.jsx)(qe,{className:"p-6 text-center",children:(0,$e.jsx)("p",{className:"text-gray-600",children:d?"Loading workspace...":"Select a kanban board to view tasks."})})})})}),(0,$e.jsx)(Od,{icon:"plus",tooltip:"Create New Task",onClick:()=>o(!0)})]}),a&&i&&(0,$e.jsx)(Xa,{workspaceId:i.id,open:a,onClose:()=>o(!1),onSuccess:()=>{o(!1)}})]})}var Do=y(Q(),1);var me=y(M(),1);function Fd({className:e}){let[t,r]=(0,Do.useState)(new Date),[a,o]=(0,Do.useState)("month"),[n,i]=(0,Do.useState)(null),[l,s]=(0,Do.useState)(!1),{tasks:c}=Jt(),d=(0,Do.useMemo)(()=>{let h=[];c.forEach(x=>{x.due_date&&h.push({id:`task-${x.id}`,title:x.title,type:"task",date:new Date(x.due_date),priority:x.priority,assignees:x.assignees,color:x.priority==="high"?"bg-red-500":x.priority==="medium"?"bg-orange-500":"bg-green-500"})});let w=new Date;return h.push({id:"meeting-1",title:"Team Standup",type:"meeting",date:new Date(w.getFullYear(),w.getMonth(),w.getDate()+1,9,0),time:"9:00 AM",assignees:[{id:"1",name:"Team Lead",avatar:""},{id:"2",name:"Developer",avatar:""}],color:"bg-blue-500"},{id:"milestone-1",title:"Sprint Review",type:"milestone",date:new Date(w.getFullYear(),w.getMonth(),w.getDate()+7),project:"Q1 Development",color:"bg-purple-500"}),h},[c]),m=(()=>{let h=t.getFullYear(),w=t.getMonth(),x=new Date(h,w,1),_=new Date(h,w+1,0),O=new Date(x);O.setDate(O.getDate()-x.getDay());let B=[],E=new Date(O);for(let ee=0;ee<6;ee++){let ae=[];for(let Ae=0;Ae<7;Ae++){let ze=new Date(E),A=d.filter(L=>L.date.toDateString()===ze.toDateString());ae.push({date:new Date(ze),isCurrentMonth:ze.getMonth()===w,isToday:ze.toDateString()===new Date().toDateString(),events:A}),E.setDate(E.getDate()+1)}B.push(ae)}return B})(),g=h=>{let w=new Date(t);w.setMonth(t.getMonth()+(h==="next"?1:-1)),r(w)},p=h=>{switch(h){case"task":return(0,me.jsx)(Cr,{className:"w-3 h-3"});case"meeting":return(0,me.jsx)(dt,{className:"w-3 h-3"});case"deadline":return(0,me.jsx)(Er,{className:"w-3 h-3"});case"milestone":return(0,me.jsx)(Re,{className:"w-3 h-3"});default:return(0,me.jsx)(Yr,{className:"w-3 h-3"})}},f=["January","February","March","April","May","June","July","August","September","October","November","December"],v=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return(0,me.jsxs)(Oe,{className:S("h-full flex flex-col",e),children:[(0,me.jsxs)(ot,{className:"flex-shrink-0 pb-4",children:[(0,me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,me.jsxs)(Pt,{className:"text-xl font-bold",children:[f[t.getMonth()]," ",t.getFullYear()]}),(0,me.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,me.jsx)(C,{variant:"outline",size:"sm",onClick:()=>g("prev"),children:(0,me.jsx)(Go,{className:"w-4 h-4"})}),(0,me.jsx)(C,{variant:"outline",size:"sm",onClick:()=>r(new Date),children:"Today"}),(0,me.jsx)(C,{variant:"outline",size:"sm",onClick:()=>g("next"),children:(0,me.jsx)(vr,{className:"w-4 h-4"})})]})]}),(0,me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,me.jsx)("div",{className:"flex border rounded-lg overflow-hidden",children:["month","week","day"].map(h=>(0,me.jsx)(C,{variant:a===h?"default":"ghost",size:"sm",className:"rounded-none",onClick:()=>o(h),children:h.charAt(0).toUpperCase()+h.slice(1)},h))}),(0,me.jsxs)(C,{variant:"outline",size:"sm",onClick:()=>s(!l),children:[(0,me.jsx)(Fa,{className:"w-4 h-4 mr-2"}),"Filter"]}),(0,me.jsxs)(C,{variant:"outline",size:"sm",children:[(0,me.jsx)(Rr,{className:"w-4 h-4 mr-2"}),"Export"]}),(0,me.jsxs)(C,{size:"sm",children:[(0,me.jsx)(Ie,{className:"w-4 h-4 mr-2"}),"Add Event"]})]})]}),l&&(0,me.jsx)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:(0,me.jsx)("div",{className:"flex items-center space-x-4",children:(0,me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,me.jsx)("span",{className:"text-sm font-medium",children:"Show:"}),(0,me.jsx)(xe,{variant:"outline",className:"cursor-pointer",children:"Tasks"}),(0,me.jsx)(xe,{variant:"outline",className:"cursor-pointer",children:"Meetings"}),(0,me.jsx)(xe,{variant:"outline",className:"cursor-pointer",children:"Deadlines"}),(0,me.jsx)(xe,{variant:"outline",className:"cursor-pointer",children:"Milestones"})]})})})]}),(0,me.jsx)(qe,{className:"flex-1 p-0 overflow-hidden",children:(0,me.jsxs)("div",{className:"h-full flex flex-col",children:[(0,me.jsx)("div",{className:"grid grid-cols-7 border-b bg-gray-50",children:v.map(h=>(0,me.jsx)("div",{className:"p-3 text-center text-sm font-medium text-gray-600",children:h},h))}),(0,me.jsx)("div",{className:"flex-1 overflow-y-auto",children:m.map((h,w)=>(0,me.jsx)("div",{className:"grid grid-cols-7 border-b min-h-[120px]",children:h.map((x,_)=>(0,me.jsxs)("div",{className:S("border-r p-2 cursor-pointer hover:bg-gray-50 transition-colors",!x.isCurrentMonth&&"bg-gray-25 text-gray-400",x.isToday&&"bg-blue-50 border-blue-200",n?.toDateString()===x.date.toDateString()&&"bg-blue-100"),onClick:()=>i(x.date),children:[(0,me.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,me.jsx)("span",{className:S("text-sm font-medium",x.isToday&&"text-blue-600",!x.isCurrentMonth&&"text-gray-400"),children:x.date.getDate()}),x.events.length>3&&(0,me.jsxs)("span",{className:"text-xs text-gray-500",children:["+",x.events.length-3]})]}),(0,me.jsx)("div",{className:"space-y-1",children:x.events.slice(0,3).map(O=>(0,me.jsxs)("div",{className:S("text-xs p-1 rounded text-white truncate flex items-center space-x-1",O.color),title:O.title,children:[p(O.type),(0,me.jsx)("span",{className:"truncate",children:O.title})]},O.id))})]},_))},w))})]})}),n&&(0,me.jsxs)("div",{className:"flex-shrink-0 border-t bg-red-100 p-4",children:[(0,me.jsxs)("h4",{className:"font-medium text-gray-900 mb-2",children:["SELECTED: ",Bp(n.toISOString())]}),(0,me.jsx)("div",{className:"space-y-2",children:d.filter(h=>h.date.toDateString()===n.toDateString()).map(h=>(0,me.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-white rounded border",children:[(0,me.jsx)("div",{className:S("w-3 h-3 rounded-full",h.color)}),(0,me.jsxs)("div",{className:"flex-1",children:[(0,me.jsx)("div",{className:"font-medium text-sm",children:h.title}),h.time&&(0,me.jsx)("div",{className:"text-xs text-gray-500",children:h.time})]}),h.assignees&&(0,me.jsx)("div",{className:"flex -space-x-1",children:h.assignees.slice(0,2).map(w=>(0,me.jsxs)(st,{className:"w-6 h-6 border-2 border-white",children:[(0,me.jsx)(At,{src:w.avatar}),(0,me.jsx)(lt,{className:"text-xs",children:w.name.split(" ").map(x=>x[0]).join("").toUpperCase()})]},w.id))}),(0,me.jsx)(C,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:(0,me.jsx)(ga,{className:"w-3 h-3"})})]},h.id))})]})]})}var ol=y(Q(),1);var J1="https://api.krushr.app",Bd=class{constructor(t){this.token=null;this.baseURL=t,this.token=localStorage.getItem("auth_token")}async request(t,r={}){let a=`${this.baseURL}${t}`,o={headers:{"Content-Type":"application/json",...this.token&&{Authorization:`Bearer ${this.token}`},...r.headers},...r};try{let n=await fetch(a,o),i=await n.json();if(!n.ok)throw new Error(i.message||"API request failed");return i}catch(n){throw console.error("API Error:",n),n}}async login(t,r){let a=await this.request(Ht.LOGIN,{method:"POST",body:JSON.stringify({email:t,password:r})});return a.success&&a.data?.token&&(this.token=a.data.token,localStorage.setItem("auth_token",this.token)),a}async logout(){await this.request(Ht.LOGOUT,{method:"POST"}),this.token=null,localStorage.removeItem("auth_token")}async me(){return this.request(Ht.ME)}async getWorkspaces(){return this.request(Ht.WORKSPACES)}async createWorkspace(t){return this.request(Ht.WORKSPACES,{method:"POST",body:JSON.stringify(t)})}async getTeams(){return this.request(Ht.TEAMS)}async createTeam(t){return this.request(Ht.TEAMS,{method:"POST",body:JSON.stringify(t)})}async getKanbans(){return this.request(Ht.KANBANS)}async getKanban(t){return this.request(`${Ht.KANBANS}/${t}`)}async createKanban(t){return this.request(Ht.KANBANS,{method:"POST",body:JSON.stringify(t)})}async updateKanban(t,r){return this.request(`${Ht.KANBANS}/${t}`,{method:"PUT",body:JSON.stringify(r)})}async getTasks(t){let r=t?`${Ht.TASKS}?kanban_id=${t}`:Ht.TASKS;return this.request(r)}async createTask(t){return this.request(Ht.TASKS,{method:"POST",body:JSON.stringify(t)})}async updateTask(t,r){return this.request(`${Ht.TASKS}/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteTask(t){return this.request(`${Ht.TASKS}/${t}`,{method:"DELETE"})}async getNotifications(){return this.request(Ht.NOTIFICATIONS)}async markNotificationRead(t){return this.request(`${Ht.NOTIFICATIONS}/${t}/read`,{method:"PUT"})}},We=new Bd(J1),HM={login:We.login.bind(We),logout:We.logout.bind(We),me:We.me.bind(We)},jM={list:We.getWorkspaces.bind(We),create:We.createWorkspace.bind(We)},UM={list:We.getTeams.bind(We),create:We.createTeam.bind(We)},WM={list:We.getKanbans.bind(We),get:We.getKanban.bind(We),create:We.createKanban.bind(We),update:We.updateKanban.bind(We)},$M={list:We.getTasks.bind(We),create:We.createTask.bind(We),update:We.updateTask.bind(We),delete:We.deleteTask.bind(We)},YM={list:We.getNotifications.bind(We),markRead:We.markNotificationRead.bind(We)};function Dh(){let{user:e,isAuthenticated:t,connectWebSocket:r,disconnectWebSocket:a,setWorkspaces:o,setKanbans:n,setTasks:i,setNotifications:l,setLoading:s,setError:c}=Jt(),d=(0,ol.useCallback)(async()=>{if(t){s(!0),c(null);try{let[u,m,g,p]=await Promise.all([We.getWorkspaces(),We.getKanbans(),We.getTasks(),We.getNotifications()]);u.success&&u.data&&o(u.data),m.success&&m.data&&n(m.data),g.success&&g.data&&i(g.data),p.success&&p.data&&l(p.data)}catch(u){console.error("Failed to load initial data:",u),c("Failed to load application data")}finally{s(!1)}}},[t,o,n,i,l,s,c]);return(0,ol.useEffect)(()=>(t&&e?(r(),d()):a(),()=>{a()}),[t,e,r,a,d]),{isConnected:Jt(u=>u.websocket.connected),isLoading:Jt(u=>u.loading),error:Jt(u=>u.error)}}var ma=y(M(),1);function Hd(){let{isLoading:e}=Dh();return e?(0,ma.jsx)(ct,{children:(0,ma.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,ma.jsxs)("div",{className:"text-center",children:[(0,ma.jsx)(kt,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,ma.jsx)("p",{className:"text-gray-600",children:"Loading calendar..."})]})})}):(0,ma.jsx)(ct,{children:(0,ma.jsx)("div",{className:"h-full",children:(0,ma.jsx)(Fd,{})})})}var Eh=y(Q(),1);var Ge=y(M(),1),nl=class extends Eh.Component{constructor(r){super(r);this.handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};this.handleGoHome=()=>{window.location.href="/#/workspace"};this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("ErrorBoundary caught an error:",r,a),this.setState({error:r,errorInfo:a}),this.props.onError?.(r,a),console.error("Production error:",{message:r.message,stack:r.stack,componentStack:a.componentStack})}render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;let{level:r="component"}=this.props;return r==="critical"?(0,Ge.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-krushr-gray-50 p-6",children:(0,Ge.jsxs)("div",{className:"text-center max-w-lg",children:[(0,Ge.jsx)("div",{className:"w-20 h-20 bg-krushr-danger-50 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Ge.jsx)(Er,{className:"w-10 h-10 text-krushr-danger"})}),(0,Ge.jsx)("h1",{className:"text-2xl font-brand font-bold text-krushr-gray-900 mb-4",children:"Critical Error"}),(0,Ge.jsx)("p",{className:"text-base font-brand text-krushr-gray-600 mb-6",children:"The application encountered a critical error and needs to be restarted. Your work may not be saved."}),(0,Ge.jsxs)("div",{className:"space-y-3",children:[(0,Ge.jsxs)("button",{onClick:()=>window.location.reload(),className:"w-full bg-krushr-danger text-white px-6 py-3 rounded-button font-medium hover:bg-krushr-danger-600 transition-colors flex items-center justify-center gap-2",children:[(0,Ge.jsx)(ja,{className:"w-5 h-5"}),"Restart Application"]}),(0,Ge.jsxs)("button",{onClick:this.handleGoHome,className:"w-full border border-krushr-gray-300 text-krushr-gray-700 px-6 py-3 rounded-button font-medium hover:bg-krushr-gray-50 transition-colors flex items-center justify-center gap-2",children:[(0,Ge.jsx)(po,{className:"w-5 h-5"}),"Go to Dashboard"]})]})]})}):r==="page"?(0,Ge.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:(0,Ge.jsxs)("div",{className:"text-center max-w-md",children:[(0,Ge.jsx)("div",{className:"w-16 h-16 bg-krushr-warning-50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ge.jsx)(Er,{className:"w-8 h-8 text-krushr-warning"})}),(0,Ge.jsx)("h2",{className:"text-xl font-brand font-semibold text-krushr-gray-800 mb-3",children:"Page Error"}),(0,Ge.jsx)("p",{className:"text-sm font-brand text-krushr-gray-600 mb-4",children:"This page encountered an error, but the rest of the application is still working."}),(0,Ge.jsxs)("div",{className:"space-y-2",children:[(0,Ge.jsxs)("button",{onClick:this.handleRetry,className:"w-full bg-krushr-primary text-white px-4 py-2 rounded-button font-medium hover:bg-krushr-primary-700 transition-colors flex items-center justify-center gap-2",children:[(0,Ge.jsx)(ja,{className:"w-4 h-4"}),"Retry Page"]}),(0,Ge.jsxs)("button",{onClick:this.handleGoHome,className:"w-full border border-krushr-gray-300 text-krushr-gray-700 px-4 py-2 rounded-button font-medium hover:bg-krushr-gray-50 transition-colors flex items-center justify-center gap-2",children:[(0,Ge.jsx)(po,{className:"w-4 h-4"}),"Go to Dashboard"]})]})]})}):(0,Ge.jsx)("div",{className:"flex items-center justify-center min-h-[200px] p-4 bg-krushr-gray-50 rounded-lg border border-krushr-gray-200",children:(0,Ge.jsxs)("div",{className:"text-center max-w-sm",children:[(0,Ge.jsx)("div",{className:"w-12 h-12 bg-krushr-info-50 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Ge.jsx)(Er,{className:"w-6 h-6 text-krushr-info"})}),(0,Ge.jsx)("h3",{className:"text-base font-brand font-medium text-krushr-gray-800 mb-2",children:"Component Error"}),(0,Ge.jsx)("p",{className:"text-sm font-brand text-krushr-gray-600 mb-3",children:"This component failed to load, but other features are still available."}),(0,Ge.jsxs)("button",{onClick:this.handleRetry,className:"bg-krushr-primary text-white px-3 py-1.5 rounded-button text-sm font-medium hover:bg-krushr-primary-700 transition-colors flex items-center justify-center gap-1.5 mx-auto",children:[(0,Ge.jsx)(ja,{className:"w-3 h-3"}),"Retry"]}),!1]})})}return this.props.children}};var Th=({children:e})=>(0,Ge.jsx)(nl,{level:"page",children:e}),_h=({children:e})=>(0,Ge.jsx)(nl,{level:"critical",children:e});var vi=y(M(),1);function jd(){let{currentWorkspace:e}=et();return e?(0,vi.jsx)("div",{className:"h-screen",children:(0,vi.jsx)(Th,{children:(0,vi.jsx)(Wp,{workspaceId:e.id})})}):(0,vi.jsx)("div",{children:"Loading..."})}var xr=y(Q(),1);var Mh=y(Q(),1);var Ah=y(M(),1),Eo=Mh.forwardRef(({className:e,type:t,...r},a)=>(0,Ah.jsx)("input",{type:t,className:S("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));Eo.displayName="Input";var Ye=y(M(),1),Ih=e=>!e||typeof e!="string"?Gl:e.startsWith("image/")?lp:e.startsWith("video/")?cp:e.includes("pdf")||e.includes("document")||e.includes("text")?Dt:e.includes("zip")||e.includes("rar")||e.includes("7z")?sp:Gl,Q1=e=>!e||typeof e!="string"?"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300":e.startsWith("image/")?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":e.startsWith("video/")?"bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300":e.startsWith("audio/")?"bg-pink-100 text-pink-700 dark:bg-pink-900 dark:text-pink-300":e.includes("pdf")?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300":e.includes("document")||e.includes("text")?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":e.includes("zip")||e.includes("rar")?"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300",Lh=e=>{if(e===0)return"0 Bytes";let t=1024,r=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,a)).toFixed(1))+" "+r[a]},Z1=e=>{let t=new Date(e),a=Math.abs(new Date().getTime()-t.getTime()),o=Math.ceil(a/(1e3*60*60*24));return o===1?"Today":o===2?"Yesterday":o<=7?`${o} days ago`:t.toLocaleDateString()},ek=({attachments:e,canDelete:t=!1,onDelete:r,className:a,compact:o=!1})=>{if(e.length===0)return null;let n=s=>{let c=document.createElement("a");c.href=s.downloadUrl,c.download=s.filename,document.body.appendChild(c),c.click(),document.body.removeChild(c)},i=s=>{r&&r(s.id)},l=s=>{if(!s.mimeType){lr.info("Preview not available for this file type");return}s.mimeType.startsWith("image/")||s.mimeType==="application/pdf"?window.open(s.downloadUrl,"_blank"):lr.info("Preview not available for this file type")};return o?(0,Ye.jsx)("div",{className:S("flex flex-wrap gap-2",a),children:e.map(s=>{let c=Ih(s.mimeType),d=s.mimeType&&s.mimeType.startsWith("image/");return(0,Ye.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-50 dark:bg-gray-800 rounded-lg text-sm",children:[d&&s.thumbnailUrl?(0,Ye.jsx)("img",{src:s.thumbnailUrl,alt:s.filename,className:"h-8 w-8 rounded object-cover",onError:u=>{u.currentTarget.style.display="none",u.currentTarget.parentElement?.querySelector(".fallback-icon")?.classList.remove("hidden")}}):null,(0,Ye.jsx)(c,{className:S("h-4 w-4 text-gray-500",d&&s.thumbnailUrl?"hidden fallback-icon":"")}),(0,Ye.jsx)("span",{className:"font-medium truncate max-w-[150px]",children:s.filename}),(0,Ye.jsx)("span",{className:"text-gray-500",children:Lh(s.size)}),s.compressed&&(0,Ye.jsx)(xe,{variant:"secondary",className:"text-xs",children:"Compressed"}),(0,Ye.jsx)(C,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>n(s),title:"Download",children:(0,Ye.jsx)(Rr,{className:"h-3 w-3"})})]},s.id)})}):(0,Ye.jsxs)("div",{className:S("space-y-3",a),children:[(0,Ye.jsxs)("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Attachments (",e.length,")"]}),(0,Ye.jsx)("div",{className:"space-y-2",children:e.map(s=>{let c=Ih(s.mimeType),d=Q1(s.mimeType);return(0,Ye.jsx)(Oe,{className:"p-4",children:(0,Ye.jsxs)("div",{className:"flex items-start gap-3",children:[s.mimeType&&s.mimeType.startsWith("image/")&&s.thumbnailUrl?(0,Ye.jsxs)("div",{className:"relative",children:[(0,Ye.jsx)("img",{src:s.thumbnailUrl,alt:s.filename,className:"w-16 h-16 rounded-lg object-cover",onError:u=>{u.currentTarget.style.display="none";let m=u.currentTarget.parentElement?.querySelector(".thumbnail-fallback");m&&m.classList.remove("hidden")}}),(0,Ye.jsx)("div",{className:S("hidden p-2 rounded-lg w-16 h-16 flex items-center justify-center thumbnail-fallback",d),children:(0,Ye.jsx)(c,{className:"h-5 w-5"})})]}):(0,Ye.jsx)("div",{className:S("p-2 rounded-lg",d),children:(0,Ye.jsx)(c,{className:"h-5 w-5"})}),(0,Ye.jsx)("div",{className:"flex-1 min-w-0",children:(0,Ye.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ye.jsx)("div",{className:"min-w-0 flex-1",children:(0,Ye.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:[s.filename,(0,Ye.jsxs)("span",{className:"text-xs text-gray-500 font-normal ml-2",children:["\u2022 ",Lh(s.size)," \u2022 ",Z1(s.uploadedAt),s.compressed&&(0,Ye.jsxs)(Ye.Fragment,{children:[" ","\u2022 ",(0,Ye.jsx)(xe,{variant:"secondary",className:"text-xs inline",children:"Compressed"})]})]})]})}),(0,Ye.jsxs)("div",{className:"flex items-center gap-1 ml-2",children:[s.mimeType&&(s.mimeType.startsWith("image/")||s.mimeType==="application/pdf")&&(0,Ye.jsx)(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>l(s),title:"Preview",children:(0,Ye.jsx)(Vi,{className:"h-4 w-4"})}),(0,Ye.jsx)(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>n(s),title:"Download",children:(0,Ye.jsx)(Rr,{className:"h-4 w-4"})}),t&&(0,Ye.jsx)(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>i(s),title:"Delete",children:(0,Ye.jsx)(Dr,{className:"h-4 w-4"})})]})]})})]})},s.id)})})]})},Oh=ek;var K=y(M(),1);function Ud({className:e}){let[t,r]=(0,xr.useState)(null),[a,o]=(0,xr.useState)(""),[n,i]=(0,xr.useState)(""),[l,s]=(0,xr.useState)(null),[c,d]=(0,xr.useState)(!1),[u,m]=(0,xr.useState)(!1),g=(0,xr.useRef)(null),p=(0,xr.useRef)(null),f=(0,xr.useRef)(null),{user:v}=Jt(),{connected:h,sendMessage:w}=Fp(),x=[{id:"general",name:"general",type:"team",description:"General team discussion",members:12,isPrivate:!1},{id:"project-alpha",name:"project-alpha",type:"project",description:"Alpha project coordination",members:5,isPrivate:!1,projectId:"alpha-123"},{id:"design-team",name:"design-team",type:"team",description:"Design team collaboration",members:4,isPrivate:!1}],_=[{id:"1",content:"Hey team! Just finished the design mockups for the new dashboard",type:"text",sender:{id:"1",name:"Sarah Chen",avatar:""},timestamp:new Date(Date.now()-30*60*1e3).toISOString(),reactions:[{emoji:"\u{1F44D}",users:["2","3"],count:2},{emoji:"\u{1F389}",users:["4"],count:1}]},{id:"2",content:"Awesome work! Could you share the files?",type:"text",sender:{id:"2",name:"Mike Johnson",avatar:""},timestamp:new Date(Date.now()-25*60*1e3).toISOString(),replyTo:"1"},{id:"3",content:"dashboard-mockups-v2.fig",type:"file",sender:{id:"1",name:"Sarah Chen",avatar:""},timestamp:new Date(Date.now()-20*60*1e3).toISOString(),attachments:[{id:"file-1",name:"dashboard-mockups-v2.fig",size:2458e3,type:"application/figma",url:"#"}]},{id:"4",content:"I've updated the API documentation task with the new endpoints",type:"task_reference",sender:{id:"3",name:"Emma Davis",avatar:""},timestamp:new Date(Date.now()-10*60*1e3).toISOString(),taskReference:{id:"task-123",title:"Update API Documentation",status:"in_progress"}}],O=x.find(A=>A.id===t)||x[0];(0,xr.useEffect)(()=>{!t&&x.length>0&&r(x[0].id)},[t,x]),(0,xr.useEffect)(()=>{let A=p.current?.closest("[data-radix-scroll-area-viewport]");A&&p.current&&(A.scrollTop=A.scrollHeight)},[_]);let B=()=>{if(!a.trim()||!h)return;let A={content:a,channelId:t,replyTo:l,timestamp:new Date().toISOString()};w("chat-message",A),o(""),s(null)},E=()=>{m(!u)},ee=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),B())},ae=(A,L)=>{console.log("Adding reaction:",A,L)},Ae=A=>{if(A===0)return"0 Bytes";let L=1024,H=["Bytes","KB","MB","GB"],z=Math.floor(Math.log(A)/Math.log(L));return parseFloat((A/Math.pow(L,z)).toFixed(2))+" "+H[z]},ze=A=>{switch(A){case"project":return(0,K.jsx)(Wn,{className:"w-4 h-4"});case"team":return(0,K.jsx)(dt,{className:"w-4 h-4"});case"direct":return(0,K.jsx)(st,{className:"w-4 h-4"});default:return(0,K.jsx)(Wn,{className:"w-4 h-4"})}};return(0,K.jsxs)("div",{className:S("h-full flex bg-white",e),children:[(0,K.jsxs)("div",{className:"w-64 border-r border-gray-200 flex flex-col",children:[(0,K.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsx)("h2",{className:"font-semibold text-gray-900",children:"Channels"}),(0,K.jsx)(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,K.jsx)(ga,{className:"w-4 h-4"})})]}),(0,K.jsx)("div",{className:"mt-3",children:(0,K.jsxs)("div",{className:"relative",children:[(0,K.jsx)(gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,K.jsx)(Eo,{placeholder:"Search channels...",value:n,onChange:A=>i(A.target.value),className:"pl-10 h-8"})]})})]}),(0,K.jsx)(ko,{className:"flex-1",children:(0,K.jsx)("div",{className:"p-2 space-y-1",children:x.filter(A=>A.name.toLowerCase().includes(n.toLowerCase())).map(A=>(0,K.jsx)(C,{variant:t===A.id?"secondary":"ghost",className:"w-full justify-start h-auto p-3",onClick:()=>r(A.id),children:(0,K.jsxs)("div",{className:"flex items-center space-x-3 w-full",children:[ze(A.type),(0,K.jsxs)("div",{className:"flex-1 text-left",children:[(0,K.jsxs)("div",{className:"font-medium text-sm",children:["#",A.name]}),(0,K.jsxs)("div",{className:"text-xs text-gray-500 truncate",children:[A.members," members"]})]}),A.isPrivate&&(0,K.jsx)(xe,{variant:"outline",className:"text-xs",children:"Private"})]})},A.id))})})]}),(0,K.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,K.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3",children:[ze(O.type),(0,K.jsxs)("div",{children:[(0,K.jsxs)("h3",{className:"font-semibold text-gray-900",children:["#",O.name]}),(0,K.jsx)("p",{className:"text-sm text-gray-500",children:O.description})]})]}),(0,K.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,K.jsx)(xe,{variant:"outline",className:"text-green-700 border-green-200",children:h?"Connected":"Disconnected"}),(0,K.jsx)(C,{variant:"ghost",size:"sm",children:(0,K.jsx)(fp,{className:"w-4 h-4"})}),(0,K.jsx)(C,{variant:"ghost",size:"sm",children:(0,K.jsx)(ns,{className:"w-4 h-4"})}),(0,K.jsx)(C,{variant:"ghost",size:"sm",children:(0,K.jsx)(ga,{className:"w-4 h-4"})})]})]})}),(0,K.jsx)(ko,{className:"flex-1 p-4",children:(0,K.jsxs)("div",{className:"space-y-4",children:[_.map(A=>(0,K.jsxs)("div",{className:"group",children:[A.replyTo&&(0,K.jsxs)("div",{className:"ml-12 mb-1 text-xs text-gray-500 flex items-center space-x-1",children:[(0,K.jsx)(Jl,{className:"w-3 h-3"}),(0,K.jsx)("span",{children:"Replying to previous message"})]}),(0,K.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,K.jsxs)(st,{className:"w-8 h-8",children:[(0,K.jsx)(At,{src:A.sender.avatar}),(0,K.jsx)(lt,{className:"text-xs",children:A.sender.name.split(" ").map(L=>L[0]).join("").toUpperCase()})]}),(0,K.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,K.jsx)("span",{className:"font-medium text-sm text-gray-900",children:A.sender.name}),(0,K.jsx)("span",{className:"text-xs text-gray-500",children:un(A.timestamp)}),A.editedAt&&(0,K.jsx)(xe,{variant:"outline",className:"text-xs",children:"edited"})]}),A.type==="text"&&(0,K.jsx)("p",{className:"text-sm text-gray-900",children:A.content}),A.attachments&&A.attachments.length>0&&(0,K.jsx)("div",{className:"mt-2",children:(0,K.jsx)(Oh,{attachments:A.attachments,compact:!0,canDelete:!1})}),A.type==="task_reference"&&A.taskReference&&(0,K.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,K.jsx)(xe,{variant:"outline",className:"text-blue-700 border-blue-300",children:"Task"}),(0,K.jsx)("span",{className:"font-medium text-sm",children:A.taskReference.title}),(0,K.jsx)(xe,{variant:"outline",className:S("text-xs",A.taskReference.status==="completed"&&"text-green-700 border-green-300",A.taskReference.status==="in_progress"&&"text-blue-700 border-blue-300",A.taskReference.status==="todo"&&"text-gray-700 border-gray-300"),children:A.taskReference.status.replace("_"," ")})]}),(0,K.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:A.content})]}),A.reactions&&A.reactions.length>0&&(0,K.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[A.reactions.map((L,H)=>(0,K.jsxs)(C,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>ae(A.id,L.emoji),children:[L.emoji," ",L.count]},H)),(0,K.jsx)(C,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>d(!c),children:(0,K.jsx)(Zl,{className:"w-3 h-3"})})]})]}),(0,K.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center space-x-1",children:[(0,K.jsx)(C,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>s(A.id),children:(0,K.jsx)(Jl,{className:"w-3 h-3"})}),(0,K.jsx)(C,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:(0,K.jsx)(gp,{className:"w-3 h-3"})}),A.sender.id===v?.id&&(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(C,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:(0,K.jsx)(Zo,{className:"w-3 h-3"})}),(0,K.jsx)(C,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:(0,K.jsx)(Dr,{className:"w-3 h-3"})})]})]})]})]},A.id)),(0,K.jsx)("div",{ref:p})]})}),(0,K.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[l&&(0,K.jsxs)("div",{className:"mb-2 p-2 bg-gray-50 rounded text-sm text-gray-600 flex items-center justify-between",children:[(0,K.jsx)("span",{children:"Replying to message..."}),(0,K.jsx)(C,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>s(null),children:"\xD7"})]}),(0,K.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,K.jsx)(C,{variant:"ghost",size:"sm",onClick:E,children:(0,K.jsx)(Ha,{className:"w-4 h-4"})}),(0,K.jsx)("div",{className:"flex-1 relative",children:(0,K.jsx)(Ee,{ref:g,label:`Message #${O.name}`,value:a,onChange:A=>o(A.target.value),onKeyPress:ee,disabled:!h})}),(0,K.jsx)(C,{variant:"ghost",size:"sm",onClick:()=>d(!c),children:(0,K.jsx)(Zl,{className:"w-4 h-4"})}),(0,K.jsx)(C,{onClick:B,disabled:!a.trim()||!h,size:"sm",children:(0,K.jsx)(Yn,{className:"w-4 h-4"})})]}),u&&O&&(0,K.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,K.jsx)("h4",{className:"text-sm font-medium",children:"Upload Attachments"}),(0,K.jsx)(C,{variant:"ghost",size:"sm",onClick:()=>m(!1),className:"h-6 w-6 p-0",children:"\xD7"})]}),(0,K.jsx)(jp,{type:"chat",targetId:O.id,onUploadComplete:A=>{console.log("Chat attachments uploaded:",A),m(!1)},className:"mt-2"})]})]})]})]})}var pa=y(M(),1);function Wd(){let{isAuthenticated:e}=et(),{data:t=[],isLoading:r}=X.chat.getThreads.useQuery();return e?r?(0,pa.jsx)(ct,{children:(0,pa.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,pa.jsxs)("div",{className:"text-center",children:[(0,pa.jsx)(kt,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,pa.jsx)("p",{className:"text-gray-600",children:"Loading chat..."})]})})}):(0,pa.jsx)(ct,{children:(0,pa.jsx)("div",{className:"h-full",children:(0,pa.jsx)(Ud,{threads:t})})}):null}var $d=y(Q(),1);var he=y(M(),1);function Yd(){let{isAuthenticated:e,user:t}=et(),[r,a]=(0,$d.useState)(""),[o,n]=(0,$d.useState)("all"),{data:i=[],isLoading:l}=X.team.getAll.useQuery(),{data:s=[]}=X.workspace.getAll.useQuery();if(!e)return null;if(l)return(0,he.jsx)(ct,{children:(0,he.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,he.jsxs)("div",{className:"text-center",children:[(0,he.jsx)(kt,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,he.jsx)("p",{className:"text-gray-600",children:"Loading teams..."})]})})});let d=i.flatMap(g=>g.members?.map(p=>({...p,teamName:g.name,teamId:g.id}))||[]).filter(g=>{let p=g.user?.name?.toLowerCase().includes(r.toLowerCase())||g.user?.email?.toLowerCase().includes(r.toLowerCase()),f=o==="all"||g.teamId===o;return p&&f}),u=g=>{let p=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500","bg-indigo-500"];return p[g%p.length]},m=g=>{let p=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500","bg-indigo-500"];return p[g%p.length]};return(0,he.jsx)(ct,{children:(0,he.jsxs)("div",{className:"h-full flex flex-col",children:[(0,he.jsxs)("div",{className:"bg-white border-b border-gray-200 p-6",children:[(0,he.jsxs)("div",{className:"flex items-center justify-between",children:[(0,he.jsxs)("div",{children:[(0,he.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Teams"}),(0,he.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your team members and collaboration"})]}),(0,he.jsxs)("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,he.jsx)(Ie,{className:"w-4 h-4 mr-2"}),"Add Member"]})]}),(0,he.jsxs)("div",{className:"mt-4 flex items-center space-x-4",children:[(0,he.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,he.jsx)(gt,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400 z-20"}),(0,he.jsx)(Ee,{id:"search",type:"text",label:"Search team members...",value:r,onChange:g=>a(g.target.value),className:"pl-10"})]}),(0,he.jsxs)("select",{value:o,onChange:g=>n(g.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,he.jsx)("option",{value:"all",children:"All Teams"}),i.map(g=>(0,he.jsx)("option",{value:g.id,children:g.name},g.id))]})]})]}),(0,he.jsxs)("div",{className:"flex-1 p-6 overflow-auto",children:[(0,he.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:i.map((g,p)=>(0,he.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,he.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,he.jsx)("div",{className:`w-12 h-12 rounded-lg ${u(p)} flex items-center justify-center`,children:(0,he.jsx)("span",{className:"text-white font-bold text-lg",children:g.name.split(" ").map(f=>f[0]).join("")})}),(0,he.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,he.jsx)(Un,{className:"w-4 h-4"})})]}),(0,he.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:g.name}),(0,he.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:g.description||"No description available"}),(0,he.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,he.jsxs)("span",{className:"text-gray-500",children:[g.members?.length||0," Members"]}),(0,he.jsxs)("span",{className:"text-gray-500",children:[g.projects?.length||0," Projects"]})]})]},g.id))}),(0,he.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,he.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,he.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Team Members"})}),(0,he.jsx)("div",{className:"divide-y divide-gray-200",children:d.length===0?(0,he.jsx)("div",{className:"p-6 text-center text-gray-500",children:"No team members found matching your criteria."}):d.map((g,p)=>(0,he.jsx)("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:(0,he.jsxs)("div",{className:"flex items-center justify-between",children:[(0,he.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,he.jsxs)("div",{className:`w-12 h-12 rounded-full ${m(p)} flex items-center justify-center relative`,children:[g.user?.avatar?(0,he.jsx)("img",{src:g.user.avatar,alt:g.user.name,className:"w-full h-full rounded-full object-cover"}):(0,he.jsx)("span",{className:"text-white font-medium",children:g.user?.name?.split(" ").map(f=>f[0]).join("").slice(0,2)||"U"}),(0,he.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white bg-green-500"})]}),(0,he.jsxs)("div",{children:[(0,he.jsx)("h3",{className:"font-semibold text-gray-900",children:g.user?.name||"Unknown User"}),(0,he.jsx)("p",{className:"text-gray-600 text-sm",children:g.role?.charAt(0).toUpperCase()+g.role?.slice(1)||"Member"}),(0,he.jsx)("div",{className:"flex items-center space-x-4 mt-1",children:(0,he.jsxs)("div",{className:"flex items-center text-gray-500 text-sm",children:[(0,he.jsx)(Sr,{className:"w-3 h-3 mr-1"}),g.user?.email||"No email"]})})]})]}),(0,he.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,he.jsx)("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:g.teamName}),(0,he.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,he.jsx)(Un,{className:"w-4 h-4"})})]})]})},`${g.teamId}-${g.user?.id}`))})]})]})]})})}var Kd=y(Q(),1);var te=y(M(),1);function Gd(){let{isAuthenticated:e}=et(),[t,r]=(0,Kd.useState)(""),[a,o]=(0,Kd.useState)("all"),{data:n=[],isLoading:i}=X.project.getAll.useQuery(),{data:l=[]}=X.team.getAll.useQuery();if(!e)return null;if(i)return(0,te.jsx)(ct,{children:(0,te.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,te.jsxs)("div",{className:"text-center",children:[(0,te.jsx)(kt,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,te.jsx)("p",{className:"text-gray-600",children:"Loading projects..."})]})})});let s=n.filter(m=>{let g=m.name.toLowerCase().includes(t.toLowerCase())||m.description?.toLowerCase().includes(t.toLowerCase()),p=a==="all"||m.status.toLowerCase()===a.toLowerCase();return g&&p}),c=m=>{switch(m.toLowerCase()){case"active":return"bg-green-100 text-green-800";case"planning":return"bg-orange-100 text-orange-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}},d=m=>{let g=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500","bg-indigo-500"];return g[m%g.length]},u=m=>new Date(m).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return(0,te.jsx)(ct,{children:(0,te.jsxs)("div",{className:"h-full flex flex-col",children:[(0,te.jsxs)("div",{className:"bg-white border-b border-gray-200 p-6",children:[(0,te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,te.jsxs)("div",{children:[(0,te.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Projects"}),(0,te.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage and track all your projects"})]}),(0,te.jsxs)("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,te.jsx)(Ie,{className:"w-4 h-4 mr-2"}),"New Project"]})]}),(0,te.jsxs)("div",{className:"mt-4 flex items-center space-x-4",children:[(0,te.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,te.jsx)(gt,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400 z-20"}),(0,te.jsx)(Ee,{id:"search",type:"text",label:"Search projects...",value:t,onChange:m=>r(m.target.value),className:"pl-10"})]}),(0,te.jsxs)("select",{value:a,onChange:m=>o(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,te.jsx)("option",{value:"all",children:"All Status"}),(0,te.jsx)("option",{value:"active",children:"Active"}),(0,te.jsx)("option",{value:"planning",children:"Planning"}),(0,te.jsx)("option",{value:"completed",children:"Completed"})]})]})]}),(0,te.jsxs)("div",{className:"flex-1 p-6 overflow-auto",children:[(0,te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,te.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,te.jsxs)("div",{children:[(0,te.jsx)("p",{className:"text-gray-600 text-sm",children:"Total Projects"}),(0,te.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.length})]}),(0,te.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,te.jsx)(Ko,{className:"w-6 h-6 text-blue-600"})})]})}),(0,te.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,te.jsxs)("div",{children:[(0,te.jsx)("p",{className:"text-gray-600 text-sm",children:"Active Projects"}),(0,te.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(m=>m.status.toLowerCase()==="active").length})]}),(0,te.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,te.jsx)(Ko,{className:"w-6 h-6 text-green-600"})})]})}),(0,te.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,te.jsxs)("div",{children:[(0,te.jsx)("p",{className:"text-gray-600 text-sm",children:"Completed"}),(0,te.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(m=>m.status.toLowerCase()==="completed").length})]}),(0,te.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,te.jsx)(Ko,{className:"w-6 h-6 text-gray-600"})})]})}),(0,te.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,te.jsxs)("div",{children:[(0,te.jsx)("p",{className:"text-gray-600 text-sm",children:"Team Members"}),(0,te.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:l.reduce((m,g)=>m+(g.members?.length||0),0)})]}),(0,te.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,te.jsx)(dt,{className:"w-6 h-6 text-purple-600"})})]})})]}),(0,te.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.length===0?(0,te.jsx)("div",{className:"col-span-full text-center py-12",children:(0,te.jsx)("p",{className:"text-gray-500",children:"No projects found matching your criteria."})}):s.map((m,g)=>(0,te.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[(0,te.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,te.jsx)("div",{className:`w-10 h-10 rounded-lg ${d(g)} flex items-center justify-center`,children:(0,te.jsx)("span",{className:"text-white font-bold text-sm",children:m.name.split(" ").map(p=>p[0]).join("").slice(0,2)})}),(0,te.jsxs)("div",{children:[(0,te.jsx)("h3",{className:"font-semibold text-gray-900",children:m.name}),(0,te.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c(m.status)}`,children:m.status.charAt(0).toUpperCase()+m.status.slice(1)})]})]}),(0,te.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,te.jsx)(Un,{className:"w-4 h-4"})})]}),(0,te.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:m.description}),(0,te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,te.jsx)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:(0,te.jsxs)("div",{className:"flex items-center",children:[(0,te.jsx)(Re,{className:"w-4 h-4 mr-1"}),m.endDate?u(m.endDate):"No due date"]})}),(0,te.jsxs)("div",{className:"flex -space-x-1",children:[m.team?.members?.slice(0,3).map((p,f)=>(0,te.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-400 border-2 border-white flex items-center justify-center",children:(0,te.jsx)("span",{className:"text-white text-xs font-medium",children:p.user?.name?.split(" ").map(v=>v[0]).join("").slice(0,2)||"U"})},f))||(0,te.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-300 border-2 border-white flex items-center justify-center",children:(0,te.jsx)("span",{className:"text-gray-600 text-xs",children:"No team"})}),(m.team?.members?.length||0)>3&&(0,te.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-300 border-2 border-white flex items-center justify-center",children:(0,te.jsxs)("span",{className:"text-gray-600 text-xs",children:["+",(m.team?.members?.length||0)-3]})})]})]})]},m.id))})]})]})})}var ce=y(M(),1);function qd(){let e=[{label:"Tasks Completed",value:"147",color:"bg-green-100 text-green-800"},{label:"Projects Active",value:"8",color:"bg-blue-100 text-blue-800"},{label:"Team Members",value:"12",color:"bg-purple-100 text-purple-800"},{label:"Hours Logged",value:"284",color:"bg-orange-100 text-orange-800"}],t=[{id:1,action:"Completed task",target:"Birthday Cake Planning",time:"2 hours ago",color:"bg-green-500"},{id:2,action:"Added comment to",target:"New MVP Build",time:"4 hours ago",color:"bg-blue-500"},{id:3,action:"Created new project",target:"Website Redesign",time:"1 day ago",color:"bg-purple-500"},{id:4,action:"Assigned task to",target:"Blaine Cottrell",time:"2 days ago",color:"bg-orange-500"}];return(0,ce.jsx)(ct,{children:(0,ce.jsx)("div",{className:"h-full overflow-auto",children:(0,ce.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,ce.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:(0,ce.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ce.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,ce.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,ce.jsx)("span",{className:"text-white text-2xl font-bold",children:"LJ"})}),(0,ce.jsxs)("div",{children:[(0,ce.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Lisa Jackson"}),(0,ce.jsx)("p",{className:"text-gray-600 text-lg",children:"Team Lead & Project Manager"}),(0,ce.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-gray-500",children:[(0,ce.jsxs)("div",{className:"flex items-center",children:[(0,ce.jsx)(Sr,{className:"w-4 h-4 mr-1"}),(0,ce.jsx)("span",{className:"text-sm",children:"lisa.jackson@company.com"})]}),(0,ce.jsxs)("div",{className:"flex items-center",children:[(0,ce.jsx)(mp,{className:"w-4 h-4 mr-1"}),(0,ce.jsx)("span",{className:"text-sm",children:"San Francisco, CA"})]}),(0,ce.jsxs)("div",{className:"flex items-center",children:[(0,ce.jsx)(Re,{className:"w-4 h-4 mr-1"}),(0,ce.jsx)("span",{className:"text-sm",children:"Joined March 2021"})]})]})]})]}),(0,ce.jsxs)("button",{className:"flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,ce.jsx)(pp,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]})}),(0,ce.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,ce.jsxs)("div",{className:"lg:col-span-2",children:[(0,ce.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:[(0,ce.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Overview"}),(0,ce.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.map((r,a)=>(0,ce.jsxs)("div",{className:"text-center",children:[(0,ce.jsx)("div",{className:`mx-auto w-16 h-16 rounded-full ${r.color} flex items-center justify-center mb-2`,children:(0,ce.jsx)("span",{className:"text-xl font-bold",children:r.value})}),(0,ce.jsx)("p",{className:"text-sm text-gray-600",children:r.label})]},a))})]}),(0,ce.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,ce.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ce.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),(0,ce.jsx)(Ko,{className:"w-5 h-5 text-gray-400"})]}),(0,ce.jsx)("div",{className:"space-y-4",children:t.map(r=>(0,ce.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ce.jsx)("div",{className:`w-8 h-8 rounded-full ${r.color} flex items-center justify-center`,children:(0,ce.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})}),(0,ce.jsxs)("div",{className:"flex-1",children:[(0,ce.jsxs)("p",{className:"text-sm text-gray-900",children:[r.action," ",(0,ce.jsx)("span",{className:"font-medium",children:r.target})]}),(0,ce.jsx)("p",{className:"text-xs text-gray-500",children:r.time})]})]},r.id))})]})]}),(0,ce.jsxs)("div",{className:"space-y-6",children:[(0,ce.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,ce.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Skills"}),(0,ce.jsx)("div",{className:"space-y-3",children:[{name:"Project Management",level:95},{name:"Team Leadership",level:90},{name:"Strategic Planning",level:85},{name:"Communication",level:92}].map((r,a)=>(0,ce.jsxs)("div",{children:[(0,ce.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,ce.jsx)("span",{className:"text-sm font-medium text-gray-700",children:r.name}),(0,ce.jsxs)("span",{className:"text-sm text-gray-500",children:[r.level,"%"]})]}),(0,ce.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ce.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${r.level}%`}})})]},a))})]}),(0,ce.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,ce.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Projects"}),(0,ce.jsx)("div",{className:"space-y-3",children:[{name:"Birthday Event Planning",progress:75,color:"bg-blue-500"},{name:"New MVP Development",progress:45,color:"bg-green-500"},{name:"Website Redesign",progress:20,color:"bg-purple-500"}].map((r,a)=>(0,ce.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ce.jsx)("div",{className:`w-3 h-3 rounded-full ${r.color}`}),(0,ce.jsxs)("div",{className:"flex-1",children:[(0,ce.jsx)("p",{className:"text-sm font-medium text-gray-900",children:r.name}),(0,ce.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1 mt-1",children:(0,ce.jsx)("div",{className:`h-1 rounded-full ${r.color}`,style:{width:`${r.progress}%`}})})]}),(0,ce.jsxs)("span",{className:"text-xs text-gray-500",children:[r.progress,"%"]})]},a))})]})]})]})]})})})}var kr=y(Q(),1);var V=y(M(),1);function Vd(){let[e,t]=(0,kr.useState)(null),[r,a]=(0,kr.useState)(null),[o,n]=(0,kr.useState)([]),[i,l]=(0,kr.useState)({name:"",avatar:"",timezone:"",dateFormat:"",language:""}),[s,c]=(0,kr.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[d,u]=(0,kr.useState)(!1),[m,g]=(0,kr.useState)(!1),[p,f]=(0,kr.useState)(!1),[v,h]=(0,kr.useState)(!1),w=X.user.me.useQuery(),x=X.user.getPreferences.useQuery(),_=X.user.getActiveSessions.useQuery(),O=X.user.updateProfile.useMutation(),B=X.user.updatePassword.useMutation(),E=X.user.updatePreferences.useMutation(),ee=X.user.exportData.useMutation(),ae=X.user.revokeSession.useMutation();(0,kr.useEffect)(()=>{w.data&&(t(w.data),l({name:w.data.name||"",avatar:w.data.avatar||"",timezone:w.data.timezone||"UTC",dateFormat:w.data.dateFormat||"MM/DD/YYYY",language:w.data.language||"en"}))},[w.data]),(0,kr.useEffect)(()=>{x.data&&a(x.data)},[x.data]),(0,kr.useEffect)(()=>{_.data&&n(_.data)},[_.data]);let Ae=async D=>{D.preventDefault();try{await O.mutateAsync(i),lr.success("Profile updated successfully"),w.refetch()}catch{lr.error("Failed to update profile")}},ze=async D=>{if(D.preventDefault(),s.newPassword!==s.confirmPassword){lr.error("New passwords do not match");return}try{await B.mutateAsync({currentPassword:s.currentPassword,newPassword:s.newPassword}),lr.success("Password updated successfully"),c({currentPassword:"",newPassword:"",confirmPassword:""})}catch(U){lr.error(U.message||"Failed to update password")}},A=async(D,U)=>{try{await E.mutateAsync({[D]:U}),a({...r,[D]:U}),lr.success("Preference updated")}catch{lr.error("Failed to update preference")}},L=async()=>{try{let D=await ee.mutateAsync(),U=JSON.stringify(D.data,null,2),R="data:application/json;charset=utf-8,"+encodeURIComponent(U),T=`krushr-data-${new Date().toISOString().split("T")[0]}.json`,le=document.createElement("a");le.setAttribute("href",R),le.setAttribute("download",T),document.body.appendChild(le),le.click(),document.body.removeChild(le),lr.success("Data exported successfully")}catch{lr.error("Failed to export data")}},H=async D=>{try{await ae.mutateAsync({sessionId:D}),lr.success("Session revoked"),_.refetch()}catch{lr.error("Failed to revoke session")}};if(w.isLoading||x.isLoading)return(0,V.jsx)(ct,{children:(0,V.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,V.jsxs)("div",{className:"text-center",children:[(0,V.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-krushr-coral-red mx-auto mb-4"}),(0,V.jsx)("p",{className:"text-gray-600",children:"Loading settings..."})]})})});let z=[{title:"Profile Settings",icon:er,settings:[{name:"Personal Information",description:"Update your profile details",type:"link",action:()=>g(!0)},{name:"Change Password",description:"Update your account password",type:"link",action:()=>f(!0)},{name:"Active Sessions",description:"Manage your active sessions",type:"link",action:()=>h(!0)}]},{title:"Notifications",icon:nr,settings:[{name:"Desktop Notifications",description:"Get notified on your desktop",type:"toggle",enabled:r?.desktopNotifications??!0,onChange:D=>A("desktopNotifications",D)},{name:"Email Notifications",description:"Receive notifications via email",type:"toggle",enabled:r?.emailNotifications??!0,onChange:D=>A("emailNotifications",D)},{name:"Task Assignments",description:"Notify me about task assignments",type:"toggle",enabled:r?.notifyTaskAssignments??!0,onChange:D=>A("notifyTaskAssignments",D)},{name:"Comments & Mentions",description:"Notify me about comments and mentions",type:"toggle",enabled:r?.notifyCommentsMentions??!0,onChange:D=>A("notifyCommentsMentions",D)},{name:"Team Invitations",description:"Notify me about team invitations",type:"toggle",enabled:r?.notifyTeamInvitations??!0,onChange:D=>A("notifyTeamInvitations",D)},{name:"Project Deadlines",description:"Notify me about project deadlines",type:"toggle",enabled:r?.notifyProjectDeadlines??!0,onChange:D=>A("notifyProjectDeadlines",D)},{name:"File Uploads",description:"Notify me about file uploads",type:"toggle",enabled:r?.notifyFileUploads??!1,onChange:D=>A("notifyFileUploads",D)}]},{title:"Appearance",icon:Qo,settings:[{name:"Theme",description:"Choose your preferred theme",type:"select",options:["light","dark","system"],value:r?.theme??"system",onChange:D=>A("theme",D)},{name:"Color Scheme",description:"Customize your color preferences",type:"select",options:["blue","green","purple","orange"],value:r?.colorScheme??"blue",onChange:D=>A("colorScheme",D)},{name:"Compact Mode",description:"Use a more compact interface",type:"toggle",enabled:r?.compactMode??!1,onChange:D=>A("compactMode",D)}]},{title:"Security",icon:as,settings:[{name:"Two-Factor Authentication",description:"Add an extra layer of security (Coming Soon)",type:"toggle",enabled:!1,disabled:!0},{name:"Session Management",description:"Manage your active sessions",type:"link",action:()=>h(!0)},{name:"Change Password",description:"Update your account password",type:"link",action:()=>f(!0)}]},{title:"Language & Region",icon:dp,settings:[{name:"Language",description:"Choose your preferred language",type:"select",options:["en","es","fr","de"],optionLabels:["English","Spanish","French","German"],value:e?.language??"en",onChange:D=>l({...i,language:D})},{name:"Timezone",description:"Set your local timezone",type:"select",options:["UTC-8","UTC-5","UTC+0","UTC+1"],optionLabels:["UTC-8 (PST)","UTC-5 (EST)","UTC+0 (GMT)","UTC+1 (CET)"],value:e?.timezone??"UTC",onChange:D=>l({...i,timezone:D})},{name:"Date Format",description:"Choose how dates are displayed",type:"select",options:["MM/DD/YYYY","DD/MM/YYYY","YYYY-MM-DD"],value:e?.dateFormat??"MM/DD/YYYY",onChange:D=>l({...i,dateFormat:D})}]}];return(0,V.jsx)(ct,{children:(0,V.jsxs)("div",{className:"h-full overflow-auto",children:[(0,V.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,V.jsxs)("div",{className:"mb-8",children:[(0,V.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),(0,V.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your account settings and preferences"})]}),(0,V.jsx)("div",{className:"space-y-8",children:z.map((D,U)=>(0,V.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,V.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,V.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,V.jsx)("div",{className:"w-10 h-10 bg-red-50 rounded-lg flex items-center justify-center",children:(0,V.jsx)(D.icon,{className:"w-5 h-5 text-krushr-coral-red"})}),(0,V.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:D.title})]})}),(0,V.jsx)("div",{className:"divide-y divide-gray-200",children:D.settings.map((R,T)=>(0,V.jsxs)("div",{className:"p-6 flex items-center justify-between",children:[(0,V.jsxs)("div",{className:"flex-1",children:[(0,V.jsx)("h3",{className:"font-medium text-gray-900",children:R.name}),(0,V.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:R.description})]}),(0,V.jsxs)("div",{className:"ml-6",children:[R.type==="toggle"&&(0,V.jsx)("button",{disabled:R.disabled,onClick:()=>R.onChange&&R.onChange(!R.enabled),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${R.enabled?"bg-krushr-coral-red":"bg-gray-200"} ${R.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:(0,V.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${R.enabled?"translate-x-6":"translate-x-1"}`})}),R.type==="select"&&R.options&&(0,V.jsx)("select",{value:R.value||R.options[0],onChange:le=>R.onChange&&R.onChange(le.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-krushr-coral-red focus:border-krushr-coral-red",children:R.options.map((le,oe)=>(0,V.jsx)("option",{value:le,children:R.optionLabels?R.optionLabels[oe]:le.charAt(0).toUpperCase()+le.slice(1)},oe))}),R.type==="link"&&(0,V.jsx)("button",{onClick:()=>R.action&&R.action(),className:"text-krushr-coral-red hover:text-krushr-coral-red/80 font-medium",children:"Configure"})]})]},T))})]},U))}),(0,V.jsxs)("div",{className:"mt-8 bg-white rounded-lg border border-red-200",children:[(0,V.jsxs)("div",{className:"p-6 border-b border-red-200",children:[(0,V.jsx)("h2",{className:"text-lg font-semibold text-red-900",children:"Danger Zone"}),(0,V.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"These actions are irreversible"})]}),(0,V.jsxs)("div",{className:"p-6 space-y-4",children:[(0,V.jsxs)("div",{className:"flex items-center justify-between",children:[(0,V.jsxs)("div",{children:[(0,V.jsx)("h3",{className:"font-medium text-gray-900",children:"Export Data"}),(0,V.jsx)("p",{className:"text-sm text-gray-600",children:"Download a copy of all your data"})]}),(0,V.jsxs)("button",{onClick:L,disabled:ee.isLoading,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[(0,V.jsx)(Rr,{className:"w-4 h-4"}),(0,V.jsx)("span",{children:ee.isLoading?"Exporting...":"Export"})]})]}),(0,V.jsxs)("div",{className:"flex items-center justify-between",children:[(0,V.jsxs)("div",{children:[(0,V.jsx)("h3",{className:"font-medium text-gray-900",children:"Delete Account"}),(0,V.jsx)("p",{className:"text-sm text-gray-600",children:"Permanently delete your account and all data"})]}),(0,V.jsx)("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Account"})]})]})]})]}),m&&(0,V.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,V.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,V.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Update Profile"}),(0,V.jsxs)("form",{onSubmit:Ae,className:"space-y-4",children:[(0,V.jsx)("div",{children:(0,V.jsx)(Ee,{type:"text",value:i.name,onChange:D=>l({...i,name:D.target.value}),label:"Name",required:!0})}),(0,V.jsx)("div",{children:(0,V.jsx)(Ee,{type:"url",value:i.avatar,onChange:D=>l({...i,avatar:D.target.value}),label:"Avatar URL (Optional)"})}),(0,V.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,V.jsx)("button",{type:"submit",disabled:O.isLoading,className:"flex-1 bg-krushr-coral-red text-white py-2 px-4 rounded-lg hover:bg-krushr-coral-red/90 disabled:opacity-50",children:O.isLoading?"Saving...":"Save Changes"}),(0,V.jsx)("button",{type:"button",onClick:()=>g(!1),className:"flex-1 bg-gray-200 text-gray-900 py-2 px-4 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]})]})}),p&&(0,V.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,V.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,V.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Change Password"}),(0,V.jsxs)("form",{onSubmit:ze,className:"space-y-4",children:[(0,V.jsx)("div",{children:(0,V.jsxs)("div",{className:"relative",children:[(0,V.jsx)(Ee,{type:d?"text":"password",value:s.currentPassword,onChange:D=>c({...s,currentPassword:D.target.value}),label:"Current Password",className:"pr-10",required:!0}),(0,V.jsx)("button",{type:"button",onClick:()=>u(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center z-20",children:d?(0,V.jsx)(ip,{className:"h-4 w-4 text-gray-400"}):(0,V.jsx)(Vi,{className:"h-4 w-4 text-gray-400"})})]})}),(0,V.jsx)("div",{children:(0,V.jsx)(Ee,{type:d?"text":"password",value:s.newPassword,onChange:D=>c({...s,newPassword:D.target.value}),label:"New Password",minLength:6,required:!0})}),(0,V.jsx)("div",{children:(0,V.jsx)(Ee,{type:d?"text":"password",value:s.confirmPassword,onChange:D=>c({...s,confirmPassword:D.target.value}),label:"Confirm New Password",minLength:6,required:!0})}),(0,V.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,V.jsx)("button",{type:"submit",disabled:B.isLoading,className:"flex-1 bg-krushr-coral-red text-white py-2 px-4 rounded-lg hover:bg-krushr-coral-red/90 disabled:opacity-50",children:B.isLoading?"Updating...":"Update Password"}),(0,V.jsx)("button",{type:"button",onClick:()=>{f(!1),c({currentPassword:"",newPassword:"",confirmPassword:""})},className:"flex-1 bg-gray-200 text-gray-900 py-2 px-4 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]})]})}),v&&(0,V.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,V.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6",children:[(0,V.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Active Sessions"}),(0,V.jsxs)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[o.map(D=>(0,V.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,V.jsxs)("div",{className:"flex-1",children:[(0,V.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,V.jsx)("p",{className:"font-medium",children:D.isCurrent?"Current Session":"Session"}),D.isCurrent&&(0,V.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:"Current"})]}),(0,V.jsxs)("p",{className:"text-sm text-gray-600",children:["Created: ",new Date(D.createdAt).toLocaleString()]}),(0,V.jsxs)("p",{className:"text-sm text-gray-600",children:["Expires: ",new Date(D.expiresAt).toLocaleString()]})]}),!D.isCurrent&&(0,V.jsx)("button",{onClick:()=>H(D.id),className:"px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm font-medium",children:"Revoke"})]},D.id)),o.length===0&&(0,V.jsx)("p",{className:"text-center text-gray-500 py-8",children:"No active sessions found"})]}),(0,V.jsx)("div",{className:"flex justify-end pt-4",children:(0,V.jsx)("button",{onClick:()=>h(!1),className:"bg-gray-200 text-gray-900 py-2 px-4 rounded-lg hover:bg-gray-300",children:"Close"})})]})})]})})}var ye=y(M(),1),tk=()=>{let e=[{name:"Free",description:"Ideal for individuals, or a quick test drive",price:"$0",period:"mo",features:["Unlimited customizable panels","Basic ChatGPT integration","Google & Outlook calendars","Up to 3 workspaces","Basic task management"],buttonText:"Start Free",buttonClass:"bg-gray-100 text-gray-900 hover:bg-gray-200",popular:!1},{name:"Lite",description:"Put your full productivity stack on one page",price:"$39",originalPrice:"$49",period:"mo",savings:"Save $10/mo",features:["250 Automations/month","1 Connected email & calendar account","Unlimited panels","Customizable layout","Unlimited contacts","Unlimited teams"],buttonText:"Start Now",buttonClass:"bg-figma-secondary text-white hover:bg-red-600",popular:!1},{name:"Full Suite",description:"Everything + your tailored o1 model, OpenAI's most advanced model",price:"$49",originalPrice:"$99",period:"mo",savings:"Save $50/mo",features:["ChatGPT o1 precise user style model","750 Automations/month","2 Connected email & calendar accounts","Unlimited panels","Customizable layout","Unlimited contacts","Unlimited teams","40% beta discount (through 2025)"],buttonText:"Start Now",buttonClass:"bg-figma-primary text-white hover:bg-blue-800",popular:!0}],t=[{icon:va,title:"Latest AI Technology",description:"Powered by OpenAI's most advanced o1 model, delivering human-like reasoning for your workflows."},{icon:as,title:"Enterprise Security",description:"Bank-level encryption, SOC 2 compliance, and complete data privacy. Your information stays yours."},{icon:Re,title:"Massive Time Savings",description:"Save 15+ hours per week by consolidating all your work tools into one intelligent workspace."}],r=[{question:"Can I upgrade or downgrade anytime?",answer:"Yes! You can change your plan at any time. Upgrades take effect immediately, and downgrades take effect at your next billing cycle."},{question:"What's included in the free trial?",answer:"The Free plan is completely free forever. The Full Suite plan includes a 14-day free trial with full access to all premium features."},{question:"How does the early bird pricing work?",answer:"The Full Suite includes a special beta discount. This pricing is designed to provide maximum value as we continue to enhance our AI capabilities."},{question:"Do you offer refunds?",answer:"Yes, we offer a 30-day money-back guarantee. If you're not satisfied, contact our support team for a full refund."}];return(0,ye.jsxs)("div",{className:"min-h-screen bg-white font-manrope",children:[(0,ye.jsx)("div",{className:"bg-figma-gray-bg-light py-20 px-4",children:(0,ye.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,ye.jsxs)("div",{className:"text-center mb-16",children:[(0,ye.jsx)("p",{className:"text-figma-primary font-medium mb-4",children:"2025 Pricing"}),(0,ye.jsx)("h1",{className:"text-5xl font-bold text-figma-black mb-6",children:"Choose Your AI Productivity Plan"}),(0,ye.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,ye.jsx)("p",{className:"text-lg text-figma-gray mb-0",children:"Start free and upgrade when you're ready to unlock the full power of AI-driven productivity. No hidden fees, cancel anytime."})})]}),(0,ye.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,ye.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((a,o)=>(0,ye.jsxs)("div",{className:`relative bg-white rounded-2xl shadow-lg p-8 ${a.popular?"ring-2 ring-figma-primary transform scale-105":""}`,children:[a.popular&&(0,ye.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:(0,ye.jsx)("span",{className:"bg-figma-primary text-white px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"})}),(0,ye.jsxs)("div",{className:"mb-6",children:[(0,ye.jsx)("h3",{className:"text-2xl font-bold text-figma-black mb-2",children:a.name}),(0,ye.jsx)("p",{className:"text-figma-gray",children:a.description})]}),(0,ye.jsx)("div",{className:"border-t border-figma-gray-border pt-6 mb-6",children:(0,ye.jsx)("div",{className:"flex flex-col mb-6",children:a.features.map((n,i)=>(0,ye.jsxs)("div",{className:"flex items-start mb-3",children:[(0,ye.jsx)(Oa,{className:"w-5 h-5 text-figma-success mr-3 mt-0.5 flex-shrink-0"}),(0,ye.jsx)("span",{className:"text-figma-gray-dark font-medium",children:n})]},i))})}),(0,ye.jsxs)("div",{className:"mb-6",children:[(0,ye.jsxs)("div",{className:"flex items-baseline",children:[(0,ye.jsx)("span",{className:"text-4xl font-bold text-figma-black",children:a.price}),(0,ye.jsxs)("span",{className:"text-figma-gray ml-1",children:["/",a.period]}),a.originalPrice&&(0,ye.jsxs)("span",{className:"text-figma-gray ml-2 line-through text-lg",children:[a.originalPrice,"/mo"]})]}),a.savings&&(0,ye.jsx)("p",{className:"text-figma-success font-semibold mt-1",children:a.savings})]}),(0,ye.jsxs)("button",{className:`w-full py-3 px-6 rounded-lg font-semibold transition-colors flex items-center justify-center ${a.buttonClass}`,onClick:()=>window.open("https://task.krushr.io/auth/register","_blank"),children:[a.buttonText,(0,ye.jsx)(jn,{className:"w-4 h-4 ml-2"})]})]},o))})})]})}),(0,ye.jsx)("div",{className:"py-20 px-4",children:(0,ye.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,ye.jsxs)("div",{className:"text-center mb-16",children:[(0,ye.jsx)("h2",{className:"text-4xl font-bold text-figma-black mb-8",children:"Why Choose Krushr in 2025?"}),(0,ye.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map((a,o)=>(0,ye.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,ye.jsx)(a.icon,{className:"w-12 h-12 text-figma-primary mb-6"}),(0,ye.jsx)("h3",{className:"text-xl font-bold text-figma-black mb-4",children:a.title}),(0,ye.jsx)("p",{className:"text-figma-gray",children:a.description})]},o))})]})})}),(0,ye.jsx)("div",{className:"bg-figma-gray-bg-light py-20 px-4",children:(0,ye.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,ye.jsx)("div",{className:"text-center mb-16",children:(0,ye.jsx)("h2",{className:"text-4xl font-bold text-figma-black",children:"Frequently Asked Questions"})}),(0,ye.jsx)("div",{className:"space-y-6",children:r.map((a,o)=>(0,ye.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,ye.jsx)("h3",{className:"text-xl font-bold text-figma-black mb-3",children:a.question}),(0,ye.jsx)("p",{className:"text-figma-gray",children:a.answer})]},o))})]})}),(0,ye.jsx)("div",{className:"py-20 px-4",children:(0,ye.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,ye.jsx)("div",{className:"text-center",children:(0,ye.jsxs)("div",{className:"bg-gradient-to-br from-figma-primary to-figma-purple rounded-2xl p-16 text-white",children:[(0,ye.jsx)("h2",{className:"text-4xl font-bold mb-6",children:"Ready to 10x Your Productivity?"}),(0,ye.jsx)("p",{className:"text-xl mb-8 opacity-90",children:"Join thousands of professionals who've already transformed their workflow with Krushr's AI-powered platform."}),(0,ye.jsxs)("button",{className:"bg-white text-figma-primary px-8 py-4 rounded-lg font-semibold text-lg hover:bg-gray-100 transition-colors inline-flex items-center",onClick:()=>window.open("https://task.krushr.io/auth/register","_blank"),children:["Start Free Today",(0,ye.jsx)(jn,{className:"w-5 h-5 ml-2"})]})]})})})})]})},zh=tk;var Rt=y(Q(),1),jo=y($v(),1);var wt=y(Q(),1);var Ll=y(Q(),1),lN=1,cN=1e6;var $u=0;function dN(){return $u=($u+1)%Number.MAX_SAFE_INTEGER,$u.toString()}var Yu=new Map,Yv=e=>{if(Yu.has(e))return;let t=setTimeout(()=>{Yu.delete(e),Pi({type:"REMOVE_TOAST",toastId:e})},cN);Yu.set(e,t)},uN=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,lN)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?Yv(r):e.toasts.forEach(a=>{Yv(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Al=[],Il={toasts:[]};function Pi(e){Il=uN(Il,e),Al.forEach(t=>{t(Il)})}function mN({...e}){let t=dN(),r=o=>Pi({type:"UPDATE_TOAST",toast:{...o,id:t}}),a=()=>Pi({type:"DISMISS_TOAST",toastId:t});return Pi({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||a()}}}),{id:t,dismiss:a,update:r}}function Ol(){let[e,t]=Ll.useState(Il);return Ll.useEffect(()=>(Al.push(t),()=>{let r=Al.indexOf(t);r>-1&&Al.splice(r,1)}),[e]),{...e,toast:mN,dismiss:r=>Pi({type:"DISMISS_TOAST",toastId:r})}}var Aa=y(Q(),1);var Ut=y(Q(),1);var ve=y(Q(),1);var _e=y(M(),1),Ku=["Enter"," "],pN=["ArrowDown","PageUp","Home"],Gv=["ArrowUp","PageDown","End"],fN=[...pN,...Gv],gN={ltr:[...Ku,"ArrowRight"],rtl:[...Ku,"ArrowLeft"]},hN={ltr:["ArrowLeft"],rtl:["ArrowRight"]},_i="Menu",[Ei,vN,bN]=us(_i),[Bo,Gu]=Yt(_i,[bN,ya,xn]),Mi=ya(),qv=xn(),[Vv,io]=Bo(_i),[yN,Ai]=Bo(_i),Xv=e=>{let{__scopeMenu:t,open:r=!1,children:a,dir:o,onOpenChange:n,modal:i=!0}=e,l=Mi(t),[s,c]=ve.useState(null),d=ve.useRef(!1),u=en(n),m=nn(o);return ve.useEffect(()=>{let g=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),(0,_e.jsx)(yo,{...l,children:(0,_e.jsx)(Vv,{scope:t,open:r,onOpenChange:u,content:s,onContentChange:c,children:(0,_e.jsx)(yN,{scope:t,onClose:ve.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:m,modal:i,children:a})})})};Xv.displayName=_i;var wN="MenuAnchor",qu=ve.forwardRef((e,t)=>{let{__scopeMenu:r,...a}=e,o=Mi(r);return(0,_e.jsx)(wo,{...o,...a,ref:t})});qu.displayName=wN;var Vu="MenuPortal",[xN,Jv]=Bo(Vu,{forceMount:void 0}),Qv=e=>{let{__scopeMenu:t,forceMount:r,children:a,container:o}=e,n=io(Vu,t);return(0,_e.jsx)(xN,{scope:t,forceMount:r,children:(0,_e.jsx)(ir,{present:r||n.open,children:(0,_e.jsx)(rn,{asChild:!0,container:o,children:a})})})};Qv.displayName=Vu;var Ur="MenuContent",[kN,Xu]=Bo(Ur),Zv=ve.forwardRef((e,t)=>{let r=Jv(Ur,e.__scopeMenu),{forceMount:a=r.forceMount,...o}=e,n=io(Ur,e.__scopeMenu),i=Ai(Ur,e.__scopeMenu);return(0,_e.jsx)(Ei.Provider,{scope:e.__scopeMenu,children:(0,_e.jsx)(ir,{present:a||n.open,children:(0,_e.jsx)(Ei.Slot,{scope:e.__scopeMenu,children:i.modal?(0,_e.jsx)(NN,{...o,ref:t}):(0,_e.jsx)(CN,{...o,ref:t})})})})}),NN=ve.forwardRef((e,t)=>{let r=io(Ur,e.__scopeMenu),a=ve.useRef(null),o=St(t,a);return ve.useEffect(()=>{let n=a.current;if(n)return cs(n)},[]),(0,_e.jsx)(Ju,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ge(e.onFocusOutside,n=>n.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),CN=ve.forwardRef((e,t)=>{let r=io(Ur,e.__scopeMenu);return(0,_e.jsx)(Ju,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),RN=Bi("MenuContent.ScrollLock"),Ju=ve.forwardRef((e,t)=>{let{__scopeMenu:r,loop:a=!1,trapFocus:o,onOpenAutoFocus:n,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:s,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:m,onDismiss:g,disableOutsideScroll:p,...f}=e,v=io(Ur,r),h=Ai(Ur,r),w=Mi(r),x=qv(r),_=vN(r),[O,B]=ve.useState(null),E=ve.useRef(null),ee=St(t,E,v.onContentChange),ae=ve.useRef(0),Ae=ve.useRef(""),ze=ve.useRef(0),A=ve.useRef(null),L=ve.useRef("right"),H=ve.useRef(0),z=p?ls:ve.Fragment,D=p?{as:RN,allowPinchZoom:!0}:void 0,U=T=>{let le=Ae.current+T,oe=_().filter(k=>!k.disabled),F=document.activeElement,q=oe.find(k=>k.ref.current===F)?.textValue,G=oe.map(k=>k.textValue),J=FN(G,le,q),P=oe.find(k=>k.textValue===J)?.ref.current;(function k(Z){Ae.current=Z,window.clearTimeout(ae.current),Z!==""&&(ae.current=window.setTimeout(()=>k(""),1e3))})(le),P&&setTimeout(()=>P.focus())};ve.useEffect(()=>()=>window.clearTimeout(ae.current),[]),ss();let R=ve.useCallback(T=>L.current===A.current?.side&&HN(T,A.current?.area),[]);return(0,_e.jsx)(kN,{scope:r,searchRef:Ae,onItemEnter:ve.useCallback(T=>{R(T)&&T.preventDefault()},[R]),onItemLeave:ve.useCallback(T=>{R(T)||(E.current?.focus(),B(null))},[R]),onTriggerLeave:ve.useCallback(T=>{R(T)&&T.preventDefault()},[R]),pointerGraceTimerRef:ze,onPointerGraceIntentChange:ve.useCallback(T=>{A.current=T},[]),children:(0,_e.jsx)(z,{...D,children:(0,_e.jsx)(is,{asChild:!0,trapped:o,onMountAutoFocus:ge(n,T=>{T.preventDefault(),E.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:(0,_e.jsx)(tn,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:m,onDismiss:g,children:(0,_e.jsx)(qs,{asChild:!0,...x,dir:h.dir,orientation:"vertical",loop:a,currentTabStopId:O,onCurrentTabStopIdChange:B,onEntryFocus:ge(s,T=>{h.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,_e.jsx)(sn,{role:"menu","aria-orientation":"vertical","data-state":gb(v.open),"data-radix-menu-content":"",dir:h.dir,...w,...f,ref:ee,style:{outline:"none",...f.style},onKeyDown:ge(f.onKeyDown,T=>{let oe=T.target.closest("[data-radix-menu-content]")===T.currentTarget,F=T.ctrlKey||T.altKey||T.metaKey,q=T.key.length===1;oe&&(T.key==="Tab"&&T.preventDefault(),!F&&q&&U(T.key));let G=E.current;if(T.target!==G||!fN.includes(T.key))return;T.preventDefault();let P=_().filter(k=>!k.disabled).map(k=>k.ref.current);Gv.includes(T.key)&&P.reverse(),ON(P)}),onBlur:ge(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(ae.current),Ae.current="")}),onPointerMove:ge(e.onPointerMove,Ti(T=>{let le=T.target,oe=H.current!==T.clientX;if(T.currentTarget.contains(le)&&oe){let F=T.clientX>H.current?"right":"left";L.current=F,H.current=T.clientX}}))})})})})})})});Zv.displayName=Ur;var SN="MenuGroup",Qu=ve.forwardRef((e,t)=>{let{__scopeMenu:r,...a}=e;return(0,_e.jsx)(Be.div,{role:"group",...a,ref:t})});Qu.displayName=SN;var PN="MenuLabel",eb=ve.forwardRef((e,t)=>{let{__scopeMenu:r,...a}=e;return(0,_e.jsx)(Be.div,{...a,ref:t})});eb.displayName=PN;var zl="MenuItem",Kv="menu.itemSelect",Bl=ve.forwardRef((e,t)=>{let{disabled:r=!1,onSelect:a,...o}=e,n=ve.useRef(null),i=Ai(zl,e.__scopeMenu),l=Xu(zl,e.__scopeMenu),s=St(t,n),c=ve.useRef(!1),d=()=>{let u=n.current;if(!r&&u){let m=new CustomEvent(Kv,{bubbles:!0,cancelable:!0});u.addEventListener(Kv,g=>a?.(g),{once:!0}),Rp(u,m),m.defaultPrevented?c.current=!1:i.onClose()}};return(0,_e.jsx)(tb,{...o,ref:s,disabled:r,onClick:ge(e.onClick,d),onPointerDown:u=>{e.onPointerDown?.(u),c.current=!0},onPointerUp:ge(e.onPointerUp,u=>{c.current||u.currentTarget?.click()}),onKeyDown:ge(e.onKeyDown,u=>{let m=l.searchRef.current!=="";r||m&&u.key===" "||Ku.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});Bl.displayName=zl;var tb=ve.forwardRef((e,t)=>{let{__scopeMenu:r,disabled:a=!1,textValue:o,...n}=e,i=Xu(zl,r),l=qv(r),s=ve.useRef(null),c=St(t,s),[d,u]=ve.useState(!1),[m,g]=ve.useState("");return ve.useEffect(()=>{let p=s.current;p&&g((p.textContent??"").trim())},[n.children]),(0,_e.jsx)(Ei.ItemSlot,{scope:r,disabled:a,textValue:o??m,children:(0,_e.jsx)(Vs,{asChild:!0,...l,focusable:!a,children:(0,_e.jsx)(Be.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...n,ref:c,onPointerMove:ge(e.onPointerMove,Ti(p=>{a?i.onItemLeave(p):(i.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ge(e.onPointerLeave,Ti(p=>i.onItemLeave(p))),onFocus:ge(e.onFocus,()=>u(!0)),onBlur:ge(e.onBlur,()=>u(!1))})})})}),DN="MenuCheckboxItem",rb=ve.forwardRef((e,t)=>{let{checked:r=!1,onCheckedChange:a,...o}=e;return(0,_e.jsx)(sb,{scope:e.__scopeMenu,checked:r,children:(0,_e.jsx)(Bl,{role:"menuitemcheckbox","aria-checked":Fl(r)?"mixed":r,...o,ref:t,"data-state":tm(r),onSelect:ge(o.onSelect,()=>a?.(Fl(r)?!0:!r),{checkForDefaultPrevented:!1})})})});rb.displayName=DN;var ab="MenuRadioGroup",[EN,TN]=Bo(ab,{value:void 0,onValueChange:()=>{}}),ob=ve.forwardRef((e,t)=>{let{value:r,onValueChange:a,...o}=e,n=en(a);return(0,_e.jsx)(EN,{scope:e.__scopeMenu,value:r,onValueChange:n,children:(0,_e.jsx)(Qu,{...o,ref:t})})});ob.displayName=ab;var nb="MenuRadioItem",ib=ve.forwardRef((e,t)=>{let{value:r,...a}=e,o=TN(nb,e.__scopeMenu),n=r===o.value;return(0,_e.jsx)(sb,{scope:e.__scopeMenu,checked:n,children:(0,_e.jsx)(Bl,{role:"menuitemradio","aria-checked":n,...a,ref:t,"data-state":tm(n),onSelect:ge(a.onSelect,()=>o.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});ib.displayName=nb;var Zu="MenuItemIndicator",[sb,_N]=Bo(Zu,{checked:!1}),lb=ve.forwardRef((e,t)=>{let{__scopeMenu:r,forceMount:a,...o}=e,n=_N(Zu,r);return(0,_e.jsx)(ir,{present:a||Fl(n.checked)||n.checked===!0,children:(0,_e.jsx)(Be.span,{...o,ref:t,"data-state":tm(n.checked)})})});lb.displayName=Zu;var MN="MenuSeparator",cb=ve.forwardRef((e,t)=>{let{__scopeMenu:r,...a}=e;return(0,_e.jsx)(Be.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});cb.displayName=MN;var AN="MenuArrow",db=ve.forwardRef((e,t)=>{let{__scopeMenu:r,...a}=e,o=Mi(r);return(0,_e.jsx)(ln,{...o,...a,ref:t})});db.displayName=AN;var em="MenuSub",[IN,ub]=Bo(em),LN=e=>{let{__scopeMenu:t,children:r,open:a=!1,onOpenChange:o}=e,n=io(em,t),i=Mi(t),[l,s]=ve.useState(null),[c,d]=ve.useState(null),u=en(o);return ve.useEffect(()=>(n.open===!1&&u(!1),()=>u(!1)),[n.open,u]),(0,_e.jsx)(yo,{...i,children:(0,_e.jsx)(Vv,{scope:t,open:a,onOpenChange:u,content:c,onContentChange:d,children:(0,_e.jsx)(IN,{scope:t,contentId:Lt(),triggerId:Lt(),trigger:l,onTriggerChange:s,children:r})})})};LN.displayName=em;var Di="MenuSubTrigger",mb=ve.forwardRef((e,t)=>{let r=io(Di,e.__scopeMenu),a=Ai(Di,e.__scopeMenu),o=ub(Di,e.__scopeMenu),n=Xu(Di,e.__scopeMenu),i=ve.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:s}=n,c={__scopeMenu:e.__scopeMenu},d=ve.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return ve.useEffect(()=>d,[d]),ve.useEffect(()=>{let u=l.current;return()=>{window.clearTimeout(u),s(null)}},[l,s]),(0,_e.jsx)(qu,{asChild:!0,...c,children:(0,_e.jsx)(tb,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":gb(r.open),...e,ref:ra(t,o.onTriggerChange),onClick:u=>{e.onClick?.(u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ge(e.onPointerMove,Ti(u=>{n.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(n.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:ge(e.onPointerLeave,Ti(u=>{d();let m=r.content?.getBoundingClientRect();if(m){let g=r.content?.dataset.side,p=g==="right",f=p?-5:5,v=m[p?"left":"right"],h=m[p?"right":"left"];n.onPointerGraceIntentChange({area:[{x:u.clientX+f,y:u.clientY},{x:v,y:m.top},{x:h,y:m.top},{x:h,y:m.bottom},{x:v,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>n.onPointerGraceIntentChange(null),300)}else{if(n.onTriggerLeave(u),u.defaultPrevented)return;n.onPointerGraceIntentChange(null)}})),onKeyDown:ge(e.onKeyDown,u=>{let m=n.searchRef.current!=="";e.disabled||m&&u.key===" "||gN[a.dir].includes(u.key)&&(r.onOpenChange(!0),r.content?.focus(),u.preventDefault())})})})});mb.displayName=Di;var pb="MenuSubContent",fb=ve.forwardRef((e,t)=>{let r=Jv(Ur,e.__scopeMenu),{forceMount:a=r.forceMount,...o}=e,n=io(Ur,e.__scopeMenu),i=Ai(Ur,e.__scopeMenu),l=ub(pb,e.__scopeMenu),s=ve.useRef(null),c=St(t,s);return(0,_e.jsx)(Ei.Provider,{scope:e.__scopeMenu,children:(0,_e.jsx)(ir,{present:a||n.open,children:(0,_e.jsx)(Ei.Slot,{scope:e.__scopeMenu,children:(0,_e.jsx)(Ju,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{i.isUsingKeyboardRef.current&&s.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ge(e.onFocusOutside,d=>{d.target!==l.trigger&&n.onOpenChange(!1)}),onEscapeKeyDown:ge(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:ge(e.onKeyDown,d=>{let u=d.currentTarget.contains(d.target),m=hN[i.dir].includes(d.key);u&&m&&(n.onOpenChange(!1),l.trigger?.focus(),d.preventDefault())})})})})})});fb.displayName=pb;function gb(e){return e?"open":"closed"}function Fl(e){return e==="indeterminate"}function tm(e){return Fl(e)?"indeterminate":e?"checked":"unchecked"}function ON(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function zN(e,t){return e.map((r,a)=>e[(t+a)%e.length])}function FN(e,t,r){let o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,n=r?e.indexOf(r):-1,i=zN(e,Math.max(n,0));o.length===1&&(i=i.filter(c=>c!==r));let s=i.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return s!==r?s:void 0}function BN(e,t){let{x:r,y:a}=e,o=!1;for(let n=0,i=t.length-1;n<t.length;i=n++){let l=t[n],s=t[i],c=l.x,d=l.y,u=s.x,m=s.y;d>a!=m>a&&r<(u-c)*(a-d)/(m-d)+c&&(o=!o)}return o}function HN(e,t){if(!t)return!1;let r={x:e.clientX,y:e.clientY};return BN(r,t)}function Ti(e){return t=>t.pointerType==="mouse"?e(t):void 0}var hb=Xv,vb=qu,bb=Qv,yb=Zv,wb=Qu,xb=eb,kb=Bl,Nb=rb,Cb=ob,Rb=ib,Sb=lb,Pb=cb,Db=db;var Eb=mb,Tb=fb;var Vt=y(M(),1),Hl="DropdownMenu",[UN,NI]=Yt(Hl,[Gu]),mr=Gu(),[WN,_b]=UN(Hl),Mb=e=>{let{__scopeDropdownMenu:t,children:r,dir:a,open:o,defaultOpen:n,onOpenChange:i,modal:l=!0}=e,s=mr(t),c=Ut.useRef(null),[d,u]=br({prop:o,defaultProp:n??!1,onChange:i,caller:Hl});return(0,Vt.jsx)(WN,{scope:t,triggerId:Lt(),triggerRef:c,contentId:Lt(),open:d,onOpenChange:u,onOpenToggle:Ut.useCallback(()=>u(m=>!m),[u]),modal:l,children:(0,Vt.jsx)(hb,{...s,open:d,onOpenChange:u,dir:a,modal:l,children:r})})};Mb.displayName=Hl;var Ab="DropdownMenuTrigger",Ib=Ut.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,disabled:a=!1,...o}=e,n=_b(Ab,r),i=mr(r);return(0,Vt.jsx)(vb,{asChild:!0,...i,children:(0,Vt.jsx)(Be.button,{type:"button",id:n.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":n.open?n.contentId:void 0,"data-state":n.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...o,ref:ra(t,n.triggerRef),onPointerDown:ge(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(n.onOpenToggle(),n.open||l.preventDefault())}),onKeyDown:ge(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&n.onOpenToggle(),l.key==="ArrowDown"&&n.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Ib.displayName=Ab;var $N="DropdownMenuPortal",Lb=e=>{let{__scopeDropdownMenu:t,...r}=e,a=mr(t);return(0,Vt.jsx)(bb,{...a,...r})};Lb.displayName=$N;var Ob="DropdownMenuContent",zb=Ut.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,o=_b(Ob,r),n=mr(r),i=Ut.useRef(!1);return(0,Vt.jsx)(yb,{id:o.contentId,"aria-labelledby":o.triggerId,...n,...a,ref:t,onCloseAutoFocus:ge(e.onCloseAutoFocus,l=>{i.current||o.triggerRef.current?.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:ge(e.onInteractOutside,l=>{let s=l.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0,d=s.button===2||c;(!o.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zb.displayName=Ob;var YN="DropdownMenuGroup",KN=Ut.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,o=mr(r);return(0,Vt.jsx)(wb,{...o,...a,ref:t})});KN.displayName=YN;var GN="DropdownMenuLabel",Fb=Ut.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,o=mr(r);return(0,Vt.jsx)(xb,{...o,...a,ref:t})});Fb.displayName=GN;var qN="DropdownMenuItem",Bb=Ut.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,o=mr(r);return(0,Vt.jsx)(kb,{...o,...a,ref:t})});Bb.displayName=qN;var VN="DropdownMenuCheckboxItem",Hb=Ut.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,o=mr(r);return(0,Vt.jsx)(Nb,{...o,...a,ref:t})});Hb.displayName=VN;var XN="DropdownMenuRadioGroup",JN=Ut.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,o=mr(r);return(0,Vt.jsx)(Cb,{...o,...a,ref:t})});JN.displayName=XN;var QN="DropdownMenuRadioItem",jb=Ut.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,o=mr(r);return(0,Vt.jsx)(Rb,{...o,...a,ref:t})});jb.displayName=QN;var ZN="DropdownMenuItemIndicator",Ub=Ut.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,o=mr(r);return(0,Vt.jsx)(Sb,{...o,...a,ref:t})});Ub.displayName=ZN;var eC="DropdownMenuSeparator",Wb=Ut.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,o=mr(r);return(0,Vt.jsx)(Pb,{...o,...a,ref:t})});Wb.displayName=eC;var tC="DropdownMenuArrow",rC=Ut.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,o=mr(r);return(0,Vt.jsx)(Db,{...o,...a,ref:t})});rC.displayName=tC;var aC="DropdownMenuSubTrigger",$b=Ut.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,o=mr(r);return(0,Vt.jsx)(Eb,{...o,...a,ref:t})});$b.displayName=aC;var oC="DropdownMenuSubContent",Yb=Ut.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,o=mr(r);return(0,Vt.jsx)(Tb,{...o,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Yb.displayName=oC;var Kb=Mb,Gb=Ib,qb=Lb,rm=zb;var am=Fb,om=Bb,nm=Hb;var im=jb,sm=Ub,lm=Wb;var cm=$b,dm=Yb;var Wt=y(M(),1),so=Kb,lo=Gb;var iC=Aa.forwardRef(({className:e,inset:t,children:r,...a},o)=>(0,Wt.jsxs)(cm,{ref:o,className:S("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...a,children:[r,(0,Wt.jsx)(vr,{className:"ml-auto h-4 w-4"})]}));iC.displayName=cm.displayName;var sC=Aa.forwardRef(({className:e,...t},r)=>(0,Wt.jsx)(dm,{ref:r,className:S("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));sC.displayName=dm.displayName;var Ia=Aa.forwardRef(({className:e,sideOffset:t=4,...r},a)=>(0,Wt.jsx)(qb,{children:(0,Wt.jsx)(rm,{ref:a,sideOffset:t,className:S("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ia.displayName=rm.displayName;var at=Aa.forwardRef(({className:e,inset:t,...r},a)=>(0,Wt.jsx)(om,{ref:a,className:S("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));at.displayName=om.displayName;var lC=Aa.forwardRef(({className:e,children:t,checked:r,...a},o)=>(0,Wt.jsxs)(nm,{ref:o,className:S("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...a,children:[(0,Wt.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,Wt.jsx)(sm,{children:(0,Wt.jsx)(Oa,{className:"h-4 w-4"})})}),t]}));lC.displayName=nm.displayName;var cC=Aa.forwardRef(({className:e,children:t,...r},a)=>(0,Wt.jsxs)(im,{ref:a,className:S("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[(0,Wt.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,Wt.jsx)(sm,{children:(0,Wt.jsx)(Ki,{className:"h-2 w-2 fill-current"})})}),t]}));cC.displayName=im.displayName;var Ho=Aa.forwardRef(({className:e,inset:t,...r},a)=>(0,Wt.jsx)(am,{ref:a,className:S("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Ho.displayName=am.displayName;var pr=Aa.forwardRef(({className:e,...t},r)=>(0,Wt.jsx)(lm,{ref:r,className:S("-mx-1 my-1 h-px bg-muted",e),...t}));pr.displayName=lm.displayName;var On=({className:e,...t})=>(0,Wt.jsx)("span",{className:S("ml-auto text-xs tracking-widest opacity-60",e),...t});On.displayName="DropdownMenuShortcut";var $=y(M(),1),dC=(0,wt.lazy)(()=>import("/chunks/KanbanBoard-BBKCCTII.js")),uC=(0,wt.lazy)(()=>import("/chunks/Chat-QSIESB5Q.js")),mC=(0,wt.lazy)(()=>import("/chunks/NotesPanel-AKGJOZTD.js")),pC=(0,wt.lazy)(()=>import("/chunks/NewCalendarPanel-QV2Y7DLA.js")),fC=(0,wt.lazy)(()=>import("/chunks/Contacts-KCBJPKTO.js")),gC=(0,wt.lazy)(()=>import("/chunks/WorkspaceAiChat-N2RPGEDX.js")),zn=()=>(0,$.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,$.jsx)(kt,{className:"w-6 h-6 animate-spin text-krushr-primary"})}),jl=class extends wt.default.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("Panel loading error:",t,r)}render(){return this.state.hasError?this.props.fallback||(0,$.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,$.jsxs)("div",{className:"text-center",children:[(0,$.jsx)(za,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,$.jsx)("p",{className:"text-sm",children:"Failed to load panel"}),(0,$.jsx)("p",{className:"text-xs mt-1",children:"Try refreshing the page"})]})}):this.props.children}};function um({panel:e,workspaceId:t,onRefresh:r,onFullscreen:a,onFocus:o}){let{toast:n}=Ol(),i=X.useUtils(),[l,s]=(0,wt.useState)(()=>new Set),[c,d]=(0,wt.useState)(!1),[u,m]=(0,wt.useState)(!1),[g,p]=(0,wt.useState)(e.title);(0,wt.useEffect)(()=>{u||p(e.title)},[e.title,u]);let f=X.panel.toggleMinimize.useMutation({onSuccess:()=>{i.panel.list.invalidate({workspaceId:t}),r?.()},onError:G=>{console.error("Minimize toggle failed:",G),n({title:"Error",description:"Failed to minimize/restore panel",variant:"destructive"})}}),v=X.panel.toggleLock.useMutation({onSuccess:()=>{i.panel.list.invalidate({workspaceId:t}),r?.()},onError:G=>{console.error("Lock toggle failed:",G),n({title:"Error",description:"Failed to lock/unlock panel",variant:"destructive"})}}),h=()=>{s(G=>{let J=new Set(G);return J.has(e.id)?J.delete(e.id):J.add(e.id),J})},w=()=>{s(G=>{let J=new Set(G);return J.delete(e.id),J})},x=(0,wt.useMemo)(()=>l.has(e.id),[l,e.id]),_=X.panel.toggleFullscreen.useMutation({onSuccess:G=>{try{let J=JSON.parse(G.data);i.panel.list.invalidate({workspaceId:t}),a?.(e.id,J.isFullscreen||!1),r?.()}catch(J){console.error("Error parsing panel data:",J,G),i.panel.list.invalidate({workspaceId:t}),r?.()}},onError:G=>{console.error("Fullscreen toggle failed:",G),n({title:"Error",description:"Failed to toggle fullscreen mode",variant:"destructive"})}}),O=X.panel.setFocus.useMutation({onSuccess:()=>{i.panel.list.invalidate({workspaceId:t}),r?.()}}),B=X.panel.delete.useMutation({onSuccess:()=>{i.panel.list.invalidate({workspaceId:t}),r?.()},onError:G=>{console.error("Panel deletion failed:",G),n({title:"Error",description:"Failed to delete panel",variant:"destructive"})}}),E=X.panel.update.useMutation({onSuccess:()=>{i.panel.list.invalidate({workspaceId:t}),r?.(),m(!1),n({title:"Success",description:"Panel title updated"})},onError:G=>{console.error("Update failed:",G),n({title:"Error",description:"Failed to update panel title",variant:"destructive"}),p(e.title),m(!1)}}),ee=G=>{switch(G){case"KANBAN":return(0,$.jsx)(mo,{className:"w-4 h-4 text-krushr-coral-red"});case"CHAT":return(0,$.jsx)(_t,{className:"w-4 h-4 text-krushr-coral-red"});case"AI_CHAT":return(0,$.jsx)($i,{className:"w-4 h-4 text-krushr-coral-red"});case"CALENDAR":return(0,$.jsx)(Re,{className:"w-4 h-4 text-krushr-coral-red"});case"NOTES":return(0,$.jsx)(na,{className:"w-4 h-4 text-krushr-coral-red"});case"EMAIL":return(0,$.jsx)(Sr,{className:"w-4 h-4 text-krushr-coral-red"});case"CONTACTS":return(0,$.jsx)(dt,{className:"w-4 h-4 text-krushr-coral-red"});default:return(0,$.jsx)(ql,{className:"w-4 h-4 text-krushr-coral-red"})}},ae=()=>{if(e.is_minimized)return null;switch(e.type){case"KANBAN":let G=e.data?.kanbanId;return G?(0,$.jsx)("div",{className:"h-full",children:(0,$.jsx)(wt.Suspense,{fallback:(0,$.jsx)(zn,{}),children:(0,$.jsx)(dC,{kanban:{id:G,workspaceId:t},className:"h-full"})})}):(0,$.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,$.jsxs)("div",{className:"text-center",children:[(0,$.jsx)(Gi,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,$.jsx)("p",{className:"text-sm",children:"No Kanban board selected"}),(0,$.jsx)("p",{className:"text-xs mt-1",children:"Create a Kanban board first, then edit this panel"})]})});case"CHAT":let J=e.data?.chatId;return(0,$.jsx)(jl,{children:(0,$.jsx)(wt.Suspense,{fallback:(0,$.jsx)(zn,{}),children:(0,$.jsx)(uC,{threadId:J,className:"h-full"})})});case"AI_CHAT":return(0,$.jsx)(jl,{children:(0,$.jsx)(wt.Suspense,{fallback:(0,$.jsx)(zn,{}),children:(0,$.jsx)(gC,{workspaceId:t,className:"h-full"})})});case"CALENDAR":return(0,$.jsx)(wt.Suspense,{fallback:(0,$.jsx)(zn,{}),children:(0,$.jsx)(pC,{workspaceId:t,className:"h-full"})});case"NOTES":return(0,$.jsx)(wt.Suspense,{fallback:(0,$.jsx)(zn,{}),children:(0,$.jsx)(mC,{workspaceId:t,className:"h-full"})});case"EMAIL":return(0,$.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,$.jsxs)("div",{className:"text-center",children:[(0,$.jsx)(Sr,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,$.jsx)("p",{className:"text-sm",children:"Email component coming soon"})]})});case"CONTACTS":return(0,$.jsx)(wt.Suspense,{fallback:(0,$.jsx)(zn,{}),children:(0,$.jsx)(fC,{workspaceId:t,className:"h-full"})});default:return(0,$.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,$.jsxs)("div",{className:"text-center",children:[(0,$.jsx)(ql,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,$.jsxs)("p",{className:"text-sm",children:["Unknown panel type: ",e.type]})]})})}},Ae=()=>{f.mutate({id:e.id})},ze=()=>{v.mutate({id:e.id})},A=()=>{_.mutate({id:e.id})},L=()=>{confirm(`Delete panel "${e.title}"?`)&&B.mutate({id:e.id})},H=G=>{G.stopPropagation(),e.is_locked||m(!0)},z=G=>{if(x)return;let J=G.target;J.tagName==="INPUT"||J.tagName==="TEXTAREA"||J.closest("input")||J.closest("textarea")||(O.mutate({id:e.id,focused:!0}),o?.(e.id))},D=G=>{let J=G.target;if(J.closest(".panel-drag-handle"))G.stopPropagation();else if(J.closest(".panel-content"))return},U=G=>{G.target.closest(".panel-drag-handle")&&G.stopPropagation()},R=G=>{G.target.closest(".panel-drag-handle")&&G.stopPropagation()},T=()=>{let G=g.trim();G&&G!==e.title?E.mutate({id:e.id,title:G}):(m(!1),p(e.title))},le=G=>{G.key==="Enter"?(G.preventDefault(),T()):G.key==="Escape"&&(m(!1),p(e.title))},oe=()=>{T()},F=e.data?.isFullscreen||!1,q=e.data?.isFocused||!1;return(0,$.jsxs)(Oe,{className:S("panel-card h-full flex flex-col",e.is_locked&&"border-amber-200 bg-amber-50",e.is_minimized&&"min-h-0",F&&"fixed inset-0 z-[9999] m-0 rounded-none shadow-2xl bg-white"),onClick:z,onTouchStart:D,onTouchMove:U,onTouchEnd:R,children:[(0,$.jsxs)(ot,{className:S("panel-drag-handle flex-shrink-0 cursor-move","flex flex-row items-center justify-between space-y-0 p-0 px-3 py-1.5",e.is_locked&&"cursor-not-allowed"),children:[(0,$.jsxs)("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[(0,$.jsx)("div",{className:"text-krushr-coral-red",children:ee(e.type)}),u?(0,$.jsx)(Eo,{value:g,onChange:G=>p(G.target.value),onKeyDown:le,onBlur:oe,className:"h-6 px-1 py-0 text-sm font-medium border-krushr-primary focus:border-krushr-primary focus:ring-1 focus:ring-krushr-primary",autoFocus:!0,onClick:G=>G.stopPropagation()}):(0,$.jsx)("h3",{className:S("font-medium text-sm truncate",!e.is_locked&&"cursor-pointer hover:text-krushr-primary transition-colors"),onClick:H,title:e.is_locked?"Panel is locked":"Click to edit title",children:e.title}),e.is_locked&&(0,$.jsx)(oa,{className:"w-3 h-3 text-amber-600 flex-shrink-0"})]}),(0,$.jsxs)("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[(e.type==="KANBAN"||e.type==="CHAT"||e.type==="AI_CHAT"||e.type==="NOTES")&&(0,$.jsxs)(so,{children:[(0,$.jsx)(lo,{asChild:!0,children:(0,$.jsx)(C,{size:"sm",variant:"ghost",className:"w-5 h-5 p-0 hover:bg-gray-100",title:"Panel actions",children:(0,$.jsx)(ga,{className:"w-2.5 h-2.5"})})}),(0,$.jsxs)(Ia,{align:"end",className:"w-40",children:[e.type==="KANBAN"?(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(at,{className:"text-xs",onClick:()=>d(!0),children:[(0,$.jsx)(Ie,{className:"w-3 h-3 mr-2"}),"Add Task"]}),(0,$.jsx)(pr,{}),(0,$.jsxs)(at,{className:"text-xs",children:[(0,$.jsx)(dt,{className:"w-3 h-3 mr-2"}),"Members"]}),(0,$.jsxs)(at,{className:"text-xs",children:[(0,$.jsx)(Re,{className:"w-3 h-3 mr-2"}),"Timeline"]}),(0,$.jsxs)(at,{className:"text-xs",children:[(0,$.jsx)(Fa,{className:"w-3 h-3 mr-2"}),"Filters"]})]}):e.type==="CHAT"?(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(at,{className:"text-xs",children:[(0,$.jsx)(_t,{className:"w-3 h-3 mr-2"}),"New Message"]}),(0,$.jsxs)(at,{className:"text-xs",children:[(0,$.jsx)(dt,{className:"w-3 h-3 mr-2"}),"Participants"]}),(0,$.jsxs)(at,{className:"text-xs",children:[(0,$.jsx)(gt,{className:"w-3 h-3 mr-2"}),"Search Chat"]})]}):e.type==="AI_CHAT"?(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(at,{className:"text-xs",children:[(0,$.jsx)(Ie,{className:"w-3 h-3 mr-2"}),"New Conversation"]}),(0,$.jsxs)(at,{className:"text-xs",children:[(0,$.jsx)(_t,{className:"w-3 h-3 mr-2"}),"Conversations"]}),(0,$.jsxs)(at,{className:"text-xs",children:[(0,$.jsx)(gt,{className:"w-3 h-3 mr-2"}),"Search Messages"]})]}):(0,$.jsx)($.Fragment,{children:(0,$.jsxs)(at,{className:"text-xs",children:[(0,$.jsx)(gt,{className:"w-3 h-3 mr-2"}),"Search Notes"]})}),(0,$.jsx)(pr,{}),(0,$.jsx)(at,{className:"text-xs text-gray-600",children:"Settings"})]})]}),(0,$.jsx)(C,{size:"sm",variant:"ghost",className:"w-5 h-5 p-0 hover:bg-gray-100",onClick:ze,disabled:v.isPending,title:e.is_locked?"Unlock panel":"Lock panel",children:v.isPending?(0,$.jsx)("div",{className:"w-2.5 h-2.5 border border-gray-400 border-t-transparent rounded-full animate-spin"}):e.is_locked?(0,$.jsx)(Qi,{className:"w-2.5 h-2.5"}):(0,$.jsx)(oa,{className:"w-2.5 h-2.5"})}),(0,$.jsx)(C,{size:"sm",variant:"ghost",className:"w-5 h-5 p-0 hover:bg-blue-100 hover:text-blue-600",onClick:A,disabled:_.isPending,title:F?"Exit fullscreen":"Fullscreen",children:_.isPending?(0,$.jsx)("div",{className:"w-2.5 h-2.5 border border-gray-400 border-t-transparent rounded-full animate-spin"}):F?(0,$.jsx)(yp,{className:"w-2.5 h-2.5"}):(0,$.jsx)(np,{className:"w-2.5 h-2.5"})}),(0,$.jsx)(C,{size:"sm",variant:"ghost",className:"w-5 h-5 p-0 hover:bg-gray-100",onClick:Ae,disabled:f.isPending,title:e.is_minimized?"Restore panel":"Minimize panel",children:f.isPending?(0,$.jsx)("div",{className:"w-2.5 h-2.5 border border-gray-400 border-t-transparent rounded-full animate-spin"}):e.is_minimized?(0,$.jsx)(Zi,{className:"w-2.5 h-2.5"}):(0,$.jsx)($n,{className:"w-2.5 h-2.5"})}),(0,$.jsx)(C,{size:"sm",variant:"ghost",className:"w-5 h-5 p-0 hover:bg-red-100 hover:text-red-600",onClick:L,title:"Delete panel",children:(0,$.jsx)(Mt,{className:"w-2.5 h-2.5"})})]})]}),!e.is_minimized&&(0,$.jsx)(qe,{className:"panel-content flex-1 p-1 pt-0 overflow-hidden",children:ae()}),c&&(0,$.jsx)(Xa,{workspaceId:t,kanbanColumnId:e.type==="KANBAN"&&e.data?.kanbanId?e.data.kanbanId:void 0,open:c,onClose:()=>d(!1),onSuccess:()=>{d(!1),r?.()}})]})}var fr=y(Q(),1);function Ul({workspaceId:e,panels:t,autoSaveInterval:r=3e4,enabled:a=!0}){let{toast:o}=Ol(),n=(0,fr.useRef)(),i=(0,fr.useRef)(""),l=X.layout.savePreset.useMutation({onSuccess:B=>{o({title:"Layout Saved",description:`Layout preset "${B.name}" saved successfully`})},onError:B=>{o({title:"Save Failed",description:B.message,variant:"destructive"})}}),s=X.layout.loadPreset.useMutation({onSuccess:B=>{o({title:"Layout Loaded",description:B.message}),window.location.reload()},onError:B=>{o({title:"Load Failed",description:B.message,variant:"destructive"})}}),c=X.layout.autoSave.useMutation({onError:B=>{console.warn("Auto-save failed:",B.message)}}),{data:d=[],refetch:u}=X.layout.listPresets.useQuery({workspaceId:e},{enabled:a&&!!e}),m=X.layout.deletePreset.useMutation({onSuccess:()=>{o({title:"Layout Deleted",description:"Layout preset deleted successfully"}),u()},onError:B=>{o({title:"Delete Failed",description:B.message,variant:"destructive"})}}),g=X.layout.setDefaultPreset.useMutation({onSuccess:()=>{o({title:"Default Set",description:"Default layout preset updated"}),u()},onError:B=>{o({title:"Update Failed",description:B.message,variant:"destructive"})}}),p=(0,fr.useCallback)((B,E)=>{let ee=E||{lg:B.map(ae=>({i:ae.id,x:ae.position_x,y:ae.position_y,w:ae.width,h:ae.height,minW:2,minH:2,maxW:24,maxH:24,isDraggable:!ae.is_locked,isResizable:!ae.is_locked}))};return{panels:B,gridLayout:ee}},[]),f=(0,fr.useCallback)((B,E,ee=!1)=>{if(!a||!e||t.length===0)return;let ae=p(t);l.mutate({workspaceId:e,name:B,description:E,isDefault:ee,layoutData:ae})},[a,e,t,p,l]),v=(0,fr.useCallback)(B=>{!a||!e||s.mutate({presetId:B,workspaceId:e})},[a,e,s]),h=(0,fr.useCallback)(B=>{!a||!e||m.mutate({presetId:B,workspaceId:e})},[a,e,m]),w=(0,fr.useCallback)(B=>{!a||!e||g.mutate({presetId:B,workspaceId:e})},[a,e,g]),x=(0,fr.useCallback)(()=>{if(!a||!e||t.length===0)return;let B=p(t),E=JSON.stringify(B);E!==i.current&&(c.mutate({workspaceId:e,layoutData:B}),i.current=E)},[a,e,t,p,c]),_=(0,fr.useCallback)(()=>{!a||r<=0||(n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{x(),_()},r))},[a,r,x]),O=(0,fr.useCallback)(B=>{if(!a)return;let E=p(t,B);i.current=JSON.stringify(E),_()},[a,t,p,_]);return(0,fr.useEffect)(()=>(a&&t.length>0&&_(),()=>{n.current&&clearTimeout(n.current)}),[a,t.length,_]),(0,fr.useEffect)(()=>{if(a&&t.length>0){let B=p(t),E=JSON.stringify(B);if(i.current&&E!==i.current){let ee=JSON.parse(i.current),ae=B;ee.panels.length!==ae.panels.length&&x()}}},[a,t,p,x]),{presets:d,savePreset:f,loadPreset:v,deletePreset:h,setDefaultPreset:w,refetchPresets:u,performAutoSave:x,onLayoutChange:O,isSaving:l.isLoading,isLoading:s.isLoading,isDeleting:m.isLoading,isSettingDefault:g.isLoading,isAutoSaving:c.isLoading,generateLayoutData:p}}var Jr=y(M(),1),ZI=(0,jo.WidthProvider)(jo.Responsive),hC=(0,jo.WidthProvider)(jo.default);function mm({workspaceId:e,className:t}){let[r,a]=(0,Rt.useState)(null),{data:o=[],refetch:n}=X.panel.list.useQuery({workspaceId:e},{staleTime:0,gcTime:6e4,refetchOnWindowFocus:!1,refetchOnMount:"always"}),[i,l]=(0,Rt.useState)(new Set),s=(0,Rt.useMemo)(()=>o.filter(R=>!i.has(R.id)),[o,i]),[c,d]=(0,Rt.useState)(()=>typeof window<"u"?window.innerWidth:1600);(0,Rt.useEffect)(()=>{let R=()=>{let T=document.querySelector(".panel-workspace-container");if(T){let le=T.clientWidth||window.innerWidth;d(le)}};return R(),window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);let{onLayoutChange:u,performAutoSave:m,isAutoSaving:g}=Ul({workspaceId:e,panels:s,autoSaveInterval:3e4,enabled:!1}),p=s.find(R=>{try{return(typeof R.data=="string"?JSON.parse(R.data):R.data)?.isFullscreen===!0}catch{return!1}}),f=X.panel.updatePositions.useMutation({onSuccess:()=>{}}),v=X.panel.toggleFullscreen.useMutation({onSuccess:()=>{n()}}),h=X.panel.toggleMinimize.useMutation({onSuccess:()=>{n()}});(0,Rt.useEffect)(()=>{let R=T=>{T.target instanceof HTMLInputElement||T.target instanceof HTMLTextAreaElement||(T.key==="Escape"&&p&&(T.preventDefault(),v.mutate({id:p.id})),(T.metaKey||T.ctrlKey)&&T.key==="m"&&r&&(T.preventDefault(),h.mutate({id:r})),(T.metaKey||T.ctrlKey)&&T.key==="f"&&r&&(T.preventDefault(),v.mutate({id:r})))};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[p,r,s]);let w=(0,Rt.useCallback)((R,T)=>{n()},[n]),x=(0,Rt.useCallback)(R=>{a(R)},[]),_=(0,Rt.useMemo)(()=>Jm(R=>{R.length>0&&f.mutate({workspaceId:e,updates:R})},100),[e,f]),O=(0,Rt.useCallback)(R=>{if(s.length===0||!R)return;console.log("\u{1F504} Layout Change Handler:",{panelCount:s.length,newLayoutCount:R.length,newLayout:R.map(oe=>({id:oe.i,x:oe.x,y:oe.y,w:oe.w,h:oe.h}))});let le=R.map(oe=>({...oe,w:Math.max(2,Math.min(24,oe.w)),h:Math.max(2,Math.min(50,oe.h))})).filter(oe=>{let F=o.find(G=>G.id===oe.i),q=F&&(F.position_x!==oe.x||F.position_y!==oe.y||F.width!==oe.w||F.height!==oe.h);return q&&F&&console.log("\u{1F504} Panel dimension change detected:",{panelId:F.id,oldDimensions:{x:F.position_x,y:F.position_y,w:F.width,h:F.height},newDimensions:{x:oe.x,y:oe.y,w:oe.w,h:oe.h}}),q}).map(oe=>({id:oe.i,position_x:oe.x,position_y:oe.y,width:oe.w,height:oe.h}));le.length>0&&(console.log("\u{1F4BE} Applying layout updates:",le.length,"panels"),_(le))},[s,_,u,o]),[B,E]=(0,Rt.useState)(null),[ee,ae]=(0,Rt.useState)(!1);(0,Rt.useEffect)(()=>{let R=T=>{T.key==="Escape"&&ee&&B&&console.log("\u{1F504} Escape pressed - snapping back to original layout")};if(ee)return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[ee,B]);let Ae=(0,Rt.useCallback)((R,T,le,oe,F,q)=>{E([...R]),ae(!0),q.style.zIndex="9998",q.style.opacity="0.95",q.style.transition="transform 0.15s ease-out, box-shadow 0.15s ease-out",q.style.transform+=" scale(1.02)",q.style.boxShadow="0 8px 20px rgba(20, 49, 151, 0.15), 0 4px 8px rgba(0,0,0,0.1)",q.style.border="2px solid rgba(20, 49, 151, 0.4)",console.log("\u{1F3AF} Drag started - stored original layout:",{originalCount:R.length,draggedPanel:T.i})},[]),ze=(0,Rt.useCallback)((R,T,le,oe,F,q)=>{q.style.transform=q.style.transform.replace(/scale\([^)]*\)/,"scale(1.02)")},[]),A=(0,Rt.useCallback)((R,T,le,oe,F,q)=>{ae(!1);let G=Math.abs(T.x-le.x)>.1||Math.abs(T.y-le.y)>.1,J=Math.abs(T.w-le.w)>.1||Math.abs(T.h-le.h)>.1;console.log("\u{1F3AF} Drag stopped:",{panelId:le.i,positionChanged:G,sizeChanged:J,oldPos:{x:T.x,y:T.y},newPos:{x:le.x,y:le.y}}),q.style.transition="all 0.3s ease-out",q.style.zIndex="",q.style.opacity="",q.style.transform=q.style.transform.replace(/scale\([^)]*\)/,"").trim(),q.style.boxShadow="",q.style.border="",(G||J)&&(console.log("\u{1F4BE} Saving layout change immediately"),O(R)),setTimeout(()=>{q.style.transition="",E(null)},300)},[O]),L=(0,Rt.useCallback)((R,T,le,oe,F,q)=>{q.style.zIndex="9997",q.style.opacity="0.98",q.style.transition="border 0.15s ease-out",q.style.border="2px solid rgba(31, 187, 101, 0.5)"},[]),H=(0,Rt.useCallback)((R,T,le,oe,F,q)=>{},[]),z=(0,Rt.useCallback)((R,T,le,oe,F,q)=>{q.style.transition="all 0.2s ease-out",q.style.zIndex="",q.style.opacity="",q.style.border="",setTimeout(()=>{q.style.transition=""},200),O(R)},[O]),D=(0,Rt.useMemo)(()=>{let R=s.map(T=>({i:T.id,x:T.position_x,y:T.position_y,w:T.width,h:T.height,minW:2,minH:2,maxW:24,maxH:50,isDraggable:!T.is_locked,isResizable:!T.is_locked}));return console.log("\u{1F4CA} Panel to Grid Layout Conversion:",{panelCount:s.length,panelDimensions:s.map(T=>({id:T.id,w:T.width,h:T.height,x:T.position_x,y:T.position_y})),gridLayout:R.map(T=>({id:T.i,w:T.w,h:T.h,x:T.x,y:T.y,minW:T.minW,minH:T.minH,maxW:T.maxW,maxH:T.maxH}))}),R.forEach(T=>{((T.w||0)<(T.minW||2)||(T.h||0)<(T.minH||2))&&console.warn("\u26A0\uFE0F Panel size below minimum:",T)}),R},[s]),U=24;return s.length===0?(0,Jr.jsx)("div",{className:S("flex items-center justify-center h-full p-8",t),children:(0,Jr.jsxs)("div",{className:"text-center",children:[(0,Jr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No panels yet"}),(0,Jr.jsx)("p",{className:"text-gray-600",children:"Add panels using the toolbar above to get started."})]})}):(0,Jr.jsxs)("div",{className:S("panel-workspace panel-workspace-container h-full flex-1",t),style:{overflowX:"visible",overflowY:"auto",scrollBehavior:"auto"},children:[(0,Jr.jsx)("style",{children:`
        .react-grid-layout {
          position: relative;
          min-height: 100%;
          overflow: visible;
        }
        
        .react-grid-item {
          transition: all 200ms cubic-bezier(0.23, 1, 0.32, 1);
          transition-property: left, top, width, height, transform, box-shadow, border;
          background: white;
          border: 1px solid #e5e7eb;
          border-radius: 12px;
          box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.08), 0 1px 2px -1px rgb(0 0 0 / 0.06);
          will-change: transform, box-shadow;
          cursor: grab;
        }
        
        .react-grid-item:hover {
          box-shadow: 0 4px 12px 0 rgb(0 0 0 / 0.12), 0 2px 4px -2px rgb(0 0 0 / 0.08);
          transform: translateY(-0.5px);
          border-color: rgba(59, 130, 246, 0.3);
          cursor: grab;
        }
        
        .react-grid-item:active {
          cursor: grabbing;
        }
        
        .react-grid-item.react-grid-placeholder {
          background: rgba(34, 197, 94, 0.1);
          border: 2px dashed rgba(34, 197, 94, 0.4);
          border-radius: 12px;
          transition: all 150ms cubic-bezier(0.23, 1, 0.32, 1);
          z-index: 2;
          user-select: none;
          backdrop-filter: blur(2px);
        }
        
        .react-grid-item.react-draggable-dragging {
          transition: none;
          z-index: 9998;
          opacity: 0.95;
          transform: scale(1.02);
          box-shadow: 0 8px 20px rgba(20, 49, 151, 0.15), 0 4px 8px rgba(0, 0, 0, 0.1);
          border: 2px solid rgba(20, 49, 151, 0.4);
          cursor: grabbing;
        }
        
        .react-grid-item.resizing {
          z-index: 9997;
          opacity: 0.95;
          border: 2px solid rgba(31, 187, 101, 0.4);
          box-shadow: 0 8px 24px rgba(31, 187, 101, 0.2), 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .react-grid-item.snapping {
          border: 2px solid rgba(20, 49, 151, 0.6);
          box-shadow: 0 0 0 4px rgba(20, 49, 151, 0.1);
        }

        .react-grid-item.focusing {
          animation: focusPulse 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        @keyframes focusPulse {
          0% { transform: scale(1); }
          50% { transform: scale(1.02); }
          100% { transform: scale(1); }
        }

        .react-grid-layout {
          transition: height 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .react-resizable-handle {
          position: absolute;
          background-color: transparent !important;
          background-image: none !important;
          background: none !important;
        }

        .react-resizable-handle::before,
        .react-resizable-handle::after {
          display: none !important;
          content: none !important;
          background: none !important;
        }

        .react-resizable-handle > * {
          display: none !important;
        }

        .react-resizable-handle-se {
          bottom: 0;
          right: 0;
          width: 20px;
          height: 20px;
          cursor: se-resize;
        }

        .react-resizable-handle-ne {
          top: 0;
          right: 0;
          width: 20px;
          height: 20px;
          cursor: ne-resize;
        }

        .react-resizable-handle-sw {
          bottom: 0;
          left: 0;
          width: 20px;
          height: 20px;
          cursor: sw-resize;
        }

        .react-resizable-handle-nw {
          top: 0;
          left: 0;
          width: 20px;
          height: 20px;
          cursor: nw-resize;
        }

        .react-resizable-handle-e {
          top: 0;
          right: -6px;
          bottom: 0;
          width: 12px;
          cursor: e-resize;
        }

        .react-resizable-handle-w {
          top: 0;
          left: -6px;
          bottom: 0;
          width: 12px;
          cursor: w-resize;
        }

        .react-resizable-handle-n {
          top: -6px;
          left: 0;
          right: 0;
          height: 12px;
          cursor: n-resize;
        }

        .react-resizable-handle-s {
          bottom: -6px;
          left: 0;
          right: 0;
          height: 12px;
          cursor: s-resize;
        }
      `}),(0,Jr.jsx)(hC,{className:"layout",layout:D,cols:U,onLayoutChange:O,isDraggable:!0,isResizable:!0,resizeHandles:["se","e","s","w","n","nw","ne","sw"],margin:[12,12],containerPadding:[16,16],rowHeight:25,draggableHandle:".panel-drag-handle",useCSSTransforms:!0,preventCollision:!1,compactType:"vertical",autoSize:!0,draggableCancel:"input,textarea,button,select,option,.panel-content",transformScale:1,width:Math.max(c,5e3),onDrag:ze,onDragStart:Ae,onDragStop:A,onResize:H,onResizeStart:L,onResizeStop:z,children:o.map(R=>(0,Jr.jsx)("div",{className:"panel-container","data-panel-type":R.type,style:{display:i.has(R.id)?"none":"block"},children:(0,Jr.jsx)(um,{panel:{...R,data:R.data||{}},workspaceId:e,onRefresh:n,onFullscreen:w,onFocus:x})},R.id))})]})}var Qr=y(Q(),1);var s0=y(Q(),1);var Fe=y(Q(),1);var Bt=y(M(),1),[Wl,pL]=Yt("Tooltip",[ya]),$l=ya(),Vb="TooltipProvider",vC=700,pm="tooltip.open",[bC,gm]=Wl(Vb),Xb=e=>{let{__scopeTooltip:t,delayDuration:r=vC,skipDelayDuration:a=300,disableHoverableContent:o=!1,children:n}=e,i=Fe.useRef(!0),l=Fe.useRef(!1),s=Fe.useRef(0);return Fe.useEffect(()=>{let c=s.current;return()=>window.clearTimeout(c)},[]),(0,Bt.jsx)(bC,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:Fe.useCallback(()=>{window.clearTimeout(s.current),i.current=!1},[]),onClose:Fe.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(()=>i.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:Fe.useCallback(c=>{l.current=c},[]),disableHoverableContent:o,children:n})};Xb.displayName=Vb;var Ii="Tooltip",[yC,Li]=Wl(Ii),Jb=e=>{let{__scopeTooltip:t,children:r,open:a,defaultOpen:o,onOpenChange:n,disableHoverableContent:i,delayDuration:l}=e,s=gm(Ii,e.__scopeTooltip),c=$l(t),[d,u]=Fe.useState(null),m=Lt(),g=Fe.useRef(0),p=i??s.disableHoverableContent,f=l??s.delayDuration,v=Fe.useRef(!1),[h,w]=br({prop:a,defaultProp:o??!1,onChange:E=>{E?(s.onOpen(),document.dispatchEvent(new CustomEvent(pm))):s.onClose(),n?.(E)},caller:Ii}),x=Fe.useMemo(()=>h?v.current?"delayed-open":"instant-open":"closed",[h]),_=Fe.useCallback(()=>{window.clearTimeout(g.current),g.current=0,v.current=!1,w(!0)},[w]),O=Fe.useCallback(()=>{window.clearTimeout(g.current),g.current=0,w(!1)},[w]),B=Fe.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{v.current=!0,w(!0),g.current=0},f)},[f,w]);return Fe.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),(0,Bt.jsx)(yo,{...c,children:(0,Bt.jsx)(yC,{scope:t,contentId:m,open:h,stateAttribute:x,trigger:d,onTriggerChange:u,onTriggerEnter:Fe.useCallback(()=>{s.isOpenDelayedRef.current?B():_()},[s.isOpenDelayedRef,B,_]),onTriggerLeave:Fe.useCallback(()=>{p?O():(window.clearTimeout(g.current),g.current=0)},[O,p]),onOpen:_,onClose:O,disableHoverableContent:p,children:r})})};Jb.displayName=Ii;var fm="TooltipTrigger",Qb=Fe.forwardRef((e,t)=>{let{__scopeTooltip:r,...a}=e,o=Li(fm,r),n=gm(fm,r),i=$l(r),l=Fe.useRef(null),s=St(t,l,o.onTriggerChange),c=Fe.useRef(!1),d=Fe.useRef(!1),u=Fe.useCallback(()=>c.current=!1,[]);return Fe.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),(0,Bt.jsx)(wo,{asChild:!0,...i,children:(0,Bt.jsx)(Be.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...a,ref:s,onPointerMove:ge(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!n.isPointerInTransitRef.current&&(o.onTriggerEnter(),d.current=!0)}),onPointerLeave:ge(e.onPointerLeave,()=>{o.onTriggerLeave(),d.current=!1}),onPointerDown:ge(e.onPointerDown,()=>{o.open&&o.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:ge(e.onFocus,()=>{c.current||o.onOpen()}),onBlur:ge(e.onBlur,o.onClose),onClick:ge(e.onClick,o.onClose)})})});Qb.displayName=fm;var hm="TooltipPortal",[wC,xC]=Wl(hm,{forceMount:void 0}),Zb=e=>{let{__scopeTooltip:t,forceMount:r,children:a,container:o}=e,n=Li(hm,t);return(0,Bt.jsx)(wC,{scope:t,forceMount:r,children:(0,Bt.jsx)(ir,{present:r||n.open,children:(0,Bt.jsx)(rn,{asChild:!0,container:o,children:a})})})};Zb.displayName=hm;var Fn="TooltipContent",e0=Fe.forwardRef((e,t)=>{let r=xC(Fn,e.__scopeTooltip),{forceMount:a=r.forceMount,side:o="top",...n}=e,i=Li(Fn,e.__scopeTooltip);return(0,Bt.jsx)(ir,{present:a||i.open,children:i.disableHoverableContent?(0,Bt.jsx)(t0,{side:o,...n,ref:t}):(0,Bt.jsx)(kC,{side:o,...n,ref:t})})}),kC=Fe.forwardRef((e,t)=>{let r=Li(Fn,e.__scopeTooltip),a=gm(Fn,e.__scopeTooltip),o=Fe.useRef(null),n=St(t,o),[i,l]=Fe.useState(null),{trigger:s,onClose:c}=r,d=o.current,{onPointerInTransitChange:u}=a,m=Fe.useCallback(()=>{l(null),u(!1)},[u]),g=Fe.useCallback((p,f)=>{let v=p.currentTarget,h={x:p.clientX,y:p.clientY},w=PC(h,v.getBoundingClientRect()),x=DC(h,w),_=EC(f.getBoundingClientRect()),O=_C([...x,..._]);l(O),u(!0)},[u]);return Fe.useEffect(()=>()=>m(),[m]),Fe.useEffect(()=>{if(s&&d){let p=v=>g(v,d),f=v=>g(v,s);return s.addEventListener("pointerleave",p),d.addEventListener("pointerleave",f),()=>{s.removeEventListener("pointerleave",p),d.removeEventListener("pointerleave",f)}}},[s,d,g,m]),Fe.useEffect(()=>{if(i){let p=f=>{let v=f.target,h={x:f.clientX,y:f.clientY},w=s?.contains(v)||d?.contains(v),x=!TC(h,i);w?m():x&&(m(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[s,d,i,c,m]),(0,Bt.jsx)(t0,{...e,ref:n})}),[NC,CC]=Wl(Ii,{isInside:!1}),RC=Hi("TooltipContent"),t0=Fe.forwardRef((e,t)=>{let{__scopeTooltip:r,children:a,"aria-label":o,onEscapeKeyDown:n,onPointerDownOutside:i,...l}=e,s=Li(Fn,r),c=$l(r),{onClose:d}=s;return Fe.useEffect(()=>(document.addEventListener(pm,d),()=>document.removeEventListener(pm,d)),[d]),Fe.useEffect(()=>{if(s.trigger){let u=m=>{m.target?.contains(s.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[s.trigger,d]),(0,Bt.jsx)(tn,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:u=>u.preventDefault(),onDismiss:d,children:(0,Bt.jsxs)(sn,{"data-state":s.stateAttribute,...c,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,Bt.jsx)(RC,{children:a}),(0,Bt.jsx)(NC,{scope:r,isInside:!0,children:(0,Bt.jsx)(Pp,{id:s.contentId,role:"tooltip",children:o||a})})]})})});e0.displayName=Fn;var r0="TooltipArrow",SC=Fe.forwardRef((e,t)=>{let{__scopeTooltip:r,...a}=e,o=$l(r);return CC(r0,r).isInside?null:(0,Bt.jsx)(ln,{...o,...a,ref:t})});SC.displayName=r0;function PC(e,t){let r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),n=Math.abs(t.left-e.x);switch(Math.min(r,a,o,n)){case n:return"left";case o:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function DC(e,t,r=5){let a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function EC(e){let{top:t,right:r,bottom:a,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:a},{x:o,y:a}]}function TC(e,t){let{x:r,y:a}=e,o=!1;for(let n=0,i=t.length-1;n<t.length;i=n++){let l=t[n],s=t[i],c=l.x,d=l.y,u=s.x,m=s.y;d>a!=m>a&&r<(u-c)*(a-d)/(m-d)+c&&(o=!o)}return o}function _C(e){let t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),MC(t)}function MC(e){if(e.length<=1)return e.slice();let t=[];for(let a=0;a<e.length;a++){let o=e[a];for(;t.length>=2;){let n=t[t.length-1],i=t[t.length-2];if((n.x-i.x)*(o.y-i.y)>=(n.y-i.y)*(o.x-i.x))t.pop();else break}t.push(o)}t.pop();let r=[];for(let a=e.length-1;a>=0;a--){let o=e[a];for(;r.length>=2;){let n=r[r.length-1],i=r[r.length-2];if((n.x-i.x)*(o.y-i.y)>=(n.y-i.y)*(o.x-i.x))r.pop();else break}r.push(o)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var a0=Xb,o0=Jb,n0=Qb,i0=Zb,vm=e0;var bm=y(M(),1),l0=a0,Uo=o0,Wo=n0,co=s0.forwardRef(({className:e,sideOffset:t=4,...r},a)=>(0,bm.jsx)(i0,{children:(0,bm.jsx)(vm,{ref:a,sideOffset:t,className:S("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r})}));co.displayName=vm.displayName;var Yl=y(Q(),1);var uo=y(Q(),1);var gr=y(M(),1),c0=uo.forwardRef(({className:e,...t},r)=>(0,gr.jsx)(Ct,{ref:r,className:S("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));c0.displayName=Ct.displayName;var d0=({children:e,...t})=>(0,gr.jsx)(Ir,{...t,children:(0,gr.jsx)(wr,{className:"overflow-hidden p-0",children:(0,gr.jsx)(c0,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),ym=uo.forwardRef(({className:e,...t},r)=>(0,gr.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,gr.jsx)(gt,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,gr.jsx)(Ct.Input,{ref:r,className:S("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));ym.displayName=Ct.Input.displayName;var wm=uo.forwardRef(({className:e,...t},r)=>(0,gr.jsx)(Ct.List,{ref:r,className:S("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));wm.displayName=Ct.List.displayName;var xm=uo.forwardRef((e,t)=>(0,gr.jsx)(Ct.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));xm.displayName=Ct.Empty.displayName;var km=uo.forwardRef(({className:e,...t},r)=>(0,gr.jsx)(Ct.Group,{ref:r,className:S("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));km.displayName=Ct.Group.displayName;var IC=uo.forwardRef(({className:e,...t},r)=>(0,gr.jsx)(Ct.Separator,{ref:r,className:S("-mx-1 h-px bg-border",e),...t}));IC.displayName=Ct.Separator.displayName;var Nm=uo.forwardRef(({className:e,...t},r)=>(0,gr.jsx)(Ct.Item,{ref:r,className:S("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));Nm.displayName=Ct.Item.displayName;var Cm=({className:e,...t})=>(0,gr.jsx)("span",{className:S("ml-auto text-xs tracking-widest text-muted-foreground",e),...t});Cm.displayName="CommandShortcut";var Xt=y(M(),1);function Rm({isOpen:e,onOpenChange:t,workspaceId:r,onNavigate:a,onCreatePanel:o,onAction:n}){let[i,l]=(0,Yl.useState)(""),{user:s}=et(),{data:c=[]}=X.activity.getRecent.useQuery({workspaceId:r,limit:10},{enabled:!!r}),{data:d=[]}=X.workspace.list.useQuery(),u=[{id:"quick-task",title:"Create Task",subtitle:"Add new task to Kanban",icon:Ie,shortcut:"\u2318N",action:()=>o?.("KANBAN"),group:"Quick Actions",keywords:["task","todo","create","add","kanban"],priority:10},{id:"quick-note",title:"Create Note",subtitle:"Start writing immediately",icon:Dt,shortcut:"\u2318\u21E7N",action:()=>o?.("NOTES"),group:"Quick Actions",keywords:["note","write","document","create"],priority:9},{id:"quick-event",title:"Schedule Event",subtitle:"Add to calendar",icon:Re,shortcut:"\u2318\u21E7C",action:()=>o?.("CALENDAR"),group:"Quick Actions",keywords:["event","meeting","schedule","calendar"],priority:8},{id:"quick-chat",title:"Start Chat",subtitle:"Message team members",icon:Ba,shortcut:"\u2318/",action:()=>o?.("CHAT"),group:"Quick Actions",keywords:["chat","message","communicate","talk"],priority:7},{id:"ai-analyze",title:"AI Task Analysis",subtitle:"Get insights on your tasks",icon:ho,action:()=>n?.("ai-analyze"),group:"AI Assistant",keywords:["ai","analyze","insights","smart","assistant"],priority:6},{id:"ai-schedule",title:"Smart Scheduling",subtitle:"AI-powered time blocking",icon:va,action:()=>n?.("ai-schedule"),group:"AI Assistant",keywords:["ai","schedule","smart","time","block"],priority:5},{id:"ai-suggest",title:"Task Suggestions",subtitle:"Get AI recommendations",icon:go,action:()=>n?.("ai-suggest"),group:"AI Assistant",keywords:["ai","suggest","recommend","smart"],priority:4},{id:"nav-dashboard",title:"Go to Dashboard",subtitle:"Overview of all projects",icon:Vo,shortcut:"\u23181",action:()=>a?.("/dashboard"),group:"Navigation",keywords:["dashboard","home","overview"],priority:3},{id:"nav-projects",title:"View Projects",subtitle:"All workspace projects",icon:aa,shortcut:"\u23182",action:()=>a?.("/projects"),group:"Navigation",keywords:["projects","folders","workspace"],priority:2},{id:"nav-team",title:"Team Members",subtitle:"View and manage team",icon:dt,shortcut:"\u23183",action:()=>a?.("/team"),group:"Navigation",keywords:["team","members","users","people"],priority:1},{id:"panel-layout-save",title:"Save Layout",subtitle:"Save current panel arrangement",icon:Wi,shortcut:"\u2318S",action:()=>n?.("save-layout"),group:"Panel Management",keywords:["save","layout","panels","arrangement"]},{id:"panel-layout-load",title:"Load Layout",subtitle:"Switch to saved layout",icon:ts,shortcut:"\u2318L",action:()=>n?.("load-layout"),group:"Panel Management",keywords:["load","layout","switch","panels"]},{id:"panel-focus",title:"Focus Mode",subtitle:"Hide all but current panel",icon:Xo,shortcut:"\u2318\u21E7F",action:()=>n?.("focus-mode"),group:"Panel Management",keywords:["focus","hide","minimize","distraction-free"]},{id:"panel-minimize-all",title:"Minimize All",subtitle:"Collapse all panels",icon:Jo,shortcut:"\u2318\u21E7M",action:()=>n?.("minimize-all"),group:"Panel Management",keywords:["minimize","collapse","hide","panels"]},{id:"view-grid",title:"Grid View",subtitle:"Arrange panels in grid",icon:Xi,action:()=>n?.("view-grid"),group:"View Options",keywords:["grid","view","arrange","layout"]},{id:"view-list",title:"List View",subtitle:"Vertical panel layout",icon:Ji,action:()=>n?.("view-list"),group:"View Options",keywords:["list","view","vertical","layout"]},{id:"settings-workspace",title:"Workspace Settings",subtitle:"Configure workspace",icon:Pr,action:()=>a?.("/settings"),group:"Settings",keywords:["settings","configure","workspace","options"]},{id:"settings-profile",title:"Profile Settings",subtitle:"Update your profile",icon:er,action:()=>a?.("/profile"),group:"Settings",keywords:["profile","account","user","settings"]},{id:"logout",title:"Sign Out",subtitle:"Log out of workspace",icon:fo,action:()=>n?.("logout"),group:"Settings",keywords:["logout","sign out","exit","leave"]}],m=d.map(w=>({id:`workspace-${w.id}`,title:`Switch to ${w.name}`,subtitle:`${w.memberCount||0} members`,icon:aa,action:()=>a?.(`/workspace/${w.id}`),group:"Workspaces",keywords:["workspace","switch",w.name.toLowerCase()],priority:w.id===r?10:1})),g=c.map(w=>({id:`recent-${w.id}`,title:w.title||w.name,subtitle:`${w.type} \u2022 ${w.updatedAt}`,icon:w.type==="TASK"?Ie:w.type==="NOTE"?Dt:Re,action:()=>a?.(`/${w.type.toLowerCase()}/${w.id}`),group:"Recent",keywords:["recent",w.title?.toLowerCase(),w.type.toLowerCase()],priority:5})),v=[...u,...m,...g].filter(w=>{if(!i)return!0;let x=i.toLowerCase(),_=w.title.toLowerCase().includes(x),O=w.subtitle?.toLowerCase().includes(x),B=w.keywords?.some(E=>E.includes(x));return _||O||B}).reduce((w,x)=>(w[x.group]||(w[x.group]=[]),w[x.group].push(x),w),{}),h=Object.entries(v).sort(([w],[x])=>{let _={"Quick Actions":1,"AI Assistant":2,Recent:3,Navigation:4,Workspaces:5,"Panel Management":6,"View Options":7,Settings:8};return(_[w]||9)-(_[x]||9)});return(0,Yl.useEffect)(()=>{let w=x=>{(x.metaKey||x.ctrlKey)&&x.key==="k"&&(x.preventDefault(),t(!0)),x.key==="Escape"&&t(!1)};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[t]),(0,Xt.jsxs)(d0,{open:e,onOpenChange:t,children:[(0,Xt.jsx)(ym,{placeholder:"Search commands, create items, or ask AI...",value:i,onValueChange:l}),(0,Xt.jsxs)(wm,{children:[(0,Xt.jsx)(xm,{children:(0,Xt.jsxs)("div",{className:"text-center py-6",children:[(0,Xt.jsx)(qo,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),(0,Xt.jsx)("p",{className:"text-gray-500",children:"No commands found."}),(0,Xt.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Try searching for actions, panels, or navigation"})]})}),h.map(([w,x])=>(0,Xt.jsx)(km,{heading:w,children:x.sort((_,O)=>(O.priority||0)-(_.priority||0)).map(_=>(0,Xt.jsxs)(Nm,{onSelect:()=>{_.action(),t(!1)},className:"flex items-center gap-3 px-3 py-2 hover:bg-gray-50",children:[(0,Xt.jsx)(_.icon,{className:"w-4 h-4 text-gray-500"}),(0,Xt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xt.jsx)("div",{className:"font-medium text-sm",children:_.title}),_.subtitle&&(0,Xt.jsx)("div",{className:"text-xs text-gray-500 truncate",children:_.subtitle})]}),_.shortcut&&(0,Xt.jsx)(Cm,{className:"text-xs",children:_.shortcut}),w==="AI Assistant"&&(0,Xt.jsx)(xe,{variant:"secondary",className:"text-xs px-1.5 py-0.5",children:"AI"})]},_.id))},w))]})]})}var nt=y(M(),1);function Sm({isOpen:e,onOpenChange:t}){return(0,nt.jsx)(Ir,{open:e,onOpenChange:t,children:(0,nt.jsxs)(wr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,nt.jsx)(ca,{children:(0,nt.jsxs)(da,{className:"flex items-center space-x-2",children:[(0,nt.jsx)(Xl,{className:"w-5 h-5"}),(0,nt.jsx)("span",{children:"Keyboard Shortcuts"})]})}),(0,nt.jsxs)("div",{className:"mt-6",children:[(0,nt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[{title:"Essential Commands",shortcuts:[{key:"\u2318K",description:"Open command palette",icon:qo},{key:"\u2318N",description:"Quick add task",icon:Ie},{key:"\u2318/",description:"Focus search",icon:gt},{key:"\u2318\u21E7F",description:"Focus mode",icon:Xo},{key:"\u2318\u21E7A",description:"AI assistant",icon:va},{key:"\u2318?",description:"Show shortcuts",icon:Xl}]},{title:"Panel Creation",shortcuts:[{key:"\u2318\u21E7N",description:"Create note",icon:Dt},{key:"\u2318\u21E7C",description:"Create calendar event",icon:Re},{key:"\u2318\u21E7M",description:"Start chat",icon:Ba},{key:"\u2318\u21E7K",description:"Create kanban board",icon:Vo}]},{title:"Layout Management",shortcuts:[{key:"\u2318S",description:"Save layout",icon:Wi},{key:"\u2318L",description:"Load layout",icon:Vo},{key:"\u2318\u21E7M",description:"Minimize all panels",icon:Jo},{key:"\u2318\u21E7R",description:"Refresh workspace",icon:ja}]},{title:"Navigation",shortcuts:[{key:"\u23181",description:"Go to dashboard",icon:Vo},{key:"\u23182",description:"View projects",icon:aa},{key:"\u23183",description:"Team members",icon:er},{key:"\u23184",description:"Settings",icon:Pr}]},{title:"Content Actions",shortcuts:[{key:"\u2318D",description:"Duplicate item",icon:op},{key:"\u2318\u21E7S",description:"Share item",icon:bp},{key:"\u2318\u21E7D",description:"Download/Export",icon:Rr},{key:"\u2318\u21E7U",description:"Upload file",icon:ha}]},{title:"Organization",shortcuts:[{key:"\u2318F",description:"Filter items",icon:Fa},{key:"\u2318\u21E7O",description:"Sort items",icon:Zm},{key:"\u2318G",description:"Grid view",icon:Xi},{key:"\u2318\u21E7L",description:"List view",icon:Ji}]},{title:"Quick Actions",shortcuts:[{key:"\u2318\u21E7\u2B50",description:"Star/Favorite",icon:go},{key:"\u2318\u21E7A",description:"Archive item",icon:Qm},{key:"\u2318\u21E7\u232B",description:"Delete item",icon:Np},{key:"\u2318\u21E7Q",description:"Sign out",icon:fo}]},{title:"AI & Analytics",shortcuts:[{key:"\u2318\u21E7I",description:"AI insights",icon:ho},{key:"\u2318\u21E7T",description:"Task suggestions",icon:va},{key:"\u2318\u21E7P",description:"Performance analytics",icon:ho}]}].map((a,o)=>(0,nt.jsxs)("div",{className:"space-y-3",children:[(0,nt.jsx)("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wide",children:a.title}),(0,nt.jsx)("div",{className:"space-y-2",children:a.shortcuts.map((n,i)=>(0,nt.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-gray-50 group",children:[(0,nt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,nt.jsx)(n.icon,{className:"w-4 h-4 text-gray-500 group-hover:text-gray-700"}),(0,nt.jsx)("span",{className:"text-sm text-gray-700 group-hover:text-gray-900",children:n.description})]}),(0,nt.jsx)(xe,{variant:"outline",className:"text-xs font-mono",children:n.key})]},i))})]},o))}),(0,nt.jsxs)("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,nt.jsx)("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Pro Tips"}),(0,nt.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,nt.jsx)("li",{children:"\u2022 Use \u2318K to access the command palette for any action"}),(0,nt.jsx)("li",{children:"\u2022 Hold \u2318 and click to open items in new panels"}),(0,nt.jsx)("li",{children:"\u2022 Use \u2318\u21E7F to enter focus mode and eliminate distractions"}),(0,nt.jsx)("li",{children:"\u2022 Create custom shortcuts in Settings \u2192 Keyboard"}),(0,nt.jsx)("li",{children:"\u2022 Most shortcuts work across all panels and contexts"})]})]}),(0,nt.jsx)("div",{className:"mt-4 text-center",children:(0,nt.jsxs)("p",{className:"text-xs text-gray-500",children:["Press ",(0,nt.jsx)(xe,{variant:"outline",className:"text-xs",children:"ESC"})," to close this dialog"]})})]})]})})}var Kl=y(Q(),1);var $o=y(Q(),1);var Br=y(Q(),1);var hr=y(M(),1),u0="AlertDialog",[LC,aO]=Yt(u0,[tc]),La=tc(),m0=e=>{let{__scopeAlertDialog:t,...r}=e,a=La(t);return(0,hr.jsx)(an,{...a,...r,modal:!0})};m0.displayName=u0;var OC="AlertDialogTrigger",p0=Br.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,o=La(r);return(0,hr.jsx)(ds,{...o,...a,ref:t})});p0.displayName=OC;var zC="AlertDialogPortal",f0=e=>{let{__scopeAlertDialog:t,...r}=e,a=La(t);return(0,hr.jsx)(on,{...a,...r})};f0.displayName=zC;var FC="AlertDialogOverlay",g0=Br.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,o=La(r);return(0,hr.jsx)(vo,{...o,...a,ref:t})});g0.displayName=FC;var Bn="AlertDialogContent",[BC,HC]=LC(Bn),jC=Hi("AlertDialogContent"),h0=Br.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:a,...o}=e,n=La(r),i=Br.useRef(null),l=St(t,i),s=Br.useRef(null);return(0,hr.jsx)(Sp,{contentName:Bn,titleName:v0,docsSlug:"alert-dialog",children:(0,hr.jsx)(BC,{scope:r,cancelRef:s,children:(0,hr.jsxs)(bo,{role:"alertdialog",...n,...o,ref:l,onOpenAutoFocus:ge(o.onOpenAutoFocus,c=>{c.preventDefault(),s.current?.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[(0,hr.jsx)(jC,{children:a}),(0,hr.jsx)(WC,{contentRef:i})]})})})});h0.displayName=Bn;var v0="AlertDialogTitle",b0=Br.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,o=La(r);return(0,hr.jsx)(Kn,{...o,...a,ref:t})});b0.displayName=v0;var y0="AlertDialogDescription",w0=Br.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,o=La(r);return(0,hr.jsx)(Gn,{...o,...a,ref:t})});w0.displayName=y0;var UC="AlertDialogAction",x0=Br.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,o=La(r);return(0,hr.jsx)(qn,{...o,...a,ref:t})});x0.displayName=UC;var k0="AlertDialogCancel",N0=Br.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,{cancelRef:o}=HC(k0,r),n=La(r),i=St(t,o);return(0,hr.jsx)(qn,{...n,...a,ref:i})});N0.displayName=k0;var WC=({contentRef:e})=>{let t=`\`${Bn}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Bn}\` by passing a \`${y0}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Bn}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return Br.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},C0=m0,R0=p0,S0=f0,Pm=g0,Dm=h0,Em=x0,Tm=N0,_m=b0,Mm=w0;var Wr=y(M(),1),P0=C0,D0=R0,YC=S0,E0=$o.forwardRef(({className:e,...t},r)=>(0,Wr.jsx)(Pm,{className:S("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));E0.displayName=Pm.displayName;var Am=$o.forwardRef(({className:e,...t},r)=>(0,Wr.jsxs)(YC,{children:[(0,Wr.jsx)(E0,{}),(0,Wr.jsx)(Dm,{ref:r,className:S("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Am.displayName=Dm.displayName;var Im=({className:e,...t})=>(0,Wr.jsx)("div",{className:S("flex flex-col space-y-2 text-center sm:text-left",e),...t});Im.displayName="AlertDialogHeader";var Lm=({className:e,...t})=>(0,Wr.jsx)("div",{className:S("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Lm.displayName="AlertDialogFooter";var Om=$o.forwardRef(({className:e,...t},r)=>(0,Wr.jsx)(_m,{ref:r,className:S("text-lg font-semibold",e),...t}));Om.displayName=_m.displayName;var zm=$o.forwardRef(({className:e,...t},r)=>(0,Wr.jsx)(Mm,{ref:r,className:S("text-sm text-muted-foreground",e),...t}));zm.displayName=Mm.displayName;var Fm=$o.forwardRef(({className:e,...t},r)=>(0,Wr.jsx)(Em,{ref:r,className:S(Yo(),e),...t}));Fm.displayName=Em.displayName;var Bm=$o.forwardRef(({className:e,...t},r)=>(0,Wr.jsx)(Tm,{ref:r,className:S(Yo({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Bm.displayName=Tm.displayName;var re=y(M(),1);function Hm({workspaceId:e,panels:t,className:r}){let[a,o]=(0,Kl.useState)(!1),[n,i]=(0,Kl.useState)(!1),[l,s]=(0,Kl.useState)({name:"",description:"",isDefault:!1}),{presets:c,savePreset:d,loadPreset:u,deletePreset:m,setDefaultPreset:g,performAutoSave:p,isSaving:f,isLoading:v,isDeleting:h,isSettingDefault:w,isAutoSaving:x,refetchPresets:_}=Ul({workspaceId:e,panels:t,enabled:!0}),O=()=>{l.name.trim()&&(d(l.name.trim(),l.description.trim()||void 0,l.isDefault),s({name:"",description:"",isDefault:!1}),o(!1))},B=A=>{u(A),i(!1)},E=A=>{m(A)},ee=A=>{g(A)},ae=()=>{p()},Ae=A=>new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ze=t.length>0;return(0,re.jsxs)("div",{className:S("flex items-center gap-2",r),children:[x&&(0,re.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,re.jsx)(kt,{className:"w-3 h-3 animate-spin"}),(0,re.jsx)("span",{children:"Saving..."})]}),(0,re.jsxs)(Ir,{open:a,onOpenChange:o,children:[(0,re.jsx)(_c,{asChild:!0,children:(0,re.jsxs)(C,{variant:"outline",size:"sm",disabled:t.length===0,className:"flex items-center gap-2",children:[(0,re.jsx)(Rr,{className:"w-4 h-4"}),(0,re.jsx)("span",{className:"hidden sm:inline",children:"Save Layout"})]})}),(0,re.jsxs)(wr,{className:"sm:max-w-md",children:[(0,re.jsxs)(ca,{children:[(0,re.jsx)(da,{children:"Save Layout Preset"}),(0,re.jsx)(hn,{children:"Save your current panel arrangement as a reusable layout preset."})]}),(0,re.jsxs)("div",{className:"space-y-4",children:[(0,re.jsxs)("div",{children:[(0,re.jsx)(Tt,{htmlFor:"preset-name",children:"Preset Name"}),(0,re.jsx)(Ee,{id:"preset-name",label:"Preset Name",value:l.name,onChange:A=>s(L=>({...L,name:A.target.value})),className:"mt-1"})]}),(0,re.jsxs)("div",{children:[(0,re.jsx)(Tt,{htmlFor:"preset-description",children:"Description (Optional)"}),(0,re.jsx)(ba,{id:"preset-description",value:l.description,onChange:A=>s(L=>({...L,description:A.target.value})),placeholder:"Describe this layout arrangement...",className:"mt-1",rows:3})]}),(0,re.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,re.jsx)("input",{type:"checkbox",id:"is-default",checked:l.isDefault,onChange:A=>s(L=>({...L,isDefault:A.target.checked})),className:"rounded border-gray-300"}),(0,re.jsx)(Tt,{htmlFor:"is-default",className:"text-sm",children:"Set as default layout for this workspace"})]})]}),(0,re.jsxs)(Ps,{children:[(0,re.jsx)(C,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),(0,re.jsxs)(C,{onClick:O,disabled:!l.name.trim()||f,children:[f?(0,re.jsx)(kt,{className:"w-4 h-4 mr-2 animate-spin"}):(0,re.jsx)(rs,{className:"w-4 h-4 mr-2"}),"Save Preset"]})]})]})]}),(0,re.jsxs)(Ir,{open:n,onOpenChange:i,children:[(0,re.jsx)(_c,{asChild:!0,children:(0,re.jsxs)(C,{variant:"outline",size:"sm",disabled:c.length===0,className:"flex items-center gap-2",children:[(0,re.jsx)(ha,{className:"w-4 h-4"}),(0,re.jsx)("span",{className:"hidden sm:inline",children:"Load Layout"})]})}),(0,re.jsxs)(wr,{className:"sm:max-w-lg",children:[(0,re.jsxs)(ca,{children:[(0,re.jsx)(da,{children:"Load Layout Preset"}),(0,re.jsx)(hn,{children:"Choose a saved layout to restore your panel arrangement."})]}),(0,re.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:c.length===0?(0,re.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,re.jsx)(mo,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,re.jsx)("p",{children:"No saved layout presets yet."}),(0,re.jsx)("p",{className:"text-sm",children:"Save your current layout to get started."})]}):c.map(A=>(0,re.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[(0,re.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,re.jsxs)("div",{className:"flex items-center gap-2",children:[(0,re.jsx)("h4",{className:"font-medium truncate",children:A.name}),A.isDefault&&(0,re.jsxs)(xe,{variant:"secondary",className:"flex items-center gap-1",children:[(0,re.jsx)(go,{className:"w-3 h-3"}),"Default"]})]}),A.description&&(0,re.jsx)("p",{className:"text-sm text-gray-600 truncate mt-1",children:A.description}),(0,re.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Created ",Ae(A.createdAt)]})]}),(0,re.jsxs)("div",{className:"flex items-center gap-1 ml-3",children:[(0,re.jsx)(C,{variant:"ghost",size:"sm",onClick:()=>B(A.id),disabled:v,className:"text-blue-600 hover:text-blue-700",children:v?(0,re.jsx)(kt,{className:"w-4 h-4 animate-spin"}):(0,re.jsx)(ha,{className:"w-4 h-4"})}),!A.isDefault&&(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(C,{variant:"ghost",size:"sm",onClick:()=>ee(A.id),disabled:w,className:"text-orange-600 hover:text-orange-700",title:"Set as default",children:(0,re.jsx)(go,{className:"w-4 h-4"})}),(0,re.jsxs)(P0,{children:[(0,re.jsx)(D0,{asChild:!0,children:(0,re.jsx)(C,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:(0,re.jsx)(Dr,{className:"w-4 h-4"})})}),(0,re.jsxs)(Am,{children:[(0,re.jsxs)(Im,{children:[(0,re.jsx)(Om,{children:"Delete Layout Preset"}),(0,re.jsxs)(zm,{children:['Are you sure you want to delete "',A.name,'"? This action cannot be undone.']})]}),(0,re.jsxs)(Lm,{children:[(0,re.jsx)(Bm,{children:"Cancel"}),(0,re.jsx)(Fm,{onClick:()=>E(A.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})]})]},A.id))}),(0,re.jsx)(Ps,{children:(0,re.jsx)(C,{variant:"outline",onClick:()=>i(!1),children:"Close"})})]})]})]})}var N=y(M(),1),Hn=[{type:"KANBAN",icon:Gi,label:"Kanban",description:"Task management with drag-and-drop columns",defaultTitle:"New Kanban"},{type:"CHAT",icon:_t,label:"Chat",description:"Team communication and messaging",defaultTitle:"Team Chat"},{type:"AI_CHAT",icon:$i,label:"AI Assistant",description:"Gemini 2.5 Flash AI-powered assistant",defaultTitle:"AI Assistant"},{type:"CALENDAR",icon:Re,label:"Calendar",description:"Schedule and event management",defaultTitle:"Calendar"},{type:"NOTES",icon:na,label:"Notes",description:"Quick notes and documentation",defaultTitle:"Notes"},{type:"EMAIL",icon:Sr,label:"Email",description:"Email management and communication",defaultTitle:"Email"},{type:"CONTACTS",icon:dt,label:"Contacts",description:"Contact and customer management",defaultTitle:"Contacts"}];function jm({workspaceId:e,panels:t=[],currentPanel:r,onNavigate:a,onCreatePanel:o,onAction:n,className:i}){let[l,s]=(0,Qr.useState)(!1),[c,d]=(0,Qr.useState)(!1),[u,m]=(0,Qr.useState)(!1),[g,p]=(0,Qr.useState)(navigator.onLine),[f,v]=(0,Qr.useState)(""),[h,w]=(0,Qr.useState)(null),[x,_]=(0,Qr.useState)(""),{user:O}=et(),B=X.useUtils(),{data:E=[]}=X.workspace.list.useQuery(),{data:ee}=X.workspace.findById.useQuery({id:e},{enabled:!!e}),{data:ae=[]}=X.notification.list.useQuery({workspaceId:e,unreadOnly:!0},{enabled:!!e}),{data:Ae=[]}=X.kanban.list.useQuery({workspaceId:e}),{data:ze=[]}=X.chat.listThreads.useQuery({workspaceId:e}),A=X.panel.create.useMutation({onSuccess:()=>{B.panel.list.invalidate({workspaceId:e}),m(!1),w(null),_("")}}),L=X.panel.toggleMinimizeAll.useMutation({onSuccess:()=>B.panel.list.invalidate({workspaceId:e})}),H=X.panel.toggleLockAll.useMutation({onSuccess:()=>B.panel.list.invalidate({workspaceId:e})}),z=X.panel.deleteAll.useMutation({onSuccess:()=>B.panel.list.invalidate({workspaceId:e})}),D=X.panel.exitAllFullscreen.useMutation({onSuccess:()=>B.panel.list.invalidate({workspaceId:e})});(0,Qr.useEffect)(()=>{let P=()=>p(!0),k=()=>p(!1);return window.addEventListener("online",P),window.addEventListener("offline",k),()=>{window.removeEventListener("online",P),window.removeEventListener("offline",k)}},[]),(0,Qr.useEffect)(()=>{let P=k=>{(k.metaKey||k.ctrlKey)&&k.key==="k"&&(k.preventDefault(),s(!0)),(k.metaKey||k.ctrlKey)&&k.key==="n"&&(k.preventDefault(),U("KANBAN")),(k.metaKey||k.ctrlKey)&&k.key==="?"&&(k.preventDefault(),d(!0))};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[]);let U=P=>{let k=Hn.find(Ne=>Ne.type===P);if(!k)return;let Z={workspaceId:e},ne={width:4,height:3};P==="KANBAN"?(ne={width:8,height:6},Z={workspaceId:e,createNew:!0}):P==="CHAT"?(ne={width:4,height:5},Z={workspaceId:e,createNew:!0}):P==="NOTES"&&(ne={width:6,height:5},Z={workspaceId:e,createNew:!0}),A.mutate({type:P,title:k.defaultTitle,workspaceId:e,position:{x:0,y:0},size:ne,data:Z}),o?.(P)},R=()=>{if(!h)return;let P=Hn.find(Ne=>Ne.type===h);if(!P)return;let k=x.trim()||P.defaultTitle,Z={workspaceId:e,createNew:!0},ne={width:4,height:3};h==="KANBAN"?ne={width:8,height:6}:h==="CHAT"?ne={width:4,height:5}:h==="NOTES"&&(ne={width:6,height:5}),A.mutate({type:h,title:k,workspaceId:e,position:{x:0,y:0},size:ne,data:Z})},T=()=>{let P=t.some(k=>k.is_minimized);L.mutate({workspaceId:e,minimize:!P})},le=()=>{let P=t.some(k=>k.is_locked);H.mutate({workspaceId:e,lock:!P})},oe=()=>{confirm(`Delete all ${t.length} panels in this workspace?`)&&z.mutate({workspaceId:e})},F=()=>{D.mutate({workspaceId:e})},q=t.some(P=>P.is_minimized),G=t.some(P=>P.is_locked),J=t.some(P=>{try{return(typeof P.data=="string"?JSON.parse(P.data):P.data)?.isFullscreen===!0}catch{return!1}});return(0,N.jsx)(l0,{children:(0,N.jsxs)("header",{className:S("h-16 bg-white border-b border-gray-200 px-4 flex items-center justify-between shadow-sm",i),children:[(0,N.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,N.jsxs)(so,{children:[(0,N.jsx)(lo,{asChild:!0,children:(0,N.jsx)(C,{variant:"ghost",className:"h-10 px-3 hover:bg-gray-50",children:(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,N.jsx)(aa,{className:"w-4 h-4 text-krushr-primary"}),(0,N.jsx)("span",{className:"font-semibold text-gray-900 max-w-32 truncate",children:ee?.name||"Workspace"}),(0,N.jsx)(Zt,{className:"w-4 h-4 text-gray-500"})]})})}),(0,N.jsxs)(Ia,{align:"start",className:"w-64",children:[(0,N.jsx)(Ho,{children:"Switch Workspace"}),(0,N.jsx)(pr,{}),E.map(P=>(0,N.jsxs)(at,{onClick:()=>a?.(`/workspace/${P.id}`),className:"flex items-center space-x-3 p-3",children:[(0,N.jsx)(aa,{className:"w-4 h-4 text-gray-500"}),(0,N.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,N.jsx)("div",{className:"font-medium text-sm truncate",children:P.name}),(0,N.jsxs)("div",{className:"text-xs text-gray-500",children:[P.memberCount||0," members"]})]}),P.id===e&&(0,N.jsx)(xe,{variant:"secondary",className:"text-xs",children:"Current"})]},P.id)),(0,N.jsx)(pr,{}),(0,N.jsxs)(at,{onClick:()=>a?.("/workspaces/new"),children:[(0,N.jsx)(Ie,{className:"w-4 h-4 mr-2"}),"Create Workspace"]})]})]}),(0,N.jsx)(Hm,{workspaceId:e,panels:t})]}),(0,N.jsx)("div",{className:"flex-1 max-w-2xl mx-8",children:(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)(gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,N.jsx)(Eo,{placeholder:"Search workspace or type \u2318K for commands...",value:f,onChange:P=>v(P.target.value),className:"pl-10 pr-20 h-9 bg-gray-50 border-gray-200 focus:bg-white focus:border-krushr-primary",onFocus:()=>s(!0)}),(0,N.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-1",children:(0,N.jsx)("kbd",{className:"px-1.5 py-0.5 text-xs font-medium bg-gray-100 border border-gray-200 rounded",children:"\u2318K"})})]})}),(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,N.jsxs)("div",{className:"flex items-center space-x-1",children:[Hn.slice(0,4).map(({type:P,icon:k,label:Z})=>(0,N.jsxs)(Uo,{children:[(0,N.jsx)(Wo,{asChild:!0,children:(0,N.jsx)(C,{variant:"outline",size:"sm",onClick:()=>U(P),disabled:A.isLoading,className:"h-8 w-8 p-0 hover:bg-krushr-secondary hover:text-white",children:(0,N.jsx)(k,{className:"w-4 h-4"})})}),(0,N.jsx)(co,{children:(0,N.jsxs)("span",{className:"text-xs",children:["Add ",Z]})})]},P)),(0,N.jsxs)(so,{children:[(0,N.jsx)(lo,{asChild:!0,children:(0,N.jsx)(C,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:(0,N.jsx)(Ie,{className:"w-4 h-4"})})}),(0,N.jsxs)(Ia,{align:"end",children:[(0,N.jsx)(Ho,{children:"More Panels"}),(0,N.jsx)(pr,{}),Hn.slice(4).map(({type:P,icon:k,label:Z})=>(0,N.jsxs)(at,{onClick:()=>U(P),className:"flex items-center gap-2",children:[(0,N.jsx)(k,{className:"w-4 h-4"}),Z]},P)),(0,N.jsx)(pr,{}),(0,N.jsxs)(at,{onClick:()=>m(!0),children:[(0,N.jsx)(Ql,{className:"w-4 h-4 mr-2"}),"Custom Panel..."]})]})]})]}),t.length>0&&(0,N.jsxs)(so,{children:[(0,N.jsx)(lo,{asChild:!0,children:(0,N.jsx)(C,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:(0,N.jsx)(Ql,{className:"w-4 h-4"})})}),(0,N.jsxs)(Ia,{align:"end",className:"w-48",children:[(0,N.jsx)(Ho,{children:"Panel Controls"}),(0,N.jsx)(pr,{}),(0,N.jsx)(at,{onClick:T,disabled:L.isPending,className:"flex items-center gap-2",children:q?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(Zi,{className:"w-4 h-4"}),"Restore All"]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)($n,{className:"w-4 h-4"}),"Minimize All"]})}),(0,N.jsx)(at,{onClick:le,disabled:H.isPending,className:"flex items-center gap-2",children:G?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(Qi,{className:"w-4 h-4"}),"Unlock All"]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(oa,{className:"w-4 h-4"}),"Lock All"]})}),J&&(0,N.jsxs)(at,{onClick:F,disabled:D.isPending,className:"flex items-center gap-2",children:[(0,N.jsx)($n,{className:"w-4 h-4"}),"Exit All Fullscreen"]}),(0,N.jsx)(pr,{}),(0,N.jsxs)(at,{onClick:oe,disabled:z.isPending,className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[(0,N.jsx)(Dr,{className:"w-4 h-4"}),"Delete All Panels"]})]})]}),(0,N.jsxs)(Uo,{children:[(0,N.jsx)(Wo,{asChild:!0,children:(0,N.jsx)(C,{size:"sm",onClick:()=>s(!0),className:"h-8 w-8 p-0 bg-krushr-info hover:bg-krushr-info/90 text-white",children:(0,N.jsx)(qo,{className:"w-4 h-4"})})}),(0,N.jsx)(co,{children:(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("div",{className:"font-medium",children:"Command Palette"}),(0,N.jsx)("div",{className:"text-xs opacity-70",children:"\u2318K"})]})})]}),(0,N.jsxs)(Uo,{children:[(0,N.jsx)(Wo,{asChild:!0,children:(0,N.jsx)(C,{size:"sm",onClick:()=>n?.("ai-assistant"),className:"h-8 w-8 p-0 bg-krushr-success hover:bg-krushr-success/90 text-white",children:(0,N.jsx)(va,{className:"w-4 h-4"})})}),(0,N.jsx)(co,{children:(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("div",{className:"font-medium",children:"AI Assistant"}),(0,N.jsx)("div",{className:"text-xs opacity-70",children:"\u2318\u21E7A"})]})})]}),(0,N.jsxs)(Uo,{children:[(0,N.jsx)(Wo,{asChild:!0,children:(0,N.jsx)(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:g?(0,N.jsx)(ec,{className:"w-4 h-4 text-krushr-success"}):(0,N.jsx)(ec,{className:"w-4 h-4 text-krushr-warning"})})}),(0,N.jsx)(co,{children:(0,N.jsx)("span",{className:"text-xs",children:g?"Connected":"Offline"})})]}),(0,N.jsxs)(Uo,{children:[(0,N.jsx)(Wo,{asChild:!0,children:(0,N.jsxs)(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 relative",children:[(0,N.jsx)(nr,{className:"w-4 h-4"}),ae.length>0&&(0,N.jsx)(xe,{className:"absolute -top-1 -right-1 h-4 w-4 p-0 text-xs bg-krushr-secondary",children:ae.length>9?"9+":ae.length})]})}),(0,N.jsx)(co,{children:(0,N.jsx)("span",{className:"text-xs",children:ae.length>0?`${ae.length} new notifications`:"No notifications"})})]}),(0,N.jsxs)(so,{children:[(0,N.jsx)(lo,{asChild:!0,children:(0,N.jsx)(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,N.jsx)(ga,{className:"w-4 h-4"})})}),(0,N.jsxs)(Ia,{align:"end",className:"w-56",children:[(0,N.jsx)(Ho,{children:"Global Controls"}),(0,N.jsx)(pr,{}),(0,N.jsxs)(at,{onClick:()=>n?.("save-layout"),children:["Save Layout",(0,N.jsx)(On,{children:"\u2318S"})]}),(0,N.jsxs)(at,{onClick:()=>n?.("load-layout"),children:["Load Layout",(0,N.jsx)(On,{children:"\u2318L"})]}),(0,N.jsxs)(at,{onClick:()=>n?.("focus-mode"),children:["Focus Mode",(0,N.jsx)(On,{children:"\u2318\u21E7F"})]}),(0,N.jsx)(pr,{}),(0,N.jsxs)(at,{onClick:()=>d(!0),children:["Keyboard Shortcuts",(0,N.jsx)(On,{children:"\u2318?"})]})]})]}),(0,N.jsxs)(Uo,{children:[(0,N.jsx)(Wo,{asChild:!0,children:(0,N.jsx)(C,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>a?.("/settings"),children:(0,N.jsx)(Pr,{className:"w-4 h-4"})})}),(0,N.jsx)(co,{children:(0,N.jsx)("span",{className:"text-xs",children:"Settings"})})]}),(0,N.jsxs)(so,{children:[(0,N.jsx)(lo,{asChild:!0,children:(0,N.jsx)(C,{variant:"ghost",className:"h-8 w-8 p-0 rounded-full",children:(0,N.jsxs)(st,{className:"h-8 w-8",children:[(0,N.jsx)(At,{src:O?.avatar}),(0,N.jsx)(lt,{className:"text-xs bg-krushr-primary text-white",children:O?.name?.charAt(0)?.toUpperCase()||"U"})]})})}),(0,N.jsxs)(Ia,{align:"end",className:"w-56",children:[(0,N.jsx)(Ho,{children:(0,N.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,N.jsx)("p",{className:"text-sm font-medium",children:O?.name||"User"}),(0,N.jsx)("p",{className:"text-xs text-gray-500",children:O?.email})]})}),(0,N.jsx)(pr,{}),(0,N.jsx)(at,{onClick:()=>a?.("/profile"),children:"Profile Settings"}),(0,N.jsx)(at,{onClick:()=>a?.("/preferences"),children:"Preferences"}),(0,N.jsx)(pr,{}),(0,N.jsx)(at,{onClick:()=>n?.("logout"),children:"Sign Out"})]})]})]}),(0,N.jsx)(Ir,{open:u,onOpenChange:m,children:(0,N.jsxs)(wr,{className:"sm:max-w-md",children:[(0,N.jsxs)(ca,{children:[(0,N.jsx)(da,{children:"Create Custom Panel"}),(0,N.jsx)(hn,{children:"Choose a panel type and customize its settings."})]}),(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Panel Type"}),(0,N.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Hn.map(({type:P,icon:k,label:Z,description:ne})=>(0,N.jsxs)("button",{onClick:()=>w(P),className:S("p-3 border rounded-lg text-left transition-all",h===P?"border-krushr-primary bg-krushr-primary/5":"border-gray-200 hover:border-gray-300"),children:[(0,N.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,N.jsx)(k,{className:"w-4 h-4 text-krushr-secondary"}),(0,N.jsx)("span",{className:"font-medium text-sm",children:Z})]}),(0,N.jsx)("p",{className:"text-xs text-gray-600",children:ne})]},P))})]}),h&&(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Panel Title"}),(0,N.jsx)(Ee,{label:"Panel Title",placeholder:Hn.find(P=>P.type===h)?.defaultTitle,value:x,onChange:P=>_(P.target.value)})]}),(0,N.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,N.jsx)(C,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),(0,N.jsxs)(C,{onClick:R,disabled:!h||A.isLoading,className:"bg-krushr-primary hover:bg-krushr-primary/90",children:[A.isLoading?(0,N.jsx)(kt,{className:"w-4 h-4 mr-2 animate-spin"}):(0,N.jsx)(Ie,{className:"w-4 h-4 mr-2"}),"Create Panel"]})]})]})]})}),(0,N.jsx)(Rm,{isOpen:l,onOpenChange:s,workspaceId:e,onNavigate:a,onCreatePanel:o,onAction:n}),(0,N.jsx)(Sm,{isOpen:c,onOpenChange:d})]})})}var Hr=y(M(),1);function Um({workspaceId:e}){return(0,Hr.jsxs)("header",{className:"h-16 bg-white border-b border-gray-200 px-4 flex items-center justify-between shadow-sm",children:[(0,Hr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Hr.jsx)("div",{className:"text-lg font-semibold text-blue-600",children:"\u{1F680} Enhanced Workspace Header"}),(0,Hr.jsx)("button",{className:"px-3 py-1 bg-blue-500 text-white rounded text-sm",children:"Quick Add"}),(0,Hr.jsx)("button",{className:"px-3 py-1 bg-green-500 text-white rounded text-sm",children:"Command \u2318K"})]}),(0,Hr.jsx)("div",{className:"flex-1 max-w-md mx-8",children:(0,Hr.jsx)("input",{type:"text",placeholder:"Search workspace or press \u2318K...",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})}),(0,Hr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Hr.jsx)("button",{className:"px-3 py-1 bg-gray-500 text-white rounded text-sm",children:"Sync"}),(0,Hr.jsx)("button",{className:"px-3 py-1 bg-purple-500 text-white rounded text-sm",children:"Notifications"}),(0,Hr.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm",children:"U"})]})]})}var $t=y(M(),1);function Oi(){let e=bt(),{workspaceId:t}=vc(),{data:r,isLoading:a}=X.workspace.list.useQuery(void 0,{staleTime:3e5,cacheTime:6e5}),o=t?r?.find(c=>c.id===t):r?.find(c=>c._count.projects>0||c._count.teams>0||c._count.kanbans>0)||r?.[0],{data:n=[]}=X.panel.list.useQuery({workspaceId:o?.id??""},{enabled:!!o?.id,staleTime:6e4,cacheTime:3e5});if(a)return(0,$t.jsx)(ct,{children:(0,$t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,$t.jsxs)("div",{className:"text-center",children:[(0,$t.jsx)(kt,{className:"w-8 h-8 mx-auto mb-2 animate-spin text-krushr-primary"}),(0,$t.jsx)("p",{className:"text-gray-600",children:"Loading workspace..."})]})})});if(!o)return(0,$t.jsx)(ct,{children:(0,$t.jsxs)("div",{className:"flex flex-col min-h-full",style:{backgroundColor:"hsl(0deg 0% 96.47%)"},children:[(0,$t.jsx)(Um,{workspaceId:"demo-workspace-id"}),(0,$t.jsx)("div",{className:"flex items-center justify-center flex-1",children:(0,$t.jsxs)("div",{className:"text-center",children:[(0,$t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Workspace Found"}),(0,$t.jsx)("p",{className:"text-gray-600",children:"You need to create or join a workspace to use the panel system."}),(0,$t.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"(Enhanced header shown above for testing)"})]})})]})});let i=c=>{console.log("Navigate to:",c),e(c)},l=c=>{console.log("Create panel:",c)},s=c=>{console.log("Action:",c)};return(0,$t.jsx)(ct,{children:(0,$t.jsxs)("div",{className:"flex flex-col min-h-full",style:{backgroundColor:"hsl(0deg 0% 96.47%)"},children:[(0,$t.jsx)(jm,{workspaceId:o.id,panels:n,onNavigate:i,onCreatePanel:l,onAction:s}),(0,$t.jsx)(mm,{workspaceId:o.id,className:"flex-1"})]})})}var fe=y(M(),1);function $r({children:e}){let{isAuthenticated:t,isLoading:r}=et();return r?(0,fe.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,fe.jsxs)("div",{className:"text-center",children:[(0,fe.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"}),(0,fe.jsx)("p",{children:"Loading..."})]})}):t?(0,fe.jsx)(fe.Fragment,{children:e}):(0,fe.jsx)(Rs,{to:"/login",replace:!0})}function Wm(){let{hydrate:e}=et();return(0,T0.useEffect)(()=>{e().catch(console.error)},[e]),(0,fe.jsx)(Tc,{children:(0,fe.jsx)(Sc,{children:(0,fe.jsxs)(Nc,{children:[(0,fe.jsx)(Ot,{path:"/",element:(0,fe.jsx)(Rs,{to:"/workspace",replace:!0})}),(0,fe.jsx)(Ot,{path:"/test",element:(0,fe.jsx)(nd,{})}),(0,fe.jsx)(Ot,{path:"/login",element:(0,fe.jsx)(id,{})}),(0,fe.jsx)(Ot,{path:"/register",element:(0,fe.jsx)(ld,{})}),(0,fe.jsx)(Ot,{path:"/pricing",element:(0,fe.jsx)(zh,{})}),(0,fe.jsx)(Ot,{path:"/home",element:(0,fe.jsx)($r,{children:(0,fe.jsx)(Ad,{})})}),(0,fe.jsx)(Ot,{path:"/board",element:(0,fe.jsx)($r,{children:(0,fe.jsx)(zd,{})})}),(0,fe.jsx)(Ot,{path:"/calendar",element:(0,fe.jsx)($r,{children:(0,fe.jsx)(Hd,{})})}),(0,fe.jsx)(Ot,{path:"/notes",element:(0,fe.jsx)($r,{children:(0,fe.jsx)(jd,{})})}),(0,fe.jsx)(Ot,{path:"/chat",element:(0,fe.jsx)($r,{children:(0,fe.jsx)(Wd,{})})}),(0,fe.jsx)(Ot,{path:"/teams",element:(0,fe.jsx)($r,{children:(0,fe.jsx)(Yd,{})})}),(0,fe.jsx)(Ot,{path:"/projects",element:(0,fe.jsx)($r,{children:(0,fe.jsx)(Gd,{})})}),(0,fe.jsx)(Ot,{path:"/workspace",element:(0,fe.jsx)($r,{children:(0,fe.jsx)(Oi,{})})}),(0,fe.jsx)(Ot,{path:"/workspace/:workspaceId",element:(0,fe.jsx)($r,{children:(0,fe.jsx)(Oi,{})})}),(0,fe.jsx)(Ot,{path:"/workspaces/new",element:(0,fe.jsx)($r,{children:(0,fe.jsx)(Oi,{})})}),(0,fe.jsx)(Ot,{path:"/profile",element:(0,fe.jsx)($r,{children:(0,fe.jsx)(qd,{})})}),(0,fe.jsx)(Ot,{path:"/settings",element:(0,fe.jsx)($r,{children:(0,fe.jsx)(Vd,{})})})]})})})}var zi=y(M(),1);function KC(){if(typeof window<"u"&&window.customElements){let e=window.customElements.define.bind(window.customElements),t=new Set;try{Object.getOwnPropertyNames(window.customElements).forEach(o=>t.add(o))}catch{["mce-autosize-textarea","mce-editor","tinymce-editor"].forEach(n=>{window.customElements.get(n)&&t.add(n)})}window.customElements.define=function(a,o,n){if(t.has(a)||window.customElements.get(a)){console.warn(`\u26A0\uFE0F Custom element '${a}' already defined, skipping duplicate registration`);return}try{let i=e(a,o,n);return t.add(a),i}catch(i){if(i instanceof Error&&(i.message.includes("already been defined")||i.message.includes("already defined")||i.name==="NotSupportedError")){console.warn(`\u26A0\uFE0F Custom element '${a}' registration prevented:`,i.message),t.add(a);return}if(M0()){console.warn(`\u26A0\uFE0F Custom element '${a}' error suppressed in dev:`,i.message);return}throw console.error(`\u274C Failed to define custom element '${a}':`,i),i}};let r=window.addEventListener;window.addEventListener=function(a,o,n){if(a==="error"){let i=function(l){if(l.error&&l.error.message&&l.error.message.includes("already been defined")){console.warn("\u26A0\uFE0F Prevented custom element duplicate registration error:",l.error.message),l.preventDefault();return}if(typeof o=="function")return o.call(this,l)};return r.call(this,a,i,n)}return r.call(this,a,o,n)},window.addEventListener("error",a=>{if(a.error&&a.error.message&&a.error.message.includes("already been defined"))return console.warn("\u26A0\uFE0F Global error handler caught custom element duplicate registration:",a.error.message),a.preventDefault(),a.stopPropagation(),!1},!0),window.WebComponents&&window.WebComponents.ready&&console.warn("\u26A0\uFE0F WebComponents polyfill detected - enhanced error suppression active")}}KC();window.addEventListener("error",e=>{let t=e.error?.message||e.message||"";if(t.includes("mce-autosize-textarea")||t.includes("already been defined")||t.includes("custom element")||e.filename?.includes("webcomponents")||e.filename?.includes("overlay_bundle"))return console.warn("\u26A0\uFE0F Suppressed webcomponents error:",t),e.preventDefault(),e.stopPropagation(),!1},!0);function M0(){return window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.startsWith("192.168.")||window.location.hostname.startsWith("10.")||window.location.port!==""||window.location.protocol==="http:"||!1}async function GC(){if(!("serviceWorker"in navigator)){console.log("\u{1F6AB} Service Worker not supported by browser");return}try{let e=await navigator.serviceWorker.getRegistrations();for(let r of e)await r.unregister(),console.log("\u{1F5D1}\uFE0F Unregistered existing service worker:",r.scope);if(M0()){console.log("\u{1F6AB} Service Worker registration skipped (development mode)"),console.log("\u{1F4CD} Environment detected:",{hostname:window.location.hostname,port:window.location.port,protocol:window.location.protocol,nodeEnv:"production"});return}let t=await navigator.serviceWorker.register("/sw.js",{scope:"/",updateViaCache:"none"});console.log("\u2705 SW registered:",t.scope),t.addEventListener("updatefound",()=>{let r=t.installing;r&&(console.log("\u{1F504} SW update found, installing..."),r.addEventListener("statechange",()=>{r.state==="installed"&&navigator.serviceWorker.controller&&console.log("\u{1F504} SW update ready - consider refreshing page")}))})}catch(e){console.error("\u274C SW registration failed:",e)}}window.addEventListener("load",GC);var qC=(0,_0.createRoot)(document.getElementById("app"));qC.render((0,zi.jsxs)(_h,{children:[(0,zi.jsx)(Wm,{}),(0,zi.jsx)(Hp,{position:"top-right",richColors:!0})]}));
/*! Bundled license information:

react-router/dist/development/chunk-QMGIS6GS.mjs:
react-router/dist/development/index.mjs:
  (**
   * react-router v7.6.3
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)
*/
