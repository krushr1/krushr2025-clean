{
  "version": 3,
  "sources": ["../node_modules/react-dom/client.js", "../node_modules/react-router/node_modules/cookie/src/index.ts", "../node_modules/fast-equals/src/utils.ts", "../node_modules/fast-equals/src/comparator.ts", "../node_modules/fast-equals/src/arrays.ts", "../node_modules/fast-equals/src/dates.ts", "../node_modules/fast-equals/src/maps.ts", "../node_modules/fast-equals/src/objects.ts", "../node_modules/fast-equals/src/regexps.ts", "../node_modules/fast-equals/src/sets.ts", "../node_modules/fast-equals/src/index.ts", "../node_modules/clsx/dist/clsx.js", "../node_modules/react-grid-layout/build/fastRGLPropsEqual.js", "../node_modules/react-grid-layout/build/utils.js", "../node_modules/react-grid-layout/build/calculateUtils.js", "../node_modules/react-draggable/build/cjs/utils/shims.js", "../node_modules/react-draggable/build/cjs/utils/getPrefix.js", "../node_modules/react-draggable/build/cjs/utils/domFns.js", "../node_modules/react-draggable/build/cjs/utils/positionFns.js", "../node_modules/react-draggable/build/cjs/utils/log.js", "../node_modules/react-draggable/build/cjs/DraggableCore.js", "../node_modules/react-draggable/build/cjs/Draggable.js", "../node_modules/react-draggable/build/cjs/cjs.js", "../node_modules/react-resizable/build/utils.js", "../node_modules/react-resizable/build/propTypes.js", "../node_modules/react-resizable/build/Resizable.js", "../node_modules/react-resizable/build/ResizableBox.js", "../node_modules/react-resizable/index.js", "../node_modules/react-grid-layout/build/ReactGridLayoutPropTypes.js", "../node_modules/react-grid-layout/build/GridItem.js", "../node_modules/react-grid-layout/build/ReactGridLayout.js", "../node_modules/react-grid-layout/build/responsiveUtils.js", "../node_modules/react-grid-layout/build/ResponsiveReactGridLayout.js", "../node_modules/resize-observer-polyfill/dist/ResizeObserver.js", "../node_modules/react-grid-layout/build/components/WidthProvider.js", "../node_modules/react-grid-layout/index.js", "../frontend/src/main.tsx", "../node_modules/react-router/dist/development/chunk-QMGIS6GS.mjs", "../frontend/src/providers/TRPCProvider.tsx", "../frontend/src/stores/auth-store.ts", "../frontend/src/App.tsx", "../frontend/src/pages/Test.tsx", "../frontend/src/components/forms/UniversalFormDemo.tsx", "../frontend/src/components/forms/UniversalInputForm.tsx", "../frontend/src/components/ui/dialog.tsx", "../frontend/src/components/ui/label.tsx", "../node_modules/@radix-ui/react-label/src/label.tsx", "../frontend/src/components/ui/textarea.tsx", "../node_modules/date-fns/addWeeks.mjs", "../node_modules/date-fns/addYears.mjs", "../node_modules/date-fns/max.mjs", "../node_modules/date-fns/min.mjs", "../node_modules/date-fns/differenceInCalendarWeeks.mjs", "../node_modules/date-fns/endOfISOWeek.mjs", "../node_modules/date-fns/getDaysInMonth.mjs", "../node_modules/date-fns/getUnixTime.mjs", "../node_modules/date-fns/lastDayOfMonth.mjs", "../node_modules/date-fns/getWeeksInMonth.mjs", "../node_modules/date-fns/isAfter.mjs", "../node_modules/date-fns/isBefore.mjs", "../node_modules/date-fns/isSameYear.mjs", "../node_modules/date-fns/subDays.mjs", "../node_modules/date-fns/setMonth.mjs", "../node_modules/date-fns/setYear.mjs", "../node_modules/react-day-picker/node_modules/.pnpm/@rollup+plugin-typescript@11.1.5_rollup@4.9.1_tslib@2.6.2_typescript@5.3.3/node_modules/tslib/tslib.es6.js", "../node_modules/react-day-picker/src/types/DayPickerMultiple.ts", "../node_modules/react-day-picker/src/types/DayPickerRange.ts", "../node_modules/react-day-picker/src/types/DayPickerSingle.ts", "../node_modules/react-day-picker/src/contexts/DayPicker/defaultClassNames.ts", "../node_modules/react-day-picker/src/contexts/DayPicker/formatters/formatCaption.ts", "../node_modules/react-day-picker/src/contexts/DayPicker/formatters/formatDay.ts", "../node_modules/react-day-picker/src/contexts/DayPicker/formatters/formatMonthCaption.ts", "../node_modules/react-day-picker/src/contexts/DayPicker/formatters/formatWeekNumber.ts", "../node_modules/react-day-picker/src/contexts/DayPicker/formatters/formatWeekdayName.ts", "../node_modules/react-day-picker/src/contexts/DayPicker/formatters/formatYearCaption.ts", "../node_modules/react-day-picker/src/contexts/DayPicker/labels/labelDay.ts", "../node_modules/react-day-picker/src/contexts/DayPicker/labels/labelMonthDropdown.ts", "../node_modules/react-day-picker/src/contexts/DayPicker/labels/labelNext.ts", "../node_modules/react-day-picker/src/contexts/DayPicker/labels/labelPrevious.ts", "../node_modules/react-day-picker/src/contexts/DayPicker/labels/labelWeekday.ts", "../node_modules/react-day-picker/src/contexts/DayPicker/labels/labelWeekNumber.ts", "../node_modules/react-day-picker/src/contexts/DayPicker/labels/labelYearDropdown.ts", "../node_modules/react-day-picker/src/contexts/DayPicker/defaultContextValues.ts", "../node_modules/react-day-picker/src/contexts/DayPicker/utils/parseFromToProps.ts", "../node_modules/react-day-picker/src/contexts/DayPicker/DayPickerContext.tsx", "../node_modules/react-day-picker/src/components/CaptionLabel/CaptionLabel.tsx", "../node_modules/react-day-picker/src/components/IconDropdown/IconDropdown.tsx", "../node_modules/react-day-picker/src/components/Dropdown/Dropdown.tsx", "../node_modules/react-day-picker/src/components/MonthsDropdown/MonthsDropdown.tsx", "../node_modules/react-day-picker/src/components/YearsDropdown/YearsDropdown.tsx", "../node_modules/react-day-picker/src/hooks/useControlledValue/useControlledValue.ts", "../node_modules/react-day-picker/src/contexts/Navigation/utils/getInitialMonth.ts", "../node_modules/react-day-picker/src/contexts/Navigation/useNavigationState.ts", "../node_modules/react-day-picker/src/contexts/Navigation/utils/getDisplayMonths.ts", "../node_modules/react-day-picker/src/contexts/Navigation/utils/getNextMonth.ts", "../node_modules/react-day-picker/src/contexts/Navigation/utils/getPreviousMonth.ts", "../node_modules/react-day-picker/src/contexts/Navigation/NavigationContext.tsx", "../node_modules/react-day-picker/src/components/CaptionDropdowns/CaptionDropdowns.tsx", "../node_modules/react-day-picker/src/components/IconLeft/IconLeft.tsx", "../node_modules/react-day-picker/src/components/IconRight/IconRight.tsx", "../node_modules/react-day-picker/src/components/Button/Button.tsx", "../node_modules/react-day-picker/src/components/Navigation/Navigation.tsx", "../node_modules/react-day-picker/src/components/CaptionNavigation/CaptionNavigation.tsx", "../node_modules/react-day-picker/src/components/Caption/Caption.tsx", "../node_modules/react-day-picker/src/components/Footer/Footer.tsx", "../node_modules/react-day-picker/src/components/HeadRow/utils/getWeekdays.ts", "../node_modules/react-day-picker/src/components/HeadRow/HeadRow.tsx", "../node_modules/react-day-picker/src/components/Head/Head.tsx", "../node_modules/react-day-picker/src/components/DayContent/DayContent.tsx", "../node_modules/react-day-picker/src/contexts/SelectMultiple/SelectMultipleContext.tsx", "../node_modules/react-day-picker/src/contexts/SelectRange/utils/addToRange.ts", "../node_modules/react-day-picker/src/contexts/SelectRange/SelectRangeContext.tsx", "../node_modules/react-day-picker/src/contexts/Modifiers/utils/matcherToArray.ts", "../node_modules/react-day-picker/src/contexts/Modifiers/utils/getCustomModifiers.ts", "../node_modules/react-day-picker/src/types/Modifiers.ts", "../node_modules/react-day-picker/src/contexts/Modifiers/utils/getInternalModifiers.ts", "../node_modules/react-day-picker/src/contexts/Modifiers/ModifiersContext.tsx", "../node_modules/react-day-picker/src/types/Matchers.ts", "../node_modules/react-day-picker/src/contexts/Modifiers/utils/isDateInRange.ts", "../node_modules/react-day-picker/src/contexts/Modifiers/utils/isMatch.ts", "../node_modules/react-day-picker/src/contexts/Modifiers/utils/getActiveModifiers.ts", "../node_modules/react-day-picker/src/contexts/Focus/utils/getInitialFocusTarget.ts", "../node_modules/react-day-picker/src/contexts/Focus/utils/getNextFocus.ts", "../node_modules/react-day-picker/src/contexts/Focus/FocusContext.tsx", "../node_modules/react-day-picker/src/hooks/useActiveModifiers/useActiveModifiers.tsx", "../node_modules/react-day-picker/src/contexts/SelectSingle/SelectSingleContext.tsx", "../node_modules/react-day-picker/src/hooks/useDayEventHandlers/useDayEventHandlers.tsx", "../node_modules/react-day-picker/src/hooks/useSelectedDays/useSelectedDays.ts", "../node_modules/react-day-picker/src/hooks/useDayRender/utils/getDayClassNames.ts", "../node_modules/react-day-picker/src/hooks/useDayRender/utils/getDayStyle.ts", "../node_modules/react-day-picker/src/hooks/useDayRender/useDayRender.tsx", "../node_modules/react-day-picker/src/components/Day/Day.tsx", "../node_modules/react-day-picker/src/components/WeekNumber/WeekNumber.tsx", "../node_modules/react-day-picker/src/components/Row/Row.tsx", "../node_modules/react-day-picker/src/components/Table/utils/daysToMonthWeeks.ts", "../node_modules/react-day-picker/src/components/Table/utils/getMonthWeeks.ts", "../node_modules/react-day-picker/src/components/Table/Table.tsx", "../node_modules/react-day-picker/src/hooks/useId/useId.ts", "../node_modules/react-day-picker/src/components/Month/Month.tsx", "../node_modules/react-day-picker/src/components/Months/Months.tsx", "../node_modules/react-day-picker/src/components/Root/Root.tsx", "../node_modules/react-day-picker/src/contexts/RootProvider.tsx", "../node_modules/react-day-picker/src/DayPicker.tsx", "../node_modules/react-day-picker/src/hooks/useInput/utils/isValidDate.tsx", "../node_modules/react-day-picker/src/hooks/useInput/useInput.ts", "../node_modules/react-day-picker/src/types/DayPickerDefault.ts", "../frontend/src/components/ui/calendar.tsx", "../frontend/src/components/ui/popover.tsx", "../node_modules/@radix-ui/react-popover/src/popover.tsx", "../frontend/src/components/ui/switch.tsx", "../node_modules/@radix-ui/react-switch/src/switch.tsx", "../frontend/src/components/ui/checkbox.tsx", "../node_modules/@radix-ui/react-checkbox/src/checkbox.tsx", "../frontend/src/components/ui/separator.tsx", "../node_modules/@radix-ui/react-separator/src/separator.tsx", "../frontend/src/types/universal-form.ts", "../frontend/src/components/forms/UniversalInputFormCompact.tsx", "../frontend/src/components/kanban/KanbanQuickCreate.tsx", "../frontend/src/components/workspace/WorkspaceHeader.tsx", "../frontend/src/components/workspace/QuickCreatePanel.tsx", "../frontend/src/components/forms/SimpleCreatePanel.tsx", "../frontend/src/pages/Login.tsx", "../frontend/src/components/ui/alert.tsx", "../frontend/src/components/common/KrushrLogo.tsx", "../frontend/src/pages/Register.tsx", "../frontend/src/pages/Home.tsx", "../frontend/src/components/layout/ResponsiveLayout.tsx", "../frontend/src/components/project/Sidebar.tsx", "../frontend/src/components/layout/MobileNavigation.tsx", "../frontend/src/components/notifications/NotificationBell.tsx", "../frontend/src/components/notifications/NotificationCenter.tsx", "../frontend/src/components/ui/tabs.tsx", "../node_modules/@radix-ui/react-tabs/src/tabs.tsx", "../node_modules/@radix-ui/react-roving-focus/src/roving-focus-group.tsx", "../frontend/src/components/notifications/ToastContainer.tsx", "../frontend/src/components/notifications/NotificationToast.tsx", "../frontend/src/components/common/GlobalSearch.tsx", "../node_modules/cmdk/dist/chunk-NZJY6EH4.mjs", "../node_modules/cmdk/dist/index.mjs", "../frontend/src/components/dashboard/ActivityFeed.tsx", "../frontend/src/components/dashboard/QuickActions.tsx", "../frontend/src/components/dashboard/TasksSummary.tsx", "../frontend/src/pages/Board.tsx", "../frontend/src/components/project/Layout.tsx", "../frontend/src/components/common/KrushrLoader.tsx", "../frontend/src/components/ui/floating-action-button.tsx", "../frontend/src/components/calendar/CalendarView.tsx", "../frontend/src/hooks/use-realtime.ts", "../frontend/src/lib/api.ts", "../frontend/src/pages/Calendar.tsx", "../frontend/src/components/ErrorBoundary.tsx", "../frontend/src/pages/Notes.tsx", "../frontend/src/components/chat/ChatInterface.tsx", "../frontend/src/components/common/AttachmentList.tsx", "../frontend/src/pages/Chat.tsx", "../frontend/src/pages/Teams.tsx", "../frontend/src/pages/Projects.tsx", "../frontend/src/pages/Profile.tsx", "../frontend/src/pages/Settings.tsx", "../frontend/src/pages/Pricing.tsx", "../frontend/src/components/workspace/PanelWorkspace.tsx", "../frontend/src/components/workspace/PanelRenderer.tsx", "../frontend/src/hooks/use-toast.ts", "../frontend/src/components/ui/dropdown-menu.tsx", "../node_modules/@radix-ui/react-dropdown-menu/src/dropdown-menu.tsx", "../node_modules/@radix-ui/react-menu/src/menu.tsx", "../frontend/src/hooks/use-layout-persistence.ts", "../frontend/src/components/workspace/WorkspaceHeaderConsolidated.tsx", "../frontend/src/components/ui/tooltip.tsx", "../node_modules/@radix-ui/react-tooltip/src/tooltip.tsx", "../frontend/src/components/workspace/CommandPalette.tsx", "../frontend/src/components/ui/command.tsx", "../frontend/src/components/workspace/KeyboardShortcuts.tsx", "../frontend/src/components/workspace/LayoutManager.tsx", "../frontend/src/components/ui/alert-dialog.tsx", "../node_modules/@radix-ui/react-alert-dialog/src/alert-dialog.tsx", "../frontend/src/components/workspace/SimpleEnhancedHeader.tsx", "../frontend/src/pages/Workspace.tsx", "../frontend/src/pages/SimpleLanding.tsx"],
  "sourcesContent": ["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n", "/**\n * RegExp to match cookie-name in RFC 6265 sec 4.1.1\n * This refers out to the obsoleted definition of token in RFC 2616 sec 2.2\n * which has been replaced by the token definition in RFC 7230 appendix B.\n *\n * cookie-name       = token\n * token             = 1*tchar\n * tchar             = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" /\n *                     \"*\" / \"+\" / \"-\" / \".\" / \"^\" / \"_\" /\n *                     \"`\" / \"|\" / \"~\" / DIGIT / ALPHA\n *\n * Note: Allowing more characters - https://github.com/jshttp/cookie/issues/191\n * Allow same range as cookie value, except `=`, which delimits end of name.\n */\nconst cookieNameRegExp = /^[\\u0021-\\u003A\\u003C\\u003E-\\u007E]+$/;\n\n/**\n * RegExp to match cookie-value in RFC 6265 sec 4.1.1\n *\n * cookie-value      = *cookie-octet / ( DQUOTE *cookie-octet DQUOTE )\n * cookie-octet      = %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E\n *                     ; US-ASCII characters excluding CTLs,\n *                     ; whitespace DQUOTE, comma, semicolon,\n *                     ; and backslash\n *\n * Allowing more characters: https://github.com/jshttp/cookie/issues/191\n * Comma, backslash, and DQUOTE are not part of the parsing algorithm.\n */\nconst cookieValueRegExp = /^[\\u0021-\\u003A\\u003C-\\u007E]*$/;\n\n/**\n * RegExp to match domain-value in RFC 6265 sec 4.1.1\n *\n * domain-value      = <subdomain>\n *                     ; defined in [RFC1034], Section 3.5, as\n *                     ; enhanced by [RFC1123], Section 2.1\n * <subdomain>       = <label> | <subdomain> \".\" <label>\n * <label>           = <let-dig> [ [ <ldh-str> ] <let-dig> ]\n *                     Labels must be 63 characters or less.\n *                     'let-dig' not 'letter' in the first char, per RFC1123\n * <ldh-str>         = <let-dig-hyp> | <let-dig-hyp> <ldh-str>\n * <let-dig-hyp>     = <let-dig> | \"-\"\n * <let-dig>         = <letter> | <digit>\n * <letter>          = any one of the 52 alphabetic characters A through Z in\n *                     upper case and a through z in lower case\n * <digit>           = any one of the ten digits 0 through 9\n *\n * Keep support for leading dot: https://github.com/jshttp/cookie/issues/173\n *\n * > (Note that a leading %x2E (\".\"), if present, is ignored even though that\n * character is not permitted, but a trailing %x2E (\".\"), if present, will\n * cause the user agent to ignore the attribute.)\n */\nconst domainValueRegExp =\n  /^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i;\n\n/**\n * RegExp to match path-value in RFC 6265 sec 4.1.1\n *\n * path-value        = <any CHAR except CTLs or \";\">\n * CHAR              = %x01-7F\n *                     ; defined in RFC 5234 appendix B.1\n */\nconst pathValueRegExp = /^[\\u0020-\\u003A\\u003D-\\u007E]*$/;\n\nconst __toString = Object.prototype.toString;\n\nconst NullObject = /* @__PURE__ */ (() => {\n  const C = function () {};\n  C.prototype = Object.create(null);\n  return C;\n})() as unknown as { new (): any };\n\n/**\n * Parse options.\n */\nexport interface ParseOptions {\n  /**\n   * Specifies a function that will be used to decode a [cookie-value](https://datatracker.ietf.org/doc/html/rfc6265#section-4.1.1).\n   * Since the value of a cookie has a limited character set (and must be a simple string), this function can be used to decode\n   * a previously-encoded cookie value into a JavaScript string.\n   *\n   * The default function is the global `decodeURIComponent`, wrapped in a `try..catch`. If an error\n   * is thrown it will return the cookie's original value. If you provide your own encode/decode\n   * scheme you must ensure errors are appropriately handled.\n   *\n   * @default decode\n   */\n  decode?: (str: string) => string | undefined;\n}\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n */\nexport function parse(\n  str: string,\n  options?: ParseOptions,\n): Record<string, string | undefined> {\n  const obj: Record<string, string | undefined> = new NullObject();\n  const len = str.length;\n  // RFC 6265 sec 4.1.1, RFC 2616 2.2 defines a cookie name consists of one char minimum, plus '='.\n  if (len < 2) return obj;\n\n  const dec = options?.decode || decode;\n  let index = 0;\n\n  do {\n    const eqIdx = str.indexOf(\"=\", index);\n    if (eqIdx === -1) break; // No more cookie pairs.\n\n    const colonIdx = str.indexOf(\";\", index);\n    const endIdx = colonIdx === -1 ? len : colonIdx;\n\n    if (eqIdx > endIdx) {\n      // backtrack on prior semicolon\n      index = str.lastIndexOf(\";\", eqIdx - 1) + 1;\n      continue;\n    }\n\n    const keyStartIdx = startIndex(str, index, eqIdx);\n    const keyEndIdx = endIndex(str, eqIdx, keyStartIdx);\n    const key = str.slice(keyStartIdx, keyEndIdx);\n\n    // only assign once\n    if (obj[key] === undefined) {\n      let valStartIdx = startIndex(str, eqIdx + 1, endIdx);\n      let valEndIdx = endIndex(str, endIdx, valStartIdx);\n\n      const value = dec(str.slice(valStartIdx, valEndIdx));\n      obj[key] = value;\n    }\n\n    index = endIdx + 1;\n  } while (index < len);\n\n  return obj;\n}\n\nfunction startIndex(str: string, index: number, max: number) {\n  do {\n    const code = str.charCodeAt(index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index;\n  } while (++index < max);\n  return max;\n}\n\nfunction endIndex(str: string, index: number, min: number) {\n  while (index > min) {\n    const code = str.charCodeAt(--index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index + 1;\n  }\n  return min;\n}\n\n/**\n * Serialize options.\n */\nexport interface SerializeOptions {\n  /**\n   * Specifies a function that will be used to encode a [cookie-value](https://datatracker.ietf.org/doc/html/rfc6265#section-4.1.1).\n   * Since value of a cookie has a limited character set (and must be a simple string), this function can be used to encode\n   * a value into a string suited for a cookie's value, and should mirror `decode` when parsing.\n   *\n   * @default encodeURIComponent\n   */\n  encode?: (str: string) => string;\n  /**\n   * Specifies the `number` (in seconds) to be the value for the [`Max-Age` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.2).\n   *\n   * The [cookie storage model specification](https://tools.ietf.org/html/rfc6265#section-5.3) states that if both `expires` and\n   * `maxAge` are set, then `maxAge` takes precedence, but it is possible not all clients by obey this,\n   * so if both are set, they should point to the same date and time.\n   */\n  maxAge?: number;\n  /**\n   * Specifies the `Date` object to be the value for the [`Expires` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.1).\n   * When no expiration is set clients consider this a \"non-persistent cookie\" and delete it the current session is over.\n   *\n   * The [cookie storage model specification](https://tools.ietf.org/html/rfc6265#section-5.3) states that if both `expires` and\n   * `maxAge` are set, then `maxAge` takes precedence, but it is possible not all clients by obey this,\n   * so if both are set, they should point to the same date and time.\n   */\n  expires?: Date;\n  /**\n   * Specifies the value for the [`Domain` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.3).\n   * When no domain is set clients consider the cookie to apply to the current domain only.\n   */\n  domain?: string;\n  /**\n   * Specifies the value for the [`Path` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.4).\n   * When no path is set, the path is considered the [\"default path\"](https://tools.ietf.org/html/rfc6265#section-5.1.4).\n   */\n  path?: string;\n  /**\n   * Enables the [`HttpOnly` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.6).\n   * When enabled, clients will not allow client-side JavaScript to see the cookie in `document.cookie`.\n   */\n  httpOnly?: boolean;\n  /**\n   * Enables the [`Secure` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.5).\n   * When enabled, clients will only send the cookie back if the browser has a HTTPS connection.\n   */\n  secure?: boolean;\n  /**\n   * Enables the [`Partitioned` `Set-Cookie` attribute](https://tools.ietf.org/html/draft-cutler-httpbis-partitioned-cookies/).\n   * When enabled, clients will only send the cookie back when the current domain _and_ top-level domain matches.\n   *\n   * This is an attribute that has not yet been fully standardized, and may change in the future.\n   * This also means clients may ignore this attribute until they understand it. More information\n   * about can be found in [the proposal](https://github.com/privacycg/CHIPS).\n   */\n  partitioned?: boolean;\n  /**\n   * Specifies the value for the [`Priority` `Set-Cookie` attribute](https://tools.ietf.org/html/draft-west-cookie-priority-00#section-4.1).\n   *\n   * - `'low'` will set the `Priority` attribute to `Low`.\n   * - `'medium'` will set the `Priority` attribute to `Medium`, the default priority when not set.\n   * - `'high'` will set the `Priority` attribute to `High`.\n   *\n   * More information about priority levels can be found in [the specification](https://tools.ietf.org/html/draft-west-cookie-priority-00#section-4.1).\n   */\n  priority?: \"low\" | \"medium\" | \"high\";\n  /**\n   * Specifies the value for the [`SameSite` `Set-Cookie` attribute](https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-09#section-5.4.7).\n   *\n   * - `true` will set the `SameSite` attribute to `Strict` for strict same site enforcement.\n   * - `'lax'` will set the `SameSite` attribute to `Lax` for lax same site enforcement.\n   * - `'none'` will set the `SameSite` attribute to `None` for an explicit cross-site cookie.\n   * - `'strict'` will set the `SameSite` attribute to `Strict` for strict same site enforcement.\n   *\n   * More information about enforcement levels can be found in [the specification](https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-09#section-5.4.7).\n   */\n  sameSite?: boolean | \"lax\" | \"strict\" | \"none\";\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize a name value pair into a cookie string suitable for\n * http headers. An optional options object specifies cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n */\nexport function serialize(\n  name: string,\n  val: string,\n  options?: SerializeOptions,\n): string {\n  const enc = options?.encode || encodeURIComponent;\n\n  if (!cookieNameRegExp.test(name)) {\n    throw new TypeError(`argument name is invalid: ${name}`);\n  }\n\n  const value = enc(val);\n\n  if (!cookieValueRegExp.test(value)) {\n    throw new TypeError(`argument val is invalid: ${val}`);\n  }\n\n  let str = name + \"=\" + value;\n  if (!options) return str;\n\n  if (options.maxAge !== undefined) {\n    if (!Number.isInteger(options.maxAge)) {\n      throw new TypeError(`option maxAge is invalid: ${options.maxAge}`);\n    }\n\n    str += \"; Max-Age=\" + options.maxAge;\n  }\n\n  if (options.domain) {\n    if (!domainValueRegExp.test(options.domain)) {\n      throw new TypeError(`option domain is invalid: ${options.domain}`);\n    }\n\n    str += \"; Domain=\" + options.domain;\n  }\n\n  if (options.path) {\n    if (!pathValueRegExp.test(options.path)) {\n      throw new TypeError(`option path is invalid: ${options.path}`);\n    }\n\n    str += \"; Path=\" + options.path;\n  }\n\n  if (options.expires) {\n    if (\n      !isDate(options.expires) ||\n      !Number.isFinite(options.expires.valueOf())\n    ) {\n      throw new TypeError(`option expires is invalid: ${options.expires}`);\n    }\n\n    str += \"; Expires=\" + options.expires.toUTCString();\n  }\n\n  if (options.httpOnly) {\n    str += \"; HttpOnly\";\n  }\n\n  if (options.secure) {\n    str += \"; Secure\";\n  }\n\n  if (options.partitioned) {\n    str += \"; Partitioned\";\n  }\n\n  if (options.priority) {\n    const priority =\n      typeof options.priority === \"string\"\n        ? options.priority.toLowerCase()\n        : undefined;\n    switch (priority) {\n      case \"low\":\n        str += \"; Priority=Low\";\n        break;\n      case \"medium\":\n        str += \"; Priority=Medium\";\n        break;\n      case \"high\":\n        str += \"; Priority=High\";\n        break;\n      default:\n        throw new TypeError(`option priority is invalid: ${options.priority}`);\n    }\n  }\n\n  if (options.sameSite) {\n    const sameSite =\n      typeof options.sameSite === \"string\"\n        ? options.sameSite.toLowerCase()\n        : options.sameSite;\n    switch (sameSite) {\n      case true:\n      case \"strict\":\n        str += \"; SameSite=Strict\";\n        break;\n      case \"lax\":\n        str += \"; SameSite=Lax\";\n        break;\n      case \"none\":\n        str += \"; SameSite=None\";\n        break;\n      default:\n        throw new TypeError(`option sameSite is invalid: ${options.sameSite}`);\n    }\n  }\n\n  return str;\n}\n\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n */\nfunction decode(str: string): string {\n  if (str.indexOf(\"%\") === -1) return str;\n\n  try {\n    return decodeURIComponent(str);\n  } catch (e) {\n    return str;\n  }\n}\n\n/**\n * Determine if value is a Date.\n */\nfunction isDate(val: any): val is Date {\n  return __toString.call(val) === \"[object Date]\";\n}\n", "import {\n  EqualityComparator,\n  InternalEqualityComparator,\n  TypeEqualityComparator,\n} from '../index.d';\n\n/**\n * Default equality comparator pass-through, used as the standard `isEqual` creator for\n * use inside the built comparator.\n */\nexport function createDefaultIsNestedEqual<Meta>(\n  comparator: EqualityComparator<Meta>,\n): InternalEqualityComparator<Meta> {\n  return function isEqual<A, B>(\n    a: A,\n    b: B,\n    _indexOrKeyA: any,\n    _indexOrKeyB: any,\n    _parentA: any,\n    _parentB: any,\n    meta: Meta,\n  ) {\n    return comparator(a, b, meta);\n  };\n}\n\n/**\n * Wrap the provided `areItemsEqual` method to manage the circular cache, allowing\n * for circular references to be safely included in the comparison without creating\n * stack overflows.\n */\nexport function createIsCircular<\n  AreItemsEqual extends TypeEqualityComparator<any, any>,\n>(areItemsEqual: AreItemsEqual): AreItemsEqual {\n  return function isCircular(\n    a: any,\n    b: any,\n    isEqual: InternalEqualityComparator<WeakMap<any, any>>,\n    cache: WeakMap<any, any>,\n  ) {\n    if (!a || !b || typeof a !== 'object' || typeof b !== 'object') {\n      return areItemsEqual(a, b, isEqual, cache);\n    }\n\n    const cachedA = cache.get(a);\n    const cachedB = cache.get(b);\n\n    if (cachedA && cachedB) {\n      return cachedA === b && cachedB === a;\n    }\n\n    cache.set(a, b);\n    cache.set(b, a);\n\n    const result = areItemsEqual(a, b, isEqual, cache);\n\n    cache.delete(a);\n    cache.delete(b);\n\n    return result;\n  } as AreItemsEqual;\n}\n\n/**\n * Targeted shallow merge of two objects.\n *\n * @NOTE\n * This exists as a tinier compiled version of the `__assign` helper that\n * `tsc` injects in case of `Object.assign` not being present.\n */\nexport function merge<A extends object, B extends object>(a: A, b: B): A & B {\n  const merged: Record<string, any> = {};\n\n  for (const key in a) {\n    merged[key] = a[key];\n  }\n\n  for (const key in b) {\n    merged[key] = b[key];\n  }\n\n  return merged as A & B;\n}\n\n/**\n * Whether the value is a plain object.\n *\n * @NOTE\n * This is a same-realm compariosn only.\n */\nexport function isPlainObject(value: any): boolean {\n  return value.constructor === Object || value.constructor == null;\n}\n\n/**\n * When the value is `Promise`-like, aka \"then-able\".\n */\nexport function isPromiseLike(value: any): boolean {\n  return typeof value.then === 'function';\n}\n\n/**\n * Whether the values passed are strictly equal or both NaN.\n */\nexport function sameValueZeroEqual(a: any, b: any): boolean {\n  return a === b || (a !== a && b !== b);\n}\n", "import { isPlainObject, isPromiseLike, sameValueZeroEqual } from './utils';\n\nimport type {\n  CreateComparatorCreatorOptions,\n  EqualityComparator,\n} from '../index.d';\n\nconst ARGUMENTS_TAG = '[object Arguments]';\nconst BOOLEAN_TAG = '[object Boolean]';\nconst DATE_TAG = '[object Date]';\nconst REG_EXP_TAG = '[object RegExp]';\nconst MAP_TAG = '[object Map]';\nconst NUMBER_TAG = '[object Number]';\nconst OBJECT_TAG = '[object Object]';\nconst SET_TAG = '[object Set]';\nconst STRING_TAG = '[object String]';\n\nconst { toString } = Object.prototype;\n\nexport function createComparator<Meta>({\n  areArraysEqual,\n  areDatesEqual,\n  areMapsEqual,\n  areObjectsEqual,\n  areRegExpsEqual,\n  areSetsEqual,\n  createIsNestedEqual,\n}: CreateComparatorCreatorOptions<Meta>): EqualityComparator<Meta> {\n  const isEqual = createIsNestedEqual(comparator as EqualityComparator<Meta>);\n\n  /**\n   * compare the value of the two objects and return true if they are equivalent in values\n   */\n  function comparator(a: any, b: any, meta: Meta): boolean {\n    // If the items are strictly equal, no need to do a value comparison.\n    if (a === b) {\n      return true;\n    }\n\n    // If the items are not non-nullish objects, then the only possibility\n    // of them being equal but not strictly is if they are both `NaN`. Since\n    // `NaN` is uniquely not equal to itself, we can use self-comparison of\n    // both objects, which is faster than `isNaN()`.\n    if (!a || !b || typeof a !== 'object' || typeof b !== 'object') {\n      return a !== a && b !== b;\n    }\n\n    // Checks are listed in order of commonality of use-case:\n    //   1. Common complex object types (plain object, array)\n    //   2. Common data values (date, regexp)\n    //   3. Less-common complex object types (map, set)\n    //   4. Less-common data values (promise, primitive wrappers)\n    // Inherently this is both subjective and assumptive, however\n    // when reviewing comparable libraries in the wild this order\n    // appears to be generally consistent.\n\n    // `isPlainObject` only checks against the object's own realm. Cross-realm\n    // comparisons are rare, and will be handled in the ultimate fallback, so\n    // we can avoid the `toString.call()` cost unless necessary.\n    if (isPlainObject(a) && isPlainObject(b)) {\n      return areObjectsEqual(a, b, isEqual, meta);\n    }\n\n    // `isArray()` works on subclasses and is cross-realm, so we can again avoid\n    // the `toString.call()` cost unless necessary by just checking if either\n    // and then both are arrays.\n    const aArray = Array.isArray(a);\n    const bArray = Array.isArray(b);\n\n    if (aArray || bArray) {\n      return aArray === bArray && areArraysEqual(a, b, isEqual, meta);\n    }\n\n    // Since this is a custom object, use the classic `toString.call()` to get its\n    // type. This is reasonably performant in modern environments like v8 and\n    // SpiderMonkey, and allows for cross-realm comparison when other checks like\n    // `instanceof` do not.\n    const aTag = toString.call(a);\n\n    if (aTag !== toString.call(b)) {\n      return false;\n    }\n\n    if (aTag === DATE_TAG) {\n      // `getTime()` showed better results compared to alternatives like `valueOf()`\n      // or the unary `+` operator.\n      return areDatesEqual(a, b, isEqual, meta);\n    }\n\n    if (aTag === REG_EXP_TAG) {\n      return areRegExpsEqual(a, b, isEqual, meta);\n    }\n\n    if (aTag === MAP_TAG) {\n      return areMapsEqual(a, b, isEqual, meta);\n    }\n\n    if (aTag === SET_TAG) {\n      return areSetsEqual(a, b, isEqual, meta);\n    }\n\n    // If a simple object tag, then we can prioritize a simple object comparison because\n    // it is likely a custom class. If an arguments tag, it should be treated as a standard\n    // object.\n    if (aTag === OBJECT_TAG || aTag === ARGUMENTS_TAG) {\n      // The exception for value comparison is `Promise`-like contracts. These should be\n      // treated the same as standard `Promise` objects, which means strict equality.\n      return isPromiseLike(a) || isPromiseLike(b)\n        ? false\n        : areObjectsEqual(a, b, isEqual, meta);\n    }\n\n    // As the penultimate fallback, check if the values passed are primitive wrappers. This\n    // is very rare in modern JS, which is why it is deprioritized compared to all other object\n    // types.\n    if (aTag === BOOLEAN_TAG || aTag === NUMBER_TAG || aTag === STRING_TAG) {\n      return sameValueZeroEqual(a.valueOf(), b.valueOf());\n    }\n\n    // If not matching any tags that require a specific type of comparison, then we hard-code false because\n    // the only thing remaining is strict equality, which has already been compared. This is for a few reasons:\n    //   - Certain types that cannot be introspected (e.g., `WeakMap`). For these types, this is the only\n    //     comparison that can be made.\n    //   - For types that can be introspected, but rarely have requirements to be compared\n    //     (`ArrayBuffer`, `DataView`, etc.), the cost is avoided to prioritize the common\n    //     use-cases (may be included in a future release, if requested enough).\n    //   - For types that can be introspected but do not have an objective definition of what\n    //     equality is (`Error`, etc.), the subjective decision is to be conservative and strictly compare.\n    // In all cases, these decisions should be reevaluated based on changes to the language and\n    // common development practices.\n    return false;\n  }\n\n  return comparator as EqualityComparator<Meta>;\n}\n", "import { createIsCircular } from './utils';\n\nimport type { InternalEqualityComparator } from '../index.d';\n\n/**\n * Whether the arrays are equal in value.\n */\nexport function areArraysEqual(\n  a: any[],\n  b: any[],\n  isEqual: InternalEqualityComparator<any>,\n  meta: any,\n): boolean {\n  let index = a.length;\n\n  if (b.length !== index) {\n    return false;\n  }\n\n  // Decrementing `while` showed faster results than either incrementing or\n  // decrementing `for` loop and than an incrementing `while` loop. Declarative\n  // methods like `some` / `every` were not used to avoid incurring the garbage\n  // cost of anonymous callbacks.\n  while (index-- > 0) {\n    if (!isEqual(a[index], b[index], index, index, a, b, meta)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Whether the arrays are equal in value, including circular references.\n */\nexport const areArraysEqualCircular = createIsCircular(areArraysEqual);\n", "import { sameValueZeroEqual } from './utils';\n\n/**\n * Whether the dates passed are equal in value.\n *\n * @NOTE\n * This is a standalone function instead of done inline in the comparator\n * to allow for overrides.\n */\nexport function areDatesEqual(a: Date, b: Date): boolean {\n  return sameValueZeroEqual(a.valueOf(), b.valueOf());\n}\n", "import { createIsCircular } from './utils';\n\nimport type { InternalEqualityComparator } from '../index.d';\n\n/**\n * Whether the `Map`s are equal in value.\n */\nexport function areMapsEqual(\n  a: Map<any, any>,\n  b: Map<any, any>,\n  isEqual: InternalEqualityComparator<any>,\n  meta: any,\n): boolean {\n  let isValueEqual = a.size === b.size;\n\n  if (!isValueEqual) {\n    return false;\n  }\n\n  if (!a.size) {\n    return true;\n  }\n\n  // The use of `forEach()` is to avoid the transpilation cost of `for...of` comparisons, and\n  // the inability to control the performance of the resulting code. It also avoids excessive\n  // iteration compared to doing comparisons of `keys()` and `values()`. As a result, though,\n  // we cannot short-circuit the iterations; bookkeeping must be done to short-circuit the\n  // equality checks themselves.\n\n  const matchedIndices: Record<number, true> = {};\n\n  let indexA = 0;\n\n  a.forEach((aValue, aKey) => {\n    if (!isValueEqual) {\n      return;\n    }\n\n    let hasMatch = false;\n    let matchIndexB = 0;\n\n    b.forEach((bValue, bKey) => {\n      if (\n        !hasMatch &&\n        !matchedIndices[matchIndexB] &&\n        (hasMatch =\n          isEqual(aKey, bKey, indexA, matchIndexB, a, b, meta) &&\n          isEqual(aValue, bValue, aKey, bKey, a, b, meta))\n      ) {\n        matchedIndices[matchIndexB] = true;\n      }\n\n      matchIndexB++;\n    });\n\n    indexA++;\n    isValueEqual = hasMatch;\n  });\n\n  return isValueEqual;\n}\n\n/**\n * Whether the `Map`s are equal in value, including circular references.\n */\nexport const areMapsEqualCircular = createIsCircular(areMapsEqual);\n", "import { createIsCircular } from './utils';\n\nimport type { InternalEqualityComparator } from '../index.d';\n\ninterface Dictionary<Value> {\n  [key: string]: Value;\n  $$typeof?: any;\n}\n\nconst OWNER = '_owner';\nconst { hasOwnProperty } = Object.prototype;\n\n/**\n * Whether the objects are equal in value.\n */\nexport function areObjectsEqual(\n  a: Dictionary<any>,\n  b: Dictionary<any>,\n  isEqual: InternalEqualityComparator<any>,\n  meta: any,\n): boolean {\n  const keysA = Object.keys(a);\n\n  let index = keysA.length;\n\n  if (Object.keys(b).length !== index) {\n    return false;\n  }\n\n  let key: string;\n\n  // Decrementing `while` showed faster results than either incrementing or\n  // decrementing `for` loop and than an incrementing `while` loop. Declarative\n  // methods like `some` / `every` were not used to avoid incurring the garbage\n  // cost of anonymous callbacks.\n  while (index-- > 0) {\n    key = keysA[index];\n\n    if (key === OWNER) {\n      const reactElementA = !!a.$$typeof;\n      const reactElementB = !!b.$$typeof;\n\n      if ((reactElementA || reactElementB) && reactElementA !== reactElementB) {\n        return false;\n      }\n    }\n\n    if (\n      !hasOwnProperty.call(b, key) ||\n      !isEqual(a[key], b[key], key, key, a, b, meta)\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Whether the objects are equal in value, including circular references.\n */\nexport const areObjectsEqualCircular = createIsCircular(areObjectsEqual);\n", "/**\n * Whether the regexps passed are equal in value.\n *\n * @NOTE\n * This is a standalone function instead of done inline in the comparator\n * to allow for overrides. An example of this would be supporting a\n * pre-ES2015 environment where the `flags` property is not available.\n */\nexport function areRegExpsEqual(a: RegExp, b: RegExp): boolean {\n  return a.source === b.source && a.flags === b.flags;\n}\n", "import { createIsCircular } from './utils';\n\nimport type { InternalEqualityComparator } from '../index.d';\n\n/**\n * Whether the `Set`s are equal in value.\n */\nexport function areSetsEqual(\n  a: Set<any>,\n  b: Set<any>,\n  isEqual: InternalEqualityComparator<any>,\n  meta: any,\n): boolean {\n  let isValueEqual = a.size === b.size;\n\n  if (!isValueEqual) {\n    return false;\n  }\n\n  if (!a.size) {\n    return true;\n  }\n\n  // The use of `forEach()` is to avoid the transpilation cost of `for...of` comparisons, and\n  // the inability to control the performance of the resulting code. It also avoids excessive\n  // iteration compared to doing comparisons of `keys()` and `values()`. As a result, though,\n  // we cannot short-circuit the iterations; bookkeeping must be done to short-circuit the\n  // equality checks themselves.\n\n  const matchedIndices: Record<number, true> = {};\n\n  a.forEach((aValue, aKey) => {\n    if (!isValueEqual) {\n      return;\n    }\n\n    let hasMatch = false;\n    let matchIndex = 0;\n\n    b.forEach((bValue, bKey) => {\n      if (\n        !hasMatch &&\n        !matchedIndices[matchIndex] &&\n        (hasMatch = isEqual(aValue, bValue, aKey, bKey, a, b, meta))\n      ) {\n        matchedIndices[matchIndex] = true;\n      }\n\n      matchIndex++;\n    });\n\n    isValueEqual = hasMatch;\n  });\n\n  return isValueEqual;\n}\n\n/**\n * Whether the `Set`s are equal in value, including circular references.\n */\nexport const areSetsEqualCircular = createIsCircular(areSetsEqual);\n", "import { createComparator } from './comparator';\nimport { areArraysEqual, areArraysEqualCircular } from './arrays';\nimport { areDatesEqual } from './dates';\nimport { areMapsEqual, areMapsEqualCircular } from './maps';\nimport { areObjectsEqual, areObjectsEqualCircular } from './objects';\nimport { areRegExpsEqual } from './regexps';\nimport { areSetsEqual, areSetsEqualCircular } from './sets';\nimport { createDefaultIsNestedEqual, merge, sameValueZeroEqual } from './utils';\n\nimport type {\n  BaseCircularMeta,\n  CreateComparatorCreatorOptions,\n  EqualityComparator,\n  GetComparatorOptions,\n} from '../index.d';\n\nexport { sameValueZeroEqual };\n\nconst DEFAULT_CONFIG: CreateComparatorCreatorOptions<undefined> = Object.freeze(\n  {\n    areArraysEqual,\n    areDatesEqual,\n    areMapsEqual,\n    areObjectsEqual,\n    areRegExpsEqual,\n    areSetsEqual,\n    createIsNestedEqual: createDefaultIsNestedEqual,\n  },\n);\nconst DEFAULT_CIRCULAR_CONFIG: CreateComparatorCreatorOptions<BaseCircularMeta> =\n  Object.freeze({\n    areArraysEqual: areArraysEqualCircular,\n    areDatesEqual,\n    areMapsEqual: areMapsEqualCircular,\n    areObjectsEqual: areObjectsEqualCircular,\n    areRegExpsEqual,\n    areSetsEqual: areSetsEqualCircular,\n    createIsNestedEqual: createDefaultIsNestedEqual,\n  });\n\nconst isDeepEqual = createComparator(DEFAULT_CONFIG);\n\n/**\n * Whether the items passed are deeply-equal in value.\n */\nexport function deepEqual<A, B>(a: A, b: B): boolean {\n  return isDeepEqual(a, b, undefined);\n}\n\nconst isShallowEqual = createComparator(\n  merge(DEFAULT_CONFIG, { createIsNestedEqual: () => sameValueZeroEqual }),\n);\n\n/**\n * Whether the items passed are shallowly-equal in value.\n */\nexport function shallowEqual<A, B>(a: A, b: B): boolean {\n  return isShallowEqual(a, b, undefined);\n}\n\nconst isCircularDeepEqual = createComparator(DEFAULT_CIRCULAR_CONFIG);\n\n/**\n * Whether the items passed are deeply-equal in value, including circular references.\n */\nexport function circularDeepEqual<A, B>(a: A, b: B): boolean {\n  return isCircularDeepEqual(a, b, new WeakMap());\n}\n\nconst isCircularShallowEqual = createComparator(\n  merge(DEFAULT_CIRCULAR_CONFIG, {\n    createIsNestedEqual: () => sameValueZeroEqual,\n  }),\n);\n\n/**\n * Whether the items passed are shallowly-equal in value, including circular references.\n */\nexport function circularShallowEqual<A, B>(a: A, b: B): boolean {\n  return isCircularShallowEqual(a, b, new WeakMap());\n}\n\n/**\n * Create a custom equality comparison method.\n *\n * This can be done to create very targeted comparisons in extreme hot-path scenarios\n * where the standard methods are not performant enough, but can also be used to provide\n * support for legacy environments that do not support expected features like\n * `RegExp.prototype.flags` out of the box.\n */\nexport function createCustomEqual<Meta = undefined>(\n  getComparatorOptions: GetComparatorOptions<Meta>,\n): EqualityComparator<Meta> {\n  return createComparator<Meta>(\n    merge(DEFAULT_CONFIG, getComparatorOptions(DEFAULT_CONFIG as any)),\n  );\n}\n\n/**\n * Create a custom equality comparison method that handles circular references. This is very\n * similar to `createCustomEqual`, with the only difference being that `meta` expects to be\n * populated with a `WeakMap`-like contract.\n *\n * This can be done to create very targeted comparisons in extreme hot-path scenarios\n * where the standard methods are not performant enough, but can also be used to provide\n * support for legacy environments that do not support expected features like\n * `WeakMap` out of the box.\n */\nexport function createCustomCircularEqual<\n  Meta extends BaseCircularMeta = WeakMap<any, any>,\n>(getComparatorOptions: GetComparatorOptions<Meta>): EqualityComparator<Meta> {\n  const comparator = createComparator<Meta>(\n    merge(\n      DEFAULT_CIRCULAR_CONFIG,\n      getComparatorOptions(DEFAULT_CIRCULAR_CONFIG as any),\n    ),\n  );\n\n  return ((a: any, b: any, meta: any = new WeakMap()) =>\n    comparator(a, b, meta)) as EqualityComparator<Meta>;\n}\n", "function r(e){var o,t,f=\"\";if(\"string\"==typeof e||\"number\"==typeof e)f+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var n=e.length;for(o=0;o<n;o++)e[o]&&(t=r(e[o]))&&(f&&(f+=\" \"),f+=t)}else for(t in e)e[t]&&(f&&(f+=\" \"),f+=t);return f}function e(){for(var e,o,t=0,f=\"\",n=arguments.length;t<n;t++)(e=arguments[t])&&(o=r(e))&&(f&&(f+=\" \"),f+=o);return f}module.exports=e,module.exports.clsx=e;", "// this file was prevaled\nmodule.exports = function fastRGLPropsEqual(a, b, isEqualImpl) {\n  if (a === b) return true;\n  return a.className === b.className && isEqualImpl(a.style, b.style) && a.width === b.width && a.autoSize === b.autoSize && a.cols === b.cols && a.draggableCancel === b.draggableCancel && a.draggableHandle === b.draggableHandle && isEqualImpl(a.verticalCompact, b.verticalCompact) && isEqualImpl(a.compactType, b.compactType) && isEqualImpl(a.layout, b.layout) && isEqualImpl(a.margin, b.margin) && isEqualImpl(a.containerPadding, b.containerPadding) && a.rowHeight === b.rowHeight && a.maxRows === b.maxRows && a.isBounded === b.isBounded && a.isDraggable === b.isDraggable && a.isResizable === b.isResizable && a.allowOverlap === b.allowOverlap && a.preventCollision === b.preventCollision && a.useCSSTransforms === b.useCSSTransforms && a.transformScale === b.transformScale && a.isDroppable === b.isDroppable && isEqualImpl(a.resizeHandles, b.resizeHandles) && isEqualImpl(a.resizeHandle, b.resizeHandle) && a.onLayoutChange === b.onLayoutChange && a.onDragStart === b.onDragStart && a.onDrag === b.onDrag && a.onDragStop === b.onDragStop && a.onResizeStart === b.onResizeStart && a.onResize === b.onResize && a.onResizeStop === b.onResizeStop && a.onDrop === b.onDrop && isEqualImpl(a.droppingItem, b.droppingItem) && isEqualImpl(a.innerRef, b.innerRef);\n};", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.bottom = bottom;\nexports.childrenEqual = childrenEqual;\nexports.cloneLayout = cloneLayout;\nexports.cloneLayoutItem = cloneLayoutItem;\nexports.collides = collides;\nexports.compact = compact;\nexports.compactItem = compactItem;\nexports.compactType = compactType;\nexports.correctBounds = correctBounds;\nexports.fastPositionEqual = fastPositionEqual;\nexports.fastRGLPropsEqual = void 0;\nexports.getAllCollisions = getAllCollisions;\nexports.getFirstCollision = getFirstCollision;\nexports.getLayoutItem = getLayoutItem;\nexports.getStatics = getStatics;\nexports.modifyLayout = modifyLayout;\nexports.moveElement = moveElement;\nexports.moveElementAwayFromCollision = moveElementAwayFromCollision;\nexports.noop = void 0;\nexports.perc = perc;\nexports.resizeItemInDirection = resizeItemInDirection;\nexports.setTopLeft = setTopLeft;\nexports.setTransform = setTransform;\nexports.sortLayoutItems = sortLayoutItems;\nexports.sortLayoutItemsByColRow = sortLayoutItemsByColRow;\nexports.sortLayoutItemsByRowCol = sortLayoutItemsByRowCol;\nexports.synchronizeLayoutWithChildren = synchronizeLayoutWithChildren;\nexports.validateLayout = validateLayout;\nexports.withLayoutItem = withLayoutItem;\nvar _fastEquals = require(\"fast-equals\");\nvar _react = _interopRequireDefault(require(\"react\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n/*:: import type {\n  ChildrenArray as ReactChildrenArray,\n  Element as ReactElement\n} from \"react\";*/\n/*:: export type ResizeHandleAxis =\n  | \"s\"\n  | \"w\"\n  | \"e\"\n  | \"n\"\n  | \"sw\"\n  | \"nw\"\n  | \"se\"\n  | \"ne\";*/\n/*:: export type LayoutItem = {\n  w: number,\n  h: number,\n  x: number,\n  y: number,\n  i: string,\n  minW?: number,\n  minH?: number,\n  maxW?: number,\n  maxH?: number,\n  moved?: boolean,\n  static?: boolean,\n  isDraggable?: ?boolean,\n  isResizable?: ?boolean,\n  resizeHandles?: Array<ResizeHandleAxis>,\n  isBounded?: ?boolean\n};*/\n/*:: export type Layout = $ReadOnlyArray<LayoutItem>;*/\n/*:: export type Position = {\n  left: number,\n  top: number,\n  width: number,\n  height: number\n};*/\n/*:: export type ReactDraggableCallbackData = {\n  node: HTMLElement,\n  x?: number,\n  y?: number,\n  deltaX: number,\n  deltaY: number,\n  lastX?: number,\n  lastY?: number\n};*/\n/*:: export type PartialPosition = { left: number, top: number };*/\n/*:: export type DroppingPosition = { left: number, top: number, e: Event };*/\n/*:: export type Size = { width: number, height: number };*/\n/*:: export type GridDragEvent = {\n  e: Event,\n  node: HTMLElement,\n  newPosition: PartialPosition\n};*/\n/*:: export type GridResizeEvent = {\n  e: Event,\n  node: HTMLElement,\n  size: Size,\n  handle: string\n};*/\n/*:: export type DragOverEvent = MouseEvent & {\n  nativeEvent: {\n    layerX: number,\n    layerY: number,\n    ...Event\n  }\n};*/\n/*:: export type Pick<FromType, Properties: { [string]: 0 }> = $Exact<\n  $ObjMapi<Properties, <K, V>(k: K, v: V) => $ElementType<FromType, K>>\n>;*/\n// Helpful port from TS\n/*:: type REl = ReactElement<any>;*/\n/*:: export type ReactChildren = ReactChildrenArray<REl>;*/\n/*:: export type EventCallback = (\n  Layout,\n  oldItem: ?LayoutItem,\n  newItem: ?LayoutItem,\n  placeholder: ?LayoutItem,\n  Event,\n  ?HTMLElement\n) => void;*/\n// All callbacks are of the signature (layout, oldItem, newItem, placeholder, e).\n/*:: export type CompactType = ?(\"horizontal\" | \"vertical\");*/\nconst isProduction = process.env.NODE_ENV === \"production\";\nconst DEBUG = false;\n\n/**\n * Return the bottom coordinate of the layout.\n *\n * @param  {Array} layout Layout array.\n * @return {Number}       Bottom coordinate.\n */\nfunction bottom(layout /*: Layout*/) /*: number*/{\n  let max = 0,\n    bottomY;\n  for (let i = 0, len = layout.length; i < len; i++) {\n    bottomY = layout[i].y + layout[i].h;\n    if (bottomY > max) max = bottomY;\n  }\n  return max;\n}\nfunction cloneLayout(layout /*: Layout*/) /*: Layout*/{\n  const newLayout = Array(layout.length);\n  for (let i = 0, len = layout.length; i < len; i++) {\n    newLayout[i] = cloneLayoutItem(layout[i]);\n  }\n  return newLayout;\n}\n\n// Modify a layoutItem inside a layout. Returns a new Layout,\n// does not mutate. Carries over all other LayoutItems unmodified.\nfunction modifyLayout(layout /*: Layout*/, layoutItem /*: LayoutItem*/) /*: Layout*/{\n  const newLayout = Array(layout.length);\n  for (let i = 0, len = layout.length; i < len; i++) {\n    if (layoutItem.i === layout[i].i) {\n      newLayout[i] = layoutItem;\n    } else {\n      newLayout[i] = layout[i];\n    }\n  }\n  return newLayout;\n}\n\n// Function to be called to modify a layout item.\n// Does defensive clones to ensure the layout is not modified.\nfunction withLayoutItem(layout /*: Layout*/, itemKey /*: string*/, cb /*: LayoutItem => LayoutItem*/) /*: [Layout, ?LayoutItem]*/{\n  let item = getLayoutItem(layout, itemKey);\n  if (!item) return [layout, null];\n  item = cb(cloneLayoutItem(item)); // defensive clone then modify\n  // FIXME could do this faster if we already knew the index\n  layout = modifyLayout(layout, item);\n  return [layout, item];\n}\n\n// Fast path to cloning, since this is monomorphic\nfunction cloneLayoutItem(layoutItem /*: LayoutItem*/) /*: LayoutItem*/{\n  return {\n    w: layoutItem.w,\n    h: layoutItem.h,\n    x: layoutItem.x,\n    y: layoutItem.y,\n    i: layoutItem.i,\n    minW: layoutItem.minW,\n    maxW: layoutItem.maxW,\n    minH: layoutItem.minH,\n    maxH: layoutItem.maxH,\n    moved: Boolean(layoutItem.moved),\n    static: Boolean(layoutItem.static),\n    // These can be null/undefined\n    isDraggable: layoutItem.isDraggable,\n    isResizable: layoutItem.isResizable,\n    resizeHandles: layoutItem.resizeHandles,\n    isBounded: layoutItem.isBounded\n  };\n}\n\n/**\n * Comparing React `children` is a bit difficult. This is a good way to compare them.\n * This will catch differences in keys, order, and length.\n */\nfunction childrenEqual(a /*: ReactChildren*/, b /*: ReactChildren*/) /*: boolean*/{\n  return (0, _fastEquals.deepEqual)(_react.default.Children.map(a, c => c?.key), _react.default.Children.map(b, c => c?.key)) && (0, _fastEquals.deepEqual)(_react.default.Children.map(a, c => c?.props[\"data-grid\"]), _react.default.Children.map(b, c => c?.props[\"data-grid\"]));\n}\n\n/**\n * See `fastRGLPropsEqual.js`.\n * We want this to run as fast as possible - it is called often - and to be\n * resilient to new props that we add. So rather than call lodash.isEqual,\n * which isn't suited to comparing props very well, we use this specialized\n * function in conjunction with preval to generate the fastest possible comparison\n * function, tuned for exactly our props.\n */\n/*:: type FastRGLPropsEqual = (Object, Object, Function) => boolean;*/\nconst fastRGLPropsEqual /*: FastRGLPropsEqual*/ = exports.fastRGLPropsEqual = require(\"./fastRGLPropsEqual\");\n\n// Like the above, but a lot simpler.\nfunction fastPositionEqual(a /*: Position*/, b /*: Position*/) /*: boolean*/{\n  return a.left === b.left && a.top === b.top && a.width === b.width && a.height === b.height;\n}\n\n/**\n * Given two layoutitems, check if they collide.\n */\nfunction collides(l1 /*: LayoutItem*/, l2 /*: LayoutItem*/) /*: boolean*/{\n  if (l1.i === l2.i) return false; // same element\n  if (l1.x + l1.w <= l2.x) return false; // l1 is left of l2\n  if (l1.x >= l2.x + l2.w) return false; // l1 is right of l2\n  if (l1.y + l1.h <= l2.y) return false; // l1 is above l2\n  if (l1.y >= l2.y + l2.h) return false; // l1 is below l2\n  return true; // boxes overlap\n}\n\n/**\n * Given a layout, compact it. This involves going down each y coordinate and removing gaps\n * between items.\n *\n * Does not modify layout items (clones). Creates a new layout array.\n *\n * @param  {Array} layout Layout.\n * @param  {Boolean} verticalCompact Whether or not to compact the layout\n *   vertically.\n * @param  {Boolean} allowOverlap When `true`, allows overlapping grid items.\n * @return {Array}       Compacted Layout.\n */\nfunction compact(layout /*: Layout*/, compactType /*: CompactType*/, cols /*: number*/, allowOverlap /*: ?boolean*/) /*: Layout*/{\n  // Statics go in the compareWith array right away so items flow around them.\n  const compareWith = getStatics(layout);\n  // We go through the items by row and column.\n  const sorted = sortLayoutItems(layout, compactType);\n  // Holding for new items.\n  const out = Array(layout.length);\n  for (let i = 0, len = sorted.length; i < len; i++) {\n    let l = cloneLayoutItem(sorted[i]);\n\n    // Don't move static elements\n    if (!l.static) {\n      l = compactItem(compareWith, l, compactType, cols, sorted, allowOverlap);\n\n      // Add to comparison array. We only collide with items before this one.\n      // Statics are already in this array.\n      compareWith.push(l);\n    }\n\n    // Add to output array to make sure they still come out in the right order.\n    out[layout.indexOf(sorted[i])] = l;\n\n    // Clear moved flag, if it exists.\n    l.moved = false;\n  }\n  return out;\n}\nconst heightWidth = {\n  x: \"w\",\n  y: \"h\"\n};\n/**\n * Before moving item down, it will check if the movement will cause collisions and move those items down before.\n */\nfunction resolveCompactionCollision(layout /*: Layout*/, item /*: LayoutItem*/, moveToCoord /*: number*/, axis /*: \"x\" | \"y\"*/) {\n  const sizeProp = heightWidth[axis];\n  item[axis] += 1;\n  const itemIndex = layout.map(layoutItem => {\n    return layoutItem.i;\n  }).indexOf(item.i);\n\n  // Go through each item we collide with.\n  for (let i = itemIndex + 1; i < layout.length; i++) {\n    const otherItem = layout[i];\n    // Ignore static items\n    if (otherItem.static) continue;\n\n    // Optimization: we can break early if we know we're past this el\n    // We can do this b/c it's a sorted layout\n    if (otherItem.y > item.y + item.h) break;\n    if (collides(item, otherItem)) {\n      resolveCompactionCollision(layout, otherItem, moveToCoord + item[sizeProp], axis);\n    }\n  }\n  item[axis] = moveToCoord;\n}\n\n/**\n * Compact an item in the layout.\n *\n * Modifies item.\n *\n */\nfunction compactItem(compareWith /*: Layout*/, l /*: LayoutItem*/, compactType /*: CompactType*/, cols /*: number*/, fullLayout /*: Layout*/, allowOverlap /*: ?boolean*/) /*: LayoutItem*/{\n  const compactV = compactType === \"vertical\";\n  const compactH = compactType === \"horizontal\";\n  if (compactV) {\n    // Bottom 'y' possible is the bottom of the layout.\n    // This allows you to do nice stuff like specify {y: Infinity}\n    // This is here because the layout must be sorted in order to get the correct bottom `y`.\n    l.y = Math.min(bottom(compareWith), l.y);\n    // Move the element up as far as it can go without colliding.\n    while (l.y > 0 && !getFirstCollision(compareWith, l)) {\n      l.y--;\n    }\n  } else if (compactH) {\n    // Move the element left as far as it can go without colliding.\n    while (l.x > 0 && !getFirstCollision(compareWith, l)) {\n      l.x--;\n    }\n  }\n\n  // Move it down, and keep moving it down if it's colliding.\n  let collides;\n  // Checking the compactType null value to avoid breaking the layout when overlapping is allowed.\n  while ((collides = getFirstCollision(compareWith, l)) && !(compactType === null && allowOverlap)) {\n    if (compactH) {\n      resolveCompactionCollision(fullLayout, l, collides.x + collides.w, \"x\");\n    } else {\n      resolveCompactionCollision(fullLayout, l, collides.y + collides.h, \"y\");\n    }\n    // Since we can't grow without bounds horizontally, if we've overflown, let's move it down and try again.\n    if (compactH && l.x + l.w > cols) {\n      l.x = cols - l.w;\n      l.y++;\n      // ALso move element as left as we can\n      while (l.x > 0 && !getFirstCollision(compareWith, l)) {\n        l.x--;\n      }\n    }\n  }\n\n  // Ensure that there are no negative positions\n  l.y = Math.max(l.y, 0);\n  l.x = Math.max(l.x, 0);\n  return l;\n}\n\n/**\n * Given a layout, make sure all elements fit within its bounds.\n *\n * Modifies layout items.\n *\n * @param  {Array} layout Layout array.\n * @param  {Number} bounds Number of columns.\n */\nfunction correctBounds(layout /*: Layout*/, bounds /*: { cols: number }*/) /*: Layout*/{\n  const collidesWith = getStatics(layout);\n  for (let i = 0, len = layout.length; i < len; i++) {\n    const l = layout[i];\n    // Overflows right\n    if (l.x + l.w > bounds.cols) l.x = bounds.cols - l.w;\n    // Overflows left\n    if (l.x < 0) {\n      l.x = 0;\n      l.w = bounds.cols;\n    }\n    if (!l.static) collidesWith.push(l);else {\n      // If this is static and collides with other statics, we must move it down.\n      // We have to do something nicer than just letting them overlap.\n      while (getFirstCollision(collidesWith, l)) {\n        l.y++;\n      }\n    }\n  }\n  return layout;\n}\n\n/**\n * Get a layout item by ID. Used so we can override later on if necessary.\n *\n * @param  {Array}  layout Layout array.\n * @param  {String} id     ID\n * @return {LayoutItem}    Item at ID.\n */\nfunction getLayoutItem(layout /*: Layout*/, id /*: string*/) /*: ?LayoutItem*/{\n  for (let i = 0, len = layout.length; i < len; i++) {\n    if (layout[i].i === id) return layout[i];\n  }\n}\n\n/**\n * Returns the first item this layout collides with.\n * It doesn't appear to matter which order we approach this from, although\n * perhaps that is the wrong thing to do.\n *\n * @param  {Object} layoutItem Layout item.\n * @return {Object|undefined}  A colliding layout item, or undefined.\n */\nfunction getFirstCollision(layout /*: Layout*/, layoutItem /*: LayoutItem*/) /*: ?LayoutItem*/{\n  for (let i = 0, len = layout.length; i < len; i++) {\n    if (collides(layout[i], layoutItem)) return layout[i];\n  }\n}\nfunction getAllCollisions(layout /*: Layout*/, layoutItem /*: LayoutItem*/) /*: Array<LayoutItem>*/{\n  return layout.filter(l => collides(l, layoutItem));\n}\n\n/**\n * Get all static elements.\n * @param  {Array} layout Array of layout objects.\n * @return {Array}        Array of static layout items..\n */\nfunction getStatics(layout /*: Layout*/) /*: Array<LayoutItem>*/{\n  return layout.filter(l => l.static);\n}\n\n/**\n * Move an element. Responsible for doing cascading movements of other elements.\n *\n * Modifies layout items.\n *\n * @param  {Array}      layout            Full layout to modify.\n * @param  {LayoutItem} l                 element to move.\n * @param  {Number}     [x]               X position in grid units.\n * @param  {Number}     [y]               Y position in grid units.\n */\nfunction moveElement(layout /*: Layout*/, l /*: LayoutItem*/, x /*: ?number*/, y /*: ?number*/, isUserAction /*: ?boolean*/, preventCollision /*: ?boolean*/, compactType /*: CompactType*/, cols /*: number*/, allowOverlap /*: ?boolean*/) /*: Layout*/{\n  // If this is static and not explicitly enabled as draggable,\n  // no move is possible, so we can short-circuit this immediately.\n  if (l.static && l.isDraggable !== true) return layout;\n\n  // Short-circuit if nothing to do.\n  if (l.y === y && l.x === x) return layout;\n  log(`Moving element ${l.i} to [${String(x)},${String(y)}] from [${l.x},${l.y}]`);\n  const oldX = l.x;\n  const oldY = l.y;\n\n  // This is quite a bit faster than extending the object\n  if (typeof x === \"number\") l.x = x;\n  if (typeof y === \"number\") l.y = y;\n  l.moved = true;\n\n  // If this collides with anything, move it.\n  // When doing this comparison, we have to sort the items we compare with\n  // to ensure, in the case of multiple collisions, that we're getting the\n  // nearest collision.\n  let sorted = sortLayoutItems(layout, compactType);\n  const movingUp = compactType === \"vertical\" && typeof y === \"number\" ? oldY >= y : compactType === \"horizontal\" && typeof x === \"number\" ? oldX >= x : false;\n  // $FlowIgnore acceptable modification of read-only array as it was recently cloned\n  if (movingUp) sorted = sorted.reverse();\n  const collisions = getAllCollisions(sorted, l);\n  const hasCollisions = collisions.length > 0;\n\n  // We may have collisions. We can short-circuit if we've turned off collisions or\n  // allowed overlap.\n  if (hasCollisions && allowOverlap) {\n    // Easy, we don't need to resolve collisions. But we *did* change the layout,\n    // so clone it on the way out.\n    return cloneLayout(layout);\n  } else if (hasCollisions && preventCollision) {\n    // If we are preventing collision but not allowing overlap, we need to\n    // revert the position of this element so it goes to where it came from, rather\n    // than the user's desired location.\n    log(`Collision prevented on ${l.i}, reverting.`);\n    l.x = oldX;\n    l.y = oldY;\n    l.moved = false;\n    return layout; // did not change so don't clone\n  }\n\n  // Move each item that collides away from this element.\n  for (let i = 0, len = collisions.length; i < len; i++) {\n    const collision = collisions[i];\n    log(`Resolving collision between ${l.i} at [${l.x},${l.y}] and ${collision.i} at [${collision.x},${collision.y}]`);\n\n    // Short circuit so we can't infinite loop\n    if (collision.moved) continue;\n\n    // Don't move static items - we have to move *this* element away\n    if (collision.static) {\n      layout = moveElementAwayFromCollision(layout, collision, l, isUserAction, compactType, cols);\n    } else {\n      layout = moveElementAwayFromCollision(layout, l, collision, isUserAction, compactType, cols);\n    }\n  }\n  return layout;\n}\n\n/**\n * This is where the magic needs to happen - given a collision, move an element away from the collision.\n * We attempt to move it up if there's room, otherwise it goes below.\n *\n * @param  {Array} layout            Full layout to modify.\n * @param  {LayoutItem} collidesWith Layout item we're colliding with.\n * @param  {LayoutItem} itemToMove   Layout item we're moving.\n */\nfunction moveElementAwayFromCollision(layout /*: Layout*/, collidesWith /*: LayoutItem*/, itemToMove /*: LayoutItem*/, isUserAction /*: ?boolean*/, compactType /*: CompactType*/, cols /*: number*/) /*: Layout*/{\n  const compactH = compactType === \"horizontal\";\n  // Compact vertically if not set to horizontal\n  const compactV = compactType === \"vertical\";\n  const preventCollision = collidesWith.static; // we're already colliding (not for static items)\n\n  // If there is enough space above the collision to put this element, move it there.\n  // We only do this on the main collision as this can get funky in cascades and cause\n  // unwanted swapping behavior.\n  if (isUserAction) {\n    // Reset isUserAction flag because we're not in the main collision anymore.\n    isUserAction = false;\n\n    // Make a mock item so we don't modify the item here, only modify in moveElement.\n    const fakeItem /*: LayoutItem*/ = {\n      x: compactH ? Math.max(collidesWith.x - itemToMove.w, 0) : itemToMove.x,\n      y: compactV ? Math.max(collidesWith.y - itemToMove.h, 0) : itemToMove.y,\n      w: itemToMove.w,\n      h: itemToMove.h,\n      i: \"-1\"\n    };\n    const firstCollision = getFirstCollision(layout, fakeItem);\n    const collisionNorth = firstCollision && firstCollision.y + firstCollision.h > collidesWith.y;\n    const collisionWest = firstCollision && collidesWith.x + collidesWith.w > firstCollision.x;\n\n    // No collision? If so, we can go up there; otherwise, we'll end up moving down as normal\n    if (!firstCollision) {\n      log(`Doing reverse collision on ${itemToMove.i} up to [${fakeItem.x},${fakeItem.y}].`);\n      return moveElement(layout, itemToMove, compactH ? fakeItem.x : undefined, compactV ? fakeItem.y : undefined, isUserAction, preventCollision, compactType, cols);\n    } else if (collisionNorth && compactV) {\n      return moveElement(layout, itemToMove, undefined, collidesWith.y + 1, isUserAction, preventCollision, compactType, cols);\n    } else if (collisionNorth && compactType == null) {\n      collidesWith.y = itemToMove.y;\n      itemToMove.y = itemToMove.y + itemToMove.h;\n      return layout;\n    } else if (collisionWest && compactH) {\n      return moveElement(layout, collidesWith, itemToMove.x, undefined, isUserAction, preventCollision, compactType, cols);\n    }\n  }\n  const newX = compactH ? itemToMove.x + 1 : undefined;\n  const newY = compactV ? itemToMove.y + 1 : undefined;\n  if (newX == null && newY == null) {\n    return layout;\n  }\n  return moveElement(layout, itemToMove, compactH ? itemToMove.x + 1 : undefined, compactV ? itemToMove.y + 1 : undefined, isUserAction, preventCollision, compactType, cols);\n}\n\n/**\n * Helper to convert a number to a percentage string.\n *\n * @param  {Number} num Any number\n * @return {String}     That number as a percentage.\n */\nfunction perc(num /*: number*/) /*: string*/{\n  return num * 100 + \"%\";\n}\n\n/**\n * Helper functions to constrain dimensions of a GridItem\n */\nconst constrainWidth = (left /*: number*/, currentWidth /*: number*/, newWidth /*: number*/, containerWidth /*: number*/) => {\n  return left + newWidth > containerWidth ? currentWidth : newWidth;\n};\nconst constrainHeight = (top /*: number*/, currentHeight /*: number*/, newHeight /*: number*/) => {\n  return top < 0 ? currentHeight : newHeight;\n};\nconst constrainLeft = (left /*: number*/) => Math.max(0, left);\nconst constrainTop = (top /*: number*/) => Math.max(0, top);\nconst resizeNorth = (currentSize, _ref, _containerWidth) => {\n  let {\n    left,\n    height,\n    width\n  } = _ref;\n  const top = currentSize.top - (height - currentSize.height);\n  return {\n    left,\n    width,\n    height: constrainHeight(top, currentSize.height, height),\n    top: constrainTop(top)\n  };\n};\nconst resizeEast = (currentSize, _ref2, containerWidth) => {\n  let {\n    top,\n    left,\n    height,\n    width\n  } = _ref2;\n  return {\n    top,\n    height,\n    width: constrainWidth(currentSize.left, currentSize.width, width, containerWidth),\n    left: constrainLeft(left)\n  };\n};\nconst resizeWest = (currentSize, _ref3, containerWidth) => {\n  let {\n    top,\n    height,\n    width\n  } = _ref3;\n  const left = currentSize.left - (width - currentSize.width);\n  return {\n    height,\n    width: left < 0 ? currentSize.width : constrainWidth(currentSize.left, currentSize.width, width, containerWidth),\n    top: constrainTop(top),\n    left: constrainLeft(left)\n  };\n};\nconst resizeSouth = (currentSize, _ref4, containerWidth) => {\n  let {\n    top,\n    left,\n    height,\n    width\n  } = _ref4;\n  return {\n    width,\n    left,\n    height: constrainHeight(top, currentSize.height, height),\n    top: constrainTop(top)\n  };\n};\nconst resizeNorthEast = function () {\n  return resizeNorth(arguments.length <= 0 ? undefined : arguments[0], resizeEast(...arguments), arguments.length <= 2 ? undefined : arguments[2]);\n};\nconst resizeNorthWest = function () {\n  return resizeNorth(arguments.length <= 0 ? undefined : arguments[0], resizeWest(...arguments), arguments.length <= 2 ? undefined : arguments[2]);\n};\nconst resizeSouthEast = function () {\n  return resizeSouth(arguments.length <= 0 ? undefined : arguments[0], resizeEast(...arguments), arguments.length <= 2 ? undefined : arguments[2]);\n};\nconst resizeSouthWest = function () {\n  return resizeSouth(arguments.length <= 0 ? undefined : arguments[0], resizeWest(...arguments), arguments.length <= 2 ? undefined : arguments[2]);\n};\nconst ordinalResizeHandlerMap = {\n  n: resizeNorth,\n  ne: resizeNorthEast,\n  e: resizeEast,\n  se: resizeSouthEast,\n  s: resizeSouth,\n  sw: resizeSouthWest,\n  w: resizeWest,\n  nw: resizeNorthWest\n};\n\n/**\n * Helper for clamping width and position when resizing an item.\n */\nfunction resizeItemInDirection(direction /*: ResizeHandleAxis*/, currentSize /*: Position*/, newSize /*: Position*/, containerWidth /*: number*/) /*: Position*/{\n  const ordinalHandler = ordinalResizeHandlerMap[direction];\n  // Shouldn't be possible given types; that said, don't fail hard\n  if (!ordinalHandler) return newSize;\n  return ordinalHandler(currentSize, {\n    ...currentSize,\n    ...newSize\n  }, containerWidth);\n}\nfunction setTransform(_ref5 /*:: */) /*: Object*/{\n  let {\n    top,\n    left,\n    width,\n    height\n  } /*: Position*/ = _ref5 /*: Position*/;\n  // Replace unitless items with px\n  const translate = `translate(${left}px,${top}px)`;\n  return {\n    transform: translate,\n    WebkitTransform: translate,\n    MozTransform: translate,\n    msTransform: translate,\n    OTransform: translate,\n    width: `${width}px`,\n    height: `${height}px`,\n    position: \"absolute\"\n  };\n}\nfunction setTopLeft(_ref6 /*:: */) /*: Object*/{\n  let {\n    top,\n    left,\n    width,\n    height\n  } /*: Position*/ = _ref6 /*: Position*/;\n  return {\n    top: `${top}px`,\n    left: `${left}px`,\n    width: `${width}px`,\n    height: `${height}px`,\n    position: \"absolute\"\n  };\n}\n\n/**\n * Get layout items sorted from top left to right and down.\n *\n * @return {Array} Array of layout objects.\n * @return {Array}        Layout, sorted static items first.\n */\nfunction sortLayoutItems(layout /*: Layout*/, compactType /*: CompactType*/) /*: Layout*/{\n  if (compactType === \"horizontal\") return sortLayoutItemsByColRow(layout);\n  if (compactType === \"vertical\") return sortLayoutItemsByRowCol(layout);else return layout;\n}\n\n/**\n * Sort layout items by row ascending and column ascending.\n *\n * Does not modify Layout.\n */\nfunction sortLayoutItemsByRowCol(layout /*: Layout*/) /*: Layout*/{\n  // Slice to clone array as sort modifies\n  return layout.slice(0).sort(function (a, b) {\n    if (a.y > b.y || a.y === b.y && a.x > b.x) {\n      return 1;\n    } else if (a.y === b.y && a.x === b.x) {\n      // Without this, we can get different sort results in IE vs. Chrome/FF\n      return 0;\n    }\n    return -1;\n  });\n}\n\n/**\n * Sort layout items by column ascending then row ascending.\n *\n * Does not modify Layout.\n */\nfunction sortLayoutItemsByColRow(layout /*: Layout*/) /*: Layout*/{\n  return layout.slice(0).sort(function (a, b) {\n    if (a.x > b.x || a.x === b.x && a.y > b.y) {\n      return 1;\n    }\n    return -1;\n  });\n}\n\n/**\n * Generate a layout using the initialLayout and children as a template.\n * Missing entries will be added, extraneous ones will be truncated.\n *\n * Does not modify initialLayout.\n *\n * @param  {Array}  initialLayout Layout passed in through props.\n * @param  {String} breakpoint    Current responsive breakpoint.\n * @param  {?String} compact      Compaction option.\n * @return {Array}                Working layout.\n */\nfunction synchronizeLayoutWithChildren(initialLayout /*: Layout*/, children /*: ReactChildren*/, cols /*: number*/, compactType /*: CompactType*/, allowOverlap /*: ?boolean*/) /*: Layout*/{\n  initialLayout = initialLayout || [];\n\n  // Generate one layout item per child.\n  const layout /*: LayoutItem[]*/ = [];\n  _react.default.Children.forEach(children, (child /*: ReactElement<any>*/) => {\n    // Child may not exist\n    if (child?.key == null) return;\n    const exists = getLayoutItem(initialLayout, String(child.key));\n    const g = child.props[\"data-grid\"];\n    // Don't overwrite the layout item if it's already in the initial layout.\n    // If it has a `data-grid` property, prefer that over what's in the layout.\n    if (exists && g == null) {\n      layout.push(cloneLayoutItem(exists));\n    } else {\n      // Hey, this item has a data-grid property, use it.\n      if (g) {\n        if (!isProduction) {\n          validateLayout([g], \"ReactGridLayout.children\");\n        }\n        // FIXME clone not really necessary here\n        layout.push(cloneLayoutItem({\n          ...g,\n          i: child.key\n        }));\n      } else {\n        // Nothing provided: ensure this is added to the bottom\n        // FIXME clone not really necessary here\n        layout.push(cloneLayoutItem({\n          w: 1,\n          h: 1,\n          x: 0,\n          y: bottom(layout),\n          i: String(child.key)\n        }));\n      }\n    }\n  });\n\n  // Correct the layout.\n  const correctedLayout = correctBounds(layout, {\n    cols: cols\n  });\n  return allowOverlap ? correctedLayout : compact(correctedLayout, compactType, cols);\n}\n\n/**\n * Validate a layout. Throws errors.\n *\n * @param  {Array}  layout        Array of layout items.\n * @param  {String} [contextName] Context name for errors.\n * @throw  {Error}                Validation error.\n */\nfunction validateLayout(layout /*: Layout*/) /*: void*/{\n  let contextName /*: string*/ = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"Layout\";\n  const subProps = [\"x\", \"y\", \"w\", \"h\"];\n  if (!Array.isArray(layout)) throw new Error(contextName + \" must be an array!\");\n  for (let i = 0, len = layout.length; i < len; i++) {\n    const item = layout[i];\n    for (let j = 0; j < subProps.length; j++) {\n      const key = subProps[j];\n      const value = item[key];\n      if (typeof value !== \"number\" || Number.isNaN(value)) {\n        throw new Error(`ReactGridLayout: ${contextName}[${i}].${key} must be a number! Received: ${value} (${typeof value})`);\n      }\n    }\n    if (typeof item.i !== \"undefined\" && typeof item.i !== \"string\") {\n      throw new Error(`ReactGridLayout: ${contextName}[${i}].i must be a string! Received: ${item.i} (${typeof item.i})`);\n    }\n  }\n}\n\n// Legacy support for verticalCompact: false\nfunction compactType(props /*: ?{ verticalCompact: boolean, compactType: CompactType }*/) /*: CompactType*/{\n  const {\n    verticalCompact,\n    compactType\n  } = props || {};\n  return verticalCompact === false ? null : compactType;\n}\nfunction log() {\n  if (!DEBUG) return;\n  // eslint-disable-next-line no-console\n  console.log(...arguments);\n}\nconst noop = () => {};\nexports.noop = noop;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.calcGridColWidth = calcGridColWidth;\nexports.calcGridItemPosition = calcGridItemPosition;\nexports.calcGridItemWHPx = calcGridItemWHPx;\nexports.calcWH = calcWH;\nexports.calcXY = calcXY;\nexports.clamp = clamp;\n/*:: import type { Position } from \"./utils\";*/\n/*:: export type PositionParams = {\n  margin: [number, number],\n  containerPadding: [number, number],\n  containerWidth: number,\n  cols: number,\n  rowHeight: number,\n  maxRows: number\n};*/\n// Helper for generating column width\nfunction calcGridColWidth(positionParams /*: PositionParams*/) /*: number*/{\n  const {\n    margin,\n    containerPadding,\n    containerWidth,\n    cols\n  } = positionParams;\n  return (containerWidth - margin[0] * (cols - 1) - containerPadding[0] * 2) / cols;\n}\n\n// This can either be called:\n// calcGridItemWHPx(w, colWidth, margin[0])\n// or\n// calcGridItemWHPx(h, rowHeight, margin[1])\nfunction calcGridItemWHPx(gridUnits /*: number*/, colOrRowSize /*: number*/, marginPx /*: number*/) /*: number*/{\n  // 0 * Infinity === NaN, which causes problems with resize contraints\n  if (!Number.isFinite(gridUnits)) return gridUnits;\n  return Math.round(colOrRowSize * gridUnits + Math.max(0, gridUnits - 1) * marginPx);\n}\n\n/**\n * Return position on the page given an x, y, w, h.\n * left, top, width, height are all in pixels.\n * @param  {PositionParams} positionParams  Parameters of grid needed for coordinates calculations.\n * @param  {Number}  x                      X coordinate in grid units.\n * @param  {Number}  y                      Y coordinate in grid units.\n * @param  {Number}  w                      W coordinate in grid units.\n * @param  {Number}  h                      H coordinate in grid units.\n * @return {Position}                       Object containing coords.\n */\nfunction calcGridItemPosition(positionParams /*: PositionParams*/, x /*: number*/, y /*: number*/, w /*: number*/, h /*: number*/, state /*: ?Object*/) /*: Position*/{\n  const {\n    margin,\n    containerPadding,\n    rowHeight\n  } = positionParams;\n  const colWidth = calcGridColWidth(positionParams);\n  const out = {};\n\n  // If resizing, use the exact width and height as returned from resizing callbacks.\n  if (state && state.resizing) {\n    out.width = Math.round(state.resizing.width);\n    out.height = Math.round(state.resizing.height);\n  }\n  // Otherwise, calculate from grid units.\n  else {\n    out.width = calcGridItemWHPx(w, colWidth, margin[0]);\n    out.height = calcGridItemWHPx(h, rowHeight, margin[1]);\n  }\n\n  // If dragging, use the exact width and height as returned from dragging callbacks.\n  if (state && state.dragging) {\n    out.top = Math.round(state.dragging.top);\n    out.left = Math.round(state.dragging.left);\n  } else if (state && state.resizing && typeof state.resizing.top === \"number\" && typeof state.resizing.left === \"number\") {\n    out.top = Math.round(state.resizing.top);\n    out.left = Math.round(state.resizing.left);\n  }\n  // Otherwise, calculate from grid units.\n  else {\n    out.top = Math.round((rowHeight + margin[1]) * y + containerPadding[1]);\n    out.left = Math.round((colWidth + margin[0]) * x + containerPadding[0]);\n  }\n  return out;\n}\n\n/**\n * Translate x and y coordinates from pixels to grid units.\n * @param  {PositionParams} positionParams  Parameters of grid needed for coordinates calculations.\n * @param  {Number} top                     Top position (relative to parent) in pixels.\n * @param  {Number} left                    Left position (relative to parent) in pixels.\n * @param  {Number} w                       W coordinate in grid units.\n * @param  {Number} h                       H coordinate in grid units.\n * @return {Object}                         x and y in grid units.\n */\nfunction calcXY(positionParams /*: PositionParams*/, top /*: number*/, left /*: number*/, w /*: number*/, h /*: number*/) /*: { x: number, y: number }*/{\n  const {\n    margin,\n    containerPadding,\n    cols,\n    rowHeight,\n    maxRows\n  } = positionParams;\n  const colWidth = calcGridColWidth(positionParams);\n\n  // left = containerPaddingX + x * (colWidth + marginX)\n  // x * (colWidth + marginX) = left - containerPaddingX\n  // x = (left - containerPaddingX) / (colWidth + marginX)\n  let x = Math.round((left - containerPadding[0]) / (colWidth + margin[0]));\n  let y = Math.round((top - containerPadding[1]) / (rowHeight + margin[1]));\n\n  // Capping\n  x = clamp(x, 0, cols - w);\n  y = clamp(y, 0, maxRows - h);\n  return {\n    x,\n    y\n  };\n}\n\n/**\n * Given a height and width in pixel values, calculate grid units.\n * @param  {PositionParams} positionParams  Parameters of grid needed for coordinates calcluations.\n * @param  {Number} height                  Height in pixels.\n * @param  {Number} width                   Width in pixels.\n * @param  {Number} x                       X coordinate in grid units.\n * @param  {Number} y                       Y coordinate in grid units.\n * @param {String} handle Resize Handle.\n * @return {Object}                         w, h as grid units.\n */\nfunction calcWH(positionParams /*: PositionParams*/, width /*: number*/, height /*: number*/, x /*: number*/, y /*: number*/, handle /*: string*/) /*: { w: number, h: number }*/{\n  const {\n    margin,\n    maxRows,\n    cols,\n    rowHeight\n  } = positionParams;\n  const colWidth = calcGridColWidth(positionParams);\n\n  // width = colWidth * w - (margin * (w - 1))\n  // ...\n  // w = (width + margin) / (colWidth + margin)\n  let w = Math.round((width + margin[0]) / (colWidth + margin[0]));\n  let h = Math.round((height + margin[1]) / (rowHeight + margin[1]));\n\n  // Capping\n  let _w = clamp(w, 0, cols - x);\n  let _h = clamp(h, 0, maxRows - y);\n  if ([\"sw\", \"w\", \"nw\"].indexOf(handle) !== -1) {\n    _w = clamp(w, 0, cols);\n  }\n  if ([\"nw\", \"n\", \"ne\"].indexOf(handle) !== -1) {\n    _h = clamp(h, 0, maxRows);\n  }\n  return {\n    w: _w,\n    h: _h\n  };\n}\n\n// Similar to _.clamp\nfunction clamp(num /*: number*/, lowerBound /*: number*/, upperBound /*: number*/) /*: number*/{\n  return Math.max(Math.min(num, upperBound), lowerBound);\n}", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dontSetMe = dontSetMe;\nexports.findInArray = findInArray;\nexports.int = int;\nexports.isFunction = isFunction;\nexports.isNum = isNum;\n// @credits https://gist.github.com/rogozhnikoff/a43cfed27c41e4e68cdc\nfunction findInArray(array /*: Array<any> | TouchList*/, callback /*: Function*/) /*: any*/{\n  for (let i = 0, length = array.length; i < length; i++) {\n    if (callback.apply(callback, [array[i], i, array])) return array[i];\n  }\n}\nfunction isFunction(func /*: any*/) /*: boolean %checks*/{\n  // $FlowIgnore[method-unbinding]\n  return typeof func === 'function' || Object.prototype.toString.call(func) === '[object Function]';\n}\nfunction isNum(num /*: any*/) /*: boolean %checks*/{\n  return typeof num === 'number' && !isNaN(num);\n}\nfunction int(a /*: string*/) /*: number*/{\n  return parseInt(a, 10);\n}\nfunction dontSetMe(props /*: Object*/, propName /*: string*/, componentName /*: string*/) /*: ?Error*/{\n  if (props[propName]) {\n    return new Error(`Invalid prop ${propName} passed to ${componentName} - do not set this, set it on the child.`);\n  }\n}", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.browserPrefixToKey = browserPrefixToKey;\nexports.browserPrefixToStyle = browserPrefixToStyle;\nexports.default = void 0;\nexports.getPrefix = getPrefix;\nconst prefixes = ['Moz', 'Webkit', 'O', 'ms'];\nfunction getPrefix() /*: string*/{\n  let prop /*: string*/ = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'transform';\n  // Ensure we're running in an environment where there is actually a global\n  // `window` obj\n  if (typeof window === 'undefined') return '';\n\n  // If we're in a pseudo-browser server-side environment, this access\n  // path may not exist, so bail out if it doesn't.\n  const style = window.document?.documentElement?.style;\n  if (!style) return '';\n  if (prop in style) return '';\n  for (let i = 0; i < prefixes.length; i++) {\n    if (browserPrefixToKey(prop, prefixes[i]) in style) return prefixes[i];\n  }\n  return '';\n}\nfunction browserPrefixToKey(prop /*: string*/, prefix /*: string*/) /*: string*/{\n  return prefix ? `${prefix}${kebabToTitleCase(prop)}` : prop;\n}\nfunction browserPrefixToStyle(prop /*: string*/, prefix /*: string*/) /*: string*/{\n  return prefix ? `-${prefix.toLowerCase()}-${prop}` : prop;\n}\nfunction kebabToTitleCase(str /*: string*/) /*: string*/{\n  let out = '';\n  let shouldCapitalize = true;\n  for (let i = 0; i < str.length; i++) {\n    if (shouldCapitalize) {\n      out += str[i].toUpperCase();\n      shouldCapitalize = false;\n    } else if (str[i] === '-') {\n      shouldCapitalize = true;\n    } else {\n      out += str[i];\n    }\n  }\n  return out;\n}\n\n// Default export is the prefix itself, like 'Moz', 'Webkit', etc\n// Note that you may have to re-test for certain things; for instance, Chrome 50\n// can handle unprefixed `transform`, but not unprefixed `user-select`\nvar _default = exports.default = (getPrefix() /*: string*/);", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addClassName = addClassName;\nexports.addEvent = addEvent;\nexports.addUserSelectStyles = addUserSelectStyles;\nexports.createCSSTransform = createCSSTransform;\nexports.createSVGTransform = createSVGTransform;\nexports.getTouch = getTouch;\nexports.getTouchIdentifier = getTouchIdentifier;\nexports.getTranslation = getTranslation;\nexports.innerHeight = innerHeight;\nexports.innerWidth = innerWidth;\nexports.matchesSelector = matchesSelector;\nexports.matchesSelectorAndParentsTo = matchesSelectorAndParentsTo;\nexports.offsetXYFromParent = offsetXYFromParent;\nexports.outerHeight = outerHeight;\nexports.outerWidth = outerWidth;\nexports.removeClassName = removeClassName;\nexports.removeEvent = removeEvent;\nexports.scheduleRemoveUserSelectStyles = scheduleRemoveUserSelectStyles;\nvar _shims = require(\"./shims\");\nvar _getPrefix = _interopRequireWildcard(require(\"./getPrefix\"));\nfunction _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n/*:: import type {ControlPosition, PositionOffsetControlPosition, MouseTouchEvent} from './types';*/\nlet matchesSelectorFunc = '';\nfunction matchesSelector(el /*: Node*/, selector /*: string*/) /*: boolean*/{\n  if (!matchesSelectorFunc) {\n    matchesSelectorFunc = (0, _shims.findInArray)(['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'], function (method) {\n      // $FlowIgnore: Doesn't think elements are indexable\n      return (0, _shims.isFunction)(el[method]);\n    });\n  }\n\n  // Might not be found entirely (not an Element?) - in that case, bail\n  // $FlowIgnore: Doesn't think elements are indexable\n  if (!(0, _shims.isFunction)(el[matchesSelectorFunc])) return false;\n\n  // $FlowIgnore: Doesn't think elements are indexable\n  return el[matchesSelectorFunc](selector);\n}\n\n// Works up the tree to the draggable itself attempting to match selector.\nfunction matchesSelectorAndParentsTo(el /*: Node*/, selector /*: string*/, baseNode /*: Node*/) /*: boolean*/{\n  let node = el;\n  do {\n    if (matchesSelector(node, selector)) return true;\n    if (node === baseNode) return false;\n    // $FlowIgnore[incompatible-type]\n    node = node.parentNode;\n  } while (node);\n  return false;\n}\nfunction addEvent(el /*: ?Node*/, event /*: string*/, handler /*: Function*/, inputOptions /*: Object*/) /*: void*/{\n  if (!el) return;\n  const options = {\n    capture: true,\n    ...inputOptions\n  };\n  // $FlowIgnore[method-unbinding]\n  if (el.addEventListener) {\n    el.addEventListener(event, handler, options);\n  } else if (el.attachEvent) {\n    el.attachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = handler;\n  }\n}\nfunction removeEvent(el /*: ?Node*/, event /*: string*/, handler /*: Function*/, inputOptions /*: Object*/) /*: void*/{\n  if (!el) return;\n  const options = {\n    capture: true,\n    ...inputOptions\n  };\n  // $FlowIgnore[method-unbinding]\n  if (el.removeEventListener) {\n    el.removeEventListener(event, handler, options);\n  } else if (el.detachEvent) {\n    el.detachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = null;\n  }\n}\nfunction outerHeight(node /*: HTMLElement*/) /*: number*/{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetTop which is including margin. See getBoundPosition\n  let height = node.clientHeight;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height += (0, _shims.int)(computedStyle.borderTopWidth);\n  height += (0, _shims.int)(computedStyle.borderBottomWidth);\n  return height;\n}\nfunction outerWidth(node /*: HTMLElement*/) /*: number*/{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetLeft which is including margin. See getBoundPosition\n  let width = node.clientWidth;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width += (0, _shims.int)(computedStyle.borderLeftWidth);\n  width += (0, _shims.int)(computedStyle.borderRightWidth);\n  return width;\n}\nfunction innerHeight(node /*: HTMLElement*/) /*: number*/{\n  let height = node.clientHeight;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height -= (0, _shims.int)(computedStyle.paddingTop);\n  height -= (0, _shims.int)(computedStyle.paddingBottom);\n  return height;\n}\nfunction innerWidth(node /*: HTMLElement*/) /*: number*/{\n  let width = node.clientWidth;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width -= (0, _shims.int)(computedStyle.paddingLeft);\n  width -= (0, _shims.int)(computedStyle.paddingRight);\n  return width;\n}\n/*:: interface EventWithOffset {\n  clientX: number, clientY: number\n}*/\n// Get from offsetParent\nfunction offsetXYFromParent(evt /*: EventWithOffset*/, offsetParent /*: HTMLElement*/, scale /*: number*/) /*: ControlPosition*/{\n  const isBody = offsetParent === offsetParent.ownerDocument.body;\n  const offsetParentRect = isBody ? {\n    left: 0,\n    top: 0\n  } : offsetParent.getBoundingClientRect();\n  const x = (evt.clientX + offsetParent.scrollLeft - offsetParentRect.left) / scale;\n  const y = (evt.clientY + offsetParent.scrollTop - offsetParentRect.top) / scale;\n  return {\n    x,\n    y\n  };\n}\nfunction createCSSTransform(controlPos /*: ControlPosition*/, positionOffset /*: PositionOffsetControlPosition*/) /*: Object*/{\n  const translation = getTranslation(controlPos, positionOffset, 'px');\n  return {\n    [(0, _getPrefix.browserPrefixToKey)('transform', _getPrefix.default)]: translation\n  };\n}\nfunction createSVGTransform(controlPos /*: ControlPosition*/, positionOffset /*: PositionOffsetControlPosition*/) /*: string*/{\n  const translation = getTranslation(controlPos, positionOffset, '');\n  return translation;\n}\nfunction getTranslation(_ref /*:: */, positionOffset /*: PositionOffsetControlPosition*/, unitSuffix /*: string*/) /*: string*/{\n  let {\n    x,\n    y\n  } /*: ControlPosition*/ = _ref /*: ControlPosition*/;\n  let translation = `translate(${x}${unitSuffix},${y}${unitSuffix})`;\n  if (positionOffset) {\n    const defaultX = `${typeof positionOffset.x === 'string' ? positionOffset.x : positionOffset.x + unitSuffix}`;\n    const defaultY = `${typeof positionOffset.y === 'string' ? positionOffset.y : positionOffset.y + unitSuffix}`;\n    translation = `translate(${defaultX}, ${defaultY})` + translation;\n  }\n  return translation;\n}\nfunction getTouch(e /*: MouseTouchEvent*/, identifier /*: number*/) /*: ?{clientX: number, clientY: number}*/{\n  return e.targetTouches && (0, _shims.findInArray)(e.targetTouches, t => identifier === t.identifier) || e.changedTouches && (0, _shims.findInArray)(e.changedTouches, t => identifier === t.identifier);\n}\nfunction getTouchIdentifier(e /*: MouseTouchEvent*/) /*: ?number*/{\n  if (e.targetTouches && e.targetTouches[0]) return e.targetTouches[0].identifier;\n  if (e.changedTouches && e.changedTouches[0]) return e.changedTouches[0].identifier;\n}\n\n// User-select Hacks:\n//\n// Useful for preventing blue highlights all over everything when dragging.\n\n// Note we're passing `document` b/c we could be iframed\nfunction addUserSelectStyles(doc /*: ?Document*/) {\n  if (!doc) return;\n  let styleEl = doc.getElementById('react-draggable-style-el');\n  if (!styleEl) {\n    styleEl = doc.createElement('style');\n    styleEl.type = 'text/css';\n    styleEl.id = 'react-draggable-style-el';\n    styleEl.innerHTML = '.react-draggable-transparent-selection *::-moz-selection {all: inherit;}\\n';\n    styleEl.innerHTML += '.react-draggable-transparent-selection *::selection {all: inherit;}\\n';\n    doc.getElementsByTagName('head')[0].appendChild(styleEl);\n  }\n  if (doc.body) addClassName(doc.body, 'react-draggable-transparent-selection');\n}\nfunction scheduleRemoveUserSelectStyles(doc /*: ?Document*/) {\n  // Prevent a possible \"forced reflow\"\n  if (window.requestAnimationFrame) {\n    window.requestAnimationFrame(() => {\n      removeUserSelectStyles(doc);\n    });\n  } else {\n    removeUserSelectStyles(doc);\n  }\n}\nfunction removeUserSelectStyles(doc /*: ?Document*/) {\n  if (!doc) return;\n  try {\n    if (doc.body) removeClassName(doc.body, 'react-draggable-transparent-selection');\n    // $FlowIgnore: IE\n    if (doc.selection) {\n      // $FlowIgnore: IE\n      doc.selection.empty();\n    } else {\n      // Remove selection caused by scroll, unless it's a focused input\n      // (we use doc.defaultView in case we're in an iframe)\n      const selection = (doc.defaultView || window).getSelection();\n      if (selection && selection.type !== 'Caret') {\n        selection.removeAllRanges();\n      }\n    }\n  } catch (e) {\n    // probably IE\n  }\n}\nfunction addClassName(el /*: HTMLElement*/, className /*: string*/) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    if (!el.className.match(new RegExp(`(?:^|\\\\s)${className}(?!\\\\S)`))) {\n      el.className += ` ${className}`;\n    }\n  }\n}\nfunction removeClassName(el /*: HTMLElement*/, className /*: string*/) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp(`(?:^|\\\\s)${className}(?!\\\\S)`, 'g'), '');\n  }\n}", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.canDragX = canDragX;\nexports.canDragY = canDragY;\nexports.createCoreData = createCoreData;\nexports.createDraggableData = createDraggableData;\nexports.getBoundPosition = getBoundPosition;\nexports.getControlPosition = getControlPosition;\nexports.snapToGrid = snapToGrid;\nvar _shims = require(\"./shims\");\nvar _domFns = require(\"./domFns\");\n/*:: import type Draggable from '../Draggable';*/\n/*:: import type {Bounds, ControlPosition, DraggableData, MouseTouchEvent} from './types';*/\n/*:: import type DraggableCore from '../DraggableCore';*/\nfunction getBoundPosition(draggable /*: Draggable*/, x /*: number*/, y /*: number*/) /*: [number, number]*/{\n  // If no bounds, short-circuit and move on\n  if (!draggable.props.bounds) return [x, y];\n\n  // Clone new bounds\n  let {\n    bounds\n  } = draggable.props;\n  bounds = typeof bounds === 'string' ? bounds : cloneBounds(bounds);\n  const node = findDOMNode(draggable);\n  if (typeof bounds === 'string') {\n    const {\n      ownerDocument\n    } = node;\n    const ownerWindow = ownerDocument.defaultView;\n    let boundNode;\n    if (bounds === 'parent') {\n      boundNode = node.parentNode;\n    } else {\n      // Flow assigns the wrong return type (Node) for getRootNode(),\n      // so we cast it to one of the correct types (Element).\n      // The others are Document and ShadowRoot.\n      // All three implement querySelector() so it's safe to call.\n      const rootNode = ((node.getRootNode() /*: any*/) /*: Element*/);\n      boundNode = rootNode.querySelector(bounds);\n    }\n    if (!(boundNode instanceof ownerWindow.HTMLElement)) {\n      throw new Error('Bounds selector \"' + bounds + '\" could not find an element.');\n    }\n    const boundNodeEl /*: HTMLElement*/ = boundNode; // for Flow, can't seem to refine correctly\n    const nodeStyle = ownerWindow.getComputedStyle(node);\n    const boundNodeStyle = ownerWindow.getComputedStyle(boundNodeEl);\n    // Compute bounds. This is a pain with padding and offsets but this gets it exactly right.\n    bounds = {\n      left: -node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingLeft) + (0, _shims.int)(nodeStyle.marginLeft),\n      top: -node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingTop) + (0, _shims.int)(nodeStyle.marginTop),\n      right: (0, _domFns.innerWidth)(boundNodeEl) - (0, _domFns.outerWidth)(node) - node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingRight) - (0, _shims.int)(nodeStyle.marginRight),\n      bottom: (0, _domFns.innerHeight)(boundNodeEl) - (0, _domFns.outerHeight)(node) - node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingBottom) - (0, _shims.int)(nodeStyle.marginBottom)\n    };\n  }\n\n  // Keep x and y below right and bottom limits...\n  if ((0, _shims.isNum)(bounds.right)) x = Math.min(x, bounds.right);\n  if ((0, _shims.isNum)(bounds.bottom)) y = Math.min(y, bounds.bottom);\n\n  // But above left and top limits.\n  if ((0, _shims.isNum)(bounds.left)) x = Math.max(x, bounds.left);\n  if ((0, _shims.isNum)(bounds.top)) y = Math.max(y, bounds.top);\n  return [x, y];\n}\nfunction snapToGrid(grid /*: [number, number]*/, pendingX /*: number*/, pendingY /*: number*/) /*: [number, number]*/{\n  const x = Math.round(pendingX / grid[0]) * grid[0];\n  const y = Math.round(pendingY / grid[1]) * grid[1];\n  return [x, y];\n}\nfunction canDragX(draggable /*: Draggable*/) /*: boolean*/{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'x';\n}\nfunction canDragY(draggable /*: Draggable*/) /*: boolean*/{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'y';\n}\n\n// Get {x, y} positions from event.\nfunction getControlPosition(e /*: MouseTouchEvent*/, touchIdentifier /*: ?number*/, draggableCore /*: DraggableCore*/) /*: ?ControlPosition*/{\n  const touchObj = typeof touchIdentifier === 'number' ? (0, _domFns.getTouch)(e, touchIdentifier) : null;\n  if (typeof touchIdentifier === 'number' && !touchObj) return null; // not the right touch\n  const node = findDOMNode(draggableCore);\n  // User can provide an offsetParent if desired.\n  const offsetParent = draggableCore.props.offsetParent || node.offsetParent || node.ownerDocument.body;\n  return (0, _domFns.offsetXYFromParent)(touchObj || e, offsetParent, draggableCore.props.scale);\n}\n\n// Create an data object exposed by <DraggableCore>'s events\nfunction createCoreData(draggable /*: DraggableCore*/, x /*: number*/, y /*: number*/) /*: DraggableData*/{\n  const isStart = !(0, _shims.isNum)(draggable.lastX);\n  const node = findDOMNode(draggable);\n  if (isStart) {\n    // If this is our first move, use the x and y as last coords.\n    return {\n      node,\n      deltaX: 0,\n      deltaY: 0,\n      lastX: x,\n      lastY: y,\n      x,\n      y\n    };\n  } else {\n    // Otherwise calculate proper values.\n    return {\n      node,\n      deltaX: x - draggable.lastX,\n      deltaY: y - draggable.lastY,\n      lastX: draggable.lastX,\n      lastY: draggable.lastY,\n      x,\n      y\n    };\n  }\n}\n\n// Create an data exposed by <Draggable>'s events\nfunction createDraggableData(draggable /*: Draggable*/, coreData /*: DraggableData*/) /*: DraggableData*/{\n  const scale = draggable.props.scale;\n  return {\n    node: coreData.node,\n    x: draggable.state.x + coreData.deltaX / scale,\n    y: draggable.state.y + coreData.deltaY / scale,\n    deltaX: coreData.deltaX / scale,\n    deltaY: coreData.deltaY / scale,\n    lastX: draggable.state.x,\n    lastY: draggable.state.y\n  };\n}\n\n// A lot faster than stringify/parse\nfunction cloneBounds(bounds /*: Bounds*/) /*: Bounds*/{\n  return {\n    left: bounds.left,\n    top: bounds.top,\n    right: bounds.right,\n    bottom: bounds.bottom\n  };\n}\nfunction findDOMNode(draggable /*: Draggable | DraggableCore*/) /*: HTMLElement*/{\n  const node = draggable.findDOMNode();\n  if (!node) {\n    throw new Error('<DraggableCore>: Unmounted during event!');\n  }\n  // $FlowIgnore we can't assert on HTMLElement due to tests... FIXME\n  return node;\n}", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = log;\n/*eslint no-console:0*/\nfunction log() {\n  if (undefined) console.log(...arguments);\n}", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\nvar _domFns = require(\"./utils/domFns\");\nvar _positionFns = require(\"./utils/positionFns\");\nvar _shims = require(\"./utils/shims\");\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/*:: import type {EventHandler, MouseTouchEvent} from './utils/types';*/\n/*:: import type {Element as ReactElement} from 'react';*/\n// Simple abstraction for dragging events names.\nconst eventsFor = {\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  },\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  }\n};\n\n// Default to mouse events.\nlet dragEventFor = eventsFor.mouse;\n/*:: export type DraggableData = {\n  node: HTMLElement,\n  x: number, y: number,\n  deltaX: number, deltaY: number,\n  lastX: number, lastY: number,\n};*/\n/*:: export type DraggableEventHandler = (e: MouseEvent, data: DraggableData) => void | false;*/\n/*:: export type ControlPosition = {x: number, y: number};*/\n/*:: export type PositionOffsetControlPosition = {x: number|string, y: number|string};*/\n/*:: export type DraggableCoreDefaultProps = {\n  allowAnyClick: boolean,\n  allowMobileScroll: boolean,\n  disabled: boolean,\n  enableUserSelectHack: boolean,\n  onStart: DraggableEventHandler,\n  onDrag: DraggableEventHandler,\n  onStop: DraggableEventHandler,\n  onMouseDown: (e: MouseEvent) => void,\n  scale: number,\n};*/\n/*:: export type DraggableCoreProps = {\n  ...DraggableCoreDefaultProps,\n  cancel: string,\n  children: ReactElement<any>,\n  offsetParent: HTMLElement,\n  grid: [number, number],\n  handle: string,\n  nodeRef?: ?React.ElementRef<any>,\n};*/\n//\n// Define <DraggableCore>.\n//\n// <DraggableCore> is for advanced usage of <Draggable>. It maintains minimal internal state so it can\n// work well with libraries that require more control over the element.\n//\n\nclass DraggableCore extends React.Component /*:: <DraggableCoreProps>*/{\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"dragging\", false);\n    // Used while dragging to determine deltas.\n    _defineProperty(this, \"lastX\", NaN);\n    _defineProperty(this, \"lastY\", NaN);\n    _defineProperty(this, \"touchIdentifier\", null);\n    _defineProperty(this, \"mounted\", false);\n    _defineProperty(this, \"handleDragStart\", e => {\n      // Make it possible to attach event handlers on top of this one.\n      this.props.onMouseDown(e);\n\n      // Only accept left-clicks.\n      if (!this.props.allowAnyClick && typeof e.button === 'number' && e.button !== 0) return false;\n\n      // Get nodes. Be sure to grab relative document (could be iframed)\n      const thisNode = this.findDOMNode();\n      if (!thisNode || !thisNode.ownerDocument || !thisNode.ownerDocument.body) {\n        throw new Error('<DraggableCore> not mounted on DragStart!');\n      }\n      const {\n        ownerDocument\n      } = thisNode;\n\n      // Short circuit if handle or cancel prop was provided and selector doesn't match.\n      if (this.props.disabled || !(e.target instanceof ownerDocument.defaultView.Node) || this.props.handle && !(0, _domFns.matchesSelectorAndParentsTo)(e.target, this.props.handle, thisNode) || this.props.cancel && (0, _domFns.matchesSelectorAndParentsTo)(e.target, this.props.cancel, thisNode)) {\n        return;\n      }\n\n      // Prevent scrolling on mobile devices, like ipad/iphone.\n      // Important that this is after handle/cancel.\n      if (e.type === 'touchstart' && !this.props.allowMobileScroll) e.preventDefault();\n\n      // Set touch identifier in component state if this is a touch event. This allows us to\n      // distinguish between individual touches on multitouch screens by identifying which\n      // touchpoint was set to this element.\n      const touchIdentifier = (0, _domFns.getTouchIdentifier)(e);\n      this.touchIdentifier = touchIdentifier;\n\n      // Get the current drag point from the event. This is used as the offset.\n      const position = (0, _positionFns.getControlPosition)(e, touchIdentifier, this);\n      if (position == null) return; // not possible but satisfies flow\n      const {\n        x,\n        y\n      } = position;\n\n      // Create an event object with all the data parents need to make a decision here.\n      const coreEvent = (0, _positionFns.createCoreData)(this, x, y);\n      (0, _log.default)('DraggableCore: handleDragStart: %j', coreEvent);\n\n      // Call event handler. If it returns explicit false, cancel.\n      (0, _log.default)('calling', this.props.onStart);\n      const shouldUpdate = this.props.onStart(e, coreEvent);\n      if (shouldUpdate === false || this.mounted === false) return;\n\n      // Add a style to the body to disable user-select. This prevents text from\n      // being selected all over the page.\n      if (this.props.enableUserSelectHack) (0, _domFns.addUserSelectStyles)(ownerDocument);\n\n      // Initiate dragging. Set the current x and y as offsets\n      // so we know how much we've moved during the drag. This allows us\n      // to drag elements around even if they have been moved, without issue.\n      this.dragging = true;\n      this.lastX = x;\n      this.lastY = y;\n\n      // Add events to the document directly so we catch when the user's mouse/touch moves outside of\n      // this element. We use different events depending on whether or not we have detected that this\n      // is a touch-capable device.\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.move, this.handleDrag);\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.stop, this.handleDragStop);\n    });\n    _defineProperty(this, \"handleDrag\", e => {\n      // Get the current drag point from the event. This is used as the offset.\n      const position = (0, _positionFns.getControlPosition)(e, this.touchIdentifier, this);\n      if (position == null) return;\n      let {\n        x,\n        y\n      } = position;\n\n      // Snap to grid if prop has been provided\n      if (Array.isArray(this.props.grid)) {\n        let deltaX = x - this.lastX,\n          deltaY = y - this.lastY;\n        [deltaX, deltaY] = (0, _positionFns.snapToGrid)(this.props.grid, deltaX, deltaY);\n        if (!deltaX && !deltaY) return; // skip useless drag\n        x = this.lastX + deltaX, y = this.lastY + deltaY;\n      }\n      const coreEvent = (0, _positionFns.createCoreData)(this, x, y);\n      (0, _log.default)('DraggableCore: handleDrag: %j', coreEvent);\n\n      // Call event handler. If it returns explicit false, trigger end.\n      const shouldUpdate = this.props.onDrag(e, coreEvent);\n      if (shouldUpdate === false || this.mounted === false) {\n        try {\n          // $FlowIgnore\n          this.handleDragStop(new MouseEvent('mouseup'));\n        } catch (err) {\n          // Old browsers\n          const event = ((document.createEvent('MouseEvents') /*: any*/) /*: MouseTouchEvent*/);\n          // I see why this insanity was deprecated\n          // $FlowIgnore\n          event.initMouseEvent('mouseup', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n          this.handleDragStop(event);\n        }\n        return;\n      }\n      this.lastX = x;\n      this.lastY = y;\n    });\n    _defineProperty(this, \"handleDragStop\", e => {\n      if (!this.dragging) return;\n      const position = (0, _positionFns.getControlPosition)(e, this.touchIdentifier, this);\n      if (position == null) return;\n      let {\n        x,\n        y\n      } = position;\n\n      // Snap to grid if prop has been provided\n      if (Array.isArray(this.props.grid)) {\n        let deltaX = x - this.lastX || 0;\n        let deltaY = y - this.lastY || 0;\n        [deltaX, deltaY] = (0, _positionFns.snapToGrid)(this.props.grid, deltaX, deltaY);\n        x = this.lastX + deltaX, y = this.lastY + deltaY;\n      }\n      const coreEvent = (0, _positionFns.createCoreData)(this, x, y);\n\n      // Call event handler\n      const shouldContinue = this.props.onStop(e, coreEvent);\n      if (shouldContinue === false || this.mounted === false) return false;\n      const thisNode = this.findDOMNode();\n      if (thisNode) {\n        // Remove user-select hack\n        if (this.props.enableUserSelectHack) (0, _domFns.scheduleRemoveUserSelectStyles)(thisNode.ownerDocument);\n      }\n      (0, _log.default)('DraggableCore: handleDragStop: %j', coreEvent);\n\n      // Reset the el.\n      this.dragging = false;\n      this.lastX = NaN;\n      this.lastY = NaN;\n      if (thisNode) {\n        // Remove event handlers\n        (0, _log.default)('DraggableCore: Removing handlers');\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.move, this.handleDrag);\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.stop, this.handleDragStop);\n      }\n    });\n    _defineProperty(this, \"onMouseDown\", e => {\n      dragEventFor = eventsFor.mouse; // on touchscreen laptops we could switch back to mouse\n\n      return this.handleDragStart(e);\n    });\n    _defineProperty(this, \"onMouseUp\", e => {\n      dragEventFor = eventsFor.mouse;\n      return this.handleDragStop(e);\n    });\n    // Same as onMouseDown (start drag), but now consider this a touch device.\n    _defineProperty(this, \"onTouchStart\", e => {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return this.handleDragStart(e);\n    });\n    _defineProperty(this, \"onTouchEnd\", e => {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return this.handleDragStop(e);\n    });\n  }\n  componentDidMount() {\n    this.mounted = true;\n    // Touch handlers must be added with {passive: false} to be cancelable.\n    // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n    const thisNode = this.findDOMNode();\n    if (thisNode) {\n      (0, _domFns.addEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n        passive: false\n      });\n    }\n  }\n  componentWillUnmount() {\n    this.mounted = false;\n    // Remove any leftover event handlers. Remove both touch and mouse handlers in case\n    // some browser quirk caused a touch event to fire during a mouse move, or vice versa.\n    const thisNode = this.findDOMNode();\n    if (thisNode) {\n      const {\n        ownerDocument\n      } = thisNode;\n      (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.move, this.handleDrag);\n      (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.move, this.handleDrag);\n      (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.stop, this.handleDragStop);\n      (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.stop, this.handleDragStop);\n      (0, _domFns.removeEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n        passive: false\n      });\n      if (this.props.enableUserSelectHack) (0, _domFns.scheduleRemoveUserSelectStyles)(ownerDocument);\n    }\n  }\n\n  // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n  // the underlying DOM node ourselves. See the README for more information.\n  findDOMNode() /*: ?HTMLElement*/{\n    return this.props?.nodeRef ? this.props?.nodeRef?.current : _reactDom.default.findDOMNode(this);\n  }\n  render() /*: React.Element<any>*/{\n    // Reuse the child provided\n    // This makes it flexible to use whatever element is wanted (div, ul, etc)\n    return /*#__PURE__*/React.cloneElement(React.Children.only(this.props.children), {\n      // Note: mouseMove handler is attached to document so it will still function\n      // when the user drags quickly and leaves the bounds of the element.\n      onMouseDown: this.onMouseDown,\n      onMouseUp: this.onMouseUp,\n      // onTouchStart is added on `componentDidMount` so they can be added with\n      // {passive: false}, which allows it to cancel. See\n      // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n      onTouchEnd: this.onTouchEnd\n    });\n  }\n}\nexports.default = DraggableCore;\n_defineProperty(DraggableCore, \"displayName\", 'DraggableCore');\n_defineProperty(DraggableCore, \"propTypes\", {\n  /**\n   * `allowAnyClick` allows dragging using any mouse button.\n   * By default, we only accept the left button.\n   *\n   * Defaults to `false`.\n   */\n  allowAnyClick: _propTypes.default.bool,\n  /**\n   * `allowMobileScroll` turns off cancellation of the 'touchstart' event\n   * on mobile devices. Only enable this if you are having trouble with click\n   * events. Prefer using 'handle' / 'cancel' instead.\n   *\n   * Defaults to `false`.\n   */\n  allowMobileScroll: _propTypes.default.bool,\n  children: _propTypes.default.node.isRequired,\n  /**\n   * `disabled`, if true, stops the <Draggable> from dragging. All handlers,\n   * with the exception of `onMouseDown`, will not fire.\n   */\n  disabled: _propTypes.default.bool,\n  /**\n   * By default, we add 'user-select:none' attributes to the document body\n   * to prevent ugly text selection during drag. If this is causing problems\n   * for your app, set this to `false`.\n   */\n  enableUserSelectHack: _propTypes.default.bool,\n  /**\n   * `offsetParent`, if set, uses the passed DOM node to compute drag offsets\n   * instead of using the parent node.\n   */\n  offsetParent: function (props /*: DraggableCoreProps*/, propName /*: $Keys<DraggableCoreProps>*/) {\n    if (props[propName] && props[propName].nodeType !== 1) {\n      throw new Error('Draggable\\'s offsetParent must be a DOM Node.');\n    }\n  },\n  /**\n   * `grid` specifies the x and y that dragging should snap to.\n   */\n  grid: _propTypes.default.arrayOf(_propTypes.default.number),\n  /**\n   * `handle` specifies a selector to be used as the handle that initiates drag.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable handle=\".handle\">\n   *              <div>\n   *                  <div className=\"handle\">Click me to drag</div>\n   *                  <div>This is some other content</div>\n   *              </div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  handle: _propTypes.default.string,\n  /**\n   * `cancel` specifies a selector to be used to prevent drag initialization.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *           return(\n   *               <Draggable cancel=\".cancel\">\n   *                   <div>\n   *                     <div className=\"cancel\">You can't drag from here</div>\n   *                     <div>Dragging here works fine</div>\n   *                   </div>\n   *               </Draggable>\n   *           );\n   *       }\n   *   });\n   * ```\n   */\n  cancel: _propTypes.default.string,\n  /* If running in React Strict mode, ReactDOM.findDOMNode() is deprecated.\n   * Unfortunately, in order for <Draggable> to work properly, we need raw access\n   * to the underlying DOM node. If you want to avoid the warning, pass a `nodeRef`\n   * as in this example:\n   *\n   * function MyComponent() {\n   *   const nodeRef = React.useRef(null);\n   *   return (\n   *     <Draggable nodeRef={nodeRef}>\n   *       <div ref={nodeRef}>Example Target</div>\n   *     </Draggable>\n   *   );\n   * }\n   *\n   * This can be used for arbitrarily nested components, so long as the ref ends up\n   * pointing to the actual child DOM node and not a custom component.\n   */\n  nodeRef: _propTypes.default.object,\n  /**\n   * Called when dragging starts.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onStart: _propTypes.default.func,\n  /**\n   * Called while dragging.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onDrag: _propTypes.default.func,\n  /**\n   * Called when dragging stops.\n   * If this function returns the boolean false, the drag will remain active.\n   */\n  onStop: _propTypes.default.func,\n  /**\n   * A workaround option which can be passed if onMouseDown needs to be accessed,\n   * since it'll always be blocked (as there is internal use of onMouseDown)\n   */\n  onMouseDown: _propTypes.default.func,\n  /**\n   * `scale`, if set, applies scaling while dragging an element\n   */\n  scale: _propTypes.default.number,\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n});\n_defineProperty(DraggableCore, \"defaultProps\", {\n  allowAnyClick: false,\n  // by default only accept left click\n  allowMobileScroll: false,\n  disabled: false,\n  enableUserSelectHack: true,\n  onStart: function () {},\n  onDrag: function () {},\n  onStop: function () {},\n  onMouseDown: function () {},\n  scale: 1\n});", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"DraggableCore\", {\n  enumerable: true,\n  get: function () {\n    return _DraggableCore.default;\n  }\n});\nexports.default = void 0;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\nvar _clsx = require(\"clsx\");\nvar _domFns = require(\"./utils/domFns\");\nvar _positionFns = require(\"./utils/positionFns\");\nvar _shims = require(\"./utils/shims\");\nvar _DraggableCore = _interopRequireDefault(require(\"./DraggableCore\"));\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /*:: import type {ControlPosition, PositionOffsetControlPosition, DraggableCoreProps, DraggableCoreDefaultProps} from './DraggableCore';*/\n/*:: import type {Bounds, DraggableEventHandler} from './utils/types';*/\n/*:: import type {Element as ReactElement} from 'react';*/\n/*:: type DraggableState = {\n  dragging: boolean,\n  dragged: boolean,\n  x: number, y: number,\n  slackX: number, slackY: number,\n  isElementSVG: boolean,\n  prevPropsPosition: ?ControlPosition,\n};*/\n/*:: export type DraggableDefaultProps = {\n  ...DraggableCoreDefaultProps,\n  axis: 'both' | 'x' | 'y' | 'none',\n  bounds: Bounds | string | false,\n  defaultClassName: string,\n  defaultClassNameDragging: string,\n  defaultClassNameDragged: string,\n  defaultPosition: ControlPosition,\n  scale: number,\n};*/\n/*:: export type DraggableProps = {\n  ...DraggableCoreProps,\n  ...DraggableDefaultProps,\n  positionOffset: PositionOffsetControlPosition,\n  position: ControlPosition,\n};*/\n//\n// Define <Draggable>\n//\nclass Draggable extends React.Component /*:: <DraggableProps, DraggableState>*/{\n  // React 16.3+\n  // Arity (props, state)\n  static getDerivedStateFromProps(_ref /*:: */, _ref2 /*:: */) /*: ?Partial<DraggableState>*/{\n    let {\n      position\n    } /*: DraggableProps*/ = _ref /*: DraggableProps*/;\n    let {\n      prevPropsPosition\n    } /*: DraggableState*/ = _ref2 /*: DraggableState*/;\n    // Set x/y if a new position is provided in props that is different than the previous.\n    if (position && (!prevPropsPosition || position.x !== prevPropsPosition.x || position.y !== prevPropsPosition.y)) {\n      (0, _log.default)('Draggable: getDerivedStateFromProps %j', {\n        position,\n        prevPropsPosition\n      });\n      return {\n        x: position.x,\n        y: position.y,\n        prevPropsPosition: {\n          ...position\n        }\n      };\n    }\n    return null;\n  }\n  constructor(props /*: DraggableProps*/) {\n    super(props);\n    _defineProperty(this, \"onDragStart\", (e, coreData) => {\n      (0, _log.default)('Draggable: onDragStart: %j', coreData);\n\n      // Short-circuit if user's callback killed it.\n      const shouldStart = this.props.onStart(e, (0, _positionFns.createDraggableData)(this, coreData));\n      // Kills start event on core as well, so move handlers are never bound.\n      if (shouldStart === false) return false;\n      this.setState({\n        dragging: true,\n        dragged: true\n      });\n    });\n    _defineProperty(this, \"onDrag\", (e, coreData) => {\n      if (!this.state.dragging) return false;\n      (0, _log.default)('Draggable: onDrag: %j', coreData);\n      const uiData = (0, _positionFns.createDraggableData)(this, coreData);\n      const newState = {\n        x: uiData.x,\n        y: uiData.y,\n        slackX: 0,\n        slackY: 0\n      };\n\n      // Keep within bounds.\n      if (this.props.bounds) {\n        // Save original x and y.\n        const {\n          x,\n          y\n        } = newState;\n\n        // Add slack to the values used to calculate bound position. This will ensure that if\n        // we start removing slack, the element won't react to it right away until it's been\n        // completely removed.\n        newState.x += this.state.slackX;\n        newState.y += this.state.slackY;\n\n        // Get bound position. This will ceil/floor the x and y within the boundaries.\n        const [newStateX, newStateY] = (0, _positionFns.getBoundPosition)(this, newState.x, newState.y);\n        newState.x = newStateX;\n        newState.y = newStateY;\n\n        // Recalculate slack by noting how much was shaved by the boundPosition handler.\n        newState.slackX = this.state.slackX + (x - newState.x);\n        newState.slackY = this.state.slackY + (y - newState.y);\n\n        // Update the event we fire to reflect what really happened after bounds took effect.\n        uiData.x = newState.x;\n        uiData.y = newState.y;\n        uiData.deltaX = newState.x - this.state.x;\n        uiData.deltaY = newState.y - this.state.y;\n      }\n\n      // Short-circuit if user's callback killed it.\n      const shouldUpdate = this.props.onDrag(e, uiData);\n      if (shouldUpdate === false) return false;\n      this.setState(newState);\n    });\n    _defineProperty(this, \"onDragStop\", (e, coreData) => {\n      if (!this.state.dragging) return false;\n\n      // Short-circuit if user's callback killed it.\n      const shouldContinue = this.props.onStop(e, (0, _positionFns.createDraggableData)(this, coreData));\n      if (shouldContinue === false) return false;\n      (0, _log.default)('Draggable: onDragStop: %j', coreData);\n      const newState /*: Partial<DraggableState>*/ = {\n        dragging: false,\n        slackX: 0,\n        slackY: 0\n      };\n\n      // If this is a controlled component, the result of this operation will be to\n      // revert back to the old position. We expect a handler on `onDragStop`, at the least.\n      const controlled = Boolean(this.props.position);\n      if (controlled) {\n        const {\n          x,\n          y\n        } = this.props.position;\n        newState.x = x;\n        newState.y = y;\n      }\n      this.setState(newState);\n    });\n    this.state = {\n      // Whether or not we are currently dragging.\n      dragging: false,\n      // Whether or not we have been dragged before.\n      dragged: false,\n      // Current transform x and y.\n      x: props.position ? props.position.x : props.defaultPosition.x,\n      y: props.position ? props.position.y : props.defaultPosition.y,\n      prevPropsPosition: {\n        ...props.position\n      },\n      // Used for compensating for out-of-bounds drags\n      slackX: 0,\n      slackY: 0,\n      // Can only determine if SVG after mounting\n      isElementSVG: false\n    };\n    if (props.position && !(props.onDrag || props.onStop)) {\n      // eslint-disable-next-line no-console\n      console.warn('A `position` was applied to this <Draggable>, without drag handlers. This will make this ' + 'component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the ' + '`position` of this element.');\n    }\n  }\n  componentDidMount() {\n    // Check to see if the element passed is an instanceof SVGElement\n    if (typeof window.SVGElement !== 'undefined' && this.findDOMNode() instanceof window.SVGElement) {\n      this.setState({\n        isElementSVG: true\n      });\n    }\n  }\n  componentWillUnmount() {\n    if (this.state.dragging) {\n      this.setState({\n        dragging: false\n      }); // prevents invariant if unmounted while dragging\n    }\n  }\n\n  // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n  // the underlying DOM node ourselves. See the README for more information.\n  findDOMNode() /*: ?HTMLElement*/{\n    return this.props?.nodeRef?.current ?? _reactDom.default.findDOMNode(this);\n  }\n  render() /*: ReactElement<any>*/{\n    const {\n      axis,\n      bounds,\n      children,\n      defaultPosition,\n      defaultClassName,\n      defaultClassNameDragging,\n      defaultClassNameDragged,\n      position,\n      positionOffset,\n      scale,\n      ...draggableCoreProps\n    } = this.props;\n    let style = {};\n    let svgTransform = null;\n\n    // If this is controlled, we don't want to move it - unless it's dragging.\n    const controlled = Boolean(position);\n    const draggable = !controlled || this.state.dragging;\n    const validPosition = position || defaultPosition;\n    const transformOpts = {\n      // Set left if horizontal drag is enabled\n      x: (0, _positionFns.canDragX)(this) && draggable ? this.state.x : validPosition.x,\n      // Set top if vertical drag is enabled\n      y: (0, _positionFns.canDragY)(this) && draggable ? this.state.y : validPosition.y\n    };\n\n    // If this element was SVG, we use the `transform` attribute.\n    if (this.state.isElementSVG) {\n      svgTransform = (0, _domFns.createSVGTransform)(transformOpts, positionOffset);\n    } else {\n      // Add a CSS transform to move the element around. This allows us to move the element around\n      // without worrying about whether or not it is relatively or absolutely positioned.\n      // If the item you are dragging already has a transform set, wrap it in a <span> so <Draggable>\n      // has a clean slate.\n      style = (0, _domFns.createCSSTransform)(transformOpts, positionOffset);\n    }\n\n    // Mark with class while dragging\n    const className = (0, _clsx.clsx)(children.props.className || '', defaultClassName, {\n      [defaultClassNameDragging]: this.state.dragging,\n      [defaultClassNameDragged]: this.state.dragged\n    });\n\n    // Reuse the child provided\n    // This makes it flexible to use whatever element is wanted (div, ul, etc)\n    return /*#__PURE__*/React.createElement(_DraggableCore.default, _extends({}, draggableCoreProps, {\n      onStart: this.onDragStart,\n      onDrag: this.onDrag,\n      onStop: this.onDragStop\n    }), /*#__PURE__*/React.cloneElement(React.Children.only(children), {\n      className: className,\n      style: {\n        ...children.props.style,\n        ...style\n      },\n      transform: svgTransform\n    }));\n  }\n}\nexports.default = Draggable;\n_defineProperty(Draggable, \"displayName\", 'Draggable');\n_defineProperty(Draggable, \"propTypes\", {\n  // Accepts all props <DraggableCore> accepts.\n  ..._DraggableCore.default.propTypes,\n  /**\n   * `axis` determines which axis the draggable can move.\n   *\n   *  Note that all callbacks will still return data as normal. This only\n   *  controls flushing to the DOM.\n   *\n   * 'both' allows movement horizontally and vertically.\n   * 'x' limits movement to horizontal axis.\n   * 'y' limits movement to vertical axis.\n   * 'none' limits all movement.\n   *\n   * Defaults to 'both'.\n   */\n  axis: _propTypes.default.oneOf(['both', 'x', 'y', 'none']),\n  /**\n   * `bounds` determines the range of movement available to the element.\n   * Available values are:\n   *\n   * 'parent' restricts movement within the Draggable's parent node.\n   *\n   * Alternatively, pass an object with the following properties, all of which are optional:\n   *\n   * {left: LEFT_BOUND, right: RIGHT_BOUND, bottom: BOTTOM_BOUND, top: TOP_BOUND}\n   *\n   * All values are in px.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable bounds={{right: 300, bottom: 300}}>\n   *              <div>Content</div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  bounds: _propTypes.default.oneOfType([_propTypes.default.shape({\n    left: _propTypes.default.number,\n    right: _propTypes.default.number,\n    top: _propTypes.default.number,\n    bottom: _propTypes.default.number\n  }), _propTypes.default.string, _propTypes.default.oneOf([false])]),\n  defaultClassName: _propTypes.default.string,\n  defaultClassNameDragging: _propTypes.default.string,\n  defaultClassNameDragged: _propTypes.default.string,\n  /**\n   * `defaultPosition` specifies the x and y that the dragged item should start at\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable defaultPosition={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  defaultPosition: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n  positionOffset: _propTypes.default.shape({\n    x: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    y: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  }),\n  /**\n   * `position`, if present, defines the current position of the element.\n   *\n   *  This is similar to how form elements in React work - if no `position` is supplied, the component\n   *  is uncontrolled.\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable position={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  position: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n});\n_defineProperty(Draggable, \"defaultProps\", {\n  ..._DraggableCore.default.defaultProps,\n  axis: 'both',\n  bounds: false,\n  defaultClassName: 'react-draggable',\n  defaultClassNameDragging: 'react-draggable-dragging',\n  defaultClassNameDragged: 'react-draggable-dragged',\n  defaultPosition: {\n    x: 0,\n    y: 0\n  },\n  scale: 1\n});", "\"use strict\";\n\nconst {\n  default: Draggable,\n  DraggableCore\n} = require('./Draggable');\n\n// Previous versions of this lib exported <Draggable> as the root export. As to no-// them, or TypeScript, we export *both* as the root and as 'default'.\n// See https://github.com/mzabriskie/react-draggable/pull/254\n// and https://github.com/mzabriskie/react-draggable/issues/266\nmodule.exports = Draggable;\nmodule.exports.default = Draggable;\nmodule.exports.DraggableCore = DraggableCore;", "\"use strict\";\n\nexports.__esModule = true;\nexports.cloneElement = cloneElement;\nvar _react = _interopRequireDefault(require(\"react\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n// React.addons.cloneWithProps look-alike that merges style & className.\nfunction cloneElement(element, props) {\n  if (props.style && element.props.style) {\n    props.style = _objectSpread(_objectSpread({}, element.props.style), props.style);\n  }\n  if (props.className && element.props.className) {\n    props.className = element.props.className + \" \" + props.className;\n  }\n  return /*#__PURE__*/_react.default.cloneElement(element, props);\n}", "\"use strict\";\n\nexports.__esModule = true;\nexports.resizableProps = void 0;\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _reactDraggable = require(\"react-draggable\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar resizableProps = {\n  /*\n  * Restricts resizing to a particular axis (default: 'both')\n  * 'both' - allows resizing by width or height\n  * 'x' - only allows the width to be changed\n  * 'y' - only allows the height to be changed\n  * 'none' - disables resizing altogether\n  * */\n  axis: _propTypes.default.oneOf(['both', 'x', 'y', 'none']),\n  className: _propTypes.default.string,\n  /*\n  * Require that one and only one child be present.\n  * */\n  children: _propTypes.default.element.isRequired,\n  /*\n  * These will be passed wholesale to react-draggable's DraggableCore\n  * */\n  draggableOpts: _propTypes.default.shape({\n    allowAnyClick: _propTypes.default.bool,\n    cancel: _propTypes.default.string,\n    children: _propTypes.default.node,\n    disabled: _propTypes.default.bool,\n    enableUserSelectHack: _propTypes.default.bool,\n    offsetParent: _propTypes.default.node,\n    grid: _propTypes.default.arrayOf(_propTypes.default.number),\n    handle: _propTypes.default.string,\n    nodeRef: _propTypes.default.object,\n    onStart: _propTypes.default.func,\n    onDrag: _propTypes.default.func,\n    onStop: _propTypes.default.func,\n    onMouseDown: _propTypes.default.func,\n    scale: _propTypes.default.number\n  }),\n  /*\n  * Initial height\n  * */\n  height: function height() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var props = args[0];\n    // Required if resizing height or both\n    if (props.axis === 'both' || props.axis === 'y') {\n      var _PropTypes$number;\n      return (_PropTypes$number = _propTypes.default.number).isRequired.apply(_PropTypes$number, args);\n    }\n    return _propTypes.default.number.apply(_propTypes.default, args);\n  },\n  /*\n  * Customize cursor resize handle\n  * */\n  handle: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]),\n  /*\n  * If you change this, be sure to update your css\n  * */\n  handleSize: _propTypes.default.arrayOf(_propTypes.default.number),\n  lockAspectRatio: _propTypes.default.bool,\n  /*\n  * Max X & Y measure\n  * */\n  maxConstraints: _propTypes.default.arrayOf(_propTypes.default.number),\n  /*\n  * Min X & Y measure\n  * */\n  minConstraints: _propTypes.default.arrayOf(_propTypes.default.number),\n  /*\n  * Called on stop resize event\n  * */\n  onResizeStop: _propTypes.default.func,\n  /*\n  * Called on start resize event\n  * */\n  onResizeStart: _propTypes.default.func,\n  /*\n  * Called on resize event\n  * */\n  onResize: _propTypes.default.func,\n  /*\n  * Defines which resize handles should be rendered (default: 'se')\n  * 's' - South handle (bottom-center)\n  * 'w' - West handle (left-center)\n  * 'e' - East handle (right-center)\n  * 'n' - North handle (top-center)\n  * 'sw' - Southwest handle (bottom-left)\n  * 'nw' - Northwest handle (top-left)\n  * 'se' - Southeast handle (bottom-right)\n  * 'ne' - Northeast handle (top-center)\n  * */\n  resizeHandles: _propTypes.default.arrayOf(_propTypes.default.oneOf(['s', 'w', 'e', 'n', 'sw', 'nw', 'se', 'ne'])),\n  /*\n  * If `transform: scale(n)` is set on the parent, this should be set to `n`.\n  * */\n  transformScale: _propTypes.default.number,\n  /*\n   * Initial width\n   */\n  width: function width() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    var props = args[0];\n    // Required if resizing width or both\n    if (props.axis === 'both' || props.axis === 'x') {\n      var _PropTypes$number2;\n      return (_PropTypes$number2 = _propTypes.default.number).isRequired.apply(_PropTypes$number2, args);\n    }\n    return _propTypes.default.number.apply(_propTypes.default, args);\n  }\n};\nexports.resizableProps = resizableProps;", "\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _reactDraggable = require(\"react-draggable\");\nvar _utils = require(\"./utils\");\nvar _propTypes = require(\"./propTypes\");\nvar _excluded = [\"children\", \"className\", \"draggableOpts\", \"width\", \"height\", \"handle\", \"handleSize\", \"lockAspectRatio\", \"axis\", \"minConstraints\", \"maxConstraints\", \"onResize\", \"onResizeStop\", \"onResizeStart\", \"resizeHandles\", \"transformScale\"];\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n// The base <Resizable> component.\n// This component does not have state and relies on the parent to set its props based on callback data.\nvar Resizable = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Resizable, _React$Component);\n  function Resizable() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.handleRefs = {};\n    _this.lastHandleRect = null;\n    _this.slack = null;\n    return _this;\n  }\n  var _proto = Resizable.prototype;\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.resetData();\n  };\n  _proto.resetData = function resetData() {\n    this.lastHandleRect = this.slack = null;\n  }\n\n  // Clamp width and height within provided constraints\n  ;\n  _proto.runConstraints = function runConstraints(width, height) {\n    var _this$props = this.props,\n      minConstraints = _this$props.minConstraints,\n      maxConstraints = _this$props.maxConstraints,\n      lockAspectRatio = _this$props.lockAspectRatio;\n    // short circuit\n    if (!minConstraints && !maxConstraints && !lockAspectRatio) return [width, height];\n\n    // If constraining to min and max, we need to also fit width and height to aspect ratio.\n    if (lockAspectRatio) {\n      var ratio = this.props.width / this.props.height;\n      var deltaW = width - this.props.width;\n      var deltaH = height - this.props.height;\n\n      // Find which coordinate was greater and should push the other toward it.\n      // E.g.:\n      // ratio = 1, deltaW = 10, deltaH = 5, deltaH should become 10.\n      // ratio = 2, deltaW = 10, deltaH = 6, deltaW should become 12.\n      if (Math.abs(deltaW) > Math.abs(deltaH * ratio)) {\n        height = width / ratio;\n      } else {\n        width = height * ratio;\n      }\n    }\n    var oldW = width,\n      oldH = height;\n\n    // Add slack to the values used to calculate bound position. This will ensure that if\n    // we start removing slack, the element won't react to it right away until it's been\n    // completely removed.\n    var _ref = this.slack || [0, 0],\n      slackW = _ref[0],\n      slackH = _ref[1];\n    width += slackW;\n    height += slackH;\n    if (minConstraints) {\n      width = Math.max(minConstraints[0], width);\n      height = Math.max(minConstraints[1], height);\n    }\n    if (maxConstraints) {\n      width = Math.min(maxConstraints[0], width);\n      height = Math.min(maxConstraints[1], height);\n    }\n\n    // If the width or height changed, we must have introduced some slack. Record it for the next iteration.\n    this.slack = [slackW + (oldW - width), slackH + (oldH - height)];\n    return [width, height];\n  }\n\n  /**\n   * Wrapper around drag events to provide more useful data.\n   *\n   * @param  {String} handlerName Handler name to wrap.\n   * @return {Function}           Handler function.\n   */;\n  _proto.resizeHandler = function resizeHandler(handlerName, axis) {\n    var _this2 = this;\n    return function (e, _ref2) {\n      var node = _ref2.node,\n        deltaX = _ref2.deltaX,\n        deltaY = _ref2.deltaY;\n      // Reset data in case it was left over somehow (should not be possible)\n      if (handlerName === 'onResizeStart') _this2.resetData();\n\n      // Axis restrictions\n      var canDragX = (_this2.props.axis === 'both' || _this2.props.axis === 'x') && axis !== 'n' && axis !== 's';\n      var canDragY = (_this2.props.axis === 'both' || _this2.props.axis === 'y') && axis !== 'e' && axis !== 'w';\n      // No dragging possible.\n      if (!canDragX && !canDragY) return;\n\n      // Decompose axis for later use\n      var axisV = axis[0];\n      var axisH = axis[axis.length - 1]; // intentionally not axis[1], so that this catches axis === 'w' for example\n\n      // Track the element being dragged to account for changes in position.\n      // If a handle's position is changed between callbacks, we need to factor this in to the next callback.\n      // Failure to do so will cause the element to \"skip\" when resized upwards or leftwards.\n      var handleRect = node.getBoundingClientRect();\n      if (_this2.lastHandleRect != null) {\n        // If the handle has repositioned on either axis since last render,\n        // we need to increase our callback values by this much.\n        // Only checking 'n', 'w' since resizing by 's', 'w' won't affect the overall position on page,\n        if (axisH === 'w') {\n          var deltaLeftSinceLast = handleRect.left - _this2.lastHandleRect.left;\n          deltaX += deltaLeftSinceLast;\n        }\n        if (axisV === 'n') {\n          var deltaTopSinceLast = handleRect.top - _this2.lastHandleRect.top;\n          deltaY += deltaTopSinceLast;\n        }\n      }\n      // Storage of last rect so we know how much it has really moved.\n      _this2.lastHandleRect = handleRect;\n\n      // Reverse delta if using top or left drag handles.\n      if (axisH === 'w') deltaX = -deltaX;\n      if (axisV === 'n') deltaY = -deltaY;\n\n      // Update w/h by the deltas. Also factor in transformScale.\n      var width = _this2.props.width + (canDragX ? deltaX / _this2.props.transformScale : 0);\n      var height = _this2.props.height + (canDragY ? deltaY / _this2.props.transformScale : 0);\n\n      // Run user-provided constraints.\n      var _this2$runConstraints = _this2.runConstraints(width, height);\n      width = _this2$runConstraints[0];\n      height = _this2$runConstraints[1];\n      var dimensionsChanged = width !== _this2.props.width || height !== _this2.props.height;\n\n      // Call user-supplied callback if present.\n      var cb = typeof _this2.props[handlerName] === 'function' ? _this2.props[handlerName] : null;\n      // Don't call 'onResize' if dimensions haven't changed.\n      var shouldSkipCb = handlerName === 'onResize' && !dimensionsChanged;\n      if (cb && !shouldSkipCb) {\n        e.persist == null ? void 0 : e.persist();\n        cb(e, {\n          node: node,\n          size: {\n            width: width,\n            height: height\n          },\n          handle: axis\n        });\n      }\n\n      // Reset internal data\n      if (handlerName === 'onResizeStop') _this2.resetData();\n    };\n  }\n\n  // Render a resize handle given an axis & DOM ref. Ref *must* be attached for\n  // the underlying draggable library to work properly.\n  ;\n  _proto.renderResizeHandle = function renderResizeHandle(handleAxis, ref) {\n    var handle = this.props.handle;\n    // No handle provided, make the default\n    if (!handle) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: \"react-resizable-handle react-resizable-handle-\" + handleAxis,\n        ref: ref\n      });\n    }\n    // Handle is a function, such as:\n    // `handle={(handleAxis) => <span className={...} />}`\n    if (typeof handle === 'function') {\n      return handle(handleAxis, ref);\n    }\n    // Handle is a React component (composite or DOM).\n    var isDOMElement = typeof handle.type === 'string';\n    var props = _objectSpread({\n      ref: ref\n    }, isDOMElement ? {} : {\n      handleAxis: handleAxis\n    });\n    return /*#__PURE__*/React.cloneElement(handle, props);\n  };\n  _proto.render = function render() {\n    var _this3 = this;\n    // Pass along only props not meant for the `<Resizable>`.`\n    // eslint-disable-next-line no-unused-vars\n    var _this$props2 = this.props,\n      children = _this$props2.children,\n      className = _this$props2.className,\n      draggableOpts = _this$props2.draggableOpts,\n      width = _this$props2.width,\n      height = _this$props2.height,\n      handle = _this$props2.handle,\n      handleSize = _this$props2.handleSize,\n      lockAspectRatio = _this$props2.lockAspectRatio,\n      axis = _this$props2.axis,\n      minConstraints = _this$props2.minConstraints,\n      maxConstraints = _this$props2.maxConstraints,\n      onResize = _this$props2.onResize,\n      onResizeStop = _this$props2.onResizeStop,\n      onResizeStart = _this$props2.onResizeStart,\n      resizeHandles = _this$props2.resizeHandles,\n      transformScale = _this$props2.transformScale,\n      p = _objectWithoutPropertiesLoose(_this$props2, _excluded);\n\n    // What we're doing here is getting the child of this element, and cloning it with this element's props.\n    // We are then defining its children as:\n    // 1. Its original children (resizable's child's children), and\n    // 2. One or more draggable handles.\n    return (0, _utils.cloneElement)(children, _objectSpread(_objectSpread({}, p), {}, {\n      className: (className ? className + \" \" : '') + \"react-resizable\",\n      children: [].concat(children.props.children, resizeHandles.map(function (handleAxis) {\n        var _this3$handleRefs$han;\n        // Create a ref to the handle so that `<DraggableCore>` doesn't have to use ReactDOM.findDOMNode().\n        var ref = (_this3$handleRefs$han = _this3.handleRefs[handleAxis]) != null ? _this3$handleRefs$han : _this3.handleRefs[handleAxis] = /*#__PURE__*/React.createRef();\n        return /*#__PURE__*/React.createElement(_reactDraggable.DraggableCore, _extends({}, draggableOpts, {\n          nodeRef: ref,\n          key: \"resizableHandle-\" + handleAxis,\n          onStop: _this3.resizeHandler('onResizeStop', handleAxis),\n          onStart: _this3.resizeHandler('onResizeStart', handleAxis),\n          onDrag: _this3.resizeHandler('onResize', handleAxis)\n        }), _this3.renderResizeHandle(handleAxis, ref));\n      }))\n    }));\n  };\n  return Resizable;\n}(React.Component);\nexports.default = Resizable;\nResizable.propTypes = _propTypes.resizableProps;\nResizable.defaultProps = {\n  axis: 'both',\n  handleSize: [20, 20],\n  lockAspectRatio: false,\n  minConstraints: [20, 20],\n  maxConstraints: [Infinity, Infinity],\n  resizeHandles: ['se'],\n  transformScale: 1\n};", "\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _Resizable = _interopRequireDefault(require(\"./Resizable\"));\nvar _propTypes2 = require(\"./propTypes\");\nvar _excluded = [\"handle\", \"handleSize\", \"onResize\", \"onResizeStart\", \"onResizeStop\", \"draggableOpts\", \"minConstraints\", \"maxConstraints\", \"lockAspectRatio\", \"axis\", \"width\", \"height\", \"resizeHandles\", \"style\", \"transformScale\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar ResizableBox = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(ResizableBox, _React$Component);\n  function ResizableBox() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      width: _this.props.width,\n      height: _this.props.height,\n      propsWidth: _this.props.width,\n      propsHeight: _this.props.height\n    };\n    _this.onResize = function (e, data) {\n      var size = data.size;\n      if (_this.props.onResize) {\n        e.persist == null ? void 0 : e.persist();\n        _this.setState(size, function () {\n          return _this.props.onResize && _this.props.onResize(e, data);\n        });\n      } else {\n        _this.setState(size);\n      }\n    };\n    return _this;\n  }\n  ResizableBox.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    // If parent changes height/width, set that in our state.\n    if (state.propsWidth !== props.width || state.propsHeight !== props.height) {\n      return {\n        width: props.width,\n        height: props.height,\n        propsWidth: props.width,\n        propsHeight: props.height\n      };\n    }\n    return null;\n  };\n  var _proto = ResizableBox.prototype;\n  _proto.render = function render() {\n    // Basic wrapper around a Resizable instance.\n    // If you use Resizable directly, you are responsible for updating the child component\n    // with a new width and height.\n    var _this$props = this.props,\n      handle = _this$props.handle,\n      handleSize = _this$props.handleSize,\n      onResize = _this$props.onResize,\n      onResizeStart = _this$props.onResizeStart,\n      onResizeStop = _this$props.onResizeStop,\n      draggableOpts = _this$props.draggableOpts,\n      minConstraints = _this$props.minConstraints,\n      maxConstraints = _this$props.maxConstraints,\n      lockAspectRatio = _this$props.lockAspectRatio,\n      axis = _this$props.axis,\n      width = _this$props.width,\n      height = _this$props.height,\n      resizeHandles = _this$props.resizeHandles,\n      style = _this$props.style,\n      transformScale = _this$props.transformScale,\n      props = _objectWithoutPropertiesLoose(_this$props, _excluded);\n    return /*#__PURE__*/React.createElement(_Resizable.default, {\n      axis: axis,\n      draggableOpts: draggableOpts,\n      handle: handle,\n      handleSize: handleSize,\n      height: this.state.height,\n      lockAspectRatio: lockAspectRatio,\n      maxConstraints: maxConstraints,\n      minConstraints: minConstraints,\n      onResizeStart: onResizeStart,\n      onResize: this.onResize,\n      onResizeStop: onResizeStop,\n      resizeHandles: resizeHandles,\n      transformScale: transformScale,\n      width: this.state.width\n    }, /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n      style: _objectSpread(_objectSpread({}, style), {}, {\n        width: this.state.width + 'px',\n        height: this.state.height + 'px'\n      })\n    })));\n  };\n  return ResizableBox;\n}(React.Component);\nexports.default = ResizableBox;\n// PropTypes are identical to <Resizable>, except that children are not strictly required to be present.\nResizableBox.propTypes = _objectSpread(_objectSpread({}, _propTypes2.resizableProps), {}, {\n  children: _propTypes.default.element\n});", "'use strict';\nmodule.exports = function() {\n  throw new Error(\"Don't instantiate Resizable directly! Use require('react-resizable').Resizable\");\n};\n\nmodule.exports.Resizable = require('./build/Resizable').default;\nmodule.exports.ResizableBox = require('./build/ResizableBox').default;\n", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resizeHandleType = exports.resizeHandleAxesType = exports.default = void 0;\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n/*:: import type {\n  Ref,\n  ChildrenArray as ReactChildrenArray,\n  Element as ReactElement\n} from \"react\";*/\n/*:: import type {\n  DragOverEvent,\n  EventCallback,\n  CompactType,\n  Layout,\n  LayoutItem,\n  ResizeHandleAxis\n} from \"./utils\";*/\n/*:: export type ReactRef<T: HTMLElement> = {|\n  +current: T | null\n|};*/\n// util\n/*:: export type ResizeHandle =\n  | ReactElement<any>\n  | ((\n      resizeHandleAxis: ResizeHandleAxis,\n      ref: ReactRef<HTMLElement>\n    ) => ReactElement<any>);*/\n// Defines which resize handles should be rendered (default: 'se')\n// Allows for any combination of:\n// 's' - South handle (bottom-center)\n// 'w' - West handle (left-center)\n// 'e' - East handle (right-center)\n// 'n' - North handle (top-center)\n// 'sw' - Southwest handle (bottom-left)\n// 'nw' - Northwest handle (top-left)\n// 'se' - Southeast handle (bottom-right)\n// 'ne' - Northeast handle (top-right)\nconst resizeHandleAxesType /*: ReactPropsChainableTypeChecker*/ = exports.resizeHandleAxesType = _propTypes.default.arrayOf(_propTypes.default.oneOf([\"s\", \"w\", \"e\", \"n\", \"sw\", \"nw\", \"se\", \"ne\"]));\n// Custom component for resize handles\nconst resizeHandleType /*: ReactPropsChainableTypeChecker*/ = exports.resizeHandleType = _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]);\n/*:: export type Props = {|\n  className: string,\n  style: Object,\n  width: number,\n  autoSize: boolean,\n  cols: number,\n  draggableCancel: string,\n  draggableHandle: string,\n  verticalCompact: boolean,\n  compactType: CompactType,\n  layout: Layout,\n  margin: [number, number],\n  containerPadding: ?[number, number],\n  rowHeight: number,\n  maxRows: number,\n  isBounded: boolean,\n  isDraggable: boolean,\n  isResizable: boolean,\n  isDroppable: boolean,\n  preventCollision: boolean,\n  useCSSTransforms: boolean,\n  transformScale: number,\n  droppingItem: $Shape<LayoutItem>,\n  resizeHandles: ResizeHandleAxis[],\n  resizeHandle?: ResizeHandle,\n  allowOverlap: boolean,\n\n  // Callbacks\n  onLayoutChange: Layout => void,\n  onDrag: EventCallback,\n  onDragStart: EventCallback,\n  onDragStop: EventCallback,\n  onResize: EventCallback,\n  onResizeStart: EventCallback,\n  onResizeStop: EventCallback,\n  onDropDragOver: (e: DragOverEvent) => ?({| w?: number, h?: number |} | false),\n  onDrop: (layout: Layout, item: ?LayoutItem, e: Event) => void,\n  children: ReactChildrenArray<ReactElement<any>>,\n  innerRef?: Ref<\"div\">\n|};*/\n/*:: export type DefaultProps = $Diff<\n  Props,\n  {\n    children: ReactChildrenArray<ReactElement<any>>,\n    width: number\n  }\n>;*/\nvar _default = exports.default = {\n  //\n  // Basic props\n  //\n  className: _propTypes.default.string,\n  style: _propTypes.default.object,\n  // This can be set explicitly. If it is not set, it will automatically\n  // be set to the container width. Note that resizes will *not* cause this to adjust.\n  // If you need that behavior, use WidthProvider.\n  width: _propTypes.default.number,\n  // If true, the container height swells and contracts to fit contents\n  autoSize: _propTypes.default.bool,\n  // # of cols.\n  cols: _propTypes.default.number,\n  // A selector that will not be draggable.\n  draggableCancel: _propTypes.default.string,\n  // A selector for the draggable handler\n  draggableHandle: _propTypes.default.string,\n  // Deprecated\n  verticalCompact: function (props /*: Props*/) {\n    if (props.verticalCompact === false && process.env.NODE_ENV !== \"production\") {\n      console.warn(\n      // eslint-disable-line no-console\n      \"`verticalCompact` on <ReactGridLayout> is deprecated and will be removed soon. \" + 'Use `compactType`: \"horizontal\" | \"vertical\" | null.');\n    }\n  },\n  // Choose vertical or hotizontal compaction\n  compactType: (_propTypes.default.oneOf([\"vertical\", \"horizontal\"]) /*: ReactPropsChainableTypeChecker*/),\n  // layout is an array of object with the format:\n  // {x: Number, y: Number, w: Number, h: Number, i: String}\n  layout: function (props /*: Props*/) {\n    var layout = props.layout;\n    // I hope you're setting the data-grid property on the grid items\n    if (layout === undefined) return;\n    require(\"./utils\").validateLayout(layout, \"layout\");\n  },\n  //\n  // Grid Dimensions\n  //\n\n  // Margin between items [x, y] in px\n  margin: (_propTypes.default.arrayOf(_propTypes.default.number) /*: ReactPropsChainableTypeChecker*/),\n  // Padding inside the container [x, y] in px\n  containerPadding: (_propTypes.default.arrayOf(_propTypes.default.number) /*: ReactPropsChainableTypeChecker*/),\n  // Rows have a static height, but you can change this based on breakpoints if you like\n  rowHeight: _propTypes.default.number,\n  // Default Infinity, but you can specify a max here if you like.\n  // Note that this isn't fully fleshed out and won't error if you specify a layout that\n  // extends beyond the row capacity. It will, however, not allow users to drag/resize\n  // an item past the barrier. They can push items beyond the barrier, though.\n  // Intentionally not documented for this reason.\n  maxRows: _propTypes.default.number,\n  //\n  // Flags\n  //\n  isBounded: _propTypes.default.bool,\n  isDraggable: _propTypes.default.bool,\n  isResizable: _propTypes.default.bool,\n  // If true, grid can be placed one over the other.\n  allowOverlap: _propTypes.default.bool,\n  // If true, grid items won't change position when being dragged over.\n  preventCollision: _propTypes.default.bool,\n  // Use CSS transforms instead of top/left\n  useCSSTransforms: _propTypes.default.bool,\n  // parent layout transform scale\n  transformScale: _propTypes.default.number,\n  // If true, an external element can trigger onDrop callback with a specific grid position as a parameter\n  isDroppable: _propTypes.default.bool,\n  // Resize handle options\n  resizeHandles: resizeHandleAxesType,\n  resizeHandle: resizeHandleType,\n  //\n  // Callbacks\n  //\n\n  // Callback so you can save the layout. Calls after each drag & resize stops.\n  onLayoutChange: _propTypes.default.func,\n  // Calls when drag starts. Callback is of the signature (layout, oldItem, newItem, placeholder, e, ?node).\n  // All callbacks below have the same signature. 'start' and 'stop' callbacks omit the 'placeholder'.\n  onDragStart: _propTypes.default.func,\n  // Calls on each drag movement.\n  onDrag: _propTypes.default.func,\n  // Calls when drag is complete.\n  onDragStop: _propTypes.default.func,\n  //Calls when resize starts.\n  onResizeStart: _propTypes.default.func,\n  // Calls when resize movement happens.\n  onResize: _propTypes.default.func,\n  // Calls when resize is complete.\n  onResizeStop: _propTypes.default.func,\n  // Calls when some element is dropped.\n  onDrop: _propTypes.default.func,\n  //\n  // Other validations\n  //\n\n  droppingItem: (_propTypes.default.shape({\n    i: _propTypes.default.string.isRequired,\n    w: _propTypes.default.number.isRequired,\n    h: _propTypes.default.number.isRequired\n  }) /*: ReactPropsChainableTypeChecker*/),\n  // Children must not have duplicate keys.\n  children: function (props /*: Props*/, propName /*: string*/) {\n    const children = props[propName];\n\n    // Check children keys for duplicates. Throw if found.\n    const keys = {};\n    _react.default.Children.forEach(children, function (child) {\n      if (child?.key == null) return;\n      if (keys[child.key]) {\n        throw new Error('Duplicate child key \"' + child.key + '\" found! This will cause problems in ReactGridLayout.');\n      }\n      keys[child.key] = true;\n    });\n  },\n  // Optional ref for getting a reference for the wrapping div.\n  innerRef: _propTypes.default.any\n};", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _reactDom = require(\"react-dom\");\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _reactDraggable = require(\"react-draggable\");\nvar _reactResizable = require(\"react-resizable\");\nvar _utils = require(\"./utils\");\nvar _calculateUtils = require(\"./calculateUtils\");\nvar _ReactGridLayoutPropTypes = require(\"./ReactGridLayoutPropTypes\");\nvar _clsx = _interopRequireDefault(require(\"clsx\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/*:: import type { Element as ReactElement, Node as ReactNode } from \"react\";*/\n/*:: import type {\n  ReactDraggableCallbackData,\n  GridDragEvent,\n  GridResizeEvent,\n  DroppingPosition,\n  Position,\n  ResizeHandleAxis\n} from \"./utils\";*/\n/*:: import type { PositionParams } from \"./calculateUtils\";*/\n/*:: import type { ResizeHandle, ReactRef } from \"./ReactGridLayoutPropTypes\";*/\n/*:: type PartialPosition = { top: number, left: number };*/\n/*:: type GridItemCallback<Data: GridDragEvent | GridResizeEvent> = (\n  i: string,\n  w: number,\n  h: number,\n  Data\n) => void;*/\n/*:: type ResizeCallbackData = {\n  node: HTMLElement,\n  size: Position,\n  handle: ResizeHandleAxis\n};*/\n/*:: type GridItemResizeCallback = (\n  e: Event,\n  data: ResizeCallbackData,\n  position: Position\n) => void;*/\n/*:: type State = {\n  resizing: ?{ top: number, left: number, width: number, height: number },\n  dragging: ?{ top: number, left: number },\n  className: string\n};*/\n/*:: type Props = {\n  children: ReactElement<any>,\n  cols: number,\n  containerWidth: number,\n  margin: [number, number],\n  containerPadding: [number, number],\n  rowHeight: number,\n  maxRows: number,\n  isDraggable: boolean,\n  isResizable: boolean,\n  isBounded: boolean,\n  static?: boolean,\n  useCSSTransforms?: boolean,\n  usePercentages?: boolean,\n  transformScale: number,\n  droppingPosition?: DroppingPosition,\n\n  className: string,\n  style?: Object,\n  // Draggability\n  cancel: string,\n  handle: string,\n\n  x: number,\n  y: number,\n  w: number,\n  h: number,\n\n  minW: number,\n  maxW: number,\n  minH: number,\n  maxH: number,\n  i: string,\n\n  resizeHandles?: ResizeHandleAxis[],\n  resizeHandle?: ResizeHandle,\n\n  onDrag?: GridItemCallback<GridDragEvent>,\n  onDragStart?: GridItemCallback<GridDragEvent>,\n  onDragStop?: GridItemCallback<GridDragEvent>,\n  onResize?: GridItemCallback<GridResizeEvent>,\n  onResizeStart?: GridItemCallback<GridResizeEvent>,\n  onResizeStop?: GridItemCallback<GridResizeEvent>\n};*/\n/*:: type DefaultProps = {\n  className: string,\n  cancel: string,\n  handle: string,\n  minH: number,\n  minW: number,\n  maxH: number,\n  maxW: number,\n  transformScale: number\n};*/\n/**\n * An individual item within a ReactGridLayout.\n */\nclass GridItem extends _react.default.Component /*:: <Props, State>*/{\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"state\", {\n      resizing: null,\n      dragging: null,\n      className: \"\"\n    });\n    _defineProperty(this, \"elementRef\", /*#__PURE__*/_react.default.createRef());\n    /**\n     * onDragStart event handler\n     * @param  {Event}  e             event data\n     * @param  {Object} callbackData  an object with node, delta and position information\n     */\n    _defineProperty(this, \"onDragStart\", (e, _ref) => {\n      let {\n        node\n      } = _ref;\n      const {\n        onDragStart,\n        transformScale\n      } = this.props;\n      if (!onDragStart) return;\n      const newPosition /*: PartialPosition*/ = {\n        top: 0,\n        left: 0\n      };\n\n      // TODO: this wont work on nested parents\n      const {\n        offsetParent\n      } = node;\n      if (!offsetParent) return;\n      const parentRect = offsetParent.getBoundingClientRect();\n      const clientRect = node.getBoundingClientRect();\n      const cLeft = clientRect.left / transformScale;\n      const pLeft = parentRect.left / transformScale;\n      const cTop = clientRect.top / transformScale;\n      const pTop = parentRect.top / transformScale;\n      newPosition.left = cLeft - pLeft + offsetParent.scrollLeft;\n      newPosition.top = cTop - pTop + offsetParent.scrollTop;\n      this.setState({\n        dragging: newPosition\n      });\n\n      // Call callback with this data\n      const {\n        x,\n        y\n      } = (0, _calculateUtils.calcXY)(this.getPositionParams(), newPosition.top, newPosition.left, this.props.w, this.props.h);\n      return onDragStart.call(this, this.props.i, x, y, {\n        e,\n        node,\n        newPosition\n      });\n    });\n    /**\n     * onDrag event handler\n     * @param  {Event}  e             event data\n     * @param  {Object} callbackData  an object with node, delta and position information\n     * @param  {boolean} dontFlush    if true, will not call flushSync\n     */\n    _defineProperty(this, \"onDrag\", (e, _ref2, dontFlush) => {\n      let {\n        node,\n        deltaX,\n        deltaY\n      } = _ref2;\n      const {\n        onDrag\n      } = this.props;\n      if (!onDrag) return;\n      if (!this.state.dragging) {\n        throw new Error(\"onDrag called before onDragStart.\");\n      }\n      let top = this.state.dragging.top + deltaY;\n      let left = this.state.dragging.left + deltaX;\n      const {\n        isBounded,\n        i,\n        w,\n        h,\n        containerWidth\n      } = this.props;\n      const positionParams = this.getPositionParams();\n\n      // Boundary calculations; keeps items within the grid\n      if (isBounded) {\n        const {\n          offsetParent\n        } = node;\n        if (offsetParent) {\n          const {\n            margin,\n            rowHeight\n          } = this.props;\n          const bottomBoundary = offsetParent.clientHeight - (0, _calculateUtils.calcGridItemWHPx)(h, rowHeight, margin[1]);\n          top = (0, _calculateUtils.clamp)(top, 0, bottomBoundary);\n          const colWidth = (0, _calculateUtils.calcGridColWidth)(positionParams);\n          const rightBoundary = containerWidth - (0, _calculateUtils.calcGridItemWHPx)(w, colWidth, margin[0]);\n          left = (0, _calculateUtils.clamp)(left, 0, rightBoundary);\n        }\n      }\n      const newPosition /*: PartialPosition*/ = {\n        top,\n        left\n      };\n\n      // dontFlush is set if we're calling from inside\n      if (dontFlush) {\n        this.setState({\n          dragging: newPosition\n        });\n      } else {\n        (0, _reactDom.flushSync)(() => {\n          this.setState({\n            dragging: newPosition\n          });\n        });\n      }\n\n      // Call callback with this data\n      const {\n        x,\n        y\n      } = (0, _calculateUtils.calcXY)(positionParams, top, left, w, h);\n      return onDrag.call(this, i, x, y, {\n        e,\n        node,\n        newPosition\n      });\n    });\n    /**\n     * onDragStop event handler\n     * @param  {Event}  e             event data\n     * @param  {Object} callbackData  an object with node, delta and position information\n     */\n    _defineProperty(this, \"onDragStop\", (e, _ref3) => {\n      let {\n        node\n      } = _ref3;\n      const {\n        onDragStop\n      } = this.props;\n      if (!onDragStop) return;\n      if (!this.state.dragging) {\n        throw new Error(\"onDragEnd called before onDragStart.\");\n      }\n      const {\n        w,\n        h,\n        i\n      } = this.props;\n      const {\n        left,\n        top\n      } = this.state.dragging;\n      const newPosition /*: PartialPosition*/ = {\n        top,\n        left\n      };\n      this.setState({\n        dragging: null\n      });\n      const {\n        x,\n        y\n      } = (0, _calculateUtils.calcXY)(this.getPositionParams(), top, left, w, h);\n      return onDragStop.call(this, i, x, y, {\n        e,\n        node,\n        newPosition\n      });\n    });\n    /**\n     * onResizeStop event handler\n     * @param  {Event}  e             event data\n     * @param  {Object} callbackData  an object with node and size information\n     */\n    _defineProperty(this, \"onResizeStop\", (e, callbackData, position) => this.onResizeHandler(e, callbackData, position, \"onResizeStop\"));\n    // onResizeStart event handler\n    _defineProperty(this, \"onResizeStart\", (e, callbackData, position) => this.onResizeHandler(e, callbackData, position, \"onResizeStart\"));\n    // onResize event handler\n    _defineProperty(this, \"onResize\", (e, callbackData, position) => this.onResizeHandler(e, callbackData, position, \"onResize\"));\n  }\n  shouldComponentUpdate(nextProps /*: Props*/, nextState /*: State*/) /*: boolean*/{\n    // We can't deeply compare children. If the developer memoizes them, we can\n    // use this optimization.\n    if (this.props.children !== nextProps.children) return true;\n    if (this.props.droppingPosition !== nextProps.droppingPosition) return true;\n    // TODO memoize these calculations so they don't take so long?\n    const oldPosition = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(this.props), this.props.x, this.props.y, this.props.w, this.props.h, this.state);\n    const newPosition = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(nextProps), nextProps.x, nextProps.y, nextProps.w, nextProps.h, nextState);\n    return !(0, _utils.fastPositionEqual)(oldPosition, newPosition) || this.props.useCSSTransforms !== nextProps.useCSSTransforms;\n  }\n  componentDidMount() {\n    this.moveDroppingItem({});\n  }\n  componentDidUpdate(prevProps /*: Props*/) {\n    this.moveDroppingItem(prevProps);\n  }\n\n  // When a droppingPosition is present, this means we should fire a move event, as if we had moved\n  // this element by `x, y` pixels.\n  moveDroppingItem(prevProps /*: Props*/) {\n    const {\n      droppingPosition\n    } = this.props;\n    if (!droppingPosition) return;\n    const node = this.elementRef.current;\n    // Can't find DOM node (are we unmounted?)\n    if (!node) return;\n    const prevDroppingPosition = prevProps.droppingPosition || {\n      left: 0,\n      top: 0\n    };\n    const {\n      dragging\n    } = this.state;\n    const shouldDrag = dragging && droppingPosition.left !== prevDroppingPosition.left || droppingPosition.top !== prevDroppingPosition.top;\n    if (!dragging) {\n      this.onDragStart(droppingPosition.e, {\n        node,\n        deltaX: droppingPosition.left,\n        deltaY: droppingPosition.top\n      });\n    } else if (shouldDrag) {\n      const deltaX = droppingPosition.left - dragging.left;\n      const deltaY = droppingPosition.top - dragging.top;\n      this.onDrag(droppingPosition.e, {\n        node,\n        deltaX,\n        deltaY\n      }, true // dontFLush: avoid flushSync to temper warnings\n      );\n    }\n  }\n  getPositionParams() /*: PositionParams*/{\n    let props /*: Props*/ = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n    return {\n      cols: props.cols,\n      containerPadding: props.containerPadding,\n      containerWidth: props.containerWidth,\n      margin: props.margin,\n      maxRows: props.maxRows,\n      rowHeight: props.rowHeight\n    };\n  }\n\n  /**\n   * This is where we set the grid item's absolute placement. It gets a little tricky because we want to do it\n   * well when server rendering, and the only way to do that properly is to use percentage width/left because\n   * we don't know exactly what the browser viewport is.\n   * Unfortunately, CSS Transforms, which are great for performance, break in this instance because a percentage\n   * left is relative to the item itself, not its container! So we cannot use them on the server rendering pass.\n   *\n   * @param  {Object} pos Position object with width, height, left, top.\n   * @return {Object}     Style object.\n   */\n  createStyle(pos /*: Position*/) /*: { [key: string]: ?string }*/{\n    const {\n      usePercentages,\n      containerWidth,\n      useCSSTransforms\n    } = this.props;\n    let style;\n    // CSS Transforms support (default)\n    if (useCSSTransforms) {\n      style = (0, _utils.setTransform)(pos);\n    } else {\n      // top,left (slow)\n      style = (0, _utils.setTopLeft)(pos);\n\n      // This is used for server rendering.\n      if (usePercentages) {\n        style.left = (0, _utils.perc)(pos.left / containerWidth);\n        style.width = (0, _utils.perc)(pos.width / containerWidth);\n      }\n    }\n    return style;\n  }\n\n  /**\n   * Mix a Draggable instance into a child.\n   * @param  {Element} child    Child element.\n   * @return {Element}          Child wrapped in Draggable.\n   */\n  mixinDraggable(child /*: ReactElement<any>*/, isDraggable /*: boolean*/) /*: ReactElement<any>*/{\n    return /*#__PURE__*/_react.default.createElement(_reactDraggable.DraggableCore, {\n      disabled: !isDraggable,\n      onStart: this.onDragStart,\n      onDrag: this.onDrag,\n      onStop: this.onDragStop,\n      handle: this.props.handle,\n      cancel: \".react-resizable-handle\" + (this.props.cancel ? \",\" + this.props.cancel : \"\"),\n      scale: this.props.transformScale,\n      nodeRef: this.elementRef\n    }, child);\n  }\n\n  /**\n   * Utility function to setup callback handler definitions for\n   * similarily structured resize events.\n   */\n  curryResizeHandler(position /*: Position*/, handler /*: Function*/) /*: Function*/{\n    return (e /*: Event*/, data /*: ResizeCallbackData*/) => /*: Function*/handler(e, data, position);\n  }\n\n  /**\n   * Mix a Resizable instance into a child.\n   * @param  {Element} child    Child element.\n   * @param  {Object} position  Position object (pixel values)\n   * @return {Element}          Child wrapped in Resizable.\n   */\n  mixinResizable(child /*: ReactElement<any>*/, position /*: Position*/, isResizable /*: boolean*/) /*: ReactElement<any>*/{\n    const {\n      cols,\n      minW,\n      minH,\n      maxW,\n      maxH,\n      transformScale,\n      resizeHandles,\n      resizeHandle\n    } = this.props;\n    const positionParams = this.getPositionParams();\n\n    // This is the max possible width - doesn't go to infinity because of the width of the window\n    const maxWidth = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, cols, 0).width;\n\n    // Calculate min/max constraints using our min & maxes\n    const mins = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, minW, minH);\n    const maxes = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, maxW, maxH);\n    const minConstraints = [mins.width, mins.height];\n    const maxConstraints = [Math.min(maxes.width, maxWidth), Math.min(maxes.height, Infinity)];\n    return /*#__PURE__*/_react.default.createElement(_reactResizable.Resizable\n    // These are opts for the resize handle itself\n    , {\n      draggableOpts: {\n        disabled: !isResizable\n      },\n      className: isResizable ? undefined : \"react-resizable-hide\",\n      width: position.width,\n      height: position.height,\n      minConstraints: minConstraints,\n      maxConstraints: maxConstraints,\n      onResizeStop: this.curryResizeHandler(position, this.onResizeStop),\n      onResizeStart: this.curryResizeHandler(position, this.onResizeStart),\n      onResize: this.curryResizeHandler(position, this.onResize),\n      transformScale: transformScale,\n      resizeHandles: resizeHandles,\n      handle: resizeHandle\n    }, child);\n  }\n  /**\n   * Wrapper around resize events to provide more useful data.\n   */\n  onResizeHandler(e /*: Event*/, _ref4 /*:: */,\n  // 'size' is updated position\n  position /*: Position*/,\n  // existing position\n  handlerName /*: string*/) /*: void*/{\n    let {\n      node,\n      size,\n      handle\n    } /*: ResizeCallbackData*/ = _ref4 /*: ResizeCallbackData*/;\n    const handler = this.props[handlerName];\n    if (!handler) return;\n    const {\n      x,\n      y,\n      i,\n      maxH,\n      minH,\n      containerWidth\n    } = this.props;\n    const {\n      minW,\n      maxW\n    } = this.props;\n\n    // Clamping of dimensions based on resize direction\n    let updatedSize = size;\n    if (node) {\n      updatedSize = (0, _utils.resizeItemInDirection)(handle, position, size, containerWidth);\n      (0, _reactDom.flushSync)(() => {\n        this.setState({\n          resizing: handlerName === \"onResizeStop\" ? null : updatedSize\n        });\n      });\n    }\n\n    // Get new XY based on pixel size\n    let {\n      w,\n      h\n    } = (0, _calculateUtils.calcWH)(this.getPositionParams(), updatedSize.width, updatedSize.height, x, y, handle);\n\n    // Min/max capping.\n    // minW should be at least 1 (TODO propTypes validation?)\n    w = (0, _calculateUtils.clamp)(w, Math.max(minW, 1), maxW);\n    h = (0, _calculateUtils.clamp)(h, minH, maxH);\n    handler.call(this, i, w, h, {\n      e,\n      node,\n      size: updatedSize,\n      handle\n    });\n  }\n  render() /*: ReactNode*/{\n    const {\n      x,\n      y,\n      w,\n      h,\n      isDraggable,\n      isResizable,\n      droppingPosition,\n      useCSSTransforms\n    } = this.props;\n    const pos = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(), x, y, w, h, this.state);\n    const child = _react.default.Children.only(this.props.children);\n\n    // Create the child element. We clone the existing element but modify its className and style.\n    let newChild = /*#__PURE__*/_react.default.cloneElement(child, {\n      ref: this.elementRef,\n      className: (0, _clsx.default)(\"react-grid-item\", child.props.className, this.props.className, {\n        static: this.props.static,\n        resizing: Boolean(this.state.resizing),\n        \"react-draggable\": isDraggable,\n        \"react-draggable-dragging\": Boolean(this.state.dragging),\n        dropping: Boolean(droppingPosition),\n        cssTransforms: useCSSTransforms\n      }),\n      // We can set the width and height on the child, but unfortunately we can't set the position.\n      style: {\n        ...this.props.style,\n        ...child.props.style,\n        ...this.createStyle(pos)\n      }\n    });\n\n    // Resizable support. This is usually on but the user can toggle it off.\n    newChild = this.mixinResizable(newChild, pos, isResizable);\n\n    // Draggable support. This is always on, except for with placeholders.\n    newChild = this.mixinDraggable(newChild, isDraggable);\n    return newChild;\n  }\n}\nexports.default = GridItem;\n_defineProperty(GridItem, \"propTypes\", {\n  // Children must be only a single element\n  children: _propTypes.default.element,\n  // General grid attributes\n  cols: _propTypes.default.number.isRequired,\n  containerWidth: _propTypes.default.number.isRequired,\n  rowHeight: _propTypes.default.number.isRequired,\n  margin: _propTypes.default.array.isRequired,\n  maxRows: _propTypes.default.number.isRequired,\n  containerPadding: _propTypes.default.array.isRequired,\n  // These are all in grid units\n  x: _propTypes.default.number.isRequired,\n  y: _propTypes.default.number.isRequired,\n  w: _propTypes.default.number.isRequired,\n  h: _propTypes.default.number.isRequired,\n  // All optional\n  minW: function (props /*: Props*/, propName /*: string*/) {\n    const value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"minWidth not Number\");\n    if (value > props.w || value > props.maxW) return new Error(\"minWidth larger than item width/maxWidth\");\n  },\n  maxW: function (props /*: Props*/, propName /*: string*/) {\n    const value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"maxWidth not Number\");\n    if (value < props.w || value < props.minW) return new Error(\"maxWidth smaller than item width/minWidth\");\n  },\n  minH: function (props /*: Props*/, propName /*: string*/) {\n    const value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"minHeight not Number\");\n    if (value > props.h || value > props.maxH) return new Error(\"minHeight larger than item height/maxHeight\");\n  },\n  maxH: function (props /*: Props*/, propName /*: string*/) {\n    const value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"maxHeight not Number\");\n    if (value < props.h || value < props.minH) return new Error(\"maxHeight smaller than item height/minHeight\");\n  },\n  // ID is nice to have for callbacks\n  i: _propTypes.default.string.isRequired,\n  // Resize handle options\n  resizeHandles: _ReactGridLayoutPropTypes.resizeHandleAxesType,\n  resizeHandle: _ReactGridLayoutPropTypes.resizeHandleType,\n  // Functions\n  onDragStop: _propTypes.default.func,\n  onDragStart: _propTypes.default.func,\n  onDrag: _propTypes.default.func,\n  onResizeStop: _propTypes.default.func,\n  onResizeStart: _propTypes.default.func,\n  onResize: _propTypes.default.func,\n  // Flags\n  isDraggable: _propTypes.default.bool.isRequired,\n  isResizable: _propTypes.default.bool.isRequired,\n  isBounded: _propTypes.default.bool.isRequired,\n  static: _propTypes.default.bool,\n  // Use CSS transforms instead of top/left\n  useCSSTransforms: _propTypes.default.bool.isRequired,\n  transformScale: _propTypes.default.number,\n  // Others\n  className: _propTypes.default.string,\n  // Selector for draggable handle\n  handle: _propTypes.default.string,\n  // Selector for draggable cancel (see react-draggable)\n  cancel: _propTypes.default.string,\n  // Current position of a dropping element\n  droppingPosition: _propTypes.default.shape({\n    e: _propTypes.default.object.isRequired,\n    left: _propTypes.default.number.isRequired,\n    top: _propTypes.default.number.isRequired\n  })\n});\n_defineProperty(GridItem, \"defaultProps\", {\n  className: \"\",\n  cancel: \"\",\n  handle: \"\",\n  minH: 1,\n  minW: 1,\n  maxH: Infinity,\n  maxW: Infinity,\n  transformScale: 1\n});", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _fastEquals = require(\"fast-equals\");\nvar _clsx = _interopRequireDefault(require(\"clsx\"));\nvar _utils = require(\"./utils\");\nvar _calculateUtils = require(\"./calculateUtils\");\nvar _GridItem = _interopRequireDefault(require(\"./GridItem\"));\nvar _ReactGridLayoutPropTypes = _interopRequireDefault(require(\"./ReactGridLayoutPropTypes\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/*:: import type {\n  ChildrenArray as ReactChildrenArray,\n  Element as ReactElement\n} from \"react\";*/\n/*:: import type {\n  CompactType,\n  GridResizeEvent,\n  GridDragEvent,\n  DragOverEvent,\n  Layout,\n  DroppingPosition,\n  LayoutItem\n} from \"./utils\";*/\n// Types\n/*:: import type { PositionParams } from \"./calculateUtils\";*/\n/*:: type State = {\n  activeDrag: ?LayoutItem,\n  layout: Layout,\n  mounted: boolean,\n  oldDragItem: ?LayoutItem,\n  oldLayout: ?Layout,\n  oldResizeItem: ?LayoutItem,\n  resizing: boolean,\n  droppingDOMNode: ?ReactElement<any>,\n  droppingPosition?: DroppingPosition,\n  // Mirrored props\n  children: ReactChildrenArray<ReactElement<any>>,\n  compactType?: CompactType,\n  propsLayout?: Layout\n};*/\n/*:: import type { Props, DefaultProps } from \"./ReactGridLayoutPropTypes\";*/\n// End Types\nconst layoutClassName = \"react-grid-layout\";\nlet isFirefox = false;\n// Try...catch will protect from navigator not existing (e.g. node) or a bad implementation of navigator\ntry {\n  isFirefox = /firefox/i.test(navigator.userAgent);\n} catch (e) {\n  /* Ignore */\n}\n\n/**\n * A reactive, fluid grid layout with draggable, resizable components.\n */\n\nclass ReactGridLayout extends React.Component /*:: <Props, State>*/{\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"state\", {\n      activeDrag: null,\n      layout: (0, _utils.synchronizeLayoutWithChildren)(this.props.layout, this.props.children, this.props.cols,\n      // Legacy support for verticalCompact: false\n      (0, _utils.compactType)(this.props), this.props.allowOverlap),\n      mounted: false,\n      oldDragItem: null,\n      oldLayout: null,\n      oldResizeItem: null,\n      resizing: false,\n      droppingDOMNode: null,\n      children: []\n    });\n    _defineProperty(this, \"dragEnterCounter\", 0);\n    /**\n     * When dragging starts\n     * @param {String} i Id of the child\n     * @param {Number} x X position of the move\n     * @param {Number} y Y position of the move\n     * @param {Event} e The mousedown event\n     * @param {Element} node The current dragging DOM element\n     */\n    _defineProperty(this, \"onDragStart\", (i /*: string*/, x /*: number*/, y /*: number*/, _ref /*:: */) => {\n      let {\n        e,\n        node\n      } /*: GridDragEvent*/ = _ref /*: GridDragEvent*/;\n      const {\n        layout\n      } = this.state;\n      const l = (0, _utils.getLayoutItem)(layout, i);\n      if (!l) return;\n\n      // Create placeholder (display only)\n      const placeholder = {\n        w: l.w,\n        h: l.h,\n        x: l.x,\n        y: l.y,\n        placeholder: true,\n        i: i\n      };\n      this.setState({\n        oldDragItem: (0, _utils.cloneLayoutItem)(l),\n        oldLayout: layout,\n        activeDrag: placeholder\n      });\n      return this.props.onDragStart(layout, l, l, null, e, node);\n    });\n    /**\n     * Each drag movement create a new dragelement and move the element to the dragged location\n     * @param {String} i Id of the child\n     * @param {Number} x X position of the move\n     * @param {Number} y Y position of the move\n     * @param {Event} e The mousedown event\n     * @param {Element} node The current dragging DOM element\n     */\n    _defineProperty(this, \"onDrag\", (i, x, y, _ref2) => {\n      let {\n        e,\n        node\n      } = _ref2;\n      const {\n        oldDragItem\n      } = this.state;\n      let {\n        layout\n      } = this.state;\n      const {\n        cols,\n        allowOverlap,\n        preventCollision\n      } = this.props;\n      const l = (0, _utils.getLayoutItem)(layout, i);\n      if (!l) return;\n\n      // Create placeholder (display only)\n      const placeholder = {\n        w: l.w,\n        h: l.h,\n        x: l.x,\n        y: l.y,\n        placeholder: true,\n        i: i\n      };\n\n      // Move the element to the dragged location.\n      const isUserAction = true;\n      layout = (0, _utils.moveElement)(layout, l, x, y, isUserAction, preventCollision, (0, _utils.compactType)(this.props), cols, allowOverlap);\n      this.props.onDrag(layout, oldDragItem, l, placeholder, e, node);\n      this.setState({\n        layout: allowOverlap ? layout : (0, _utils.compact)(layout, (0, _utils.compactType)(this.props), cols),\n        activeDrag: placeholder\n      });\n    });\n    /**\n     * When dragging stops, figure out which position the element is closest to and update its x and y.\n     * @param  {String} i Index of the child.\n     * @param {Number} x X position of the move\n     * @param {Number} y Y position of the move\n     * @param {Event} e The mousedown event\n     * @param {Element} node The current dragging DOM element\n     */\n    _defineProperty(this, \"onDragStop\", (i, x, y, _ref3) => {\n      let {\n        e,\n        node\n      } = _ref3;\n      if (!this.state.activeDrag) return;\n      const {\n        oldDragItem\n      } = this.state;\n      let {\n        layout\n      } = this.state;\n      const {\n        cols,\n        preventCollision,\n        allowOverlap\n      } = this.props;\n      const l = (0, _utils.getLayoutItem)(layout, i);\n      if (!l) return;\n\n      // Move the element here\n      const isUserAction = true;\n      layout = (0, _utils.moveElement)(layout, l, x, y, isUserAction, preventCollision, (0, _utils.compactType)(this.props), cols, allowOverlap);\n\n      // Set state\n      const newLayout = allowOverlap ? layout : (0, _utils.compact)(layout, (0, _utils.compactType)(this.props), cols);\n      this.props.onDragStop(newLayout, oldDragItem, l, null, e, node);\n      const {\n        oldLayout\n      } = this.state;\n      this.setState({\n        activeDrag: null,\n        layout: newLayout,\n        oldDragItem: null,\n        oldLayout: null\n      });\n      this.onLayoutMaybeChanged(newLayout, oldLayout);\n    });\n    _defineProperty(this, \"onResizeStart\", (i, w, h, _ref4) => {\n      let {\n        e,\n        node\n      } = _ref4;\n      const {\n        layout\n      } = this.state;\n      const l = (0, _utils.getLayoutItem)(layout, i);\n      if (!l) return;\n      this.setState({\n        oldResizeItem: (0, _utils.cloneLayoutItem)(l),\n        oldLayout: this.state.layout,\n        resizing: true\n      });\n      this.props.onResizeStart(layout, l, l, null, e, node);\n    });\n    _defineProperty(this, \"onResize\", (i, w, h, _ref5) => {\n      let {\n        e,\n        node,\n        size,\n        handle\n      } = _ref5;\n      const {\n        oldResizeItem\n      } = this.state;\n      const {\n        layout\n      } = this.state;\n      const {\n        cols,\n        preventCollision,\n        allowOverlap\n      } = this.props;\n      let shouldMoveItem = false;\n      let finalLayout;\n      let x;\n      let y;\n      const [newLayout, l] = (0, _utils.withLayoutItem)(layout, i, l => {\n        let hasCollisions;\n        x = l.x;\n        y = l.y;\n        if ([\"sw\", \"w\", \"nw\", \"n\", \"ne\"].indexOf(handle) !== -1) {\n          if ([\"sw\", \"nw\", \"w\"].indexOf(handle) !== -1) {\n            x = l.x + (l.w - w);\n            w = l.x !== x && x < 0 ? l.w : w;\n            x = x < 0 ? 0 : x;\n          }\n          if ([\"ne\", \"n\", \"nw\"].indexOf(handle) !== -1) {\n            y = l.y + (l.h - h);\n            h = l.y !== y && y < 0 ? l.h : h;\n            y = y < 0 ? 0 : y;\n          }\n          shouldMoveItem = true;\n        }\n\n        // Something like quad tree should be used\n        // to find collisions faster\n        if (preventCollision && !allowOverlap) {\n          const collisions = (0, _utils.getAllCollisions)(layout, {\n            ...l,\n            w,\n            h,\n            x,\n            y\n          }).filter(layoutItem => layoutItem.i !== l.i);\n          hasCollisions = collisions.length > 0;\n\n          // If we're colliding, we need adjust the placeholder.\n          if (hasCollisions) {\n            // Reset layoutItem dimensions if there were collisions\n            y = l.y;\n            h = l.h;\n            x = l.x;\n            w = l.w;\n            shouldMoveItem = false;\n          }\n        }\n        l.w = w;\n        l.h = h;\n        return l;\n      });\n\n      // Shouldn't ever happen, but typechecking makes it necessary\n      if (!l) return;\n      finalLayout = newLayout;\n      if (shouldMoveItem) {\n        // Move the element to the new position.\n        const isUserAction = true;\n        finalLayout = (0, _utils.moveElement)(newLayout, l, x, y, isUserAction, this.props.preventCollision, (0, _utils.compactType)(this.props), cols, allowOverlap);\n      }\n\n      // Create placeholder element (display only)\n      const placeholder = {\n        w: l.w,\n        h: l.h,\n        x: l.x,\n        y: l.y,\n        static: true,\n        i: i\n      };\n      this.props.onResize(finalLayout, oldResizeItem, l, placeholder, e, node);\n\n      // Re-compact the newLayout and set the drag placeholder.\n      this.setState({\n        layout: allowOverlap ? finalLayout : (0, _utils.compact)(finalLayout, (0, _utils.compactType)(this.props), cols),\n        activeDrag: placeholder\n      });\n    });\n    _defineProperty(this, \"onResizeStop\", (i, w, h, _ref6) => {\n      let {\n        e,\n        node\n      } = _ref6;\n      const {\n        layout,\n        oldResizeItem\n      } = this.state;\n      const {\n        cols,\n        allowOverlap\n      } = this.props;\n      const l = (0, _utils.getLayoutItem)(layout, i);\n\n      // Set state\n      const newLayout = allowOverlap ? layout : (0, _utils.compact)(layout, (0, _utils.compactType)(this.props), cols);\n      this.props.onResizeStop(newLayout, oldResizeItem, l, null, e, node);\n      const {\n        oldLayout\n      } = this.state;\n      this.setState({\n        activeDrag: null,\n        layout: newLayout,\n        oldResizeItem: null,\n        oldLayout: null,\n        resizing: false\n      });\n      this.onLayoutMaybeChanged(newLayout, oldLayout);\n    });\n    // Called while dragging an element. Part of browser native drag/drop API.\n    // Native event target might be the layout itself, or an element within the layout.\n    _defineProperty(this, \"onDragOver\", e => {\n      e.preventDefault(); // Prevent any browser native action\n      e.stopPropagation();\n\n      // we should ignore events from layout's children in Firefox\n      // to avoid unpredictable jumping of a dropping placeholder\n      // FIXME remove this hack\n      if (isFirefox &&\n      // $FlowIgnore can't figure this out\n      !e.nativeEvent.target?.classList.contains(layoutClassName)) {\n        return false;\n      }\n      const {\n        droppingItem,\n        onDropDragOver,\n        margin,\n        cols,\n        rowHeight,\n        maxRows,\n        width,\n        containerPadding,\n        transformScale\n      } = this.props;\n      // Allow user to customize the dropping item or short-circuit the drop based on the results\n      // of the `onDragOver(e: Event)` callback.\n      const onDragOverResult = onDropDragOver?.(e);\n      if (onDragOverResult === false) {\n        if (this.state.droppingDOMNode) {\n          this.removeDroppingPlaceholder();\n        }\n        return false;\n      }\n      const finalDroppingItem = {\n        ...droppingItem,\n        ...onDragOverResult\n      };\n      const {\n        layout\n      } = this.state;\n\n      // $FlowIgnore missing def\n      const gridRect = e.currentTarget.getBoundingClientRect(); // The grid's position in the viewport\n\n      // Calculate the mouse position relative to the grid\n      const layerX = e.clientX - gridRect.left;\n      const layerY = e.clientY - gridRect.top;\n      const droppingPosition = {\n        left: layerX / transformScale,\n        top: layerY / transformScale,\n        e\n      };\n      if (!this.state.droppingDOMNode) {\n        const positionParams /*: PositionParams*/ = {\n          cols,\n          margin,\n          maxRows,\n          rowHeight,\n          containerWidth: width,\n          containerPadding: containerPadding || margin\n        };\n        const calculatedPosition = (0, _calculateUtils.calcXY)(positionParams, layerY, layerX, finalDroppingItem.w, finalDroppingItem.h);\n        this.setState({\n          droppingDOMNode: /*#__PURE__*/React.createElement(\"div\", {\n            key: finalDroppingItem.i\n          }),\n          droppingPosition,\n          layout: [...layout, {\n            ...finalDroppingItem,\n            x: calculatedPosition.x,\n            y: calculatedPosition.y,\n            static: false,\n            isDraggable: true\n          }]\n        });\n      } else if (this.state.droppingPosition) {\n        const {\n          left,\n          top\n        } = this.state.droppingPosition;\n        const shouldUpdatePosition = left != layerX || top != layerY;\n        if (shouldUpdatePosition) {\n          this.setState({\n            droppingPosition\n          });\n        }\n      }\n    });\n    _defineProperty(this, \"removeDroppingPlaceholder\", () => {\n      const {\n        droppingItem,\n        cols\n      } = this.props;\n      const {\n        layout\n      } = this.state;\n      const newLayout = (0, _utils.compact)(layout.filter(l => l.i !== droppingItem.i), (0, _utils.compactType)(this.props), cols, this.props.allowOverlap);\n      this.setState({\n        layout: newLayout,\n        droppingDOMNode: null,\n        activeDrag: null,\n        droppingPosition: undefined\n      });\n    });\n    _defineProperty(this, \"onDragLeave\", e => {\n      e.preventDefault(); // Prevent any browser native action\n      e.stopPropagation();\n      this.dragEnterCounter--;\n\n      // onDragLeave can be triggered on each layout's child.\n      // But we know that count of dragEnter and dragLeave events\n      // will be balanced after leaving the layout's container\n      // so we can increase and decrease count of dragEnter and\n      // when it'll be equal to 0 we'll remove the placeholder\n      if (this.dragEnterCounter === 0) {\n        this.removeDroppingPlaceholder();\n      }\n    });\n    _defineProperty(this, \"onDragEnter\", e => {\n      e.preventDefault(); // Prevent any browser native action\n      e.stopPropagation();\n      this.dragEnterCounter++;\n    });\n    _defineProperty(this, \"onDrop\", (e /*: Event*/) => {\n      e.preventDefault(); // Prevent any browser native action\n      e.stopPropagation();\n      const {\n        droppingItem\n      } = this.props;\n      const {\n        layout\n      } = this.state;\n      const item = layout.find(l => l.i === droppingItem.i);\n\n      // reset dragEnter counter on drop\n      this.dragEnterCounter = 0;\n      this.removeDroppingPlaceholder();\n      this.props.onDrop(layout, item, e);\n    });\n  }\n  componentDidMount() {\n    this.setState({\n      mounted: true\n    });\n    // Possibly call back with layout on mount. This should be done after correcting the layout width\n    // to ensure we don't rerender with the wrong width.\n    this.onLayoutMaybeChanged(this.state.layout, this.props.layout);\n  }\n  static getDerivedStateFromProps(nextProps /*: Props*/, prevState /*: State*/) /*: $Shape<State> | null*/{\n    let newLayoutBase;\n    if (prevState.activeDrag) {\n      return null;\n    }\n\n    // Legacy support for compactType\n    // Allow parent to set layout directly.\n    if (!(0, _fastEquals.deepEqual)(nextProps.layout, prevState.propsLayout) || nextProps.compactType !== prevState.compactType) {\n      newLayoutBase = nextProps.layout;\n    } else if (!(0, _utils.childrenEqual)(nextProps.children, prevState.children)) {\n      // If children change, also regenerate the layout. Use our state\n      // as the base in case because it may be more up to date than\n      // what is in props.\n      newLayoutBase = prevState.layout;\n    }\n\n    // We need to regenerate the layout.\n    if (newLayoutBase) {\n      const newLayout = (0, _utils.synchronizeLayoutWithChildren)(newLayoutBase, nextProps.children, nextProps.cols, (0, _utils.compactType)(nextProps), nextProps.allowOverlap);\n      return {\n        layout: newLayout,\n        // We need to save these props to state for using\n        // getDerivedStateFromProps instead of componentDidMount (in which we would get extra rerender)\n        compactType: nextProps.compactType,\n        children: nextProps.children,\n        propsLayout: nextProps.layout\n      };\n    }\n    return null;\n  }\n  shouldComponentUpdate(nextProps /*: Props*/, nextState /*: State*/) /*: boolean*/{\n    return (\n      // NOTE: this is almost always unequal. Therefore the only way to get better performance\n      // from SCU is if the user intentionally memoizes children. If they do, and they can\n      // handle changes properly, performance will increase.\n      this.props.children !== nextProps.children || !(0, _utils.fastRGLPropsEqual)(this.props, nextProps, _fastEquals.deepEqual) || this.state.activeDrag !== nextState.activeDrag || this.state.mounted !== nextState.mounted || this.state.droppingPosition !== nextState.droppingPosition\n    );\n  }\n  componentDidUpdate(prevProps /*: Props*/, prevState /*: State*/) {\n    if (!this.state.activeDrag) {\n      const newLayout = this.state.layout;\n      const oldLayout = prevState.layout;\n      this.onLayoutMaybeChanged(newLayout, oldLayout);\n    }\n  }\n\n  /**\n   * Calculates a pixel value for the container.\n   * @return {String} Container height in pixels.\n   */\n  containerHeight() /*: ?string*/{\n    if (!this.props.autoSize) return;\n    const nbRow = (0, _utils.bottom)(this.state.layout);\n    const containerPaddingY = this.props.containerPadding ? this.props.containerPadding[1] : this.props.margin[1];\n    return nbRow * this.props.rowHeight + (nbRow - 1) * this.props.margin[1] + containerPaddingY * 2 + \"px\";\n  }\n  onLayoutMaybeChanged(newLayout /*: Layout*/, oldLayout /*: ?Layout*/) {\n    if (!oldLayout) oldLayout = this.state.layout;\n    if (!(0, _fastEquals.deepEqual)(oldLayout, newLayout)) {\n      this.props.onLayoutChange(newLayout);\n    }\n  }\n  /**\n   * Create a placeholder object.\n   * @return {Element} Placeholder div.\n   */\n  placeholder() /*: ?ReactElement<any>*/{\n    const {\n      activeDrag\n    } = this.state;\n    if (!activeDrag) return null;\n    const {\n      width,\n      cols,\n      margin,\n      containerPadding,\n      rowHeight,\n      maxRows,\n      useCSSTransforms,\n      transformScale\n    } = this.props;\n\n    // {...this.state.activeDrag} is pretty slow, actually\n    return /*#__PURE__*/React.createElement(_GridItem.default, {\n      w: activeDrag.w,\n      h: activeDrag.h,\n      x: activeDrag.x,\n      y: activeDrag.y,\n      i: activeDrag.i,\n      className: `react-grid-placeholder ${this.state.resizing ? \"placeholder-resizing\" : \"\"}`,\n      containerWidth: width,\n      cols: cols,\n      margin: margin,\n      containerPadding: containerPadding || margin,\n      maxRows: maxRows,\n      rowHeight: rowHeight,\n      isDraggable: false,\n      isResizable: false,\n      isBounded: false,\n      useCSSTransforms: useCSSTransforms,\n      transformScale: transformScale\n    }, /*#__PURE__*/React.createElement(\"div\", null));\n  }\n\n  /**\n   * Given a grid item, set its style attributes & surround in a <Draggable>.\n   * @param  {Element} child React element.\n   * @return {Element}       Element wrapped in draggable and properly placed.\n   */\n  processGridItem(child /*: ReactElement<any>*/, isDroppingItem /*: boolean*/) /*: ?ReactElement<any>*/{\n    if (!child || !child.key) return;\n    const l = (0, _utils.getLayoutItem)(this.state.layout, String(child.key));\n    if (!l) return null;\n    const {\n      width,\n      cols,\n      margin,\n      containerPadding,\n      rowHeight,\n      maxRows,\n      isDraggable,\n      isResizable,\n      isBounded,\n      useCSSTransforms,\n      transformScale,\n      draggableCancel,\n      draggableHandle,\n      resizeHandles,\n      resizeHandle\n    } = this.props;\n    const {\n      mounted,\n      droppingPosition\n    } = this.state;\n\n    // Determine user manipulations possible.\n    // If an item is static, it can't be manipulated by default.\n    // Any properties defined directly on the grid item will take precedence.\n    const draggable = typeof l.isDraggable === \"boolean\" ? l.isDraggable : !l.static && isDraggable;\n    const resizable = typeof l.isResizable === \"boolean\" ? l.isResizable : !l.static && isResizable;\n    const resizeHandlesOptions = l.resizeHandles || resizeHandles;\n\n    // isBounded set on child if set on parent, and child is not explicitly false\n    const bounded = draggable && isBounded && l.isBounded !== false;\n    return /*#__PURE__*/React.createElement(_GridItem.default, {\n      containerWidth: width,\n      cols: cols,\n      margin: margin,\n      containerPadding: containerPadding || margin,\n      maxRows: maxRows,\n      rowHeight: rowHeight,\n      cancel: draggableCancel,\n      handle: draggableHandle,\n      onDragStop: this.onDragStop,\n      onDragStart: this.onDragStart,\n      onDrag: this.onDrag,\n      onResizeStart: this.onResizeStart,\n      onResize: this.onResize,\n      onResizeStop: this.onResizeStop,\n      isDraggable: draggable,\n      isResizable: resizable,\n      isBounded: bounded,\n      useCSSTransforms: useCSSTransforms && mounted,\n      usePercentages: !mounted,\n      transformScale: transformScale,\n      w: l.w,\n      h: l.h,\n      x: l.x,\n      y: l.y,\n      i: l.i,\n      minH: l.minH,\n      minW: l.minW,\n      maxH: l.maxH,\n      maxW: l.maxW,\n      static: l.static,\n      droppingPosition: isDroppingItem ? droppingPosition : undefined,\n      resizeHandles: resizeHandlesOptions,\n      resizeHandle: resizeHandle\n    }, child);\n  }\n  render() /*: React.Element<\"div\">*/{\n    const {\n      className,\n      style,\n      isDroppable,\n      innerRef\n    } = this.props;\n    const mergedClassName = (0, _clsx.default)(layoutClassName, className);\n    const mergedStyle = {\n      height: this.containerHeight(),\n      ...style\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: innerRef,\n      className: mergedClassName,\n      style: mergedStyle,\n      onDrop: isDroppable ? this.onDrop : _utils.noop,\n      onDragLeave: isDroppable ? this.onDragLeave : _utils.noop,\n      onDragEnter: isDroppable ? this.onDragEnter : _utils.noop,\n      onDragOver: isDroppable ? this.onDragOver : _utils.noop\n    }, React.Children.map(this.props.children, child => this.processGridItem(child)), isDroppable && this.state.droppingDOMNode && this.processGridItem(this.state.droppingDOMNode, true), this.placeholder());\n  }\n}\nexports.default = ReactGridLayout;\n// TODO publish internal ReactClass displayName transform\n_defineProperty(ReactGridLayout, \"displayName\", \"ReactGridLayout\");\n// Refactored to another module to make way for preval\n_defineProperty(ReactGridLayout, \"propTypes\", _ReactGridLayoutPropTypes.default);\n_defineProperty(ReactGridLayout, \"defaultProps\", {\n  autoSize: true,\n  cols: 12,\n  className: \"\",\n  style: {},\n  draggableHandle: \"\",\n  draggableCancel: \"\",\n  containerPadding: null,\n  rowHeight: 150,\n  maxRows: Infinity,\n  // infinite vertical growth\n  layout: [],\n  margin: [10, 10],\n  isBounded: false,\n  isDraggable: true,\n  isResizable: true,\n  allowOverlap: false,\n  isDroppable: false,\n  useCSSTransforms: true,\n  transformScale: 1,\n  verticalCompact: true,\n  compactType: \"vertical\",\n  preventCollision: false,\n  droppingItem: {\n    i: \"__dropping-elem__\",\n    h: 1,\n    w: 1\n  },\n  resizeHandles: [\"se\"],\n  onLayoutChange: _utils.noop,\n  onDragStart: _utils.noop,\n  onDrag: _utils.noop,\n  onDragStop: _utils.noop,\n  onResizeStart: _utils.noop,\n  onResize: _utils.noop,\n  onResizeStop: _utils.noop,\n  onDrop: _utils.noop,\n  onDropDragOver: _utils.noop\n});", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.findOrGenerateResponsiveLayout = findOrGenerateResponsiveLayout;\nexports.getBreakpointFromWidth = getBreakpointFromWidth;\nexports.getColsFromBreakpoint = getColsFromBreakpoint;\nexports.sortBreakpoints = sortBreakpoints;\nvar _utils = require(\"./utils\");\n/*:: import type { CompactType, Layout } from \"./utils\";*/\n/*:: export type Breakpoint = string;*/\n/*:: export type DefaultBreakpoints = \"lg\" | \"md\" | \"sm\" | \"xs\" | \"xxs\";*/\n/*:: export type ResponsiveLayout<T: Breakpoint> = {\n  +[breakpoint: T]: Layout\n};*/\n// + indicates read-only\n/*:: export type Breakpoints<T: Breakpoint> = {\n  +[breakpoint: T]: number\n};*/\n/*:: export type OnLayoutChangeCallback = (\n  Layout,\n  { [key: Breakpoint]: Layout }\n) => void;*/\n/**\n * Given a width, find the highest breakpoint that matches is valid for it (width > breakpoint).\n *\n * @param  {Object} breakpoints Breakpoints object (e.g. {lg: 1200, md: 960, ...})\n * @param  {Number} width Screen width.\n * @return {String}       Highest breakpoint that is less than width.\n */\nfunction getBreakpointFromWidth(breakpoints /*: Breakpoints<Breakpoint>*/, width /*: number*/) /*: Breakpoint*/{\n  const sorted = sortBreakpoints(breakpoints);\n  let matching = sorted[0];\n  for (let i = 1, len = sorted.length; i < len; i++) {\n    const breakpointName = sorted[i];\n    if (width > breakpoints[breakpointName]) matching = breakpointName;\n  }\n  return matching;\n}\n\n/**\n * Given a breakpoint, get the # of cols set for it.\n * @param  {String} breakpoint Breakpoint name.\n * @param  {Object} cols       Map of breakpoints to cols.\n * @return {Number}            Number of cols.\n */\nfunction getColsFromBreakpoint(breakpoint /*: Breakpoint*/, cols /*: Breakpoints<Breakpoint>*/) /*: number*/{\n  if (!cols[breakpoint]) {\n    throw new Error(\"ResponsiveReactGridLayout: `cols` entry for breakpoint \" + breakpoint + \" is missing!\");\n  }\n  return cols[breakpoint];\n}\n\n/**\n * Given existing layouts and a new breakpoint, find or generate a new layout.\n *\n * This finds the layout above the new one and generates from it, if it exists.\n *\n * @param  {Object} layouts     Existing layouts.\n * @param  {Array} breakpoints All breakpoints.\n * @param  {String} breakpoint New breakpoint.\n * @param  {String} breakpoint Last breakpoint (for fallback).\n * @param  {Number} cols       Column count at new breakpoint.\n * @param  {Boolean} verticalCompact Whether or not to compact the layout\n *   vertically.\n * @return {Array}             New layout.\n */\nfunction findOrGenerateResponsiveLayout(layouts /*: ResponsiveLayout<Breakpoint>*/, breakpoints /*: Breakpoints<Breakpoint>*/, breakpoint /*: Breakpoint*/, lastBreakpoint /*: Breakpoint*/, cols /*: number*/, compactType /*: CompactType*/) /*: Layout*/{\n  // If it already exists, just return it.\n  if (layouts[breakpoint]) return (0, _utils.cloneLayout)(layouts[breakpoint]);\n  // Find or generate the next layout\n  let layout = layouts[lastBreakpoint];\n  const breakpointsSorted = sortBreakpoints(breakpoints);\n  const breakpointsAbove = breakpointsSorted.slice(breakpointsSorted.indexOf(breakpoint));\n  for (let i = 0, len = breakpointsAbove.length; i < len; i++) {\n    const b = breakpointsAbove[i];\n    if (layouts[b]) {\n      layout = layouts[b];\n      break;\n    }\n  }\n  layout = (0, _utils.cloneLayout)(layout || []); // clone layout so we don't modify existing items\n  return (0, _utils.compact)((0, _utils.correctBounds)(layout, {\n    cols: cols\n  }), compactType, cols);\n}\n\n/**\n * Given breakpoints, return an array of breakpoints sorted by width. This is usually\n * e.g. ['xxs', 'xs', 'sm', ...]\n *\n * @param  {Object} breakpoints Key/value pair of breakpoint names to widths.\n * @return {Array}              Sorted breakpoints.\n */\nfunction sortBreakpoints(breakpoints /*: Breakpoints<Breakpoint>*/) /*: Array<Breakpoint>*/{\n  const keys /*: Array<string>*/ = Object.keys(breakpoints);\n  return keys.sort(function (a, b) {\n    return breakpoints[a] - breakpoints[b];\n  });\n}", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _fastEquals = require(\"fast-equals\");\nvar _utils = require(\"./utils\");\nvar _responsiveUtils = require(\"./responsiveUtils\");\nvar _ReactGridLayout = _interopRequireDefault(require(\"./ReactGridLayout\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /*:: import { type Layout, type Pick } from \"./utils\";*/ /*:: import { type ResponsiveLayout, type OnLayoutChangeCallback, type Breakpoints } from \"./responsiveUtils\";*/\n// $FlowFixMe[method-unbinding]\nconst type = obj => Object.prototype.toString.call(obj);\n\n/**\n * Get a value of margin or containerPadding.\n *\n * @param  {Array | Object} param Margin | containerPadding, e.g. [10, 10] | {lg: [10, 10], ...}.\n * @param  {String} breakpoint   Breakpoint: lg, md, sm, xs and etc.\n * @return {Array}\n */\nfunction getIndentationValue /*:: <T: ?[number, number]>*/(param /*: { [key: string]: T } | T*/, breakpoint /*: string*/) /*: T*/{\n  // $FlowIgnore TODO fix this typedef\n  if (param == null) return null;\n  // $FlowIgnore TODO fix this typedef\n  return Array.isArray(param) ? param : param[breakpoint];\n}\n/*:: type State = {\n  layout: Layout,\n  breakpoint: string,\n  cols: number,\n  layouts?: ResponsiveLayout<string>\n};*/\n/*:: type Props<Breakpoint: string = string> = {|\n  ...React.ElementConfig<typeof ReactGridLayout>,\n\n  // Responsive config\n  breakpoint?: ?Breakpoint,\n  breakpoints: Breakpoints<Breakpoint>,\n  cols: { [key: Breakpoint]: number },\n  layouts: ResponsiveLayout<Breakpoint>,\n  width: number,\n  margin: { [key: Breakpoint]: [number, number] } | [number, number],\n  /* prettier-ignore *-/\n  containerPadding: { [key: Breakpoint]: ?[number, number] } | ?[number, number],\n\n  // Callbacks\n  onBreakpointChange: (Breakpoint, cols: number) => void,\n  onLayoutChange: OnLayoutChangeCallback,\n  onWidthChange: (\n    containerWidth: number,\n    margin: [number, number],\n    cols: number,\n    containerPadding: ?[number, number]\n  ) => void\n|};*/\n/*:: type DefaultProps = Pick<\n  Props<>,\n  {|\n    allowOverlap: 0,\n    breakpoints: 0,\n    cols: 0,\n    containerPadding: 0,\n    layouts: 0,\n    margin: 0,\n    onBreakpointChange: 0,\n    onLayoutChange: 0,\n    onWidthChange: 0\n  |}\n>;*/\nclass ResponsiveReactGridLayout extends React.Component\n/*:: <\n  Props<>,\n  State\n>*/\n{\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"state\", this.generateInitialState());\n    // wrap layouts so we do not need to pass layouts to child\n    _defineProperty(this, \"onLayoutChange\", (layout /*: Layout*/) => {\n      this.props.onLayoutChange(layout, {\n        ...this.props.layouts,\n        [this.state.breakpoint]: layout\n      });\n    });\n  }\n  generateInitialState() /*: State*/{\n    const {\n      width,\n      breakpoints,\n      layouts,\n      cols\n    } = this.props;\n    const breakpoint = (0, _responsiveUtils.getBreakpointFromWidth)(breakpoints, width);\n    const colNo = (0, _responsiveUtils.getColsFromBreakpoint)(breakpoint, cols);\n    // verticalCompact compatibility, now deprecated\n    const compactType = this.props.verticalCompact === false ? null : this.props.compactType;\n    // Get the initial layout. This can tricky; we try to generate one however possible if one doesn't exist\n    // for this layout.\n    const initialLayout = (0, _responsiveUtils.findOrGenerateResponsiveLayout)(layouts, breakpoints, breakpoint, breakpoint, colNo, compactType);\n    return {\n      layout: initialLayout,\n      breakpoint: breakpoint,\n      cols: colNo\n    };\n  }\n  static getDerivedStateFromProps(nextProps /*: Props<*>*/, prevState /*: State*/) /*: ?$Shape<State>*/{\n    if (!(0, _fastEquals.deepEqual)(nextProps.layouts, prevState.layouts)) {\n      // Allow parent to set layouts directly.\n      const {\n        breakpoint,\n        cols\n      } = prevState;\n\n      // Since we're setting an entirely new layout object, we must generate a new responsive layout\n      // if one does not exist.\n      const newLayout = (0, _responsiveUtils.findOrGenerateResponsiveLayout)(nextProps.layouts, nextProps.breakpoints, breakpoint, breakpoint, cols, nextProps.compactType);\n      return {\n        layout: newLayout,\n        layouts: nextProps.layouts\n      };\n    }\n    return null;\n  }\n  componentDidUpdate(prevProps /*: Props<*>*/) {\n    // Allow parent to set width or breakpoint directly.\n    if (this.props.width != prevProps.width || this.props.breakpoint !== prevProps.breakpoint || !(0, _fastEquals.deepEqual)(this.props.breakpoints, prevProps.breakpoints) || !(0, _fastEquals.deepEqual)(this.props.cols, prevProps.cols)) {\n      this.onWidthChange(prevProps);\n    }\n  }\n  /**\n   * When the width changes work through breakpoints and reset state with the new width & breakpoint.\n   * Width changes are necessary to figure out the widget widths.\n   */\n  onWidthChange(prevProps /*: Props<*>*/) {\n    const {\n      breakpoints,\n      cols,\n      layouts,\n      compactType\n    } = this.props;\n    const newBreakpoint = this.props.breakpoint || (0, _responsiveUtils.getBreakpointFromWidth)(this.props.breakpoints, this.props.width);\n    const lastBreakpoint = this.state.breakpoint;\n    const newCols /*: number*/ = (0, _responsiveUtils.getColsFromBreakpoint)(newBreakpoint, cols);\n    const newLayouts = {\n      ...layouts\n    };\n\n    // Breakpoint change\n    if (lastBreakpoint !== newBreakpoint || prevProps.breakpoints !== breakpoints || prevProps.cols !== cols) {\n      // Preserve the current layout if the current breakpoint is not present in the next layouts.\n      if (!(lastBreakpoint in newLayouts)) newLayouts[lastBreakpoint] = (0, _utils.cloneLayout)(this.state.layout);\n\n      // Find or generate a new layout.\n      let layout = (0, _responsiveUtils.findOrGenerateResponsiveLayout)(newLayouts, breakpoints, newBreakpoint, lastBreakpoint, newCols, compactType);\n\n      // This adds missing items.\n      layout = (0, _utils.synchronizeLayoutWithChildren)(layout, this.props.children, newCols, compactType, this.props.allowOverlap);\n\n      // Store the new layout.\n      newLayouts[newBreakpoint] = layout;\n\n      // callbacks\n      this.props.onBreakpointChange(newBreakpoint, newCols);\n      this.props.onLayoutChange(layout, newLayouts);\n      this.setState({\n        breakpoint: newBreakpoint,\n        layout: layout,\n        cols: newCols\n      });\n    }\n    const margin = getIndentationValue(this.props.margin, newBreakpoint);\n    const containerPadding = getIndentationValue(this.props.containerPadding, newBreakpoint);\n\n    //call onWidthChange on every change of width, not only on breakpoint changes\n    this.props.onWidthChange(this.props.width, margin, newCols, containerPadding);\n  }\n  render() /*: React.Element<typeof ReactGridLayout>*/{\n    /* eslint-disable no-unused-vars */\n    const {\n      breakpoint,\n      breakpoints,\n      cols,\n      layouts,\n      margin,\n      containerPadding,\n      onBreakpointChange,\n      onLayoutChange,\n      onWidthChange,\n      ...other\n    } = this.props;\n    /* eslint-enable no-unused-vars */\n\n    return /*#__PURE__*/React.createElement(_ReactGridLayout.default, _extends({}, other, {\n      // $FlowIgnore should allow nullable here due to DefaultProps\n      margin: getIndentationValue(margin, this.state.breakpoint),\n      containerPadding: getIndentationValue(containerPadding, this.state.breakpoint),\n      onLayoutChange: this.onLayoutChange,\n      layout: this.state.layout,\n      cols: this.state.cols\n    }));\n  }\n}\nexports.default = ResponsiveReactGridLayout;\n// This should only include propTypes needed in this code; RGL itself\n// will do validation of the rest props passed to it.\n_defineProperty(ResponsiveReactGridLayout, \"propTypes\", {\n  //\n  // Basic props\n  //\n\n  // Optional, but if you are managing width yourself you may want to set the breakpoint\n  // yourself as well.\n  breakpoint: _propTypes.default.string,\n  // {name: pxVal}, e.g. {lg: 1200, md: 996, sm: 768, xs: 480}\n  breakpoints: _propTypes.default.object,\n  allowOverlap: _propTypes.default.bool,\n  // # of cols. This is a breakpoint -> cols map\n  cols: _propTypes.default.object,\n  // # of margin. This is a breakpoint -> margin map\n  // e.g. { lg: [5, 5], md: [10, 10], sm: [15, 15] }\n  // Margin between items [x, y] in px\n  // e.g. [10, 10]\n  margin: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.object]),\n  // # of containerPadding. This is a breakpoint -> containerPadding map\n  // e.g. { lg: [5, 5], md: [10, 10], sm: [15, 15] }\n  // Padding inside the container [x, y] in px\n  // e.g. [10, 10]\n  containerPadding: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.object]),\n  // layouts is an object mapping breakpoints to layouts.\n  // e.g. {lg: Layout, md: Layout, ...}\n  layouts(props /*: Props<>*/, propName /*: string*/) {\n    if (type(props[propName]) !== \"[object Object]\") {\n      throw new Error(\"Layout property must be an object. Received: \" + type(props[propName]));\n    }\n    Object.keys(props[propName]).forEach(key => {\n      if (!(key in props.breakpoints)) {\n        throw new Error(\"Each key in layouts must align with a key in breakpoints.\");\n      }\n      (0, _utils.validateLayout)(props.layouts[key], \"layouts.\" + key);\n    });\n  },\n  // The width of this component.\n  // Required in this propTypes stanza because generateInitialState() will fail without it.\n  width: _propTypes.default.number.isRequired,\n  //\n  // Callbacks\n  //\n\n  // Calls back with breakpoint and new # cols\n  onBreakpointChange: _propTypes.default.func,\n  // Callback so you can save the layout.\n  // Calls back with (currentLayout, allLayouts). allLayouts are keyed by breakpoint.\n  onLayoutChange: _propTypes.default.func,\n  // Calls back with (containerWidth, margin, cols, containerPadding)\n  onWidthChange: _propTypes.default.func\n});\n_defineProperty(ResponsiveReactGridLayout, \"defaultProps\", {\n  breakpoints: {\n    lg: 1200,\n    md: 996,\n    sm: 768,\n    xs: 480,\n    xxs: 0\n  },\n  cols: {\n    lg: 12,\n    md: 10,\n    sm: 6,\n    xs: 4,\n    xxs: 2\n  },\n  containerPadding: {\n    lg: null,\n    md: null,\n    sm: null,\n    xs: null,\n    xxs: null\n  },\n  layouts: {},\n  margin: [10, 10],\n  allowOverlap: false,\n  onBreakpointChange: _utils.noop,\n  onLayoutChange: _utils.noop,\n  onWidthChange: _utils.noop\n});", "(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global.ResizeObserver = factory());\n}(this, (function () { 'use strict';\n\n    /**\r\n     * A collection of shims that provide minimal functionality of the ES6 collections.\r\n     *\r\n     * These implementations are not meant to be used outside of the ResizeObserver\r\n     * modules as they cover only a limited range of use cases.\r\n     */\r\n    /* eslint-disable require-jsdoc, valid-jsdoc */\r\n    var MapShim = (function () {\r\n        if (typeof Map !== 'undefined') {\r\n            return Map;\r\n        }\r\n        /**\r\n         * Returns index in provided array that matches the specified key.\r\n         *\r\n         * @param {Array<Array>} arr\r\n         * @param {*} key\r\n         * @returns {number}\r\n         */\r\n        function getIndex(arr, key) {\r\n            var result = -1;\r\n            arr.some(function (entry, index) {\r\n                if (entry[0] === key) {\r\n                    result = index;\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n            return result;\r\n        }\r\n        return /** @class */ (function () {\r\n            function class_1() {\r\n                this.__entries__ = [];\r\n            }\r\n            Object.defineProperty(class_1.prototype, \"size\", {\r\n                /**\r\n                 * @returns {boolean}\r\n                 */\r\n                get: function () {\r\n                    return this.__entries__.length;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            /**\r\n             * @param {*} key\r\n             * @returns {*}\r\n             */\r\n            class_1.prototype.get = function (key) {\r\n                var index = getIndex(this.__entries__, key);\r\n                var entry = this.__entries__[index];\r\n                return entry && entry[1];\r\n            };\r\n            /**\r\n             * @param {*} key\r\n             * @param {*} value\r\n             * @returns {void}\r\n             */\r\n            class_1.prototype.set = function (key, value) {\r\n                var index = getIndex(this.__entries__, key);\r\n                if (~index) {\r\n                    this.__entries__[index][1] = value;\r\n                }\r\n                else {\r\n                    this.__entries__.push([key, value]);\r\n                }\r\n            };\r\n            /**\r\n             * @param {*} key\r\n             * @returns {void}\r\n             */\r\n            class_1.prototype.delete = function (key) {\r\n                var entries = this.__entries__;\r\n                var index = getIndex(entries, key);\r\n                if (~index) {\r\n                    entries.splice(index, 1);\r\n                }\r\n            };\r\n            /**\r\n             * @param {*} key\r\n             * @returns {void}\r\n             */\r\n            class_1.prototype.has = function (key) {\r\n                return !!~getIndex(this.__entries__, key);\r\n            };\r\n            /**\r\n             * @returns {void}\r\n             */\r\n            class_1.prototype.clear = function () {\r\n                this.__entries__.splice(0);\r\n            };\r\n            /**\r\n             * @param {Function} callback\r\n             * @param {*} [ctx=null]\r\n             * @returns {void}\r\n             */\r\n            class_1.prototype.forEach = function (callback, ctx) {\r\n                if (ctx === void 0) { ctx = null; }\r\n                for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                    var entry = _a[_i];\r\n                    callback.call(ctx, entry[1], entry[0]);\r\n                }\r\n            };\r\n            return class_1;\r\n        }());\r\n    })();\n\n    /**\r\n     * Detects whether window and document objects are available in current environment.\r\n     */\r\n    var isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n    // Returns global object of a current environment.\r\n    var global$1 = (function () {\r\n        if (typeof global !== 'undefined' && global.Math === Math) {\r\n            return global;\r\n        }\r\n        if (typeof self !== 'undefined' && self.Math === Math) {\r\n            return self;\r\n        }\r\n        if (typeof window !== 'undefined' && window.Math === Math) {\r\n            return window;\r\n        }\r\n        // eslint-disable-next-line no-new-func\r\n        return Function('return this')();\r\n    })();\n\n    /**\r\n     * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n     * first one is not supported.\r\n     *\r\n     * @returns {number} Requests' identifier.\r\n     */\r\n    var requestAnimationFrame$1 = (function () {\r\n        if (typeof requestAnimationFrame === 'function') {\r\n            // It's required to use a bounded function because IE sometimes throws\r\n            // an \"Invalid calling object\" error if rAF is invoked without the global\r\n            // object on the left hand side.\r\n            return requestAnimationFrame.bind(global$1);\r\n        }\r\n        return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n    })();\n\n    // Defines minimum timeout before adding a trailing call.\r\n    var trailingTimeout = 2;\r\n    /**\r\n     * Creates a wrapper function which ensures that provided callback will be\r\n     * invoked only once during the specified delay period.\r\n     *\r\n     * @param {Function} callback - Function to be invoked after the delay period.\r\n     * @param {number} delay - Delay after which to invoke callback.\r\n     * @returns {Function}\r\n     */\r\n    function throttle (callback, delay) {\r\n        var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n        /**\r\n         * Invokes the original callback function and schedules new invocation if\r\n         * the \"proxy\" was called during current request.\r\n         *\r\n         * @returns {void}\r\n         */\r\n        function resolvePending() {\r\n            if (leadingCall) {\r\n                leadingCall = false;\r\n                callback();\r\n            }\r\n            if (trailingCall) {\r\n                proxy();\r\n            }\r\n        }\r\n        /**\r\n         * Callback invoked after the specified delay. It will further postpone\r\n         * invocation of the original function delegating it to the\r\n         * requestAnimationFrame.\r\n         *\r\n         * @returns {void}\r\n         */\r\n        function timeoutCallback() {\r\n            requestAnimationFrame$1(resolvePending);\r\n        }\r\n        /**\r\n         * Schedules invocation of the original function.\r\n         *\r\n         * @returns {void}\r\n         */\r\n        function proxy() {\r\n            var timeStamp = Date.now();\r\n            if (leadingCall) {\r\n                // Reject immediately following calls.\r\n                if (timeStamp - lastCallTime < trailingTimeout) {\r\n                    return;\r\n                }\r\n                // Schedule new call to be in invoked when the pending one is resolved.\r\n                // This is important for \"transitions\" which never actually start\r\n                // immediately so there is a chance that we might miss one if change\r\n                // happens amids the pending invocation.\r\n                trailingCall = true;\r\n            }\r\n            else {\r\n                leadingCall = true;\r\n                trailingCall = false;\r\n                setTimeout(timeoutCallback, delay);\r\n            }\r\n            lastCallTime = timeStamp;\r\n        }\r\n        return proxy;\r\n    }\n\n    // Minimum delay before invoking the update of observers.\r\n    var REFRESH_DELAY = 20;\r\n    // A list of substrings of CSS properties used to find transition events that\r\n    // might affect dimensions of observed elements.\r\n    var transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n    // Check if MutationObserver is available.\r\n    var mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n    /**\r\n     * Singleton controller class which handles updates of ResizeObserver instances.\r\n     */\r\n    var ResizeObserverController = /** @class */ (function () {\r\n        /**\r\n         * Creates a new instance of ResizeObserverController.\r\n         *\r\n         * @private\r\n         */\r\n        function ResizeObserverController() {\r\n            /**\r\n             * Indicates whether DOM listeners have been added.\r\n             *\r\n             * @private {boolean}\r\n             */\r\n            this.connected_ = false;\r\n            /**\r\n             * Tells that controller has subscribed for Mutation Events.\r\n             *\r\n             * @private {boolean}\r\n             */\r\n            this.mutationEventsAdded_ = false;\r\n            /**\r\n             * Keeps reference to the instance of MutationObserver.\r\n             *\r\n             * @private {MutationObserver}\r\n             */\r\n            this.mutationsObserver_ = null;\r\n            /**\r\n             * A list of connected observers.\r\n             *\r\n             * @private {Array<ResizeObserverSPI>}\r\n             */\r\n            this.observers_ = [];\r\n            this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n            this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n        }\r\n        /**\r\n         * Adds observer to observers list.\r\n         *\r\n         * @param {ResizeObserverSPI} observer - Observer to be added.\r\n         * @returns {void}\r\n         */\r\n        ResizeObserverController.prototype.addObserver = function (observer) {\r\n            if (!~this.observers_.indexOf(observer)) {\r\n                this.observers_.push(observer);\r\n            }\r\n            // Add listeners if they haven't been added yet.\r\n            if (!this.connected_) {\r\n                this.connect_();\r\n            }\r\n        };\r\n        /**\r\n         * Removes observer from observers list.\r\n         *\r\n         * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n         * @returns {void}\r\n         */\r\n        ResizeObserverController.prototype.removeObserver = function (observer) {\r\n            var observers = this.observers_;\r\n            var index = observers.indexOf(observer);\r\n            // Remove observer if it's present in registry.\r\n            if (~index) {\r\n                observers.splice(index, 1);\r\n            }\r\n            // Remove listeners if controller has no connected observers.\r\n            if (!observers.length && this.connected_) {\r\n                this.disconnect_();\r\n            }\r\n        };\r\n        /**\r\n         * Invokes the update of observers. It will continue running updates insofar\r\n         * it detects changes.\r\n         *\r\n         * @returns {void}\r\n         */\r\n        ResizeObserverController.prototype.refresh = function () {\r\n            var changesDetected = this.updateObservers_();\r\n            // Continue running updates if changes have been detected as there might\r\n            // be future ones caused by CSS transitions.\r\n            if (changesDetected) {\r\n                this.refresh();\r\n            }\r\n        };\r\n        /**\r\n         * Updates every observer from observers list and notifies them of queued\r\n         * entries.\r\n         *\r\n         * @private\r\n         * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n         *      dimensions of it's elements.\r\n         */\r\n        ResizeObserverController.prototype.updateObservers_ = function () {\r\n            // Collect observers that have active observations.\r\n            var activeObservers = this.observers_.filter(function (observer) {\r\n                return observer.gatherActive(), observer.hasActive();\r\n            });\r\n            // Deliver notifications in a separate cycle in order to avoid any\r\n            // collisions between observers, e.g. when multiple instances of\r\n            // ResizeObserver are tracking the same element and the callback of one\r\n            // of them changes content dimensions of the observed target. Sometimes\r\n            // this may result in notifications being blocked for the rest of observers.\r\n            activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n            return activeObservers.length > 0;\r\n        };\r\n        /**\r\n         * Initializes DOM listeners.\r\n         *\r\n         * @private\r\n         * @returns {void}\r\n         */\r\n        ResizeObserverController.prototype.connect_ = function () {\r\n            // Do nothing if running in a non-browser environment or if listeners\r\n            // have been already added.\r\n            if (!isBrowser || this.connected_) {\r\n                return;\r\n            }\r\n            // Subscription to the \"Transitionend\" event is used as a workaround for\r\n            // delayed transitions. This way it's possible to capture at least the\r\n            // final state of an element.\r\n            document.addEventListener('transitionend', this.onTransitionEnd_);\r\n            window.addEventListener('resize', this.refresh);\r\n            if (mutationObserverSupported) {\r\n                this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n                this.mutationsObserver_.observe(document, {\r\n                    attributes: true,\r\n                    childList: true,\r\n                    characterData: true,\r\n                    subtree: true\r\n                });\r\n            }\r\n            else {\r\n                document.addEventListener('DOMSubtreeModified', this.refresh);\r\n                this.mutationEventsAdded_ = true;\r\n            }\r\n            this.connected_ = true;\r\n        };\r\n        /**\r\n         * Removes DOM listeners.\r\n         *\r\n         * @private\r\n         * @returns {void}\r\n         */\r\n        ResizeObserverController.prototype.disconnect_ = function () {\r\n            // Do nothing if running in a non-browser environment or if listeners\r\n            // have been already removed.\r\n            if (!isBrowser || !this.connected_) {\r\n                return;\r\n            }\r\n            document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n            window.removeEventListener('resize', this.refresh);\r\n            if (this.mutationsObserver_) {\r\n                this.mutationsObserver_.disconnect();\r\n            }\r\n            if (this.mutationEventsAdded_) {\r\n                document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n            }\r\n            this.mutationsObserver_ = null;\r\n            this.mutationEventsAdded_ = false;\r\n            this.connected_ = false;\r\n        };\r\n        /**\r\n         * \"Transitionend\" event handler.\r\n         *\r\n         * @private\r\n         * @param {TransitionEvent} event\r\n         * @returns {void}\r\n         */\r\n        ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n            var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n            // Detect whether transition may affect dimensions of an element.\r\n            var isReflowProperty = transitionKeys.some(function (key) {\r\n                return !!~propertyName.indexOf(key);\r\n            });\r\n            if (isReflowProperty) {\r\n                this.refresh();\r\n            }\r\n        };\r\n        /**\r\n         * Returns instance of the ResizeObserverController.\r\n         *\r\n         * @returns {ResizeObserverController}\r\n         */\r\n        ResizeObserverController.getInstance = function () {\r\n            if (!this.instance_) {\r\n                this.instance_ = new ResizeObserverController();\r\n            }\r\n            return this.instance_;\r\n        };\r\n        /**\r\n         * Holds reference to the controller's instance.\r\n         *\r\n         * @private {ResizeObserverController}\r\n         */\r\n        ResizeObserverController.instance_ = null;\r\n        return ResizeObserverController;\r\n    }());\n\n    /**\r\n     * Defines non-writable/enumerable properties of the provided target object.\r\n     *\r\n     * @param {Object} target - Object for which to define properties.\r\n     * @param {Object} props - Properties to be defined.\r\n     * @returns {Object} Target object.\r\n     */\r\n    var defineConfigurable = (function (target, props) {\r\n        for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            Object.defineProperty(target, key, {\r\n                value: props[key],\r\n                enumerable: false,\r\n                writable: false,\r\n                configurable: true\r\n            });\r\n        }\r\n        return target;\r\n    });\n\n    /**\r\n     * Returns the global object associated with provided element.\r\n     *\r\n     * @param {Object} target\r\n     * @returns {Object}\r\n     */\r\n    var getWindowOf = (function (target) {\r\n        // Assume that the element is an instance of Node, which means that it\r\n        // has the \"ownerDocument\" property from which we can retrieve a\r\n        // corresponding global object.\r\n        var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n        // Return the local global object if it's not possible extract one from\r\n        // provided element.\r\n        return ownerGlobal || global$1;\r\n    });\n\n    // Placeholder of an empty content rectangle.\r\n    var emptyRect = createRectInit(0, 0, 0, 0);\r\n    /**\r\n     * Converts provided string to a number.\r\n     *\r\n     * @param {number|string} value\r\n     * @returns {number}\r\n     */\r\n    function toFloat(value) {\r\n        return parseFloat(value) || 0;\r\n    }\r\n    /**\r\n     * Extracts borders size from provided styles.\r\n     *\r\n     * @param {CSSStyleDeclaration} styles\r\n     * @param {...string} positions - Borders positions (top, right, ...)\r\n     * @returns {number}\r\n     */\r\n    function getBordersSize(styles) {\r\n        var positions = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            positions[_i - 1] = arguments[_i];\r\n        }\r\n        return positions.reduce(function (size, position) {\r\n            var value = styles['border-' + position + '-width'];\r\n            return size + toFloat(value);\r\n        }, 0);\r\n    }\r\n    /**\r\n     * Extracts paddings sizes from provided styles.\r\n     *\r\n     * @param {CSSStyleDeclaration} styles\r\n     * @returns {Object} Paddings box.\r\n     */\r\n    function getPaddings(styles) {\r\n        var positions = ['top', 'right', 'bottom', 'left'];\r\n        var paddings = {};\r\n        for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n            var position = positions_1[_i];\r\n            var value = styles['padding-' + position];\r\n            paddings[position] = toFloat(value);\r\n        }\r\n        return paddings;\r\n    }\r\n    /**\r\n     * Calculates content rectangle of provided SVG element.\r\n     *\r\n     * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n     *      to be calculated.\r\n     * @returns {DOMRectInit}\r\n     */\r\n    function getSVGContentRect(target) {\r\n        var bbox = target.getBBox();\r\n        return createRectInit(0, 0, bbox.width, bbox.height);\r\n    }\r\n    /**\r\n     * Calculates content rectangle of provided HTMLElement.\r\n     *\r\n     * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n     * @returns {DOMRectInit}\r\n     */\r\n    function getHTMLElementContentRect(target) {\r\n        // Client width & height properties can't be\r\n        // used exclusively as they provide rounded values.\r\n        var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n        // By this condition we can catch all non-replaced inline, hidden and\r\n        // detached elements. Though elements with width & height properties less\r\n        // than 0.5 will be discarded as well.\r\n        //\r\n        // Without it we would need to implement separate methods for each of\r\n        // those cases and it's not possible to perform a precise and performance\r\n        // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n        // gives wrong results for elements with width & height less than 0.5.\r\n        if (!clientWidth && !clientHeight) {\r\n            return emptyRect;\r\n        }\r\n        var styles = getWindowOf(target).getComputedStyle(target);\r\n        var paddings = getPaddings(styles);\r\n        var horizPad = paddings.left + paddings.right;\r\n        var vertPad = paddings.top + paddings.bottom;\r\n        // Computed styles of width & height are being used because they are the\r\n        // only dimensions available to JS that contain non-rounded values. It could\r\n        // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n        // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n        var width = toFloat(styles.width), height = toFloat(styles.height);\r\n        // Width & height include paddings and borders when the 'border-box' box\r\n        // model is applied (except for IE).\r\n        if (styles.boxSizing === 'border-box') {\r\n            // Following conditions are required to handle Internet Explorer which\r\n            // doesn't include paddings and borders to computed CSS dimensions.\r\n            //\r\n            // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n            // properties then it's either IE, and thus we don't need to subtract\r\n            // anything, or an element merely doesn't have paddings/borders styles.\r\n            if (Math.round(width + horizPad) !== clientWidth) {\r\n                width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n            }\r\n            if (Math.round(height + vertPad) !== clientHeight) {\r\n                height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n            }\r\n        }\r\n        // Following steps can't be applied to the document's root element as its\r\n        // client[Width/Height] properties represent viewport area of the window.\r\n        // Besides, it's as well not necessary as the <html> itself neither has\r\n        // rendered scroll bars nor it can be clipped.\r\n        if (!isDocumentElement(target)) {\r\n            // In some browsers (only in Firefox, actually) CSS width & height\r\n            // include scroll bars size which can be removed at this step as scroll\r\n            // bars are the only difference between rounded dimensions + paddings\r\n            // and \"client\" properties, though that is not always true in Chrome.\r\n            var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n            var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n            // Chrome has a rather weird rounding of \"client\" properties.\r\n            // E.g. for an element with content width of 314.2px it sometimes gives\r\n            // the client width of 315px and for the width of 314.7px it may give\r\n            // 314px. And it doesn't happen all the time. So just ignore this delta\r\n            // as a non-relevant.\r\n            if (Math.abs(vertScrollbar) !== 1) {\r\n                width -= vertScrollbar;\r\n            }\r\n            if (Math.abs(horizScrollbar) !== 1) {\r\n                height -= horizScrollbar;\r\n            }\r\n        }\r\n        return createRectInit(paddings.left, paddings.top, width, height);\r\n    }\r\n    /**\r\n     * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n     *\r\n     * @param {Element} target - Element to be checked.\r\n     * @returns {boolean}\r\n     */\r\n    var isSVGGraphicsElement = (function () {\r\n        // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n        // interface.\r\n        if (typeof SVGGraphicsElement !== 'undefined') {\r\n            return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n        }\r\n        // If it's so, then check that element is at least an instance of the\r\n        // SVGElement and that it has the \"getBBox\" method.\r\n        // eslint-disable-next-line no-extra-parens\r\n        return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n            typeof target.getBBox === 'function'); };\r\n    })();\r\n    /**\r\n     * Checks whether provided element is a document element (<html>).\r\n     *\r\n     * @param {Element} target - Element to be checked.\r\n     * @returns {boolean}\r\n     */\r\n    function isDocumentElement(target) {\r\n        return target === getWindowOf(target).document.documentElement;\r\n    }\r\n    /**\r\n     * Calculates an appropriate content rectangle for provided html or svg element.\r\n     *\r\n     * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n     * @returns {DOMRectInit}\r\n     */\r\n    function getContentRect(target) {\r\n        if (!isBrowser) {\r\n            return emptyRect;\r\n        }\r\n        if (isSVGGraphicsElement(target)) {\r\n            return getSVGContentRect(target);\r\n        }\r\n        return getHTMLElementContentRect(target);\r\n    }\r\n    /**\r\n     * Creates rectangle with an interface of the DOMRectReadOnly.\r\n     * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n     *\r\n     * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n     * @returns {DOMRectReadOnly}\r\n     */\r\n    function createReadOnlyRect(_a) {\r\n        var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n        // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n        var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n        var rect = Object.create(Constr.prototype);\r\n        // Rectangle's properties are not writable and non-enumerable.\r\n        defineConfigurable(rect, {\r\n            x: x, y: y, width: width, height: height,\r\n            top: y,\r\n            right: x + width,\r\n            bottom: height + y,\r\n            left: x\r\n        });\r\n        return rect;\r\n    }\r\n    /**\r\n     * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n     * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n     *\r\n     * @param {number} x - X coordinate.\r\n     * @param {number} y - Y coordinate.\r\n     * @param {number} width - Rectangle's width.\r\n     * @param {number} height - Rectangle's height.\r\n     * @returns {DOMRectInit}\r\n     */\r\n    function createRectInit(x, y, width, height) {\r\n        return { x: x, y: y, width: width, height: height };\r\n    }\n\n    /**\r\n     * Class that is responsible for computations of the content rectangle of\r\n     * provided DOM element and for keeping track of it's changes.\r\n     */\r\n    var ResizeObservation = /** @class */ (function () {\r\n        /**\r\n         * Creates an instance of ResizeObservation.\r\n         *\r\n         * @param {Element} target - Element to be observed.\r\n         */\r\n        function ResizeObservation(target) {\r\n            /**\r\n             * Broadcasted width of content rectangle.\r\n             *\r\n             * @type {number}\r\n             */\r\n            this.broadcastWidth = 0;\r\n            /**\r\n             * Broadcasted height of content rectangle.\r\n             *\r\n             * @type {number}\r\n             */\r\n            this.broadcastHeight = 0;\r\n            /**\r\n             * Reference to the last observed content rectangle.\r\n             *\r\n             * @private {DOMRectInit}\r\n             */\r\n            this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n            this.target = target;\r\n        }\r\n        /**\r\n         * Updates content rectangle and tells whether it's width or height properties\r\n         * have changed since the last broadcast.\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        ResizeObservation.prototype.isActive = function () {\r\n            var rect = getContentRect(this.target);\r\n            this.contentRect_ = rect;\r\n            return (rect.width !== this.broadcastWidth ||\r\n                rect.height !== this.broadcastHeight);\r\n        };\r\n        /**\r\n         * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n         * from the corresponding properties of the last observed content rectangle.\r\n         *\r\n         * @returns {DOMRectInit} Last observed content rectangle.\r\n         */\r\n        ResizeObservation.prototype.broadcastRect = function () {\r\n            var rect = this.contentRect_;\r\n            this.broadcastWidth = rect.width;\r\n            this.broadcastHeight = rect.height;\r\n            return rect;\r\n        };\r\n        return ResizeObservation;\r\n    }());\n\n    var ResizeObserverEntry = /** @class */ (function () {\r\n        /**\r\n         * Creates an instance of ResizeObserverEntry.\r\n         *\r\n         * @param {Element} target - Element that is being observed.\r\n         * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n         */\r\n        function ResizeObserverEntry(target, rectInit) {\r\n            var contentRect = createReadOnlyRect(rectInit);\r\n            // According to the specification following properties are not writable\r\n            // and are also not enumerable in the native implementation.\r\n            //\r\n            // Property accessors are not being used as they'd require to define a\r\n            // private WeakMap storage which may cause memory leaks in browsers that\r\n            // don't support this type of collections.\r\n            defineConfigurable(this, { target: target, contentRect: contentRect });\r\n        }\r\n        return ResizeObserverEntry;\r\n    }());\n\n    var ResizeObserverSPI = /** @class */ (function () {\r\n        /**\r\n         * Creates a new instance of ResizeObserver.\r\n         *\r\n         * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n         *      when one of the observed elements changes it's content dimensions.\r\n         * @param {ResizeObserverController} controller - Controller instance which\r\n         *      is responsible for the updates of observer.\r\n         * @param {ResizeObserver} callbackCtx - Reference to the public\r\n         *      ResizeObserver instance which will be passed to callback function.\r\n         */\r\n        function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n            /**\r\n             * Collection of resize observations that have detected changes in dimensions\r\n             * of elements.\r\n             *\r\n             * @private {Array<ResizeObservation>}\r\n             */\r\n            this.activeObservations_ = [];\r\n            /**\r\n             * Registry of the ResizeObservation instances.\r\n             *\r\n             * @private {Map<Element, ResizeObservation>}\r\n             */\r\n            this.observations_ = new MapShim();\r\n            if (typeof callback !== 'function') {\r\n                throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n            }\r\n            this.callback_ = callback;\r\n            this.controller_ = controller;\r\n            this.callbackCtx_ = callbackCtx;\r\n        }\r\n        /**\r\n         * Starts observing provided element.\r\n         *\r\n         * @param {Element} target - Element to be observed.\r\n         * @returns {void}\r\n         */\r\n        ResizeObserverSPI.prototype.observe = function (target) {\r\n            if (!arguments.length) {\r\n                throw new TypeError('1 argument required, but only 0 present.');\r\n            }\r\n            // Do nothing if current environment doesn't have the Element interface.\r\n            if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n                return;\r\n            }\r\n            if (!(target instanceof getWindowOf(target).Element)) {\r\n                throw new TypeError('parameter 1 is not of type \"Element\".');\r\n            }\r\n            var observations = this.observations_;\r\n            // Do nothing if element is already being observed.\r\n            if (observations.has(target)) {\r\n                return;\r\n            }\r\n            observations.set(target, new ResizeObservation(target));\r\n            this.controller_.addObserver(this);\r\n            // Force the update of observations.\r\n            this.controller_.refresh();\r\n        };\r\n        /**\r\n         * Stops observing provided element.\r\n         *\r\n         * @param {Element} target - Element to stop observing.\r\n         * @returns {void}\r\n         */\r\n        ResizeObserverSPI.prototype.unobserve = function (target) {\r\n            if (!arguments.length) {\r\n                throw new TypeError('1 argument required, but only 0 present.');\r\n            }\r\n            // Do nothing if current environment doesn't have the Element interface.\r\n            if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n                return;\r\n            }\r\n            if (!(target instanceof getWindowOf(target).Element)) {\r\n                throw new TypeError('parameter 1 is not of type \"Element\".');\r\n            }\r\n            var observations = this.observations_;\r\n            // Do nothing if element is not being observed.\r\n            if (!observations.has(target)) {\r\n                return;\r\n            }\r\n            observations.delete(target);\r\n            if (!observations.size) {\r\n                this.controller_.removeObserver(this);\r\n            }\r\n        };\r\n        /**\r\n         * Stops observing all elements.\r\n         *\r\n         * @returns {void}\r\n         */\r\n        ResizeObserverSPI.prototype.disconnect = function () {\r\n            this.clearActive();\r\n            this.observations_.clear();\r\n            this.controller_.removeObserver(this);\r\n        };\r\n        /**\r\n         * Collects observation instances the associated element of which has changed\r\n         * it's content rectangle.\r\n         *\r\n         * @returns {void}\r\n         */\r\n        ResizeObserverSPI.prototype.gatherActive = function () {\r\n            var _this = this;\r\n            this.clearActive();\r\n            this.observations_.forEach(function (observation) {\r\n                if (observation.isActive()) {\r\n                    _this.activeObservations_.push(observation);\r\n                }\r\n            });\r\n        };\r\n        /**\r\n         * Invokes initial callback function with a list of ResizeObserverEntry\r\n         * instances collected from active resize observations.\r\n         *\r\n         * @returns {void}\r\n         */\r\n        ResizeObserverSPI.prototype.broadcastActive = function () {\r\n            // Do nothing if observer doesn't have active observations.\r\n            if (!this.hasActive()) {\r\n                return;\r\n            }\r\n            var ctx = this.callbackCtx_;\r\n            // Create ResizeObserverEntry instance for every active observation.\r\n            var entries = this.activeObservations_.map(function (observation) {\r\n                return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n            });\r\n            this.callback_.call(ctx, entries, ctx);\r\n            this.clearActive();\r\n        };\r\n        /**\r\n         * Clears the collection of active observations.\r\n         *\r\n         * @returns {void}\r\n         */\r\n        ResizeObserverSPI.prototype.clearActive = function () {\r\n            this.activeObservations_.splice(0);\r\n        };\r\n        /**\r\n         * Tells whether observer has active observations.\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        ResizeObserverSPI.prototype.hasActive = function () {\r\n            return this.activeObservations_.length > 0;\r\n        };\r\n        return ResizeObserverSPI;\r\n    }());\n\n    // Registry of internal observers. If WeakMap is not available use current shim\r\n    // for the Map collection as it has all required methods and because WeakMap\r\n    // can't be fully polyfilled anyway.\r\n    var observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n    /**\r\n     * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n     * exposing only those methods and properties that are defined in the spec.\r\n     */\r\n    var ResizeObserver = /** @class */ (function () {\r\n        /**\r\n         * Creates a new instance of ResizeObserver.\r\n         *\r\n         * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n         *      dimensions of the observed elements change.\r\n         */\r\n        function ResizeObserver(callback) {\r\n            if (!(this instanceof ResizeObserver)) {\r\n                throw new TypeError('Cannot call a class as a function.');\r\n            }\r\n            if (!arguments.length) {\r\n                throw new TypeError('1 argument required, but only 0 present.');\r\n            }\r\n            var controller = ResizeObserverController.getInstance();\r\n            var observer = new ResizeObserverSPI(callback, controller, this);\r\n            observers.set(this, observer);\r\n        }\r\n        return ResizeObserver;\r\n    }());\r\n    // Expose public methods of ResizeObserver.\r\n    [\r\n        'observe',\r\n        'unobserve',\r\n        'disconnect'\r\n    ].forEach(function (method) {\r\n        ResizeObserver.prototype[method] = function () {\r\n            var _a;\r\n            return (_a = observers.get(this))[method].apply(_a, arguments);\r\n        };\r\n    });\n\n    var index = (function () {\r\n        // Export existing implementation if available.\r\n        if (typeof global$1.ResizeObserver !== 'undefined') {\r\n            return global$1.ResizeObserver;\r\n        }\r\n        return ResizeObserver;\r\n    })();\n\n    return index;\n\n})));\n", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = WidthProvideRGL;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _resizeObserverPolyfill = _interopRequireDefault(require(\"resize-observer-polyfill\"));\nvar _clsx = _interopRequireDefault(require(\"clsx\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/*:: import type { ReactRef } from \"../ReactGridLayoutPropTypes\";*/\n/*:: type WPDefaultProps = {|\n  measureBeforeMount: boolean\n|};*/\n/*:: type WPProps = {|\n  className?: string,\n  style?: Object,\n  ...WPDefaultProps\n|};*/\n// eslint-disable-next-line no-unused-vars\n/*:: type WPState = {|\n  width: number\n|};*/\n/*:: type ComposedProps<Config> = {|\n  ...Config,\n  measureBeforeMount?: boolean,\n  className?: string,\n  style?: Object,\n  width?: number\n|};*/\nconst layoutClassName = \"react-grid-layout\";\n\n/*\n * A simple HOC that provides facility for listening to container resizes.\n *\n * The Flow type is pretty janky here. I can't just spread `WPProps` into this returned object - I wish I could - but it triggers\n * a flow bug of some sort that causes it to stop typechecking.\n */\nfunction WidthProvideRGL /*:: <Config>*/(ComposedComponent /*: React.AbstractComponent<Config>*/) /*: React.AbstractComponent<ComposedProps<Config>>*/{\n  var _WidthProvider;\n  return _WidthProvider = class WidthProvider extends React.Component\n  /*:: <\n      ComposedProps<Config>,\n      WPState\n    >*/\n  {\n    constructor() {\n      super(...arguments);\n      _defineProperty(this, \"state\", {\n        width: 1280\n      });\n      _defineProperty(this, \"elementRef\", /*#__PURE__*/React.createRef());\n      _defineProperty(this, \"mounted\", false);\n      _defineProperty(this, \"resizeObserver\", void 0);\n    }\n    componentDidMount() {\n      this.mounted = true;\n      this.resizeObserver = new _resizeObserverPolyfill.default(entries => {\n        const node = this.elementRef.current;\n        if (node instanceof HTMLElement) {\n          const width = entries[0].contentRect.width;\n          this.setState({\n            width\n          });\n        }\n      });\n      const node = this.elementRef.current;\n      if (node instanceof HTMLElement) {\n        this.resizeObserver.observe(node);\n      }\n    }\n    componentWillUnmount() {\n      this.mounted = false;\n      const node = this.elementRef.current;\n      if (node instanceof HTMLElement) {\n        this.resizeObserver.unobserve(node);\n      }\n      this.resizeObserver.disconnect();\n    }\n    render() {\n      const {\n        measureBeforeMount,\n        ...rest\n      } = this.props;\n      if (measureBeforeMount && !this.mounted) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: (0, _clsx.default)(this.props.className, layoutClassName),\n          style: this.props.style\n          // $FlowIgnore ref types\n          ,\n          ref: this.elementRef\n        });\n      }\n      return /*#__PURE__*/React.createElement(ComposedComponent, _extends({\n        innerRef: this.elementRef\n      }, rest, this.state));\n    }\n  }, _defineProperty(_WidthProvider, \"defaultProps\", {\n    measureBeforeMount: false\n  }), _defineProperty(_WidthProvider, \"propTypes\", {\n    // If true, will not render children until mounted. Useful for getting the exact width before\n    // rendering, to prevent any unsightly resizing.\n    measureBeforeMount: _propTypes.default.bool\n  }), _WidthProvider;\n}", "module.exports = require(\"./build/ReactGridLayout\").default;\nmodule.exports.utils = require(\"./build/utils\");\nmodule.exports.calculateUtils = require(\"./build/calculateUtils\");\nmodule.exports.Responsive =\n  require(\"./build/ResponsiveReactGridLayout\").default;\nmodule.exports.Responsive.utils = require(\"./build/responsiveUtils\");\nmodule.exports.WidthProvider =\n  require(\"./build/components/WidthProvider\").default;\n", "import { createRoot } from 'react-dom/client'\nimport './shadcn.css'\nimport './styles/landing.css'\nimport App from './App'\nimport { Toaster } from 'sonner'\nimport { CriticalErrorBoundary } from './components/ErrorBoundary'\n\nfunction preventDuplicateCustomElements(): void {\n  if (typeof window !== 'undefined' && window.customElements) {\n    const originalDefine = window.customElements.define.bind(window.customElements)\n    const definedElements = new Set<string>()\n    \n    try {\n      const existingElements = Object.getOwnPropertyNames(window.customElements)\n      existingElements.forEach(name => definedElements.add(name))\n    } catch (e) {\n      const commonElements = ['mce-autosize-textarea', 'mce-editor', 'tinymce-editor']\n      commonElements.forEach(name => {\n        if (window.customElements.get(name)) {\n          definedElements.add(name)\n        }\n      })\n    }\n    \n    window.customElements.define = function(name: string, constructor: CustomElementConstructor, options?: ElementDefinitionOptions) {\n      if (definedElements.has(name) || window.customElements.get(name)) {\n        console.warn(`\u26A0\uFE0F Custom element '${name}' already defined, skipping duplicate registration`)\n        return\n      }\n      \n      try {\n        const result = originalDefine(name, constructor, options)\n        definedElements.add(name)\n        return result\n      } catch (error) {\n        if (error instanceof Error && (\n          error.message.includes('already been defined') ||\n          error.message.includes('already defined') ||\n          error.name === 'NotSupportedError'\n        )) {\n          console.warn(`\u26A0\uFE0F Custom element '${name}' registration prevented:`, error.message)\n          definedElements.add(name)\n          return\n        }\n        if (isDevelopment()) {\n          console.warn(`\u26A0\uFE0F Custom element '${name}' error suppressed in dev:`, error.message)\n          return\n        }\n        console.error(`\u274C Failed to define custom element '${name}':`, error)\n        throw error\n      }\n    }\n\n    const originalAddEventListener = window.addEventListener\n    window.addEventListener = function(type, listener, options) {\n      if (type === 'error') {\n        const wrappedListener = function(event: ErrorEvent) {\n          if (event.error && event.error.message && event.error.message.includes('already been defined')) {\n            console.warn('\u26A0\uFE0F Prevented custom element duplicate registration error:', event.error.message)\n            event.preventDefault()\n            return\n          }\n          if (typeof listener === 'function') {\n            return listener.call(this, event)\n          }\n        }\n        return originalAddEventListener.call(this, type, wrappedListener, options)\n      }\n      return originalAddEventListener.call(this, type, listener, options)\n    }\n\n    window.addEventListener('error', (event) => {\n      if (event.error && event.error.message && event.error.message.includes('already been defined')) {\n        console.warn('\u26A0\uFE0F Global error handler caught custom element duplicate registration:', event.error.message)\n        event.preventDefault()\n        event.stopPropagation()\n        return false\n      }\n    }, true)\n\n    if (window.WebComponents && window.WebComponents.ready) {\n      console.warn('\u26A0\uFE0F WebComponents polyfill detected - enhanced error suppression active')\n    }\n  }\n}\n\npreventDuplicateCustomElements()\n\nwindow.addEventListener('error', (event) => {\n  const message = event.error?.message || event.message || ''\n  if (message.includes('mce-autosize-textarea') || \n      message.includes('already been defined') ||\n      message.includes('custom element') ||\n      event.filename?.includes('webcomponents') ||\n      event.filename?.includes('overlay_bundle')) {\n    console.warn('\u26A0\uFE0F Suppressed webcomponents error:', message)\n    event.preventDefault()\n    event.stopPropagation()\n    return false\n  }\n}, true)\n\n\nfunction isDevelopment(): boolean {\n  return (\n    window.location.hostname === 'localhost' ||\n    window.location.hostname === '127.0.0.1' ||\n    window.location.hostname.startsWith('192.168.') ||\n    window.location.hostname.startsWith('10.') ||\n    window.location.port !== '' ||\n    window.location.protocol === 'http:' ||\n    process.env.NODE_ENV === 'development'\n  )\n}\n\nasync function initServiceWorker(): Promise<void> {\n  if (!('serviceWorker' in navigator)) {\n    console.log('\uD83D\uDEAB Service Worker not supported by browser')\n    return\n  }\n\n  try {\n    const registrations = await navigator.serviceWorker.getRegistrations()\n    for (let registration of registrations) {\n      await registration.unregister()\n      console.log('\uD83D\uDDD1\uFE0F Unregistered existing service worker:', registration.scope)\n    }\n\n    if (isDevelopment()) {\n      console.log('\uD83D\uDEAB Service Worker registration skipped (development mode)')\n      console.log('\uD83D\uDCCD Environment detected:', {\n        hostname: window.location.hostname,\n        port: window.location.port,\n        protocol: window.location.protocol,\n        nodeEnv: process.env.NODE_ENV\n      })\n      return\n    }\n\n    const registration = await navigator.serviceWorker.register('/sw.js', {\n      scope: '/',\n      updateViaCache: 'none' // Always check for updates\n    })\n\n    console.log('\u2705 SW registered:', registration.scope)\n\n    registration.addEventListener('updatefound', () => {\n      const newWorker = registration.installing\n      if (newWorker) {\n        console.log('\uD83D\uDD04 SW update found, installing...')\n        newWorker.addEventListener('statechange', () => {\n          if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\n            console.log('\uD83D\uDD04 SW update ready - consider refreshing page')\n          }\n        })\n      }\n    })\n\n  } catch (error) {\n    console.error('\u274C SW registration failed:', error)\n  }\n}\n\nwindow.addEventListener('load', initServiceWorker)\n\nconst root = createRoot(document.getElementById('app')!)\nroot.render(\n  <CriticalErrorBoundary>\n    <App />\n    <Toaster position=\"top-right\" richColors />\n  </CriticalErrorBoundary>\n)\n", "/**\n * react-router v7.6.3\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n\n// lib/router/history.ts\nvar Action = /* @__PURE__ */ ((Action2) => {\n  Action2[\"Pop\"] = \"POP\";\n  Action2[\"Push\"] = \"PUSH\";\n  Action2[\"Replace\"] = \"REPLACE\";\n  return Action2;\n})(Action || {});\nvar PopStateEventType = \"popstate\";\nfunction createMemoryHistory(options = {}) {\n  let { initialEntries = [\"/\"], initialIndex, v5Compat = false } = options;\n  let entries;\n  entries = initialEntries.map(\n    (entry, index2) => createMemoryLocation(\n      entry,\n      typeof entry === \"string\" ? null : entry.state,\n      index2 === 0 ? \"default\" : void 0\n    )\n  );\n  let index = clampIndex(\n    initialIndex == null ? entries.length - 1 : initialIndex\n  );\n  let action = \"POP\" /* Pop */;\n  let listener = null;\n  function clampIndex(n) {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation() {\n    return entries[index];\n  }\n  function createMemoryLocation(to, state = null, key) {\n    let location = createLocation(\n      entries ? getCurrentLocation().pathname : \"/\",\n      to,\n      state,\n      key\n    );\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in memory history: ${JSON.stringify(\n        to\n      )}`\n    );\n    return location;\n  }\n  function createHref2(to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  let history = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref: createHref2,\n    createURL(to) {\n      return new URL(createHref2(to), \"http://localhost\");\n    },\n    encodeLocation(to) {\n      let path = typeof to === \"string\" ? parsePath(to) : to;\n      return {\n        pathname: path.pathname || \"\",\n        search: path.search || \"\",\n        hash: path.hash || \"\"\n      };\n    },\n    push(to, state) {\n      action = \"PUSH\" /* Push */;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 1 });\n      }\n    },\n    replace(to, state) {\n      action = \"REPLACE\" /* Replace */;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 0 });\n      }\n    },\n    go(delta) {\n      action = \"POP\" /* Pop */;\n      let nextIndex = clampIndex(index + delta);\n      let nextLocation = entries[nextIndex];\n      index = nextIndex;\n      if (listener) {\n        listener({ action, location: nextLocation, delta });\n      }\n    },\n    listen(fn) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    }\n  };\n  return history;\n}\nfunction createBrowserHistory(options = {}) {\n  function createBrowserLocation(window2, globalHistory) {\n    let { pathname, search, hash } = window2.location;\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      globalHistory.state && globalHistory.state.usr || null,\n      globalHistory.state && globalHistory.state.key || \"default\"\n    );\n  }\n  function createBrowserHref(window2, to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  return getUrlBasedHistory(\n    createBrowserLocation,\n    createBrowserHref,\n    null,\n    options\n  );\n}\nfunction createHashHistory(options = {}) {\n  function createHashLocation(window2, globalHistory) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\"\n    } = parsePath(window2.location.hash.substring(1));\n    if (!pathname.startsWith(\"/\") && !pathname.startsWith(\".\")) {\n      pathname = \"/\" + pathname;\n    }\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      globalHistory.state && globalHistory.state.usr || null,\n      globalHistory.state && globalHistory.state.key || \"default\"\n    );\n  }\n  function createHashHref(window2, to) {\n    let base = window2.document.querySelector(\"base\");\n    let href2 = \"\";\n    if (base && base.getAttribute(\"href\")) {\n      let url = window2.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href2 = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n    return href2 + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n  function validateHashLocation(location, to) {\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in hash history.push(${JSON.stringify(\n        to\n      )})`\n    );\n  }\n  return getUrlBasedHistory(\n    createHashLocation,\n    createHashHref,\n    validateHashLocation,\n    options\n  );\n}\nfunction invariant(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\nfunction warning(cond, message) {\n  if (!cond) {\n    if (typeof console !== \"undefined\") console.warn(message);\n    try {\n      throw new Error(message);\n    } catch (e) {\n    }\n  }\n}\nfunction createKey() {\n  return Math.random().toString(36).substring(2, 10);\n}\nfunction getHistoryState(location, index) {\n  return {\n    usr: location.state,\n    key: location.key,\n    idx: index\n  };\n}\nfunction createLocation(current, to, state = null, key) {\n  let location = {\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\",\n    ...typeof to === \"string\" ? parsePath(to) : to,\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: to && to.key || key || createKey()\n  };\n  return location;\n}\nfunction createPath({\n  pathname = \"/\",\n  search = \"\",\n  hash = \"\"\n}) {\n  if (search && search !== \"?\")\n    pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\")\n    pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\nfunction parsePath(path) {\n  let parsedPath = {};\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substring(hashIndex);\n      path = path.substring(0, hashIndex);\n    }\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substring(searchIndex);\n      path = path.substring(0, searchIndex);\n    }\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n  return parsedPath;\n}\nfunction getUrlBasedHistory(getLocation, createHref2, validateLocation, options = {}) {\n  let { window: window2 = document.defaultView, v5Compat = false } = options;\n  let globalHistory = window2.history;\n  let action = \"POP\" /* Pop */;\n  let listener = null;\n  let index = getIndex();\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState({ ...globalHistory.state, idx: index }, \"\");\n  }\n  function getIndex() {\n    let state = globalHistory.state || { idx: null };\n    return state.idx;\n  }\n  function handlePop() {\n    action = \"POP\" /* Pop */;\n    let nextIndex = getIndex();\n    let delta = nextIndex == null ? null : nextIndex - index;\n    index = nextIndex;\n    if (listener) {\n      listener({ action, location: history.location, delta });\n    }\n  }\n  function push(to, state) {\n    action = \"PUSH\" /* Push */;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex() + 1;\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      if (error instanceof DOMException && error.name === \"DataCloneError\") {\n        throw error;\n      }\n      window2.location.assign(url);\n    }\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 1 });\n    }\n  }\n  function replace2(to, state) {\n    action = \"REPLACE\" /* Replace */;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex();\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 0 });\n    }\n  }\n  function createURL(to) {\n    return createBrowserURLImpl(to);\n  }\n  let history = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window2, globalHistory);\n    },\n    listen(fn) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window2.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n      return () => {\n        window2.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref2(window2, to);\n    },\n    createURL,\n    encodeLocation(to) {\n      let url = createURL(to);\n      return {\n        pathname: url.pathname,\n        search: url.search,\n        hash: url.hash\n      };\n    },\n    push,\n    replace: replace2,\n    go(n) {\n      return globalHistory.go(n);\n    }\n  };\n  return history;\n}\nfunction createBrowserURLImpl(to, isAbsolute = false) {\n  let base = \"http://localhost\";\n  if (typeof window !== \"undefined\") {\n    base = window.location.origin !== \"null\" ? window.location.origin : window.location.href;\n  }\n  invariant(base, \"No window.location.(origin|href) available to create URL\");\n  let href2 = typeof to === \"string\" ? to : createPath(to);\n  href2 = href2.replace(/ $/, \"%20\");\n  if (!isAbsolute && href2.startsWith(\"//\")) {\n    href2 = base + href2;\n  }\n  return new URL(href2, base);\n}\n\n// lib/router/utils.ts\nfunction unstable_createContext(defaultValue) {\n  return { defaultValue };\n}\nvar _map;\nvar unstable_RouterContextProvider = class {\n  constructor(init) {\n    __privateAdd(this, _map, /* @__PURE__ */ new Map());\n    if (init) {\n      for (let [context, value] of init) {\n        this.set(context, value);\n      }\n    }\n  }\n  get(context) {\n    if (__privateGet(this, _map).has(context)) {\n      return __privateGet(this, _map).get(context);\n    }\n    if (context.defaultValue !== void 0) {\n      return context.defaultValue;\n    }\n    throw new Error(\"No value found for context\");\n  }\n  set(context, value) {\n    __privateGet(this, _map).set(context, value);\n  }\n};\n_map = new WeakMap();\nvar unsupportedLazyRouteObjectKeys = /* @__PURE__ */ new Set([\n  \"lazy\",\n  \"caseSensitive\",\n  \"path\",\n  \"id\",\n  \"index\",\n  \"children\"\n]);\nfunction isUnsupportedLazyRouteObjectKey(key) {\n  return unsupportedLazyRouteObjectKeys.has(\n    key\n  );\n}\nvar unsupportedLazyRouteFunctionKeys = /* @__PURE__ */ new Set([\n  \"lazy\",\n  \"caseSensitive\",\n  \"path\",\n  \"id\",\n  \"index\",\n  \"unstable_middleware\",\n  \"children\"\n]);\nfunction isUnsupportedLazyRouteFunctionKey(key) {\n  return unsupportedLazyRouteFunctionKeys.has(\n    key\n  );\n}\nfunction isIndexRoute(route) {\n  return route.index === true;\n}\nfunction convertRoutesToDataRoutes(routes, mapRouteProperties2, parentPath = [], manifest = {}) {\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, String(index)];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(\n      route.index !== true || !route.children,\n      `Cannot specify children on an index route`\n    );\n    invariant(\n      !manifest[id],\n      `Found a route id collision on id \"${id}\".  Route id's must be globally unique within Data Router usages`\n    );\n    if (isIndexRoute(route)) {\n      let indexRoute = {\n        ...route,\n        ...mapRouteProperties2(route),\n        id\n      };\n      manifest[id] = indexRoute;\n      return indexRoute;\n    } else {\n      let pathOrLayoutRoute = {\n        ...route,\n        ...mapRouteProperties2(route),\n        id,\n        children: void 0\n      };\n      manifest[id] = pathOrLayoutRoute;\n      if (route.children) {\n        pathOrLayoutRoute.children = convertRoutesToDataRoutes(\n          route.children,\n          mapRouteProperties2,\n          treePath,\n          manifest\n        );\n      }\n      return pathOrLayoutRoute;\n    }\n  });\n}\nfunction matchRoutes(routes, locationArg, basename = \"/\") {\n  return matchRoutesImpl(routes, locationArg, basename, false);\n}\nfunction matchRoutesImpl(routes, locationArg, basename, allowPartial) {\n  let location = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n  if (pathname == null) {\n    return null;\n  }\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    let decoded = decodePath(pathname);\n    matches = matchRouteBranch(\n      branches[i],\n      decoded,\n      allowPartial\n    );\n  }\n  return matches;\n}\nfunction convertRouteMatchToUiMatch(match, loaderData) {\n  let { route, pathname, params } = match;\n  return {\n    id: route.id,\n    pathname,\n    params,\n    data: loaderData[route.id],\n    handle: route.handle\n  };\n}\nfunction flattenRoutes(routes, branches = [], parentsMeta = [], parentPath = \"\") {\n  let flattenRoute = (route, index, relativePath) => {\n    let meta = {\n      relativePath: relativePath === void 0 ? route.path || \"\" : relativePath,\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route\n    };\n    if (meta.relativePath.startsWith(\"/\")) {\n      invariant(\n        meta.relativePath.startsWith(parentPath),\n        `Absolute route path \"${meta.relativePath}\" nested under path \"${parentPath}\" is not valid. An absolute child route path must start with the combined path of all its parent routes.`\n      );\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n    if (route.children && route.children.length > 0) {\n      invariant(\n        // Our types know better, but runtime JS may not!\n        // @ts-expect-error\n        route.index !== true,\n        `Index routes must not have child routes. Please remove all child routes from route path \"${path}\".`\n      );\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n    if (route.path == null && !route.index) {\n      return;\n    }\n    branches.push({\n      path,\n      score: computeScore(path, route.index),\n      routesMeta\n    });\n  };\n  routes.forEach((route, index) => {\n    if (route.path === \"\" || !route.path?.includes(\"?\")) {\n      flattenRoute(route, index);\n    } else {\n      for (let exploded of explodeOptionalSegments(route.path)) {\n        flattenRoute(route, index, exploded);\n      }\n    }\n  });\n  return branches;\n}\nfunction explodeOptionalSegments(path) {\n  let segments = path.split(\"/\");\n  if (segments.length === 0) return [];\n  let [first, ...rest] = segments;\n  let isOptional = first.endsWith(\"?\");\n  let required = first.replace(/\\?$/, \"\");\n  if (rest.length === 0) {\n    return isOptional ? [required, \"\"] : [required];\n  }\n  let restExploded = explodeOptionalSegments(rest.join(\"/\"));\n  let result = [];\n  result.push(\n    ...restExploded.map(\n      (subpath) => subpath === \"\" ? required : [required, subpath].join(\"/\")\n    )\n  );\n  if (isOptional) {\n    result.push(...restExploded);\n  }\n  return result.map(\n    (exploded) => path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded\n  );\n}\nfunction rankRouteBranches(branches) {\n  branches.sort(\n    (a, b) => a.score !== b.score ? b.score - a.score : compareIndexes(\n      a.routesMeta.map((meta) => meta.childrenIndex),\n      b.routesMeta.map((meta) => meta.childrenIndex)\n    )\n  );\n}\nvar paramRe = /^:[\\w-]+$/;\nvar dynamicSegmentValue = 3;\nvar indexRouteValue = 2;\nvar emptySegmentValue = 1;\nvar staticSegmentValue = 10;\nvar splatPenalty = -2;\nvar isSplat = (s) => s === \"*\";\nfunction computeScore(path, index) {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n  return segments.filter((s) => !isSplat(s)).reduce(\n    (score, segment) => score + (paramRe.test(segment) ? dynamicSegmentValue : segment === \"\" ? emptySegmentValue : staticSegmentValue),\n    initialScore\n  );\n}\nfunction compareIndexes(a, b) {\n  let siblings = a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n  return siblings ? (\n    // If two routes are siblings, we should try to match the earlier sibling\n    // first. This allows people to have fine-grained control over the matching\n    // behavior by simply putting routes with identical paths in the order they\n    // want them tried.\n    a[a.length - 1] - b[b.length - 1]\n  ) : (\n    // Otherwise, it doesn't really make sense to rank non-siblings by index,\n    // so they sort equally.\n    0\n  );\n}\nfunction matchRouteBranch(branch, pathname, allowPartial = false) {\n  let { routesMeta } = branch;\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname = matchedPathname === \"/\" ? pathname : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath(\n      { path: meta.relativePath, caseSensitive: meta.caseSensitive, end },\n      remainingPathname\n    );\n    let route = meta.route;\n    if (!match && end && allowPartial && !routesMeta[routesMeta.length - 1].route.index) {\n      match = matchPath(\n        {\n          path: meta.relativePath,\n          caseSensitive: meta.caseSensitive,\n          end: false\n        },\n        remainingPathname\n      );\n    }\n    if (!match) {\n      return null;\n    }\n    Object.assign(matchedParams, match.params);\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(\n        joinPaths([matchedPathname, match.pathnameBase])\n      ),\n      route\n    });\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n  return matches;\n}\nfunction generatePath(originalPath, params = {}) {\n  let path = originalPath;\n  if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n    warning(\n      false,\n      `Route path \"${path}\" will be treated as if it were \"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must always follow a \\`/\\` in the pattern. To get rid of this warning, please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n    );\n    path = path.replace(/\\*$/, \"/*\");\n  }\n  const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n  const stringify2 = (p) => p == null ? \"\" : typeof p === \"string\" ? p : String(p);\n  const segments = path.split(/\\/+/).map((segment, index, array) => {\n    const isLastSegment = index === array.length - 1;\n    if (isLastSegment && segment === \"*\") {\n      const star = \"*\";\n      return stringify2(params[star]);\n    }\n    const keyMatch = segment.match(/^:([\\w-]+)(\\??)$/);\n    if (keyMatch) {\n      const [, key, optional] = keyMatch;\n      let param = params[key];\n      invariant(optional === \"?\" || param != null, `Missing \":${key}\" param`);\n      return stringify2(param);\n    }\n    return segment.replace(/\\?$/g, \"\");\n  }).filter((segment) => !!segment);\n  return prefix + segments.join(\"/\");\n}\nfunction matchPath(pattern, pathname) {\n  if (typeof pattern === \"string\") {\n    pattern = { path: pattern, caseSensitive: false, end: true };\n  }\n  let [matcher, compiledParams] = compilePath(\n    pattern.path,\n    pattern.caseSensitive,\n    pattern.end\n  );\n  let match = pathname.match(matcher);\n  if (!match) return null;\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params = compiledParams.reduce(\n    (memo2, { paramName, isOptional }, index) => {\n      if (paramName === \"*\") {\n        let splatValue = captureGroups[index] || \"\";\n        pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\\/+$/, \"$1\");\n      }\n      const value = captureGroups[index];\n      if (isOptional && !value) {\n        memo2[paramName] = void 0;\n      } else {\n        memo2[paramName] = (value || \"\").replace(/%2F/g, \"/\");\n      }\n      return memo2;\n    },\n    {}\n  );\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern\n  };\n}\nfunction compilePath(path, caseSensitive = false, end = true) {\n  warning(\n    path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"),\n    `Route path \"${path}\" will be treated as if it were \"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must always follow a \\`/\\` in the pattern. To get rid of this warning, please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n  );\n  let params = [];\n  let regexpSource = \"^\" + path.replace(/\\/*\\*?$/, \"\").replace(/^\\/*/, \"/\").replace(/[\\\\.*+^${}|()[\\]]/g, \"\\\\$&\").replace(\n    /\\/:([\\w-]+)(\\?)?/g,\n    (_, paramName, isOptional) => {\n      params.push({ paramName, isOptional: isOptional != null });\n      return isOptional ? \"/?([^\\\\/]+)?\" : \"/([^\\\\/]+)\";\n    }\n  );\n  if (path.endsWith(\"*\")) {\n    params.push({ paramName: \"*\" });\n    regexpSource += path === \"*\" || path === \"/*\" ? \"(.*)$\" : \"(?:\\\\/(.+)|\\\\/*)$\";\n  } else if (end) {\n    regexpSource += \"\\\\/*$\";\n  } else if (path !== \"\" && path !== \"/\") {\n    regexpSource += \"(?:(?=\\\\/|$))\";\n  } else {\n  }\n  let matcher = new RegExp(regexpSource, caseSensitive ? void 0 : \"i\");\n  return [matcher, params];\n}\nfunction decodePath(value) {\n  try {\n    return value.split(\"/\").map((v) => decodeURIComponent(v).replace(/\\//g, \"%2F\")).join(\"/\");\n  } catch (error) {\n    warning(\n      false,\n      `The URL path \"${value}\" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${error}).`\n    );\n    return value;\n  }\n}\nfunction stripBasename(pathname, basename) {\n  if (basename === \"/\") return pathname;\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n  let startIndex = basename.endsWith(\"/\") ? basename.length - 1 : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    return null;\n  }\n  return pathname.slice(startIndex) || \"/\";\n}\nfunction resolvePath(to, fromPathname = \"/\") {\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\"\n  } = typeof to === \"string\" ? parsePath(to) : to;\n  let pathname = toPathname ? toPathname.startsWith(\"/\") ? toPathname : resolvePathname(toPathname, fromPathname) : fromPathname;\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash)\n  };\n}\nfunction resolvePathname(relativePath, fromPathname) {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n  relativeSegments.forEach((segment) => {\n    if (segment === \"..\") {\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\nfunction getInvalidPathError(char, field, dest, path) {\n  return `Cannot include a '${char}' character in a manually specified \\`to.${field}\\` field [${JSON.stringify(\n    path\n  )}].  Please separate it out to the \\`to.${dest}\\` field. Alternatively you may provide the full path as a string in <Link to=\"...\"> and the router will parse it for you.`;\n}\nfunction getPathContributingMatches(matches) {\n  return matches.filter(\n    (match, index) => index === 0 || match.route.path && match.route.path.length > 0\n  );\n}\nfunction getResolveToMatches(matches) {\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches.map(\n    (match, idx) => idx === pathMatches.length - 1 ? match.pathname : match.pathnameBase\n  );\n}\nfunction resolveTo(toArg, routePathnames, locationPathname, isPathRelative = false) {\n  let to;\n  if (typeof toArg === \"string\") {\n    to = parsePath(toArg);\n  } else {\n    to = { ...toArg };\n    invariant(\n      !to.pathname || !to.pathname.includes(\"?\"),\n      getInvalidPathError(\"?\", \"pathname\", \"search\", to)\n    );\n    invariant(\n      !to.pathname || !to.pathname.includes(\"#\"),\n      getInvalidPathError(\"#\", \"pathname\", \"hash\", to)\n    );\n    invariant(\n      !to.search || !to.search.includes(\"#\"),\n      getInvalidPathError(\"#\", \"search\", \"hash\", to)\n    );\n  }\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n  let from;\n  if (toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n    if (!isPathRelative && toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n      to.pathname = toSegments.join(\"/\");\n    }\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n  let path = resolvePath(to, from);\n  let hasExplicitTrailingSlash = toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  let hasCurrentTrailingSlash = (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (!path.pathname.endsWith(\"/\") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) {\n    path.pathname += \"/\";\n  }\n  return path;\n}\nvar joinPaths = (paths) => paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\nvar normalizePathname = (pathname) => pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\nvar normalizeSearch = (search) => !search || search === \"?\" ? \"\" : search.startsWith(\"?\") ? search : \"?\" + search;\nvar normalizeHash = (hash) => !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\nvar DataWithResponseInit = class {\n  constructor(data2, init) {\n    this.type = \"DataWithResponseInit\";\n    this.data = data2;\n    this.init = init || null;\n  }\n};\nfunction data(data2, init) {\n  return new DataWithResponseInit(\n    data2,\n    typeof init === \"number\" ? { status: init } : init\n  );\n}\nvar redirect = (url, init = 302) => {\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = { status: responseInit };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n  return new Response(null, { ...responseInit, headers });\n};\nvar redirectDocument = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Reload-Document\", \"true\");\n  return response;\n};\nvar replace = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Replace\", \"true\");\n  return response;\n};\nvar ErrorResponseImpl = class {\n  constructor(status, statusText, data2, internal = false) {\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.internal = internal;\n    if (data2 instanceof Error) {\n      this.data = data2.toString();\n      this.error = data2;\n    } else {\n      this.data = data2;\n    }\n  }\n};\nfunction isRouteErrorResponse(error) {\n  return error != null && typeof error.status === \"number\" && typeof error.statusText === \"string\" && typeof error.internal === \"boolean\" && \"data\" in error;\n}\n\n// lib/router/router.ts\nvar validMutationMethodsArr = [\n  \"POST\",\n  \"PUT\",\n  \"PATCH\",\n  \"DELETE\"\n];\nvar validMutationMethods = new Set(\n  validMutationMethodsArr\n);\nvar validRequestMethodsArr = [\n  \"GET\",\n  ...validMutationMethodsArr\n];\nvar validRequestMethods = new Set(validRequestMethodsArr);\nvar redirectStatusCodes = /* @__PURE__ */ new Set([301, 302, 303, 307, 308]);\nvar redirectPreserveMethodStatusCodes = /* @__PURE__ */ new Set([307, 308]);\nvar IDLE_NAVIGATION = {\n  state: \"idle\",\n  location: void 0,\n  formMethod: void 0,\n  formAction: void 0,\n  formEncType: void 0,\n  formData: void 0,\n  json: void 0,\n  text: void 0\n};\nvar IDLE_FETCHER = {\n  state: \"idle\",\n  data: void 0,\n  formMethod: void 0,\n  formAction: void 0,\n  formEncType: void 0,\n  formData: void 0,\n  json: void 0,\n  text: void 0\n};\nvar IDLE_BLOCKER = {\n  state: \"unblocked\",\n  proceed: void 0,\n  reset: void 0,\n  location: void 0\n};\nvar ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar defaultMapRouteProperties = (route) => ({\n  hasErrorBoundary: Boolean(route.hasErrorBoundary)\n});\nvar TRANSITIONS_STORAGE_KEY = \"remix-router-transitions\";\nvar ResetLoaderDataSymbol = Symbol(\"ResetLoaderData\");\nfunction createRouter(init) {\n  const routerWindow = init.window ? init.window : typeof window !== \"undefined\" ? window : void 0;\n  const isBrowser2 = typeof routerWindow !== \"undefined\" && typeof routerWindow.document !== \"undefined\" && typeof routerWindow.document.createElement !== \"undefined\";\n  invariant(\n    init.routes.length > 0,\n    \"You must provide a non-empty routes array to createRouter\"\n  );\n  let hydrationRouteProperties2 = init.hydrationRouteProperties || [];\n  let mapRouteProperties2 = init.mapRouteProperties || defaultMapRouteProperties;\n  let manifest = {};\n  let dataRoutes = convertRoutesToDataRoutes(\n    init.routes,\n    mapRouteProperties2,\n    void 0,\n    manifest\n  );\n  let inFlightDataRoutes;\n  let basename = init.basename || \"/\";\n  let dataStrategyImpl = init.dataStrategy || defaultDataStrategyWithMiddleware;\n  let future = {\n    unstable_middleware: false,\n    ...init.future\n  };\n  let unlistenHistory = null;\n  let subscribers = /* @__PURE__ */ new Set();\n  let savedScrollPositions2 = null;\n  let getScrollRestorationKey2 = null;\n  let getScrollPosition = null;\n  let initialScrollRestored = init.hydrationData != null;\n  let initialMatches = matchRoutes(dataRoutes, init.history.location, basename);\n  let initialMatchesIsFOW = false;\n  let initialErrors = null;\n  let initialized;\n  if (initialMatches == null && !init.patchRoutesOnNavigation) {\n    let error = getInternalRouterError(404, {\n      pathname: init.history.location.pathname\n    });\n    let { matches, route } = getShortCircuitMatches(dataRoutes);\n    initialized = true;\n    initialMatches = matches;\n    initialErrors = { [route.id]: error };\n  } else {\n    if (initialMatches && !init.hydrationData) {\n      let fogOfWar = checkFogOfWar(\n        initialMatches,\n        dataRoutes,\n        init.history.location.pathname\n      );\n      if (fogOfWar.active) {\n        initialMatches = null;\n      }\n    }\n    if (!initialMatches) {\n      initialized = false;\n      initialMatches = [];\n      let fogOfWar = checkFogOfWar(\n        null,\n        dataRoutes,\n        init.history.location.pathname\n      );\n      if (fogOfWar.active && fogOfWar.matches) {\n        initialMatchesIsFOW = true;\n        initialMatches = fogOfWar.matches;\n      }\n    } else if (initialMatches.some((m) => m.route.lazy)) {\n      initialized = false;\n    } else if (!initialMatches.some((m) => m.route.loader)) {\n      initialized = true;\n    } else {\n      let loaderData = init.hydrationData ? init.hydrationData.loaderData : null;\n      let errors = init.hydrationData ? init.hydrationData.errors : null;\n      if (errors) {\n        let idx = initialMatches.findIndex(\n          (m) => errors[m.route.id] !== void 0\n        );\n        initialized = initialMatches.slice(0, idx + 1).every(\n          (m) => !shouldLoadRouteOnHydration(m.route, loaderData, errors)\n        );\n      } else {\n        initialized = initialMatches.every(\n          (m) => !shouldLoadRouteOnHydration(m.route, loaderData, errors)\n        );\n      }\n    }\n  }\n  let router;\n  let state = {\n    historyAction: init.history.action,\n    location: init.history.location,\n    matches: initialMatches,\n    initialized,\n    navigation: IDLE_NAVIGATION,\n    // Don't restore on initial updateState() if we were SSR'd\n    restoreScrollPosition: init.hydrationData != null ? false : null,\n    preventScrollReset: false,\n    revalidation: \"idle\",\n    loaderData: init.hydrationData && init.hydrationData.loaderData || {},\n    actionData: init.hydrationData && init.hydrationData.actionData || null,\n    errors: init.hydrationData && init.hydrationData.errors || initialErrors,\n    fetchers: /* @__PURE__ */ new Map(),\n    blockers: /* @__PURE__ */ new Map()\n  };\n  let pendingAction = \"POP\" /* Pop */;\n  let pendingPreventScrollReset = false;\n  let pendingNavigationController;\n  let pendingViewTransitionEnabled = false;\n  let appliedViewTransitions = /* @__PURE__ */ new Map();\n  let removePageHideEventListener = null;\n  let isUninterruptedRevalidation = false;\n  let isRevalidationRequired = false;\n  let cancelledFetcherLoads = /* @__PURE__ */ new Set();\n  let fetchControllers = /* @__PURE__ */ new Map();\n  let incrementingLoadId = 0;\n  let pendingNavigationLoadId = -1;\n  let fetchReloadIds = /* @__PURE__ */ new Map();\n  let fetchRedirectIds = /* @__PURE__ */ new Set();\n  let fetchLoadMatches = /* @__PURE__ */ new Map();\n  let activeFetchers = /* @__PURE__ */ new Map();\n  let fetchersQueuedForDeletion = /* @__PURE__ */ new Set();\n  let blockerFunctions = /* @__PURE__ */ new Map();\n  let unblockBlockerHistoryUpdate = void 0;\n  let pendingRevalidationDfd = null;\n  function initialize() {\n    unlistenHistory = init.history.listen(\n      ({ action: historyAction, location, delta }) => {\n        if (unblockBlockerHistoryUpdate) {\n          unblockBlockerHistoryUpdate();\n          unblockBlockerHistoryUpdate = void 0;\n          return;\n        }\n        warning(\n          blockerFunctions.size === 0 || delta != null,\n          \"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.\"\n        );\n        let blockerKey = shouldBlockNavigation({\n          currentLocation: state.location,\n          nextLocation: location,\n          historyAction\n        });\n        if (blockerKey && delta != null) {\n          let nextHistoryUpdatePromise = new Promise((resolve) => {\n            unblockBlockerHistoryUpdate = resolve;\n          });\n          init.history.go(delta * -1);\n          updateBlocker(blockerKey, {\n            state: \"blocked\",\n            location,\n            proceed() {\n              updateBlocker(blockerKey, {\n                state: \"proceeding\",\n                proceed: void 0,\n                reset: void 0,\n                location\n              });\n              nextHistoryUpdatePromise.then(() => init.history.go(delta));\n            },\n            reset() {\n              let blockers = new Map(state.blockers);\n              blockers.set(blockerKey, IDLE_BLOCKER);\n              updateState({ blockers });\n            }\n          });\n          return;\n        }\n        return startNavigation(historyAction, location);\n      }\n    );\n    if (isBrowser2) {\n      restoreAppliedTransitions(routerWindow, appliedViewTransitions);\n      let _saveAppliedTransitions = () => persistAppliedTransitions(routerWindow, appliedViewTransitions);\n      routerWindow.addEventListener(\"pagehide\", _saveAppliedTransitions);\n      removePageHideEventListener = () => routerWindow.removeEventListener(\"pagehide\", _saveAppliedTransitions);\n    }\n    if (!state.initialized) {\n      startNavigation(\"POP\" /* Pop */, state.location, {\n        initialHydration: true\n      });\n    }\n    return router;\n  }\n  function dispose() {\n    if (unlistenHistory) {\n      unlistenHistory();\n    }\n    if (removePageHideEventListener) {\n      removePageHideEventListener();\n    }\n    subscribers.clear();\n    pendingNavigationController && pendingNavigationController.abort();\n    state.fetchers.forEach((_, key) => deleteFetcher(key));\n    state.blockers.forEach((_, key) => deleteBlocker(key));\n  }\n  function subscribe(fn) {\n    subscribers.add(fn);\n    return () => subscribers.delete(fn);\n  }\n  function updateState(newState, opts = {}) {\n    state = {\n      ...state,\n      ...newState\n    };\n    let unmountedFetchers = [];\n    let mountedFetchers = [];\n    state.fetchers.forEach((fetcher, key) => {\n      if (fetcher.state === \"idle\") {\n        if (fetchersQueuedForDeletion.has(key)) {\n          unmountedFetchers.push(key);\n        } else {\n          mountedFetchers.push(key);\n        }\n      }\n    });\n    fetchersQueuedForDeletion.forEach((key) => {\n      if (!state.fetchers.has(key) && !fetchControllers.has(key)) {\n        unmountedFetchers.push(key);\n      }\n    });\n    [...subscribers].forEach(\n      (subscriber) => subscriber(state, {\n        deletedFetchers: unmountedFetchers,\n        viewTransitionOpts: opts.viewTransitionOpts,\n        flushSync: opts.flushSync === true\n      })\n    );\n    unmountedFetchers.forEach((key) => deleteFetcher(key));\n    mountedFetchers.forEach((key) => state.fetchers.delete(key));\n  }\n  function completeNavigation(location, newState, { flushSync } = {}) {\n    let isActionReload = state.actionData != null && state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && state.navigation.state === \"loading\" && location.state?._isRedirect !== true;\n    let actionData;\n    if (newState.actionData) {\n      if (Object.keys(newState.actionData).length > 0) {\n        actionData = newState.actionData;\n      } else {\n        actionData = null;\n      }\n    } else if (isActionReload) {\n      actionData = state.actionData;\n    } else {\n      actionData = null;\n    }\n    let loaderData = newState.loaderData ? mergeLoaderData(\n      state.loaderData,\n      newState.loaderData,\n      newState.matches || [],\n      newState.errors\n    ) : state.loaderData;\n    let blockers = state.blockers;\n    if (blockers.size > 0) {\n      blockers = new Map(blockers);\n      blockers.forEach((_, k) => blockers.set(k, IDLE_BLOCKER));\n    }\n    let preventScrollReset = pendingPreventScrollReset === true || state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && location.state?._isRedirect !== true;\n    if (inFlightDataRoutes) {\n      dataRoutes = inFlightDataRoutes;\n      inFlightDataRoutes = void 0;\n    }\n    if (isUninterruptedRevalidation) {\n    } else if (pendingAction === \"POP\" /* Pop */) {\n    } else if (pendingAction === \"PUSH\" /* Push */) {\n      init.history.push(location, location.state);\n    } else if (pendingAction === \"REPLACE\" /* Replace */) {\n      init.history.replace(location, location.state);\n    }\n    let viewTransitionOpts;\n    if (pendingAction === \"POP\" /* Pop */) {\n      let priorPaths = appliedViewTransitions.get(state.location.pathname);\n      if (priorPaths && priorPaths.has(location.pathname)) {\n        viewTransitionOpts = {\n          currentLocation: state.location,\n          nextLocation: location\n        };\n      } else if (appliedViewTransitions.has(location.pathname)) {\n        viewTransitionOpts = {\n          currentLocation: location,\n          nextLocation: state.location\n        };\n      }\n    } else if (pendingViewTransitionEnabled) {\n      let toPaths = appliedViewTransitions.get(state.location.pathname);\n      if (toPaths) {\n        toPaths.add(location.pathname);\n      } else {\n        toPaths = /* @__PURE__ */ new Set([location.pathname]);\n        appliedViewTransitions.set(state.location.pathname, toPaths);\n      }\n      viewTransitionOpts = {\n        currentLocation: state.location,\n        nextLocation: location\n      };\n    }\n    updateState(\n      {\n        ...newState,\n        // matches, errors, fetchers go through as-is\n        actionData,\n        loaderData,\n        historyAction: pendingAction,\n        location,\n        initialized: true,\n        navigation: IDLE_NAVIGATION,\n        revalidation: \"idle\",\n        restoreScrollPosition: getSavedScrollPosition(\n          location,\n          newState.matches || state.matches\n        ),\n        preventScrollReset,\n        blockers\n      },\n      {\n        viewTransitionOpts,\n        flushSync: flushSync === true\n      }\n    );\n    pendingAction = \"POP\" /* Pop */;\n    pendingPreventScrollReset = false;\n    pendingViewTransitionEnabled = false;\n    isUninterruptedRevalidation = false;\n    isRevalidationRequired = false;\n    pendingRevalidationDfd?.resolve();\n    pendingRevalidationDfd = null;\n  }\n  async function navigate(to, opts) {\n    if (typeof to === \"number\") {\n      init.history.go(to);\n      return;\n    }\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      to,\n      opts?.fromRouteId,\n      opts?.relative\n    );\n    let { path, submission, error } = normalizeNavigateOptions(\n      false,\n      normalizedPath,\n      opts\n    );\n    let currentLocation = state.location;\n    let nextLocation = createLocation(state.location, path, opts && opts.state);\n    nextLocation = {\n      ...nextLocation,\n      ...init.history.encodeLocation(nextLocation)\n    };\n    let userReplace = opts && opts.replace != null ? opts.replace : void 0;\n    let historyAction = \"PUSH\" /* Push */;\n    if (userReplace === true) {\n      historyAction = \"REPLACE\" /* Replace */;\n    } else if (userReplace === false) {\n    } else if (submission != null && isMutationMethod(submission.formMethod) && submission.formAction === state.location.pathname + state.location.search) {\n      historyAction = \"REPLACE\" /* Replace */;\n    }\n    let preventScrollReset = opts && \"preventScrollReset\" in opts ? opts.preventScrollReset === true : void 0;\n    let flushSync = (opts && opts.flushSync) === true;\n    let blockerKey = shouldBlockNavigation({\n      currentLocation,\n      nextLocation,\n      historyAction\n    });\n    if (blockerKey) {\n      updateBlocker(blockerKey, {\n        state: \"blocked\",\n        location: nextLocation,\n        proceed() {\n          updateBlocker(blockerKey, {\n            state: \"proceeding\",\n            proceed: void 0,\n            reset: void 0,\n            location: nextLocation\n          });\n          navigate(to, opts);\n        },\n        reset() {\n          let blockers = new Map(state.blockers);\n          blockers.set(blockerKey, IDLE_BLOCKER);\n          updateState({ blockers });\n        }\n      });\n      return;\n    }\n    await startNavigation(historyAction, nextLocation, {\n      submission,\n      // Send through the formData serialization error if we have one so we can\n      // render at the right error boundary after we match routes\n      pendingError: error,\n      preventScrollReset,\n      replace: opts && opts.replace,\n      enableViewTransition: opts && opts.viewTransition,\n      flushSync\n    });\n  }\n  function revalidate() {\n    if (!pendingRevalidationDfd) {\n      pendingRevalidationDfd = createDeferred();\n    }\n    interruptActiveLoads();\n    updateState({ revalidation: \"loading\" });\n    let promise = pendingRevalidationDfd.promise;\n    if (state.navigation.state === \"submitting\") {\n      return promise;\n    }\n    if (state.navigation.state === \"idle\") {\n      startNavigation(state.historyAction, state.location, {\n        startUninterruptedRevalidation: true\n      });\n      return promise;\n    }\n    startNavigation(\n      pendingAction || state.historyAction,\n      state.navigation.location,\n      {\n        overrideNavigation: state.navigation,\n        // Proxy through any rending view transition\n        enableViewTransition: pendingViewTransitionEnabled === true\n      }\n    );\n    return promise;\n  }\n  async function startNavigation(historyAction, location, opts) {\n    pendingNavigationController && pendingNavigationController.abort();\n    pendingNavigationController = null;\n    pendingAction = historyAction;\n    isUninterruptedRevalidation = (opts && opts.startUninterruptedRevalidation) === true;\n    saveScrollPosition(state.location, state.matches);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n    pendingViewTransitionEnabled = (opts && opts.enableViewTransition) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let loadingNavigation = opts && opts.overrideNavigation;\n    let matches = opts?.initialHydration && state.matches && state.matches.length > 0 && !initialMatchesIsFOW ? (\n      // `matchRoutes()` has already been called if we're in here via `router.initialize()`\n      state.matches\n    ) : matchRoutes(routesToUse, location, basename);\n    let flushSync = (opts && opts.flushSync) === true;\n    if (matches && state.initialized && !isRevalidationRequired && isHashChangeOnly(state.location, location) && !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))) {\n      completeNavigation(location, { matches }, { flushSync });\n      return;\n    }\n    let fogOfWar = checkFogOfWar(matches, routesToUse, location.pathname);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    if (!matches) {\n      let { error, notFoundMatches, route } = handleNavigational404(\n        location.pathname\n      );\n      completeNavigation(\n        location,\n        {\n          matches: notFoundMatches,\n          loaderData: {},\n          errors: {\n            [route.id]: error\n          }\n        },\n        { flushSync }\n      );\n      return;\n    }\n    pendingNavigationController = new AbortController();\n    let request = createClientSideRequest(\n      init.history,\n      location,\n      pendingNavigationController.signal,\n      opts && opts.submission\n    );\n    let scopedContext = new unstable_RouterContextProvider(\n      init.unstable_getContext ? await init.unstable_getContext() : void 0\n    );\n    let pendingActionResult;\n    if (opts && opts.pendingError) {\n      pendingActionResult = [\n        findNearestBoundary(matches).route.id,\n        { type: \"error\" /* error */, error: opts.pendingError }\n      ];\n    } else if (opts && opts.submission && isMutationMethod(opts.submission.formMethod)) {\n      let actionResult = await handleAction(\n        request,\n        location,\n        opts.submission,\n        matches,\n        scopedContext,\n        fogOfWar.active,\n        opts && opts.initialHydration === true,\n        { replace: opts.replace, flushSync }\n      );\n      if (actionResult.shortCircuited) {\n        return;\n      }\n      if (actionResult.pendingActionResult) {\n        let [routeId, result] = actionResult.pendingActionResult;\n        if (isErrorResult(result) && isRouteErrorResponse(result.error) && result.error.status === 404) {\n          pendingNavigationController = null;\n          completeNavigation(location, {\n            matches: actionResult.matches,\n            loaderData: {},\n            errors: {\n              [routeId]: result.error\n            }\n          });\n          return;\n        }\n      }\n      matches = actionResult.matches || matches;\n      pendingActionResult = actionResult.pendingActionResult;\n      loadingNavigation = getLoadingNavigation(location, opts.submission);\n      flushSync = false;\n      fogOfWar.active = false;\n      request = createClientSideRequest(\n        init.history,\n        request.url,\n        request.signal\n      );\n    }\n    let {\n      shortCircuited,\n      matches: updatedMatches,\n      loaderData,\n      errors\n    } = await handleLoaders(\n      request,\n      location,\n      matches,\n      scopedContext,\n      fogOfWar.active,\n      loadingNavigation,\n      opts && opts.submission,\n      opts && opts.fetcherSubmission,\n      opts && opts.replace,\n      opts && opts.initialHydration === true,\n      flushSync,\n      pendingActionResult\n    );\n    if (shortCircuited) {\n      return;\n    }\n    pendingNavigationController = null;\n    completeNavigation(location, {\n      matches: updatedMatches || matches,\n      ...getActionDataForCommit(pendingActionResult),\n      loaderData,\n      errors\n    });\n  }\n  async function handleAction(request, location, submission, matches, scopedContext, isFogOfWar, initialHydration, opts = {}) {\n    interruptActiveLoads();\n    let navigation = getSubmittingNavigation(location, submission);\n    updateState({ navigation }, { flushSync: opts.flushSync === true });\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        matches,\n        location.pathname,\n        request.signal\n      );\n      if (discoverResult.type === \"aborted\") {\n        return { shortCircuited: true };\n      } else if (discoverResult.type === \"error\") {\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          pendingActionResult: [\n            boundaryId,\n            {\n              type: \"error\" /* error */,\n              error: discoverResult.error\n            }\n          ]\n        };\n      } else if (!discoverResult.matches) {\n        let { notFoundMatches, error, route } = handleNavigational404(\n          location.pathname\n        );\n        return {\n          matches: notFoundMatches,\n          pendingActionResult: [\n            route.id,\n            {\n              type: \"error\" /* error */,\n              error\n            }\n          ]\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let result;\n    let actionMatch = getTargetMatch(matches, location);\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      result = {\n        type: \"error\" /* error */,\n        error: getInternalRouterError(405, {\n          method: request.method,\n          pathname: location.pathname,\n          routeId: actionMatch.route.id\n        })\n      };\n    } else {\n      let dsMatches = getTargetedDataStrategyMatches(\n        mapRouteProperties2,\n        manifest,\n        request,\n        matches,\n        actionMatch,\n        initialHydration ? [] : hydrationRouteProperties2,\n        scopedContext\n      );\n      let results = await callDataStrategy(\n        request,\n        dsMatches,\n        scopedContext,\n        null\n      );\n      result = results[actionMatch.route.id];\n      if (!result) {\n        for (let match of matches) {\n          if (results[match.route.id]) {\n            result = results[match.route.id];\n            break;\n          }\n        }\n      }\n      if (request.signal.aborted) {\n        return { shortCircuited: true };\n      }\n    }\n    if (isRedirectResult(result)) {\n      let replace2;\n      if (opts && opts.replace != null) {\n        replace2 = opts.replace;\n      } else {\n        let location2 = normalizeRedirectLocation(\n          result.response.headers.get(\"Location\"),\n          new URL(request.url),\n          basename\n        );\n        replace2 = location2 === state.location.pathname + state.location.search;\n      }\n      await startRedirectNavigation(request, result, true, {\n        submission,\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      if ((opts && opts.replace) !== true) {\n        pendingAction = \"PUSH\" /* Push */;\n      }\n      return {\n        matches,\n        pendingActionResult: [\n          boundaryMatch.route.id,\n          result,\n          actionMatch.route.id\n        ]\n      };\n    }\n    return {\n      matches,\n      pendingActionResult: [actionMatch.route.id, result]\n    };\n  }\n  async function handleLoaders(request, location, matches, scopedContext, isFogOfWar, overrideNavigation, submission, fetcherSubmission, replace2, initialHydration, flushSync, pendingActionResult) {\n    let loadingNavigation = overrideNavigation || getLoadingNavigation(location, submission);\n    let activeSubmission = submission || fetcherSubmission || getSubmissionFromNavigation(loadingNavigation);\n    let shouldUpdateNavigationState = !isUninterruptedRevalidation && !initialHydration;\n    if (isFogOfWar) {\n      if (shouldUpdateNavigationState) {\n        let actionData = getUpdatedActionData(pendingActionResult);\n        updateState(\n          {\n            navigation: loadingNavigation,\n            ...actionData !== void 0 ? { actionData } : {}\n          },\n          {\n            flushSync\n          }\n        );\n      }\n      let discoverResult = await discoverRoutes(\n        matches,\n        location.pathname,\n        request.signal\n      );\n      if (discoverResult.type === \"aborted\") {\n        return { shortCircuited: true };\n      } else if (discoverResult.type === \"error\") {\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          loaderData: {},\n          errors: {\n            [boundaryId]: discoverResult.error\n          }\n        };\n      } else if (!discoverResult.matches) {\n        let { error, notFoundMatches, route } = handleNavigational404(\n          location.pathname\n        );\n        return {\n          matches: notFoundMatches,\n          loaderData: {},\n          errors: {\n            [route.id]: error\n          }\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let { dsMatches, revalidatingFetchers } = getMatchesToLoad(\n      request,\n      scopedContext,\n      mapRouteProperties2,\n      manifest,\n      init.history,\n      state,\n      matches,\n      activeSubmission,\n      location,\n      initialHydration ? [] : hydrationRouteProperties2,\n      initialHydration === true,\n      isRevalidationRequired,\n      cancelledFetcherLoads,\n      fetchersQueuedForDeletion,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      init.patchRoutesOnNavigation != null,\n      pendingActionResult\n    );\n    pendingNavigationLoadId = ++incrementingLoadId;\n    if (!init.dataStrategy && !dsMatches.some((m) => m.shouldLoad) && revalidatingFetchers.length === 0) {\n      let updatedFetchers2 = markFetchRedirectsDone();\n      completeNavigation(\n        location,\n        {\n          matches,\n          loaderData: {},\n          // Commit pending error if we're short circuiting\n          errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? { [pendingActionResult[0]]: pendingActionResult[1].error } : null,\n          ...getActionDataForCommit(pendingActionResult),\n          ...updatedFetchers2 ? { fetchers: new Map(state.fetchers) } : {}\n        },\n        { flushSync }\n      );\n      return { shortCircuited: true };\n    }\n    if (shouldUpdateNavigationState) {\n      let updates = {};\n      if (!isFogOfWar) {\n        updates.navigation = loadingNavigation;\n        let actionData = getUpdatedActionData(pendingActionResult);\n        if (actionData !== void 0) {\n          updates.actionData = actionData;\n        }\n      }\n      if (revalidatingFetchers.length > 0) {\n        updates.fetchers = getUpdatedRevalidatingFetchers(revalidatingFetchers);\n      }\n      updateState(updates, { flushSync });\n    }\n    revalidatingFetchers.forEach((rf) => {\n      abortFetcher(rf.key);\n      if (rf.controller) {\n        fetchControllers.set(rf.key, rf.controller);\n      }\n    });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach((f) => abortFetcher(f.key));\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.addEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n    let { loaderResults, fetcherResults } = await callLoadersAndMaybeResolveData(\n      dsMatches,\n      revalidatingFetchers,\n      request,\n      scopedContext\n    );\n    if (request.signal.aborted) {\n      return { shortCircuited: true };\n    }\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.removeEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n    revalidatingFetchers.forEach((rf) => fetchControllers.delete(rf.key));\n    let redirect2 = findRedirect(loaderResults);\n    if (redirect2) {\n      await startRedirectNavigation(request, redirect2.result, true, {\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    redirect2 = findRedirect(fetcherResults);\n    if (redirect2) {\n      fetchRedirectIds.add(redirect2.key);\n      await startRedirectNavigation(request, redirect2.result, true, {\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      loaderResults,\n      pendingActionResult,\n      revalidatingFetchers,\n      fetcherResults\n    );\n    if (initialHydration && state.errors) {\n      errors = { ...state.errors, ...errors };\n    }\n    let updatedFetchers = markFetchRedirectsDone();\n    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n    let shouldUpdateFetchers = updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;\n    return {\n      matches,\n      loaderData,\n      errors,\n      ...shouldUpdateFetchers ? { fetchers: new Map(state.fetchers) } : {}\n    };\n  }\n  function getUpdatedActionData(pendingActionResult) {\n    if (pendingActionResult && !isErrorResult(pendingActionResult[1])) {\n      return {\n        [pendingActionResult[0]]: pendingActionResult[1].data\n      };\n    } else if (state.actionData) {\n      if (Object.keys(state.actionData).length === 0) {\n        return null;\n      } else {\n        return state.actionData;\n      }\n    }\n  }\n  function getUpdatedRevalidatingFetchers(revalidatingFetchers) {\n    revalidatingFetchers.forEach((rf) => {\n      let fetcher = state.fetchers.get(rf.key);\n      let revalidatingFetcher = getLoadingFetcher(\n        void 0,\n        fetcher ? fetcher.data : void 0\n      );\n      state.fetchers.set(rf.key, revalidatingFetcher);\n    });\n    return new Map(state.fetchers);\n  }\n  async function fetch2(key, routeId, href2, opts) {\n    abortFetcher(key);\n    let flushSync = (opts && opts.flushSync) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      href2,\n      routeId,\n      opts?.relative\n    );\n    let matches = matchRoutes(routesToUse, normalizedPath, basename);\n    let fogOfWar = checkFogOfWar(matches, routesToUse, normalizedPath);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    if (!matches) {\n      setFetcherError(\n        key,\n        routeId,\n        getInternalRouterError(404, { pathname: normalizedPath }),\n        { flushSync }\n      );\n      return;\n    }\n    let { path, submission, error } = normalizeNavigateOptions(\n      true,\n      normalizedPath,\n      opts\n    );\n    if (error) {\n      setFetcherError(key, routeId, error, { flushSync });\n      return;\n    }\n    let match = getTargetMatch(matches, path);\n    let scopedContext = new unstable_RouterContextProvider(\n      init.unstable_getContext ? await init.unstable_getContext() : void 0\n    );\n    let preventScrollReset = (opts && opts.preventScrollReset) === true;\n    if (submission && isMutationMethod(submission.formMethod)) {\n      await handleFetcherAction(\n        key,\n        routeId,\n        path,\n        match,\n        matches,\n        scopedContext,\n        fogOfWar.active,\n        flushSync,\n        preventScrollReset,\n        submission\n      );\n      return;\n    }\n    fetchLoadMatches.set(key, { routeId, path });\n    await handleFetcherLoader(\n      key,\n      routeId,\n      path,\n      match,\n      matches,\n      scopedContext,\n      fogOfWar.active,\n      flushSync,\n      preventScrollReset,\n      submission\n    );\n  }\n  async function handleFetcherAction(key, routeId, path, match, requestMatches, scopedContext, isFogOfWar, flushSync, preventScrollReset, submission) {\n    interruptActiveLoads();\n    fetchLoadMatches.delete(key);\n    function detectAndHandle405Error(m) {\n      if (!m.route.action && !m.route.lazy) {\n        let error = getInternalRouterError(405, {\n          method: submission.formMethod,\n          pathname: path,\n          routeId\n        });\n        setFetcherError(key, routeId, error, { flushSync });\n        return true;\n      }\n      return false;\n    }\n    if (!isFogOfWar && detectAndHandle405Error(match)) {\n      return;\n    }\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(key, getSubmittingFetcher(submission, existingFetcher), {\n      flushSync\n    });\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal,\n      submission\n    );\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        requestMatches,\n        path,\n        fetchRequest.signal,\n        key\n      );\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, { flushSync });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(\n          key,\n          routeId,\n          getInternalRouterError(404, { pathname: path }),\n          { flushSync }\n        );\n        return;\n      } else {\n        requestMatches = discoverResult.matches;\n        match = getTargetMatch(requestMatches, path);\n        if (detectAndHandle405Error(match)) {\n          return;\n        }\n      }\n    }\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let fetchMatches = getTargetedDataStrategyMatches(\n      mapRouteProperties2,\n      manifest,\n      fetchRequest,\n      requestMatches,\n      match,\n      hydrationRouteProperties2,\n      scopedContext\n    );\n    let actionResults = await callDataStrategy(\n      fetchRequest,\n      fetchMatches,\n      scopedContext,\n      key\n    );\n    let actionResult = actionResults[match.route.id];\n    if (fetchRequest.signal.aborted) {\n      if (fetchControllers.get(key) === abortController) {\n        fetchControllers.delete(key);\n      }\n      return;\n    }\n    if (fetchersQueuedForDeletion.has(key)) {\n      if (isRedirectResult(actionResult) || isErrorResult(actionResult)) {\n        updateFetcherState(key, getDoneFetcher(void 0));\n        return;\n      }\n    } else {\n      if (isRedirectResult(actionResult)) {\n        fetchControllers.delete(key);\n        if (pendingNavigationLoadId > originatingLoadId) {\n          updateFetcherState(key, getDoneFetcher(void 0));\n          return;\n        } else {\n          fetchRedirectIds.add(key);\n          updateFetcherState(key, getLoadingFetcher(submission));\n          return startRedirectNavigation(fetchRequest, actionResult, false, {\n            fetcherSubmission: submission,\n            preventScrollReset\n          });\n        }\n      }\n      if (isErrorResult(actionResult)) {\n        setFetcherError(key, routeId, actionResult.error);\n        return;\n      }\n    }\n    let nextLocation = state.navigation.location || state.location;\n    let revalidationRequest = createClientSideRequest(\n      init.history,\n      nextLocation,\n      abortController.signal\n    );\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let matches = state.navigation.state !== \"idle\" ? matchRoutes(routesToUse, state.navigation.location, basename) : state.matches;\n    invariant(matches, \"Didn't find any matches after fetcher action\");\n    let loadId = ++incrementingLoadId;\n    fetchReloadIds.set(key, loadId);\n    let loadFetcher = getLoadingFetcher(submission, actionResult.data);\n    state.fetchers.set(key, loadFetcher);\n    let { dsMatches, revalidatingFetchers } = getMatchesToLoad(\n      revalidationRequest,\n      scopedContext,\n      mapRouteProperties2,\n      manifest,\n      init.history,\n      state,\n      matches,\n      submission,\n      nextLocation,\n      hydrationRouteProperties2,\n      false,\n      isRevalidationRequired,\n      cancelledFetcherLoads,\n      fetchersQueuedForDeletion,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      init.patchRoutesOnNavigation != null,\n      [match.route.id, actionResult]\n    );\n    revalidatingFetchers.filter((rf) => rf.key !== key).forEach((rf) => {\n      let staleKey = rf.key;\n      let existingFetcher2 = state.fetchers.get(staleKey);\n      let revalidatingFetcher = getLoadingFetcher(\n        void 0,\n        existingFetcher2 ? existingFetcher2.data : void 0\n      );\n      state.fetchers.set(staleKey, revalidatingFetcher);\n      abortFetcher(staleKey);\n      if (rf.controller) {\n        fetchControllers.set(staleKey, rf.controller);\n      }\n    });\n    updateState({ fetchers: new Map(state.fetchers) });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach((rf) => abortFetcher(rf.key));\n    abortController.signal.addEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n    let { loaderResults, fetcherResults } = await callLoadersAndMaybeResolveData(\n      dsMatches,\n      revalidatingFetchers,\n      revalidationRequest,\n      scopedContext\n    );\n    if (abortController.signal.aborted) {\n      return;\n    }\n    abortController.signal.removeEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n    fetchReloadIds.delete(key);\n    fetchControllers.delete(key);\n    revalidatingFetchers.forEach((r) => fetchControllers.delete(r.key));\n    if (state.fetchers.has(key)) {\n      let doneFetcher = getDoneFetcher(actionResult.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n    let redirect2 = findRedirect(loaderResults);\n    if (redirect2) {\n      return startRedirectNavigation(\n        revalidationRequest,\n        redirect2.result,\n        false,\n        { preventScrollReset }\n      );\n    }\n    redirect2 = findRedirect(fetcherResults);\n    if (redirect2) {\n      fetchRedirectIds.add(redirect2.key);\n      return startRedirectNavigation(\n        revalidationRequest,\n        redirect2.result,\n        false,\n        { preventScrollReset }\n      );\n    }\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      loaderResults,\n      void 0,\n      revalidatingFetchers,\n      fetcherResults\n    );\n    abortStaleFetchLoads(loadId);\n    if (state.navigation.state === \"loading\" && loadId > pendingNavigationLoadId) {\n      invariant(pendingAction, \"Expected pending action\");\n      pendingNavigationController && pendingNavigationController.abort();\n      completeNavigation(state.navigation.location, {\n        matches,\n        loaderData,\n        errors,\n        fetchers: new Map(state.fetchers)\n      });\n    } else {\n      updateState({\n        errors,\n        loaderData: mergeLoaderData(\n          state.loaderData,\n          loaderData,\n          matches,\n          errors\n        ),\n        fetchers: new Map(state.fetchers)\n      });\n      isRevalidationRequired = false;\n    }\n  }\n  async function handleFetcherLoader(key, routeId, path, match, matches, scopedContext, isFogOfWar, flushSync, preventScrollReset, submission) {\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(\n      key,\n      getLoadingFetcher(\n        submission,\n        existingFetcher ? existingFetcher.data : void 0\n      ),\n      { flushSync }\n    );\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal\n    );\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        matches,\n        path,\n        fetchRequest.signal,\n        key\n      );\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, { flushSync });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(\n          key,\n          routeId,\n          getInternalRouterError(404, { pathname: path }),\n          { flushSync }\n        );\n        return;\n      } else {\n        matches = discoverResult.matches;\n        match = getTargetMatch(matches, path);\n      }\n    }\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let dsMatches = getTargetedDataStrategyMatches(\n      mapRouteProperties2,\n      manifest,\n      fetchRequest,\n      matches,\n      match,\n      hydrationRouteProperties2,\n      scopedContext\n    );\n    let results = await callDataStrategy(\n      fetchRequest,\n      dsMatches,\n      scopedContext,\n      key\n    );\n    let result = results[match.route.id];\n    if (fetchControllers.get(key) === abortController) {\n      fetchControllers.delete(key);\n    }\n    if (fetchRequest.signal.aborted) {\n      return;\n    }\n    if (fetchersQueuedForDeletion.has(key)) {\n      updateFetcherState(key, getDoneFetcher(void 0));\n      return;\n    }\n    if (isRedirectResult(result)) {\n      if (pendingNavigationLoadId > originatingLoadId) {\n        updateFetcherState(key, getDoneFetcher(void 0));\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        await startRedirectNavigation(fetchRequest, result, false, {\n          preventScrollReset\n        });\n        return;\n      }\n    }\n    if (isErrorResult(result)) {\n      setFetcherError(key, routeId, result.error);\n      return;\n    }\n    updateFetcherState(key, getDoneFetcher(result.data));\n  }\n  async function startRedirectNavigation(request, redirect2, isNavigation, {\n    submission,\n    fetcherSubmission,\n    preventScrollReset,\n    replace: replace2\n  } = {}) {\n    if (redirect2.response.headers.has(\"X-Remix-Revalidate\")) {\n      isRevalidationRequired = true;\n    }\n    let location = redirect2.response.headers.get(\"Location\");\n    invariant(location, \"Expected a Location header on the redirect Response\");\n    location = normalizeRedirectLocation(\n      location,\n      new URL(request.url),\n      basename\n    );\n    let redirectLocation = createLocation(state.location, location, {\n      _isRedirect: true\n    });\n    if (isBrowser2) {\n      let isDocumentReload = false;\n      if (redirect2.response.headers.has(\"X-Remix-Reload-Document\")) {\n        isDocumentReload = true;\n      } else if (ABSOLUTE_URL_REGEX.test(location)) {\n        const url = createBrowserURLImpl(location, true);\n        isDocumentReload = // Hard reload if it's an absolute URL to a new origin\n        url.origin !== routerWindow.location.origin || // Hard reload if it's an absolute URL that does not match our basename\n        stripBasename(url.pathname, basename) == null;\n      }\n      if (isDocumentReload) {\n        if (replace2) {\n          routerWindow.location.replace(location);\n        } else {\n          routerWindow.location.assign(location);\n        }\n        return;\n      }\n    }\n    pendingNavigationController = null;\n    let redirectNavigationType = replace2 === true || redirect2.response.headers.has(\"X-Remix-Replace\") ? \"REPLACE\" /* Replace */ : \"PUSH\" /* Push */;\n    let { formMethod, formAction, formEncType } = state.navigation;\n    if (!submission && !fetcherSubmission && formMethod && formAction && formEncType) {\n      submission = getSubmissionFromNavigation(state.navigation);\n    }\n    let activeSubmission = submission || fetcherSubmission;\n    if (redirectPreserveMethodStatusCodes.has(redirect2.response.status) && activeSubmission && isMutationMethod(activeSubmission.formMethod)) {\n      await startNavigation(redirectNavigationType, redirectLocation, {\n        submission: {\n          ...activeSubmission,\n          formAction: location\n        },\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : void 0\n      });\n    } else {\n      let overrideNavigation = getLoadingNavigation(\n        redirectLocation,\n        submission\n      );\n      await startNavigation(redirectNavigationType, redirectLocation, {\n        overrideNavigation,\n        // Send fetcher submissions through for shouldRevalidate\n        fetcherSubmission,\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : void 0\n      });\n    }\n  }\n  async function callDataStrategy(request, matches, scopedContext, fetcherKey) {\n    let results;\n    let dataResults = {};\n    try {\n      results = await callDataStrategyImpl(\n        dataStrategyImpl,\n        request,\n        matches,\n        fetcherKey,\n        scopedContext,\n        false\n      );\n    } catch (e) {\n      matches.filter((m) => m.shouldLoad).forEach((m) => {\n        dataResults[m.route.id] = {\n          type: \"error\" /* error */,\n          error: e\n        };\n      });\n      return dataResults;\n    }\n    if (request.signal.aborted) {\n      return dataResults;\n    }\n    for (let [routeId, result] of Object.entries(results)) {\n      if (isRedirectDataStrategyResult(result)) {\n        let response = result.result;\n        dataResults[routeId] = {\n          type: \"redirect\" /* redirect */,\n          response: normalizeRelativeRoutingRedirectResponse(\n            response,\n            request,\n            routeId,\n            matches,\n            basename\n          )\n        };\n      } else {\n        dataResults[routeId] = await convertDataStrategyResultToDataResult(\n          result\n        );\n      }\n    }\n    return dataResults;\n  }\n  async function callLoadersAndMaybeResolveData(matches, fetchersToLoad, request, scopedContext) {\n    let loaderResultsPromise = callDataStrategy(\n      request,\n      matches,\n      scopedContext,\n      null\n    );\n    let fetcherResultsPromise = Promise.all(\n      fetchersToLoad.map(async (f) => {\n        if (f.matches && f.match && f.request && f.controller) {\n          let results = await callDataStrategy(\n            f.request,\n            f.matches,\n            scopedContext,\n            f.key\n          );\n          let result = results[f.match.route.id];\n          return { [f.key]: result };\n        } else {\n          return Promise.resolve({\n            [f.key]: {\n              type: \"error\" /* error */,\n              error: getInternalRouterError(404, {\n                pathname: f.path\n              })\n            }\n          });\n        }\n      })\n    );\n    let loaderResults = await loaderResultsPromise;\n    let fetcherResults = (await fetcherResultsPromise).reduce(\n      (acc, r) => Object.assign(acc, r),\n      {}\n    );\n    return {\n      loaderResults,\n      fetcherResults\n    };\n  }\n  function interruptActiveLoads() {\n    isRevalidationRequired = true;\n    fetchLoadMatches.forEach((_, key) => {\n      if (fetchControllers.has(key)) {\n        cancelledFetcherLoads.add(key);\n      }\n      abortFetcher(key);\n    });\n  }\n  function updateFetcherState(key, fetcher, opts = {}) {\n    state.fetchers.set(key, fetcher);\n    updateState(\n      { fetchers: new Map(state.fetchers) },\n      { flushSync: (opts && opts.flushSync) === true }\n    );\n  }\n  function setFetcherError(key, routeId, error, opts = {}) {\n    let boundaryMatch = findNearestBoundary(state.matches, routeId);\n    deleteFetcher(key);\n    updateState(\n      {\n        errors: {\n          [boundaryMatch.route.id]: error\n        },\n        fetchers: new Map(state.fetchers)\n      },\n      { flushSync: (opts && opts.flushSync) === true }\n    );\n  }\n  function getFetcher(key) {\n    activeFetchers.set(key, (activeFetchers.get(key) || 0) + 1);\n    if (fetchersQueuedForDeletion.has(key)) {\n      fetchersQueuedForDeletion.delete(key);\n    }\n    return state.fetchers.get(key) || IDLE_FETCHER;\n  }\n  function deleteFetcher(key) {\n    let fetcher = state.fetchers.get(key);\n    if (fetchControllers.has(key) && !(fetcher && fetcher.state === \"loading\" && fetchReloadIds.has(key))) {\n      abortFetcher(key);\n    }\n    fetchLoadMatches.delete(key);\n    fetchReloadIds.delete(key);\n    fetchRedirectIds.delete(key);\n    fetchersQueuedForDeletion.delete(key);\n    cancelledFetcherLoads.delete(key);\n    state.fetchers.delete(key);\n  }\n  function queueFetcherForDeletion(key) {\n    let count = (activeFetchers.get(key) || 0) - 1;\n    if (count <= 0) {\n      activeFetchers.delete(key);\n      fetchersQueuedForDeletion.add(key);\n    } else {\n      activeFetchers.set(key, count);\n    }\n    updateState({ fetchers: new Map(state.fetchers) });\n  }\n  function abortFetcher(key) {\n    let controller = fetchControllers.get(key);\n    if (controller) {\n      controller.abort();\n      fetchControllers.delete(key);\n    }\n  }\n  function markFetchersDone(keys) {\n    for (let key of keys) {\n      let fetcher = getFetcher(key);\n      let doneFetcher = getDoneFetcher(fetcher.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n  function markFetchRedirectsDone() {\n    let doneKeys = [];\n    let updatedFetchers = false;\n    for (let key of fetchRedirectIds) {\n      let fetcher = state.fetchers.get(key);\n      invariant(fetcher, `Expected fetcher: ${key}`);\n      if (fetcher.state === \"loading\") {\n        fetchRedirectIds.delete(key);\n        doneKeys.push(key);\n        updatedFetchers = true;\n      }\n    }\n    markFetchersDone(doneKeys);\n    return updatedFetchers;\n  }\n  function abortStaleFetchLoads(landedId) {\n    let yeetedKeys = [];\n    for (let [key, id] of fetchReloadIds) {\n      if (id < landedId) {\n        let fetcher = state.fetchers.get(key);\n        invariant(fetcher, `Expected fetcher: ${key}`);\n        if (fetcher.state === \"loading\") {\n          abortFetcher(key);\n          fetchReloadIds.delete(key);\n          yeetedKeys.push(key);\n        }\n      }\n    }\n    markFetchersDone(yeetedKeys);\n    return yeetedKeys.length > 0;\n  }\n  function getBlocker(key, fn) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    if (blockerFunctions.get(key) !== fn) {\n      blockerFunctions.set(key, fn);\n    }\n    return blocker;\n  }\n  function deleteBlocker(key) {\n    state.blockers.delete(key);\n    blockerFunctions.delete(key);\n  }\n  function updateBlocker(key, newBlocker) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    invariant(\n      blocker.state === \"unblocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"proceeding\" || blocker.state === \"blocked\" && newBlocker.state === \"unblocked\" || blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\",\n      `Invalid blocker state transition: ${blocker.state} -> ${newBlocker.state}`\n    );\n    let blockers = new Map(state.blockers);\n    blockers.set(key, newBlocker);\n    updateState({ blockers });\n  }\n  function shouldBlockNavigation({\n    currentLocation,\n    nextLocation,\n    historyAction\n  }) {\n    if (blockerFunctions.size === 0) {\n      return;\n    }\n    if (blockerFunctions.size > 1) {\n      warning(false, \"A router only supports one blocker at a time\");\n    }\n    let entries = Array.from(blockerFunctions.entries());\n    let [blockerKey, blockerFunction] = entries[entries.length - 1];\n    let blocker = state.blockers.get(blockerKey);\n    if (blocker && blocker.state === \"proceeding\") {\n      return;\n    }\n    if (blockerFunction({ currentLocation, nextLocation, historyAction })) {\n      return blockerKey;\n    }\n  }\n  function handleNavigational404(pathname) {\n    let error = getInternalRouterError(404, { pathname });\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let { matches, route } = getShortCircuitMatches(routesToUse);\n    return { notFoundMatches: matches, route, error };\n  }\n  function enableScrollRestoration(positions, getPosition, getKey) {\n    savedScrollPositions2 = positions;\n    getScrollPosition = getPosition;\n    getScrollRestorationKey2 = getKey || null;\n    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {\n      initialScrollRestored = true;\n      let y = getSavedScrollPosition(state.location, state.matches);\n      if (y != null) {\n        updateState({ restoreScrollPosition: y });\n      }\n    }\n    return () => {\n      savedScrollPositions2 = null;\n      getScrollPosition = null;\n      getScrollRestorationKey2 = null;\n    };\n  }\n  function getScrollKey(location, matches) {\n    if (getScrollRestorationKey2) {\n      let key = getScrollRestorationKey2(\n        location,\n        matches.map((m) => convertRouteMatchToUiMatch(m, state.loaderData))\n      );\n      return key || location.key;\n    }\n    return location.key;\n  }\n  function saveScrollPosition(location, matches) {\n    if (savedScrollPositions2 && getScrollPosition) {\n      let key = getScrollKey(location, matches);\n      savedScrollPositions2[key] = getScrollPosition();\n    }\n  }\n  function getSavedScrollPosition(location, matches) {\n    if (savedScrollPositions2) {\n      let key = getScrollKey(location, matches);\n      let y = savedScrollPositions2[key];\n      if (typeof y === \"number\") {\n        return y;\n      }\n    }\n    return null;\n  }\n  function checkFogOfWar(matches, routesToUse, pathname) {\n    if (init.patchRoutesOnNavigation) {\n      if (!matches) {\n        let fogMatches = matchRoutesImpl(\n          routesToUse,\n          pathname,\n          basename,\n          true\n        );\n        return { active: true, matches: fogMatches || [] };\n      } else {\n        if (Object.keys(matches[0].params).length > 0) {\n          let partialMatches = matchRoutesImpl(\n            routesToUse,\n            pathname,\n            basename,\n            true\n          );\n          return { active: true, matches: partialMatches };\n        }\n      }\n    }\n    return { active: false, matches: null };\n  }\n  async function discoverRoutes(matches, pathname, signal, fetcherKey) {\n    if (!init.patchRoutesOnNavigation) {\n      return { type: \"success\", matches };\n    }\n    let partialMatches = matches;\n    while (true) {\n      let isNonHMR = inFlightDataRoutes == null;\n      let routesToUse = inFlightDataRoutes || dataRoutes;\n      let localManifest = manifest;\n      try {\n        await init.patchRoutesOnNavigation({\n          signal,\n          path: pathname,\n          matches: partialMatches,\n          fetcherKey,\n          patch: (routeId, children) => {\n            if (signal.aborted) return;\n            patchRoutesImpl(\n              routeId,\n              children,\n              routesToUse,\n              localManifest,\n              mapRouteProperties2\n            );\n          }\n        });\n      } catch (e) {\n        return { type: \"error\", error: e, partialMatches };\n      } finally {\n        if (isNonHMR && !signal.aborted) {\n          dataRoutes = [...dataRoutes];\n        }\n      }\n      if (signal.aborted) {\n        return { type: \"aborted\" };\n      }\n      let newMatches = matchRoutes(routesToUse, pathname, basename);\n      if (newMatches) {\n        return { type: \"success\", matches: newMatches };\n      }\n      let newPartialMatches = matchRoutesImpl(\n        routesToUse,\n        pathname,\n        basename,\n        true\n      );\n      if (!newPartialMatches || partialMatches.length === newPartialMatches.length && partialMatches.every(\n        (m, i) => m.route.id === newPartialMatches[i].route.id\n      )) {\n        return { type: \"success\", matches: null };\n      }\n      partialMatches = newPartialMatches;\n    }\n  }\n  function _internalSetRoutes(newRoutes) {\n    manifest = {};\n    inFlightDataRoutes = convertRoutesToDataRoutes(\n      newRoutes,\n      mapRouteProperties2,\n      void 0,\n      manifest\n    );\n  }\n  function patchRoutes(routeId, children) {\n    let isNonHMR = inFlightDataRoutes == null;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    patchRoutesImpl(\n      routeId,\n      children,\n      routesToUse,\n      manifest,\n      mapRouteProperties2\n    );\n    if (isNonHMR) {\n      dataRoutes = [...dataRoutes];\n      updateState({});\n    }\n  }\n  router = {\n    get basename() {\n      return basename;\n    },\n    get future() {\n      return future;\n    },\n    get state() {\n      return state;\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    get window() {\n      return routerWindow;\n    },\n    initialize,\n    subscribe,\n    enableScrollRestoration,\n    navigate,\n    fetch: fetch2,\n    revalidate,\n    // Passthrough to history-aware createHref used by useHref so we get proper\n    // hash-aware URLs in DOM paths\n    createHref: (to) => init.history.createHref(to),\n    encodeLocation: (to) => init.history.encodeLocation(to),\n    getFetcher,\n    deleteFetcher: queueFetcherForDeletion,\n    dispose,\n    getBlocker,\n    deleteBlocker,\n    patchRoutes,\n    _internalFetchControllers: fetchControllers,\n    // TODO: Remove setRoutes, it's temporary to avoid dealing with\n    // updating the tree while validating the update algorithm.\n    _internalSetRoutes\n  };\n  return router;\n}\nfunction createStaticHandler(routes, opts) {\n  invariant(\n    routes.length > 0,\n    \"You must provide a non-empty routes array to createStaticHandler\"\n  );\n  let manifest = {};\n  let basename = (opts ? opts.basename : null) || \"/\";\n  let mapRouteProperties2 = opts?.mapRouteProperties || defaultMapRouteProperties;\n  let dataRoutes = convertRoutesToDataRoutes(\n    routes,\n    mapRouteProperties2,\n    void 0,\n    manifest\n  );\n  async function query(request, {\n    requestContext,\n    filterMatchesToLoad,\n    skipLoaderErrorBubbling,\n    skipRevalidation,\n    dataStrategy,\n    unstable_respond: respond\n  } = {}) {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    requestContext = requestContext != null ? requestContext : new unstable_RouterContextProvider();\n    if (!isValidMethod(method) && method !== \"HEAD\") {\n      let error = getInternalRouterError(405, { method });\n      let { matches: methodNotAllowedMatches, route } = getShortCircuitMatches(dataRoutes);\n      let staticContext = {\n        basename,\n        location,\n        matches: methodNotAllowedMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n      return respond ? respond(staticContext) : staticContext;\n    } else if (!matches) {\n      let error = getInternalRouterError(404, { pathname: location.pathname });\n      let { matches: notFoundMatches, route } = getShortCircuitMatches(dataRoutes);\n      let staticContext = {\n        basename,\n        location,\n        matches: notFoundMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n      return respond ? respond(staticContext) : staticContext;\n    }\n    if (respond && matches.some(\n      (m) => m.route.unstable_middleware || typeof m.route.lazy === \"object\" && m.route.lazy.unstable_middleware\n    )) {\n      invariant(\n        requestContext instanceof unstable_RouterContextProvider,\n        \"When using middleware in `staticHandler.query()`, any provided `requestContext` must be an instance of `unstable_RouterContextProvider`\"\n      );\n      try {\n        await loadLazyMiddlewareForMatches(\n          matches,\n          manifest,\n          mapRouteProperties2\n        );\n        let renderedStaticContext;\n        let response = await runMiddlewarePipeline(\n          {\n            request,\n            matches,\n            params: matches[0].params,\n            // If we're calling middleware then it must be enabled so we can cast\n            // this to the proper type knowing it's not an `AppLoadContext`\n            context: requestContext\n          },\n          true,\n          async () => {\n            let result2 = await queryImpl(\n              request,\n              location,\n              matches,\n              requestContext,\n              dataStrategy || null,\n              skipLoaderErrorBubbling === true,\n              null,\n              filterMatchesToLoad || null,\n              skipRevalidation === true\n            );\n            if (isResponse(result2)) {\n              return result2;\n            }\n            renderedStaticContext = { location, basename, ...result2 };\n            let res = await respond(renderedStaticContext);\n            return res;\n          },\n          async (error, routeId) => {\n            if (isResponse(error)) {\n              return error;\n            }\n            if (renderedStaticContext) {\n              if (routeId in renderedStaticContext.loaderData) {\n                renderedStaticContext.loaderData[routeId] = void 0;\n              }\n              return respond(\n                getStaticContextFromError(\n                  dataRoutes,\n                  renderedStaticContext,\n                  error,\n                  skipLoaderErrorBubbling ? routeId : findNearestBoundary(matches, routeId).route.id\n                )\n              );\n            } else {\n              let boundaryRouteId = skipLoaderErrorBubbling ? routeId : findNearestBoundary(\n                matches,\n                matches.find(\n                  (m) => m.route.id === routeId || m.route.loader\n                )?.route.id || routeId\n              ).route.id;\n              return respond({\n                matches,\n                location,\n                basename,\n                loaderData: {},\n                actionData: null,\n                errors: {\n                  [boundaryRouteId]: error\n                },\n                statusCode: isRouteErrorResponse(error) ? error.status : 500,\n                actionHeaders: {},\n                loaderHeaders: {}\n              });\n            }\n          }\n        );\n        invariant(isResponse(response), \"Expected a response in query()\");\n        return response;\n      } catch (e) {\n        if (isResponse(e)) {\n          return e;\n        }\n        throw e;\n      }\n    }\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      dataStrategy || null,\n      skipLoaderErrorBubbling === true,\n      null,\n      filterMatchesToLoad || null,\n      skipRevalidation === true\n    );\n    if (isResponse(result)) {\n      return result;\n    }\n    return { location, basename, ...result };\n  }\n  async function queryRoute(request, {\n    routeId,\n    requestContext,\n    dataStrategy,\n    unstable_respond: respond\n  } = {}) {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    requestContext = requestContext != null ? requestContext : new unstable_RouterContextProvider();\n    if (!isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") {\n      throw getInternalRouterError(405, { method });\n    } else if (!matches) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n    let match = routeId ? matches.find((m) => m.route.id === routeId) : getTargetMatch(matches, location);\n    if (routeId && !match) {\n      throw getInternalRouterError(403, {\n        pathname: location.pathname,\n        routeId\n      });\n    } else if (!match) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n    if (respond && matches.some(\n      (m) => m.route.unstable_middleware || typeof m.route.lazy === \"object\" && m.route.lazy.unstable_middleware\n    )) {\n      invariant(\n        requestContext instanceof unstable_RouterContextProvider,\n        \"When using middleware in `staticHandler.queryRoute()`, any provided `requestContext` must be an instance of `unstable_RouterContextProvider`\"\n      );\n      await loadLazyMiddlewareForMatches(matches, manifest, mapRouteProperties2);\n      let response = await runMiddlewarePipeline(\n        {\n          request,\n          matches,\n          params: matches[0].params,\n          // If we're calling middleware then it must be enabled so we can cast\n          // this to the proper type knowing it's not an `AppLoadContext`\n          context: requestContext\n        },\n        true,\n        async () => {\n          let result2 = await queryImpl(\n            request,\n            location,\n            matches,\n            requestContext,\n            dataStrategy || null,\n            false,\n            match,\n            null,\n            false\n          );\n          if (isResponse(result2)) {\n            return respond(result2);\n          }\n          let error2 = result2.errors ? Object.values(result2.errors)[0] : void 0;\n          if (error2 !== void 0) {\n            throw error2;\n          }\n          let value = result2.actionData ? Object.values(result2.actionData)[0] : Object.values(result2.loaderData)[0];\n          return typeof value === \"string\" ? new Response(value) : Response.json(value);\n        },\n        (error2) => {\n          if (isResponse(error2)) {\n            return respond(error2);\n          }\n          return new Response(String(error2), {\n            status: 500,\n            statusText: \"Unexpected Server Error\"\n          });\n        }\n      );\n      return response;\n    }\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      dataStrategy || null,\n      false,\n      match,\n      null,\n      false\n    );\n    if (isResponse(result)) {\n      return result;\n    }\n    let error = result.errors ? Object.values(result.errors)[0] : void 0;\n    if (error !== void 0) {\n      throw error;\n    }\n    if (result.actionData) {\n      return Object.values(result.actionData)[0];\n    }\n    if (result.loaderData) {\n      return Object.values(result.loaderData)[0];\n    }\n    return void 0;\n  }\n  async function queryImpl(request, location, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, filterMatchesToLoad, skipRevalidation) {\n    invariant(\n      request.signal,\n      \"query()/queryRoute() requests must contain an AbortController signal\"\n    );\n    try {\n      if (isMutationMethod(request.method)) {\n        let result2 = await submit(\n          request,\n          matches,\n          routeMatch || getTargetMatch(matches, location),\n          requestContext,\n          dataStrategy,\n          skipLoaderErrorBubbling,\n          routeMatch != null,\n          filterMatchesToLoad,\n          skipRevalidation\n        );\n        return result2;\n      }\n      let result = await loadRouteData(\n        request,\n        matches,\n        requestContext,\n        dataStrategy,\n        skipLoaderErrorBubbling,\n        routeMatch,\n        filterMatchesToLoad\n      );\n      return isResponse(result) ? result : {\n        ...result,\n        actionData: null,\n        actionHeaders: {}\n      };\n    } catch (e) {\n      if (isDataStrategyResult(e) && isResponse(e.result)) {\n        if (e.type === \"error\" /* error */) {\n          throw e.result;\n        }\n        return e.result;\n      }\n      if (isRedirectResponse(e)) {\n        return e;\n      }\n      throw e;\n    }\n  }\n  async function submit(request, matches, actionMatch, requestContext, dataStrategy, skipLoaderErrorBubbling, isRouteRequest, filterMatchesToLoad, skipRevalidation) {\n    let result;\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: actionMatch.route.id\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: \"error\" /* error */,\n        error\n      };\n    } else {\n      let dsMatches = getTargetedDataStrategyMatches(\n        mapRouteProperties2,\n        manifest,\n        request,\n        matches,\n        actionMatch,\n        [],\n        requestContext\n      );\n      let results = await callDataStrategy(\n        request,\n        dsMatches,\n        isRouteRequest,\n        requestContext,\n        dataStrategy\n      );\n      result = results[actionMatch.route.id];\n      if (request.signal.aborted) {\n        throwStaticHandlerAbortedError(request, isRouteRequest);\n      }\n    }\n    if (isRedirectResult(result)) {\n      throw new Response(null, {\n        status: result.response.status,\n        headers: {\n          Location: result.response.headers.get(\"Location\")\n        }\n      });\n    }\n    if (isRouteRequest) {\n      if (isErrorResult(result)) {\n        throw result.error;\n      }\n      return {\n        matches: [actionMatch],\n        loaderData: {},\n        actionData: { [actionMatch.route.id]: result.data },\n        errors: null,\n        // Note: statusCode + headers are unused here since queryRoute will\n        // return the raw Response or value\n        statusCode: 200,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n    }\n    if (skipRevalidation) {\n      if (isErrorResult(result)) {\n        let boundaryMatch = skipLoaderErrorBubbling ? actionMatch : findNearestBoundary(matches, actionMatch.route.id);\n        return {\n          statusCode: isRouteErrorResponse(result.error) ? result.error.status : result.statusCode != null ? result.statusCode : 500,\n          actionData: null,\n          actionHeaders: {\n            ...result.headers ? { [actionMatch.route.id]: result.headers } : {}\n          },\n          matches,\n          loaderData: {},\n          errors: {\n            [boundaryMatch.route.id]: result.error\n          },\n          loaderHeaders: {}\n        };\n      } else {\n        return {\n          actionData: {\n            [actionMatch.route.id]: result.data\n          },\n          actionHeaders: result.headers ? { [actionMatch.route.id]: result.headers } : {},\n          matches,\n          loaderData: {},\n          errors: null,\n          statusCode: result.statusCode || 200,\n          loaderHeaders: {}\n        };\n      }\n    }\n    let loaderRequest = new Request(request.url, {\n      headers: request.headers,\n      redirect: request.redirect,\n      signal: request.signal\n    });\n    if (isErrorResult(result)) {\n      let boundaryMatch = skipLoaderErrorBubbling ? actionMatch : findNearestBoundary(matches, actionMatch.route.id);\n      let handlerContext2 = await loadRouteData(\n        loaderRequest,\n        matches,\n        requestContext,\n        dataStrategy,\n        skipLoaderErrorBubbling,\n        null,\n        filterMatchesToLoad,\n        [boundaryMatch.route.id, result]\n      );\n      return {\n        ...handlerContext2,\n        statusCode: isRouteErrorResponse(result.error) ? result.error.status : result.statusCode != null ? result.statusCode : 500,\n        actionData: null,\n        actionHeaders: {\n          ...result.headers ? { [actionMatch.route.id]: result.headers } : {}\n        }\n      };\n    }\n    let handlerContext = await loadRouteData(\n      loaderRequest,\n      matches,\n      requestContext,\n      dataStrategy,\n      skipLoaderErrorBubbling,\n      null,\n      filterMatchesToLoad\n    );\n    return {\n      ...handlerContext,\n      actionData: {\n        [actionMatch.route.id]: result.data\n      },\n      // action status codes take precedence over loader status codes\n      ...result.statusCode ? { statusCode: result.statusCode } : {},\n      actionHeaders: result.headers ? { [actionMatch.route.id]: result.headers } : {}\n    };\n  }\n  async function loadRouteData(request, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, filterMatchesToLoad, pendingActionResult) {\n    let isRouteRequest = routeMatch != null;\n    if (isRouteRequest && !routeMatch?.route.loader && !routeMatch?.route.lazy) {\n      throw getInternalRouterError(400, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: routeMatch?.route.id\n      });\n    }\n    let dsMatches;\n    if (routeMatch) {\n      dsMatches = getTargetedDataStrategyMatches(\n        mapRouteProperties2,\n        manifest,\n        request,\n        matches,\n        routeMatch,\n        [],\n        requestContext\n      );\n    } else {\n      let maxIdx = pendingActionResult && isErrorResult(pendingActionResult[1]) ? (\n        // Up to but not including the boundary\n        matches.findIndex((m) => m.route.id === pendingActionResult[0]) - 1\n      ) : void 0;\n      dsMatches = matches.map((match, index) => {\n        if (maxIdx != null && index > maxIdx) {\n          return getDataStrategyMatch(\n            mapRouteProperties2,\n            manifest,\n            request,\n            match,\n            [],\n            requestContext,\n            false\n          );\n        }\n        return getDataStrategyMatch(\n          mapRouteProperties2,\n          manifest,\n          request,\n          match,\n          [],\n          requestContext,\n          (match.route.loader || match.route.lazy) != null && (!filterMatchesToLoad || filterMatchesToLoad(match))\n        );\n      });\n    }\n    if (!dataStrategy && !dsMatches.some((m) => m.shouldLoad)) {\n      return {\n        matches,\n        loaderData: {},\n        errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? {\n          [pendingActionResult[0]]: pendingActionResult[1].error\n        } : null,\n        statusCode: 200,\n        loaderHeaders: {}\n      };\n    }\n    let results = await callDataStrategy(\n      request,\n      dsMatches,\n      isRouteRequest,\n      requestContext,\n      dataStrategy\n    );\n    if (request.signal.aborted) {\n      throwStaticHandlerAbortedError(request, isRouteRequest);\n    }\n    let handlerContext = processRouteLoaderData(\n      matches,\n      results,\n      pendingActionResult,\n      true,\n      skipLoaderErrorBubbling\n    );\n    return {\n      ...handlerContext,\n      matches\n    };\n  }\n  async function callDataStrategy(request, matches, isRouteRequest, requestContext, dataStrategy) {\n    let results = await callDataStrategyImpl(\n      dataStrategy || defaultDataStrategy,\n      request,\n      matches,\n      null,\n      requestContext,\n      true\n    );\n    let dataResults = {};\n    await Promise.all(\n      matches.map(async (match) => {\n        if (!(match.route.id in results)) {\n          return;\n        }\n        let result = results[match.route.id];\n        if (isRedirectDataStrategyResult(result)) {\n          let response = result.result;\n          throw normalizeRelativeRoutingRedirectResponse(\n            response,\n            request,\n            match.route.id,\n            matches,\n            basename\n          );\n        }\n        if (isResponse(result.result) && isRouteRequest) {\n          throw result;\n        }\n        dataResults[match.route.id] = await convertDataStrategyResultToDataResult(result);\n      })\n    );\n    return dataResults;\n  }\n  return {\n    dataRoutes,\n    query,\n    queryRoute\n  };\n}\nfunction getStaticContextFromError(routes, handlerContext, error, boundaryId) {\n  let errorBoundaryId = boundaryId || handlerContext._deepestRenderedBoundaryId || routes[0].id;\n  return {\n    ...handlerContext,\n    statusCode: isRouteErrorResponse(error) ? error.status : 500,\n    errors: {\n      [errorBoundaryId]: error\n    }\n  };\n}\nfunction throwStaticHandlerAbortedError(request, isRouteRequest) {\n  if (request.signal.reason !== void 0) {\n    throw request.signal.reason;\n  }\n  let method = isRouteRequest ? \"queryRoute\" : \"query\";\n  throw new Error(\n    `${method}() call aborted without an \\`AbortSignal.reason\\`: ${request.method} ${request.url}`\n  );\n}\nfunction isSubmissionNavigation(opts) {\n  return opts != null && (\"formData\" in opts && opts.formData != null || \"body\" in opts && opts.body !== void 0);\n}\nfunction normalizeTo(location, matches, basename, to, fromRouteId, relative) {\n  let contextualMatches;\n  let activeRouteMatch;\n  if (fromRouteId) {\n    contextualMatches = [];\n    for (let match of matches) {\n      contextualMatches.push(match);\n      if (match.route.id === fromRouteId) {\n        activeRouteMatch = match;\n        break;\n      }\n    }\n  } else {\n    contextualMatches = matches;\n    activeRouteMatch = matches[matches.length - 1];\n  }\n  let path = resolveTo(\n    to ? to : \".\",\n    getResolveToMatches(contextualMatches),\n    stripBasename(location.pathname, basename) || location.pathname,\n    relative === \"path\"\n  );\n  if (to == null) {\n    path.search = location.search;\n    path.hash = location.hash;\n  }\n  if ((to == null || to === \"\" || to === \".\") && activeRouteMatch) {\n    let nakedIndex = hasNakedIndexQuery(path.search);\n    if (activeRouteMatch.route.index && !nakedIndex) {\n      path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n    } else if (!activeRouteMatch.route.index && nakedIndex) {\n      let params = new URLSearchParams(path.search);\n      let indexValues = params.getAll(\"index\");\n      params.delete(\"index\");\n      indexValues.filter((v) => v).forEach((v) => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? `?${qs}` : \"\";\n    }\n  }\n  if (basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\nfunction normalizeNavigateOptions(isFetcher, path, opts) {\n  if (!opts || !isSubmissionNavigation(opts)) {\n    return { path };\n  }\n  if (opts.formMethod && !isValidMethod(opts.formMethod)) {\n    return {\n      path,\n      error: getInternalRouterError(405, { method: opts.formMethod })\n    };\n  }\n  let getInvalidBodyError = () => ({\n    path,\n    error: getInternalRouterError(400, { type: \"invalid-body\" })\n  });\n  let rawFormMethod = opts.formMethod || \"get\";\n  let formMethod = rawFormMethod.toUpperCase();\n  let formAction = stripHashFromPath(path);\n  if (opts.body !== void 0) {\n    if (opts.formEncType === \"text/plain\") {\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      let text = typeof opts.body === \"string\" ? opts.body : opts.body instanceof FormData || opts.body instanceof URLSearchParams ? (\n        // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plain-text-form-data\n        Array.from(opts.body.entries()).reduce(\n          (acc, [name, value]) => `${acc}${name}=${value}\n`,\n          \"\"\n        )\n      ) : String(opts.body);\n      return {\n        path,\n        submission: {\n          formMethod,\n          formAction,\n          formEncType: opts.formEncType,\n          formData: void 0,\n          json: void 0,\n          text\n        }\n      };\n    } else if (opts.formEncType === \"application/json\") {\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      try {\n        let json = typeof opts.body === \"string\" ? JSON.parse(opts.body) : opts.body;\n        return {\n          path,\n          submission: {\n            formMethod,\n            formAction,\n            formEncType: opts.formEncType,\n            formData: void 0,\n            json,\n            text: void 0\n          }\n        };\n      } catch (e) {\n        return getInvalidBodyError();\n      }\n    }\n  }\n  invariant(\n    typeof FormData === \"function\",\n    \"FormData is not available in this environment\"\n  );\n  let searchParams;\n  let formData;\n  if (opts.formData) {\n    searchParams = convertFormDataToSearchParams(opts.formData);\n    formData = opts.formData;\n  } else if (opts.body instanceof FormData) {\n    searchParams = convertFormDataToSearchParams(opts.body);\n    formData = opts.body;\n  } else if (opts.body instanceof URLSearchParams) {\n    searchParams = opts.body;\n    formData = convertSearchParamsToFormData(searchParams);\n  } else if (opts.body == null) {\n    searchParams = new URLSearchParams();\n    formData = new FormData();\n  } else {\n    try {\n      searchParams = new URLSearchParams(opts.body);\n      formData = convertSearchParamsToFormData(searchParams);\n    } catch (e) {\n      return getInvalidBodyError();\n    }\n  }\n  let submission = {\n    formMethod,\n    formAction,\n    formEncType: opts && opts.formEncType || \"application/x-www-form-urlencoded\",\n    formData,\n    json: void 0,\n    text: void 0\n  };\n  if (isMutationMethod(submission.formMethod)) {\n    return { path, submission };\n  }\n  let parsedPath = parsePath(path);\n  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {\n    searchParams.append(\"index\", \"\");\n  }\n  parsedPath.search = `?${searchParams}`;\n  return { path: createPath(parsedPath), submission };\n}\nfunction getMatchesToLoad(request, scopedContext, mapRouteProperties2, manifest, history, state, matches, submission, location, lazyRoutePropertiesToSkip, initialHydration, isRevalidationRequired, cancelledFetcherLoads, fetchersQueuedForDeletion, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, hasPatchRoutesOnNavigation, pendingActionResult) {\n  let actionResult = pendingActionResult ? isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : pendingActionResult[1].data : void 0;\n  let currentUrl = history.createURL(state.location);\n  let nextUrl = history.createURL(location);\n  let maxIdx;\n  if (initialHydration && state.errors) {\n    let boundaryId = Object.keys(state.errors)[0];\n    maxIdx = matches.findIndex((m) => m.route.id === boundaryId);\n  } else if (pendingActionResult && isErrorResult(pendingActionResult[1])) {\n    let boundaryId = pendingActionResult[0];\n    maxIdx = matches.findIndex((m) => m.route.id === boundaryId) - 1;\n  }\n  let actionStatus = pendingActionResult ? pendingActionResult[1].statusCode : void 0;\n  let shouldSkipRevalidation = actionStatus && actionStatus >= 400;\n  let baseShouldRevalidateArgs = {\n    currentUrl,\n    currentParams: state.matches[0]?.params || {},\n    nextUrl,\n    nextParams: matches[0].params,\n    ...submission,\n    actionResult,\n    actionStatus\n  };\n  let dsMatches = matches.map((match, index) => {\n    let { route } = match;\n    let forceShouldLoad = null;\n    if (maxIdx != null && index > maxIdx) {\n      forceShouldLoad = false;\n    } else if (route.lazy) {\n      forceShouldLoad = true;\n    } else if (route.loader == null) {\n      forceShouldLoad = false;\n    } else if (initialHydration) {\n      forceShouldLoad = shouldLoadRouteOnHydration(\n        route,\n        state.loaderData,\n        state.errors\n      );\n    } else if (isNewLoader(state.loaderData, state.matches[index], match)) {\n      forceShouldLoad = true;\n    }\n    if (forceShouldLoad !== null) {\n      return getDataStrategyMatch(\n        mapRouteProperties2,\n        manifest,\n        request,\n        match,\n        lazyRoutePropertiesToSkip,\n        scopedContext,\n        forceShouldLoad\n      );\n    }\n    let defaultShouldRevalidate = shouldSkipRevalidation ? false : (\n      // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate\n      isRevalidationRequired || currentUrl.pathname + currentUrl.search === nextUrl.pathname + nextUrl.search || // Search params affect all loaders\n      currentUrl.search !== nextUrl.search || isNewRouteInstance(state.matches[index], match)\n    );\n    let shouldRevalidateArgs = {\n      ...baseShouldRevalidateArgs,\n      defaultShouldRevalidate\n    };\n    let shouldLoad = shouldRevalidateLoader(match, shouldRevalidateArgs);\n    return getDataStrategyMatch(\n      mapRouteProperties2,\n      manifest,\n      request,\n      match,\n      lazyRoutePropertiesToSkip,\n      scopedContext,\n      shouldLoad,\n      shouldRevalidateArgs\n    );\n  });\n  let revalidatingFetchers = [];\n  fetchLoadMatches.forEach((f, key) => {\n    if (initialHydration || !matches.some((m) => m.route.id === f.routeId) || fetchersQueuedForDeletion.has(key)) {\n      return;\n    }\n    let fetcher = state.fetchers.get(key);\n    let isMidInitialLoad = fetcher && fetcher.state !== \"idle\" && fetcher.data === void 0;\n    let fetcherMatches = matchRoutes(routesToUse, f.path, basename);\n    if (!fetcherMatches) {\n      if (hasPatchRoutesOnNavigation && isMidInitialLoad) {\n        return;\n      }\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: null,\n        match: null,\n        request: null,\n        controller: null\n      });\n      return;\n    }\n    if (fetchRedirectIds.has(key)) {\n      return;\n    }\n    let fetcherMatch = getTargetMatch(fetcherMatches, f.path);\n    let fetchController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      history,\n      f.path,\n      fetchController.signal\n    );\n    let fetcherDsMatches = null;\n    if (cancelledFetcherLoads.has(key)) {\n      cancelledFetcherLoads.delete(key);\n      fetcherDsMatches = getTargetedDataStrategyMatches(\n        mapRouteProperties2,\n        manifest,\n        fetchRequest,\n        fetcherMatches,\n        fetcherMatch,\n        lazyRoutePropertiesToSkip,\n        scopedContext\n      );\n    } else if (isMidInitialLoad) {\n      if (isRevalidationRequired) {\n        fetcherDsMatches = getTargetedDataStrategyMatches(\n          mapRouteProperties2,\n          manifest,\n          fetchRequest,\n          fetcherMatches,\n          fetcherMatch,\n          lazyRoutePropertiesToSkip,\n          scopedContext\n        );\n      }\n    } else {\n      let shouldRevalidateArgs = {\n        ...baseShouldRevalidateArgs,\n        defaultShouldRevalidate: shouldSkipRevalidation ? false : isRevalidationRequired\n      };\n      if (shouldRevalidateLoader(fetcherMatch, shouldRevalidateArgs)) {\n        fetcherDsMatches = getTargetedDataStrategyMatches(\n          mapRouteProperties2,\n          manifest,\n          fetchRequest,\n          fetcherMatches,\n          fetcherMatch,\n          lazyRoutePropertiesToSkip,\n          scopedContext,\n          shouldRevalidateArgs\n        );\n      }\n    }\n    if (fetcherDsMatches) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: fetcherDsMatches,\n        match: fetcherMatch,\n        request: fetchRequest,\n        controller: fetchController\n      });\n    }\n  });\n  return { dsMatches, revalidatingFetchers };\n}\nfunction shouldLoadRouteOnHydration(route, loaderData, errors) {\n  if (route.lazy) {\n    return true;\n  }\n  if (!route.loader) {\n    return false;\n  }\n  let hasData = loaderData != null && route.id in loaderData;\n  let hasError = errors != null && errors[route.id] !== void 0;\n  if (!hasData && hasError) {\n    return false;\n  }\n  if (typeof route.loader === \"function\" && route.loader.hydrate === true) {\n    return true;\n  }\n  return !hasData && !hasError;\n}\nfunction isNewLoader(currentLoaderData, currentMatch, match) {\n  let isNew = (\n    // [a] -> [a, b]\n    !currentMatch || // [a, b] -> [a, c]\n    match.route.id !== currentMatch.route.id\n  );\n  let isMissingData = !currentLoaderData.hasOwnProperty(match.route.id);\n  return isNew || isMissingData;\n}\nfunction isNewRouteInstance(currentMatch, match) {\n  let currentPath = currentMatch.route.path;\n  return (\n    // param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname || // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    currentPath != null && currentPath.endsWith(\"*\") && currentMatch.params[\"*\"] !== match.params[\"*\"]\n  );\n}\nfunction shouldRevalidateLoader(loaderMatch, arg) {\n  if (loaderMatch.route.shouldRevalidate) {\n    let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n    if (typeof routeChoice === \"boolean\") {\n      return routeChoice;\n    }\n  }\n  return arg.defaultShouldRevalidate;\n}\nfunction patchRoutesImpl(routeId, children, routesToUse, manifest, mapRouteProperties2) {\n  let childrenToPatch;\n  if (routeId) {\n    let route = manifest[routeId];\n    invariant(\n      route,\n      `No route found to patch children into: routeId = ${routeId}`\n    );\n    if (!route.children) {\n      route.children = [];\n    }\n    childrenToPatch = route.children;\n  } else {\n    childrenToPatch = routesToUse;\n  }\n  let uniqueChildren = children.filter(\n    (newRoute) => !childrenToPatch.some(\n      (existingRoute) => isSameRoute(newRoute, existingRoute)\n    )\n  );\n  let newRoutes = convertRoutesToDataRoutes(\n    uniqueChildren,\n    mapRouteProperties2,\n    [routeId || \"_\", \"patch\", String(childrenToPatch?.length || \"0\")],\n    manifest\n  );\n  childrenToPatch.push(...newRoutes);\n}\nfunction isSameRoute(newRoute, existingRoute) {\n  if (\"id\" in newRoute && \"id\" in existingRoute && newRoute.id === existingRoute.id) {\n    return true;\n  }\n  if (!(newRoute.index === existingRoute.index && newRoute.path === existingRoute.path && newRoute.caseSensitive === existingRoute.caseSensitive)) {\n    return false;\n  }\n  if ((!newRoute.children || newRoute.children.length === 0) && (!existingRoute.children || existingRoute.children.length === 0)) {\n    return true;\n  }\n  return newRoute.children.every(\n    (aChild, i) => existingRoute.children?.some((bChild) => isSameRoute(aChild, bChild))\n  );\n}\nvar lazyRoutePropertyCache = /* @__PURE__ */ new WeakMap();\nvar loadLazyRouteProperty = ({\n  key,\n  route,\n  manifest,\n  mapRouteProperties: mapRouteProperties2\n}) => {\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n  if (!routeToUpdate.lazy || typeof routeToUpdate.lazy !== \"object\") {\n    return;\n  }\n  let lazyFn = routeToUpdate.lazy[key];\n  if (!lazyFn) {\n    return;\n  }\n  let cache = lazyRoutePropertyCache.get(routeToUpdate);\n  if (!cache) {\n    cache = {};\n    lazyRoutePropertyCache.set(routeToUpdate, cache);\n  }\n  let cachedPromise = cache[key];\n  if (cachedPromise) {\n    return cachedPromise;\n  }\n  let propertyPromise = (async () => {\n    let isUnsupported = isUnsupportedLazyRouteObjectKey(key);\n    let staticRouteValue = routeToUpdate[key];\n    let isStaticallyDefined = staticRouteValue !== void 0 && key !== \"hasErrorBoundary\";\n    if (isUnsupported) {\n      warning(\n        !isUnsupported,\n        \"Route property \" + key + \" is not a supported lazy route property. This property will be ignored.\"\n      );\n      cache[key] = Promise.resolve();\n    } else if (isStaticallyDefined) {\n      warning(\n        false,\n        `Route \"${routeToUpdate.id}\" has a static property \"${key}\" defined. The lazy property will be ignored.`\n      );\n    } else {\n      let value = await lazyFn();\n      if (value != null) {\n        Object.assign(routeToUpdate, { [key]: value });\n        Object.assign(routeToUpdate, mapRouteProperties2(routeToUpdate));\n      }\n    }\n    if (typeof routeToUpdate.lazy === \"object\") {\n      routeToUpdate.lazy[key] = void 0;\n      if (Object.values(routeToUpdate.lazy).every((value) => value === void 0)) {\n        routeToUpdate.lazy = void 0;\n      }\n    }\n  })();\n  cache[key] = propertyPromise;\n  return propertyPromise;\n};\nvar lazyRouteFunctionCache = /* @__PURE__ */ new WeakMap();\nfunction loadLazyRoute(route, type, manifest, mapRouteProperties2, lazyRoutePropertiesToSkip) {\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n  if (!route.lazy) {\n    return {\n      lazyRoutePromise: void 0,\n      lazyHandlerPromise: void 0\n    };\n  }\n  if (typeof route.lazy === \"function\") {\n    let cachedPromise = lazyRouteFunctionCache.get(routeToUpdate);\n    if (cachedPromise) {\n      return {\n        lazyRoutePromise: cachedPromise,\n        lazyHandlerPromise: cachedPromise\n      };\n    }\n    let lazyRoutePromise2 = (async () => {\n      invariant(\n        typeof route.lazy === \"function\",\n        \"No lazy route function found\"\n      );\n      let lazyRoute = await route.lazy();\n      let routeUpdates = {};\n      for (let lazyRouteProperty in lazyRoute) {\n        let lazyValue = lazyRoute[lazyRouteProperty];\n        if (lazyValue === void 0) {\n          continue;\n        }\n        let isUnsupported = isUnsupportedLazyRouteFunctionKey(lazyRouteProperty);\n        let staticRouteValue = routeToUpdate[lazyRouteProperty];\n        let isStaticallyDefined = staticRouteValue !== void 0 && // This property isn't static since it should always be updated based\n        // on the route updates\n        lazyRouteProperty !== \"hasErrorBoundary\";\n        if (isUnsupported) {\n          warning(\n            !isUnsupported,\n            \"Route property \" + lazyRouteProperty + \" is not a supported property to be returned from a lazy route function. This property will be ignored.\"\n          );\n        } else if (isStaticallyDefined) {\n          warning(\n            !isStaticallyDefined,\n            `Route \"${routeToUpdate.id}\" has a static property \"${lazyRouteProperty}\" defined but its lazy function is also returning a value for this property. The lazy route property \"${lazyRouteProperty}\" will be ignored.`\n          );\n        } else {\n          routeUpdates[lazyRouteProperty] = lazyValue;\n        }\n      }\n      Object.assign(routeToUpdate, routeUpdates);\n      Object.assign(routeToUpdate, {\n        // To keep things framework agnostic, we use the provided `mapRouteProperties`\n        // function to set the framework-aware properties (`element`/`hasErrorBoundary`)\n        // since the logic will differ between frameworks.\n        ...mapRouteProperties2(routeToUpdate),\n        lazy: void 0\n      });\n    })();\n    lazyRouteFunctionCache.set(routeToUpdate, lazyRoutePromise2);\n    lazyRoutePromise2.catch(() => {\n    });\n    return {\n      lazyRoutePromise: lazyRoutePromise2,\n      lazyHandlerPromise: lazyRoutePromise2\n    };\n  }\n  let lazyKeys = Object.keys(route.lazy);\n  let lazyPropertyPromises = [];\n  let lazyHandlerPromise = void 0;\n  for (let key of lazyKeys) {\n    if (lazyRoutePropertiesToSkip && lazyRoutePropertiesToSkip.includes(key)) {\n      continue;\n    }\n    let promise = loadLazyRouteProperty({\n      key,\n      route,\n      manifest,\n      mapRouteProperties: mapRouteProperties2\n    });\n    if (promise) {\n      lazyPropertyPromises.push(promise);\n      if (key === type) {\n        lazyHandlerPromise = promise;\n      }\n    }\n  }\n  let lazyRoutePromise = lazyPropertyPromises.length > 0 ? Promise.all(lazyPropertyPromises).then(() => {\n  }) : void 0;\n  lazyRoutePromise?.catch(() => {\n  });\n  lazyHandlerPromise?.catch(() => {\n  });\n  return {\n    lazyRoutePromise,\n    lazyHandlerPromise\n  };\n}\nfunction isNonNullable(value) {\n  return value !== void 0;\n}\nfunction loadLazyMiddlewareForMatches(matches, manifest, mapRouteProperties2) {\n  let promises = matches.map(({ route }) => {\n    if (typeof route.lazy !== \"object\" || !route.lazy.unstable_middleware) {\n      return void 0;\n    }\n    return loadLazyRouteProperty({\n      key: \"unstable_middleware\",\n      route,\n      manifest,\n      mapRouteProperties: mapRouteProperties2\n    });\n  }).filter(isNonNullable);\n  return promises.length > 0 ? Promise.all(promises) : void 0;\n}\nasync function defaultDataStrategy(args) {\n  let matchesToLoad = args.matches.filter((m) => m.shouldLoad);\n  let keyedResults = {};\n  let results = await Promise.all(matchesToLoad.map((m) => m.resolve()));\n  results.forEach((result, i) => {\n    keyedResults[matchesToLoad[i].route.id] = result;\n  });\n  return keyedResults;\n}\nasync function defaultDataStrategyWithMiddleware(args) {\n  if (!args.matches.some((m) => m.route.unstable_middleware)) {\n    return defaultDataStrategy(args);\n  }\n  return runMiddlewarePipeline(\n    args,\n    false,\n    () => defaultDataStrategy(args),\n    (error, routeId) => ({ [routeId]: { type: \"error\", result: error } })\n  );\n}\nasync function runMiddlewarePipeline(args, propagateResult, handler, errorHandler) {\n  let { matches, request, params, context } = args;\n  let middlewareState = {\n    handlerResult: void 0\n  };\n  try {\n    let tuples = matches.flatMap(\n      (m) => m.route.unstable_middleware ? m.route.unstable_middleware.map((fn) => [m.route.id, fn]) : []\n    );\n    let result = await callRouteMiddleware(\n      { request, params, context },\n      tuples,\n      propagateResult,\n      middlewareState,\n      handler\n    );\n    return propagateResult ? result : middlewareState.handlerResult;\n  } catch (e) {\n    if (!middlewareState.middlewareError) {\n      throw e;\n    }\n    let result = await errorHandler(\n      middlewareState.middlewareError.error,\n      middlewareState.middlewareError.routeId\n    );\n    if (propagateResult || !middlewareState.handlerResult) {\n      return result;\n    }\n    return Object.assign(middlewareState.handlerResult, result);\n  }\n}\nasync function callRouteMiddleware(args, middlewares, propagateResult, middlewareState, handler, idx = 0) {\n  let { request } = args;\n  if (request.signal.aborted) {\n    if (request.signal.reason) {\n      throw request.signal.reason;\n    }\n    throw new Error(\n      `Request aborted without an \\`AbortSignal.reason\\`: ${request.method} ${request.url}`\n    );\n  }\n  let tuple = middlewares[idx];\n  if (!tuple) {\n    middlewareState.handlerResult = await handler();\n    return middlewareState.handlerResult;\n  }\n  let [routeId, middleware] = tuple;\n  let nextCalled = false;\n  let nextResult = void 0;\n  let next = async () => {\n    if (nextCalled) {\n      throw new Error(\"You may only call `next()` once per middleware\");\n    }\n    nextCalled = true;\n    let result = await callRouteMiddleware(\n      args,\n      middlewares,\n      propagateResult,\n      middlewareState,\n      handler,\n      idx + 1\n    );\n    if (propagateResult) {\n      nextResult = result;\n      return nextResult;\n    }\n  };\n  try {\n    let result = await middleware(\n      {\n        request: args.request,\n        params: args.params,\n        context: args.context\n      },\n      next\n    );\n    if (nextCalled) {\n      if (result === void 0) {\n        return nextResult;\n      } else {\n        return result;\n      }\n    } else {\n      return next();\n    }\n  } catch (error) {\n    if (!middlewareState.middlewareError) {\n      middlewareState.middlewareError = { routeId, error };\n    } else if (middlewareState.middlewareError.error !== error) {\n      middlewareState.middlewareError = { routeId, error };\n    }\n    throw error;\n  }\n}\nfunction getDataStrategyMatchLazyPromises(mapRouteProperties2, manifest, request, match, lazyRoutePropertiesToSkip) {\n  let lazyMiddlewarePromise = loadLazyRouteProperty({\n    key: \"unstable_middleware\",\n    route: match.route,\n    manifest,\n    mapRouteProperties: mapRouteProperties2\n  });\n  let lazyRoutePromises = loadLazyRoute(\n    match.route,\n    isMutationMethod(request.method) ? \"action\" : \"loader\",\n    manifest,\n    mapRouteProperties2,\n    lazyRoutePropertiesToSkip\n  );\n  return {\n    middleware: lazyMiddlewarePromise,\n    route: lazyRoutePromises.lazyRoutePromise,\n    handler: lazyRoutePromises.lazyHandlerPromise\n  };\n}\nfunction getDataStrategyMatch(mapRouteProperties2, manifest, request, match, lazyRoutePropertiesToSkip, scopedContext, shouldLoad, unstable_shouldRevalidateArgs = null) {\n  let isUsingNewApi = false;\n  let _lazyPromises = getDataStrategyMatchLazyPromises(\n    mapRouteProperties2,\n    manifest,\n    request,\n    match,\n    lazyRoutePropertiesToSkip\n  );\n  return {\n    ...match,\n    _lazyPromises,\n    shouldLoad,\n    unstable_shouldRevalidateArgs,\n    unstable_shouldCallHandler(defaultShouldRevalidate) {\n      isUsingNewApi = true;\n      if (!unstable_shouldRevalidateArgs) {\n        return shouldLoad;\n      }\n      if (typeof defaultShouldRevalidate === \"boolean\") {\n        return shouldRevalidateLoader(match, {\n          ...unstable_shouldRevalidateArgs,\n          defaultShouldRevalidate\n        });\n      }\n      return shouldRevalidateLoader(match, unstable_shouldRevalidateArgs);\n    },\n    resolve(handlerOverride) {\n      if (isUsingNewApi || shouldLoad || handlerOverride && request.method === \"GET\" && (match.route.lazy || match.route.loader)) {\n        return callLoaderOrAction({\n          request,\n          match,\n          lazyHandlerPromise: _lazyPromises?.handler,\n          lazyRoutePromise: _lazyPromises?.route,\n          handlerOverride,\n          scopedContext\n        });\n      }\n      return Promise.resolve({ type: \"data\" /* data */, result: void 0 });\n    }\n  };\n}\nfunction getTargetedDataStrategyMatches(mapRouteProperties2, manifest, request, matches, targetMatch, lazyRoutePropertiesToSkip, scopedContext, shouldRevalidateArgs = null) {\n  return matches.map((match) => {\n    if (match.route.id !== targetMatch.route.id) {\n      return {\n        ...match,\n        shouldLoad: false,\n        unstable_shouldRevalidateArgs: shouldRevalidateArgs,\n        unstable_shouldCallHandler: () => false,\n        _lazyPromises: getDataStrategyMatchLazyPromises(\n          mapRouteProperties2,\n          manifest,\n          request,\n          match,\n          lazyRoutePropertiesToSkip\n        ),\n        resolve: () => Promise.resolve({ type: \"data\", result: void 0 })\n      };\n    }\n    return getDataStrategyMatch(\n      mapRouteProperties2,\n      manifest,\n      request,\n      match,\n      lazyRoutePropertiesToSkip,\n      scopedContext,\n      true,\n      shouldRevalidateArgs\n    );\n  });\n}\nasync function callDataStrategyImpl(dataStrategyImpl, request, matches, fetcherKey, scopedContext, isStaticHandler) {\n  if (matches.some((m) => m._lazyPromises?.middleware)) {\n    await Promise.all(matches.map((m) => m._lazyPromises?.middleware));\n  }\n  let dataStrategyArgs = {\n    request,\n    params: matches[0].params,\n    context: scopedContext,\n    matches\n  };\n  let unstable_runClientMiddleware = isStaticHandler ? () => {\n    throw new Error(\n      \"You cannot call `unstable_runClientMiddleware()` from a static handler `dataStrategy`. Middleware is run outside of `dataStrategy` during SSR in order to bubble up the Response.  You can enable middleware via the `respond` API in `query`/`queryRoute`\"\n    );\n  } : (cb) => {\n    let typedDataStrategyArgs = dataStrategyArgs;\n    return runMiddlewarePipeline(\n      typedDataStrategyArgs,\n      false,\n      () => cb({\n        ...typedDataStrategyArgs,\n        fetcherKey,\n        unstable_runClientMiddleware: () => {\n          throw new Error(\n            \"Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler\"\n          );\n        }\n      }),\n      (error, routeId) => ({\n        [routeId]: { type: \"error\", result: error }\n      })\n    );\n  };\n  let results = await dataStrategyImpl({\n    ...dataStrategyArgs,\n    fetcherKey,\n    unstable_runClientMiddleware\n  });\n  try {\n    await Promise.all(\n      matches.flatMap((m) => [m._lazyPromises?.handler, m._lazyPromises?.route])\n    );\n  } catch (e) {\n  }\n  return results;\n}\nasync function callLoaderOrAction({\n  request,\n  match,\n  lazyHandlerPromise,\n  lazyRoutePromise,\n  handlerOverride,\n  scopedContext\n}) {\n  let result;\n  let onReject;\n  let isAction = isMutationMethod(request.method);\n  let type = isAction ? \"action\" : \"loader\";\n  let runHandler = (handler) => {\n    let reject;\n    let abortPromise = new Promise((_, r) => reject = r);\n    onReject = () => reject();\n    request.signal.addEventListener(\"abort\", onReject);\n    let actualHandler = (ctx) => {\n      if (typeof handler !== \"function\") {\n        return Promise.reject(\n          new Error(\n            `You cannot call the handler for a route which defines a boolean \"${type}\" [routeId: ${match.route.id}]`\n          )\n        );\n      }\n      return handler(\n        {\n          request,\n          params: match.params,\n          context: scopedContext\n        },\n        ...ctx !== void 0 ? [ctx] : []\n      );\n    };\n    let handlerPromise = (async () => {\n      try {\n        let val = await (handlerOverride ? handlerOverride((ctx) => actualHandler(ctx)) : actualHandler());\n        return { type: \"data\", result: val };\n      } catch (e) {\n        return { type: \"error\", result: e };\n      }\n    })();\n    return Promise.race([handlerPromise, abortPromise]);\n  };\n  try {\n    let handler = isAction ? match.route.action : match.route.loader;\n    if (lazyHandlerPromise || lazyRoutePromise) {\n      if (handler) {\n        let handlerError;\n        let [value] = await Promise.all([\n          // If the handler throws, don't let it immediately bubble out,\n          // since we need to let the lazy() execution finish so we know if this\n          // route has a boundary that can handle the error\n          runHandler(handler).catch((e) => {\n            handlerError = e;\n          }),\n          // Ensure all lazy route promises are resolved before continuing\n          lazyHandlerPromise,\n          lazyRoutePromise\n        ]);\n        if (handlerError !== void 0) {\n          throw handlerError;\n        }\n        result = value;\n      } else {\n        await lazyHandlerPromise;\n        let handler2 = isAction ? match.route.action : match.route.loader;\n        if (handler2) {\n          [result] = await Promise.all([runHandler(handler2), lazyRoutePromise]);\n        } else if (type === \"action\") {\n          let url = new URL(request.url);\n          let pathname = url.pathname + url.search;\n          throw getInternalRouterError(405, {\n            method: request.method,\n            pathname,\n            routeId: match.route.id\n          });\n        } else {\n          return { type: \"data\" /* data */, result: void 0 };\n        }\n      }\n    } else if (!handler) {\n      let url = new URL(request.url);\n      let pathname = url.pathname + url.search;\n      throw getInternalRouterError(404, {\n        pathname\n      });\n    } else {\n      result = await runHandler(handler);\n    }\n  } catch (e) {\n    return { type: \"error\" /* error */, result: e };\n  } finally {\n    if (onReject) {\n      request.signal.removeEventListener(\"abort\", onReject);\n    }\n  }\n  return result;\n}\nasync function convertDataStrategyResultToDataResult(dataStrategyResult) {\n  let { result, type } = dataStrategyResult;\n  if (isResponse(result)) {\n    let data2;\n    try {\n      let contentType = result.headers.get(\"Content-Type\");\n      if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n        if (result.body == null) {\n          data2 = null;\n        } else {\n          data2 = await result.json();\n        }\n      } else {\n        data2 = await result.text();\n      }\n    } catch (e) {\n      return { type: \"error\" /* error */, error: e };\n    }\n    if (type === \"error\" /* error */) {\n      return {\n        type: \"error\" /* error */,\n        error: new ErrorResponseImpl(result.status, result.statusText, data2),\n        statusCode: result.status,\n        headers: result.headers\n      };\n    }\n    return {\n      type: \"data\" /* data */,\n      data: data2,\n      statusCode: result.status,\n      headers: result.headers\n    };\n  }\n  if (type === \"error\" /* error */) {\n    if (isDataWithResponseInit(result)) {\n      if (result.data instanceof Error) {\n        return {\n          type: \"error\" /* error */,\n          error: result.data,\n          statusCode: result.init?.status,\n          headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n        };\n      }\n      return {\n        type: \"error\" /* error */,\n        error: new ErrorResponseImpl(\n          result.init?.status || 500,\n          void 0,\n          result.data\n        ),\n        statusCode: isRouteErrorResponse(result) ? result.status : void 0,\n        headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n      };\n    }\n    return {\n      type: \"error\" /* error */,\n      error: result,\n      statusCode: isRouteErrorResponse(result) ? result.status : void 0\n    };\n  }\n  if (isDataWithResponseInit(result)) {\n    return {\n      type: \"data\" /* data */,\n      data: result.data,\n      statusCode: result.init?.status,\n      headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n    };\n  }\n  return { type: \"data\" /* data */, data: result };\n}\nfunction normalizeRelativeRoutingRedirectResponse(response, request, routeId, matches, basename) {\n  let location = response.headers.get(\"Location\");\n  invariant(\n    location,\n    \"Redirects returned/thrown from loaders/actions must have a Location header\"\n  );\n  if (!ABSOLUTE_URL_REGEX.test(location)) {\n    let trimmedMatches = matches.slice(\n      0,\n      matches.findIndex((m) => m.route.id === routeId) + 1\n    );\n    location = normalizeTo(\n      new URL(request.url),\n      trimmedMatches,\n      basename,\n      location\n    );\n    response.headers.set(\"Location\", location);\n  }\n  return response;\n}\nfunction normalizeRedirectLocation(location, currentUrl, basename) {\n  if (ABSOLUTE_URL_REGEX.test(location)) {\n    let normalizedLocation = location;\n    let url = normalizedLocation.startsWith(\"//\") ? new URL(currentUrl.protocol + normalizedLocation) : new URL(normalizedLocation);\n    let isSameBasename = stripBasename(url.pathname, basename) != null;\n    if (url.origin === currentUrl.origin && isSameBasename) {\n      return url.pathname + url.search + url.hash;\n    }\n  }\n  return location;\n}\nfunction createClientSideRequest(history, location, signal, submission) {\n  let url = history.createURL(stripHashFromPath(location)).toString();\n  let init = { signal };\n  if (submission && isMutationMethod(submission.formMethod)) {\n    let { formMethod, formEncType } = submission;\n    init.method = formMethod.toUpperCase();\n    if (formEncType === \"application/json\") {\n      init.headers = new Headers({ \"Content-Type\": formEncType });\n      init.body = JSON.stringify(submission.json);\n    } else if (formEncType === \"text/plain\") {\n      init.body = submission.text;\n    } else if (formEncType === \"application/x-www-form-urlencoded\" && submission.formData) {\n      init.body = convertFormDataToSearchParams(submission.formData);\n    } else {\n      init.body = submission.formData;\n    }\n  }\n  return new Request(url, init);\n}\nfunction convertFormDataToSearchParams(formData) {\n  let searchParams = new URLSearchParams();\n  for (let [key, value] of formData.entries()) {\n    searchParams.append(key, typeof value === \"string\" ? value : value.name);\n  }\n  return searchParams;\n}\nfunction convertSearchParamsToFormData(searchParams) {\n  let formData = new FormData();\n  for (let [key, value] of searchParams.entries()) {\n    formData.append(key, value);\n  }\n  return formData;\n}\nfunction processRouteLoaderData(matches, results, pendingActionResult, isStaticHandler = false, skipLoaderErrorBubbling = false) {\n  let loaderData = {};\n  let errors = null;\n  let statusCode;\n  let foundError = false;\n  let loaderHeaders = {};\n  let pendingError = pendingActionResult && isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : void 0;\n  matches.forEach((match) => {\n    if (!(match.route.id in results)) {\n      return;\n    }\n    let id = match.route.id;\n    let result = results[id];\n    invariant(\n      !isRedirectResult(result),\n      \"Cannot handle redirect results in processLoaderData\"\n    );\n    if (isErrorResult(result)) {\n      let error = result.error;\n      if (pendingError !== void 0) {\n        error = pendingError;\n        pendingError = void 0;\n      }\n      errors = errors || {};\n      if (skipLoaderErrorBubbling) {\n        errors[id] = error;\n      } else {\n        let boundaryMatch = findNearestBoundary(matches, id);\n        if (errors[boundaryMatch.route.id] == null) {\n          errors[boundaryMatch.route.id] = error;\n        }\n      }\n      if (!isStaticHandler) {\n        loaderData[id] = ResetLoaderDataSymbol;\n      }\n      if (!foundError) {\n        foundError = true;\n        statusCode = isRouteErrorResponse(result.error) ? result.error.status : 500;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    } else {\n      loaderData[id] = result.data;\n      if (result.statusCode && result.statusCode !== 200 && !foundError) {\n        statusCode = result.statusCode;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    }\n  });\n  if (pendingError !== void 0 && pendingActionResult) {\n    errors = { [pendingActionResult[0]]: pendingError };\n    if (pendingActionResult[2]) {\n      loaderData[pendingActionResult[2]] = void 0;\n    }\n  }\n  return {\n    loaderData,\n    errors,\n    statusCode: statusCode || 200,\n    loaderHeaders\n  };\n}\nfunction processLoaderData(state, matches, results, pendingActionResult, revalidatingFetchers, fetcherResults) {\n  let { loaderData, errors } = processRouteLoaderData(\n    matches,\n    results,\n    pendingActionResult\n  );\n  revalidatingFetchers.filter((f) => !f.matches || f.matches.some((m) => m.shouldLoad)).forEach((rf) => {\n    let { key, match, controller } = rf;\n    let result = fetcherResults[key];\n    invariant(result, \"Did not find corresponding fetcher result\");\n    if (controller && controller.signal.aborted) {\n      return;\n    } else if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, match?.route.id);\n      if (!(errors && errors[boundaryMatch.route.id])) {\n        errors = {\n          ...errors,\n          [boundaryMatch.route.id]: result.error\n        };\n      }\n      state.fetchers.delete(key);\n    } else if (isRedirectResult(result)) {\n      invariant(false, \"Unhandled fetcher revalidation redirect\");\n    } else {\n      let doneFetcher = getDoneFetcher(result.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  });\n  return { loaderData, errors };\n}\nfunction mergeLoaderData(loaderData, newLoaderData, matches, errors) {\n  let mergedLoaderData = Object.entries(newLoaderData).filter(([, v]) => v !== ResetLoaderDataSymbol).reduce((merged, [k, v]) => {\n    merged[k] = v;\n    return merged;\n  }, {});\n  for (let match of matches) {\n    let id = match.route.id;\n    if (!newLoaderData.hasOwnProperty(id) && loaderData.hasOwnProperty(id) && match.route.loader) {\n      mergedLoaderData[id] = loaderData[id];\n    }\n    if (errors && errors.hasOwnProperty(id)) {\n      break;\n    }\n  }\n  return mergedLoaderData;\n}\nfunction getActionDataForCommit(pendingActionResult) {\n  if (!pendingActionResult) {\n    return {};\n  }\n  return isErrorResult(pendingActionResult[1]) ? {\n    // Clear out prior actionData on errors\n    actionData: {}\n  } : {\n    actionData: {\n      [pendingActionResult[0]]: pendingActionResult[1].data\n    }\n  };\n}\nfunction findNearestBoundary(matches, routeId) {\n  let eligibleMatches = routeId ? matches.slice(0, matches.findIndex((m) => m.route.id === routeId) + 1) : [...matches];\n  return eligibleMatches.reverse().find((m) => m.route.hasErrorBoundary === true) || matches[0];\n}\nfunction getShortCircuitMatches(routes) {\n  let route = routes.length === 1 ? routes[0] : routes.find((r) => r.index || !r.path || r.path === \"/\") || {\n    id: `__shim-error-route__`\n  };\n  return {\n    matches: [\n      {\n        params: {},\n        pathname: \"\",\n        pathnameBase: \"\",\n        route\n      }\n    ],\n    route\n  };\n}\nfunction getInternalRouterError(status, {\n  pathname,\n  routeId,\n  method,\n  type,\n  message\n} = {}) {\n  let statusText = \"Unknown Server Error\";\n  let errorMessage = \"Unknown @remix-run/router error\";\n  if (status === 400) {\n    statusText = \"Bad Request\";\n    if (method && pathname && routeId) {\n      errorMessage = `You made a ${method} request to \"${pathname}\" but did not provide a \\`loader\\` for route \"${routeId}\", so there is no way to handle the request.`;\n    } else if (type === \"invalid-body\") {\n      errorMessage = \"Unable to encode submission body\";\n    }\n  } else if (status === 403) {\n    statusText = \"Forbidden\";\n    errorMessage = `Route \"${routeId}\" does not match URL \"${pathname}\"`;\n  } else if (status === 404) {\n    statusText = \"Not Found\";\n    errorMessage = `No route matches URL \"${pathname}\"`;\n  } else if (status === 405) {\n    statusText = \"Method Not Allowed\";\n    if (method && pathname && routeId) {\n      errorMessage = `You made a ${method.toUpperCase()} request to \"${pathname}\" but did not provide an \\`action\\` for route \"${routeId}\", so there is no way to handle the request.`;\n    } else if (method) {\n      errorMessage = `Invalid request method \"${method.toUpperCase()}\"`;\n    }\n  }\n  return new ErrorResponseImpl(\n    status || 500,\n    statusText,\n    new Error(errorMessage),\n    true\n  );\n}\nfunction findRedirect(results) {\n  let entries = Object.entries(results);\n  for (let i = entries.length - 1; i >= 0; i--) {\n    let [key, result] = entries[i];\n    if (isRedirectResult(result)) {\n      return { key, result };\n    }\n  }\n}\nfunction stripHashFromPath(path) {\n  let parsedPath = typeof path === \"string\" ? parsePath(path) : path;\n  return createPath({ ...parsedPath, hash: \"\" });\n}\nfunction isHashChangeOnly(a, b) {\n  if (a.pathname !== b.pathname || a.search !== b.search) {\n    return false;\n  }\n  if (a.hash === \"\") {\n    return b.hash !== \"\";\n  } else if (a.hash === b.hash) {\n    return true;\n  } else if (b.hash !== \"\") {\n    return true;\n  }\n  return false;\n}\nfunction isDataStrategyResult(result) {\n  return result != null && typeof result === \"object\" && \"type\" in result && \"result\" in result && (result.type === \"data\" /* data */ || result.type === \"error\" /* error */);\n}\nfunction isRedirectDataStrategyResult(result) {\n  return isResponse(result.result) && redirectStatusCodes.has(result.result.status);\n}\nfunction isErrorResult(result) {\n  return result.type === \"error\" /* error */;\n}\nfunction isRedirectResult(result) {\n  return (result && result.type) === \"redirect\" /* redirect */;\n}\nfunction isDataWithResponseInit(value) {\n  return typeof value === \"object\" && value != null && \"type\" in value && \"data\" in value && \"init\" in value && value.type === \"DataWithResponseInit\";\n}\nfunction isResponse(value) {\n  return value != null && typeof value.status === \"number\" && typeof value.statusText === \"string\" && typeof value.headers === \"object\" && typeof value.body !== \"undefined\";\n}\nfunction isRedirectStatusCode(statusCode) {\n  return redirectStatusCodes.has(statusCode);\n}\nfunction isRedirectResponse(result) {\n  return isResponse(result) && isRedirectStatusCode(result.status) && result.headers.has(\"Location\");\n}\nfunction isValidMethod(method) {\n  return validRequestMethods.has(method.toUpperCase());\n}\nfunction isMutationMethod(method) {\n  return validMutationMethods.has(method.toUpperCase());\n}\nfunction hasNakedIndexQuery(search) {\n  return new URLSearchParams(search).getAll(\"index\").some((v) => v === \"\");\n}\nfunction getTargetMatch(matches, location) {\n  let search = typeof location === \"string\" ? parsePath(location).search : location.search;\n  if (matches[matches.length - 1].route.index && hasNakedIndexQuery(search || \"\")) {\n    return matches[matches.length - 1];\n  }\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches[pathMatches.length - 1];\n}\nfunction getSubmissionFromNavigation(navigation) {\n  let { formMethod, formAction, formEncType, text, formData, json } = navigation;\n  if (!formMethod || !formAction || !formEncType) {\n    return;\n  }\n  if (text != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: void 0,\n      json: void 0,\n      text\n    };\n  } else if (formData != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData,\n      json: void 0,\n      text: void 0\n    };\n  } else if (json !== void 0) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: void 0,\n      json,\n      text: void 0\n    };\n  }\n}\nfunction getLoadingNavigation(location, submission) {\n  if (submission) {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text\n    };\n    return navigation;\n  } else {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: void 0,\n      formAction: void 0,\n      formEncType: void 0,\n      formData: void 0,\n      json: void 0,\n      text: void 0\n    };\n    return navigation;\n  }\n}\nfunction getSubmittingNavigation(location, submission) {\n  let navigation = {\n    state: \"submitting\",\n    location,\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text\n  };\n  return navigation;\n}\nfunction getLoadingFetcher(submission, data2) {\n  if (submission) {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text,\n      data: data2\n    };\n    return fetcher;\n  } else {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: void 0,\n      formAction: void 0,\n      formEncType: void 0,\n      formData: void 0,\n      json: void 0,\n      text: void 0,\n      data: data2\n    };\n    return fetcher;\n  }\n}\nfunction getSubmittingFetcher(submission, existingFetcher) {\n  let fetcher = {\n    state: \"submitting\",\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text,\n    data: existingFetcher ? existingFetcher.data : void 0\n  };\n  return fetcher;\n}\nfunction getDoneFetcher(data2) {\n  let fetcher = {\n    state: \"idle\",\n    formMethod: void 0,\n    formAction: void 0,\n    formEncType: void 0,\n    formData: void 0,\n    json: void 0,\n    text: void 0,\n    data: data2\n  };\n  return fetcher;\n}\nfunction restoreAppliedTransitions(_window, transitions) {\n  try {\n    let sessionPositions = _window.sessionStorage.getItem(\n      TRANSITIONS_STORAGE_KEY\n    );\n    if (sessionPositions) {\n      let json = JSON.parse(sessionPositions);\n      for (let [k, v] of Object.entries(json || {})) {\n        if (v && Array.isArray(v)) {\n          transitions.set(k, new Set(v || []));\n        }\n      }\n    }\n  } catch (e) {\n  }\n}\nfunction persistAppliedTransitions(_window, transitions) {\n  if (transitions.size > 0) {\n    let json = {};\n    for (let [k, v] of transitions) {\n      json[k] = [...v];\n    }\n    try {\n      _window.sessionStorage.setItem(\n        TRANSITIONS_STORAGE_KEY,\n        JSON.stringify(json)\n      );\n    } catch (error) {\n      warning(\n        false,\n        `Failed to save applied view transitions in sessionStorage (${error}).`\n      );\n    }\n  }\n}\nfunction createDeferred() {\n  let resolve;\n  let reject;\n  let promise = new Promise((res, rej) => {\n    resolve = async (val) => {\n      res(val);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n    reject = async (error) => {\n      rej(error);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n  });\n  return {\n    promise,\n    //@ts-ignore\n    resolve,\n    //@ts-ignore\n    reject\n  };\n}\n\n// lib/components.tsx\nimport * as React3 from \"react\";\n\n// lib/context.ts\nimport * as React from \"react\";\nvar DataRouterContext = React.createContext(null);\nDataRouterContext.displayName = \"DataRouter\";\nvar DataRouterStateContext = React.createContext(null);\nDataRouterStateContext.displayName = \"DataRouterState\";\nvar ViewTransitionContext = React.createContext({\n  isTransitioning: false\n});\nViewTransitionContext.displayName = \"ViewTransition\";\nvar FetchersContext = React.createContext(\n  /* @__PURE__ */ new Map()\n);\nFetchersContext.displayName = \"Fetchers\";\nvar AwaitContext = React.createContext(null);\nAwaitContext.displayName = \"Await\";\nvar NavigationContext = React.createContext(\n  null\n);\nNavigationContext.displayName = \"Navigation\";\nvar LocationContext = React.createContext(\n  null\n);\nLocationContext.displayName = \"Location\";\nvar RouteContext = React.createContext({\n  outlet: null,\n  matches: [],\n  isDataRoute: false\n});\nRouteContext.displayName = \"Route\";\nvar RouteErrorContext = React.createContext(null);\nRouteErrorContext.displayName = \"RouteError\";\nvar ENABLE_DEV_WARNINGS = true;\n\n// lib/hooks.tsx\nimport * as React2 from \"react\";\nfunction useHref(to, { relative } = {}) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useHref() may be used only in the context of a <Router> component.`\n  );\n  let { basename, navigator } = React2.useContext(NavigationContext);\n  let { hash, pathname, search } = useResolvedPath(to, { relative });\n  let joinedPathname = pathname;\n  if (basename !== \"/\") {\n    joinedPathname = pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n  }\n  return navigator.createHref({ pathname: joinedPathname, search, hash });\n}\nfunction useInRouterContext() {\n  return React2.useContext(LocationContext) != null;\n}\nfunction useLocation() {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useLocation() may be used only in the context of a <Router> component.`\n  );\n  return React2.useContext(LocationContext).location;\n}\nfunction useNavigationType() {\n  return React2.useContext(LocationContext).navigationType;\n}\nfunction useMatch(pattern) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useMatch() may be used only in the context of a <Router> component.`\n  );\n  let { pathname } = useLocation();\n  return React2.useMemo(\n    () => matchPath(pattern, decodePath(pathname)),\n    [pathname, pattern]\n  );\n}\nvar navigateEffectWarning = `You should call navigate() in a React.useEffect(), not when your component is first rendered.`;\nfunction useIsomorphicLayoutEffect(cb) {\n  let isStatic = React2.useContext(NavigationContext).static;\n  if (!isStatic) {\n    React2.useLayoutEffect(cb);\n  }\n}\nfunction useNavigate() {\n  let { isDataRoute } = React2.useContext(RouteContext);\n  return isDataRoute ? useNavigateStable() : useNavigateUnstable();\n}\nfunction useNavigateUnstable() {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useNavigate() may be used only in the context of a <Router> component.`\n  );\n  let dataRouterContext = React2.useContext(DataRouterContext);\n  let { basename, navigator } = React2.useContext(NavigationContext);\n  let { matches } = React2.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches));\n  let activeRef = React2.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React2.useCallback(\n    (to, options = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n      if (!activeRef.current) return;\n      if (typeof to === \"number\") {\n        navigator.go(to);\n        return;\n      }\n      let path = resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        options.relative === \"path\"\n      );\n      if (dataRouterContext == null && basename !== \"/\") {\n        path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n      }\n      (!!options.replace ? navigator.replace : navigator.push)(\n        path,\n        options.state,\n        options\n      );\n    },\n    [\n      basename,\n      navigator,\n      routePathnamesJson,\n      locationPathname,\n      dataRouterContext\n    ]\n  );\n  return navigate;\n}\nvar OutletContext = React2.createContext(null);\nfunction useOutletContext() {\n  return React2.useContext(OutletContext);\n}\nfunction useOutlet(context) {\n  let outlet = React2.useContext(RouteContext).outlet;\n  if (outlet) {\n    return /* @__PURE__ */ React2.createElement(OutletContext.Provider, { value: context }, outlet);\n  }\n  return outlet;\n}\nfunction useParams() {\n  let { matches } = React2.useContext(RouteContext);\n  let routeMatch = matches[matches.length - 1];\n  return routeMatch ? routeMatch.params : {};\n}\nfunction useResolvedPath(to, { relative } = {}) {\n  let { matches } = React2.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches));\n  return React2.useMemo(\n    () => resolveTo(\n      to,\n      JSON.parse(routePathnamesJson),\n      locationPathname,\n      relative === \"path\"\n    ),\n    [to, routePathnamesJson, locationPathname, relative]\n  );\n}\nfunction useRoutes(routes, locationArg) {\n  return useRoutesImpl(routes, locationArg);\n}\nfunction useRoutesImpl(routes, locationArg, dataRouterState, future) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useRoutes() may be used only in the context of a <Router> component.`\n  );\n  let { navigator } = React2.useContext(NavigationContext);\n  let { matches: parentMatches } = React2.useContext(RouteContext);\n  let routeMatch = parentMatches[parentMatches.length - 1];\n  let parentParams = routeMatch ? routeMatch.params : {};\n  let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n  let parentRoute = routeMatch && routeMatch.route;\n  if (ENABLE_DEV_WARNINGS) {\n    let parentPath = parentRoute && parentRoute.path || \"\";\n    warningOnce(\n      parentPathname,\n      !parentRoute || parentPath.endsWith(\"*\") || parentPath.endsWith(\"*?\"),\n      `You rendered descendant <Routes> (or called \\`useRoutes()\\`) at \"${parentPathname}\" (under <Route path=\"${parentPath}\">) but the parent route path has no trailing \"*\". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path=\"${parentPath}\"> to <Route path=\"${parentPath === \"/\" ? \"*\" : `${parentPath}/*`}\">.`\n    );\n  }\n  let locationFromContext = useLocation();\n  let location;\n  if (locationArg) {\n    let parsedLocationArg = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n    invariant(\n      parentPathnameBase === \"/\" || parsedLocationArg.pathname?.startsWith(parentPathnameBase),\n      `When overriding the location using \\`<Routes location>\\` or \\`useRoutes(routes, location)\\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is \"${parentPathnameBase}\" but pathname \"${parsedLocationArg.pathname}\" was given in the \\`location\\` prop.`\n    );\n    location = parsedLocationArg;\n  } else {\n    location = locationFromContext;\n  }\n  let pathname = location.pathname || \"/\";\n  let remainingPathname = pathname;\n  if (parentPathnameBase !== \"/\") {\n    let parentSegments = parentPathnameBase.replace(/^\\//, \"\").split(\"/\");\n    let segments = pathname.replace(/^\\//, \"\").split(\"/\");\n    remainingPathname = \"/\" + segments.slice(parentSegments.length).join(\"/\");\n  }\n  let matches = matchRoutes(routes, { pathname: remainingPathname });\n  if (ENABLE_DEV_WARNINGS) {\n    warning(\n      parentRoute || matches != null,\n      `No routes matched location \"${location.pathname}${location.search}${location.hash}\" `\n    );\n    warning(\n      matches == null || matches[matches.length - 1].route.element !== void 0 || matches[matches.length - 1].route.Component !== void 0 || matches[matches.length - 1].route.lazy !== void 0,\n      `Matched leaf route at location \"${location.pathname}${location.search}${location.hash}\" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an \"empty\" page.`\n    );\n  }\n  let renderedMatches = _renderMatches(\n    matches && matches.map(\n      (match) => Object.assign({}, match, {\n        params: Object.assign({}, parentParams, match.params),\n        pathname: joinPaths([\n          parentPathnameBase,\n          // Re-encode pathnames that were decoded inside matchRoutes\n          navigator.encodeLocation ? navigator.encodeLocation(match.pathname).pathname : match.pathname\n        ]),\n        pathnameBase: match.pathnameBase === \"/\" ? parentPathnameBase : joinPaths([\n          parentPathnameBase,\n          // Re-encode pathnames that were decoded inside matchRoutes\n          navigator.encodeLocation ? navigator.encodeLocation(match.pathnameBase).pathname : match.pathnameBase\n        ])\n      })\n    ),\n    parentMatches,\n    dataRouterState,\n    future\n  );\n  if (locationArg && renderedMatches) {\n    return /* @__PURE__ */ React2.createElement(\n      LocationContext.Provider,\n      {\n        value: {\n          location: {\n            pathname: \"/\",\n            search: \"\",\n            hash: \"\",\n            state: null,\n            key: \"default\",\n            ...location\n          },\n          navigationType: \"POP\" /* Pop */\n        }\n      },\n      renderedMatches\n    );\n  }\n  return renderedMatches;\n}\nfunction DefaultErrorComponent() {\n  let error = useRouteError();\n  let message = isRouteErrorResponse(error) ? `${error.status} ${error.statusText}` : error instanceof Error ? error.message : JSON.stringify(error);\n  let stack = error instanceof Error ? error.stack : null;\n  let lightgrey = \"rgba(200,200,200, 0.5)\";\n  let preStyles = { padding: \"0.5rem\", backgroundColor: lightgrey };\n  let codeStyles = { padding: \"2px 4px\", backgroundColor: lightgrey };\n  let devInfo = null;\n  if (ENABLE_DEV_WARNINGS) {\n    console.error(\n      \"Error handled by React Router default ErrorBoundary:\",\n      error\n    );\n    devInfo = /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement(\"p\", null, \"\\u{1F4BF} Hey developer \\u{1F44B}\"), /* @__PURE__ */ React2.createElement(\"p\", null, \"You can provide a way better UX than this when your app throws errors by providing your own \", /* @__PURE__ */ React2.createElement(\"code\", { style: codeStyles }, \"ErrorBoundary\"), \" or\", \" \", /* @__PURE__ */ React2.createElement(\"code\", { style: codeStyles }, \"errorElement\"), \" prop on your route.\"));\n  }\n  return /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement(\"h2\", null, \"Unexpected Application Error!\"), /* @__PURE__ */ React2.createElement(\"h3\", { style: { fontStyle: \"italic\" } }, message), stack ? /* @__PURE__ */ React2.createElement(\"pre\", { style: preStyles }, stack) : null, devInfo);\n}\nvar defaultErrorElement = /* @__PURE__ */ React2.createElement(DefaultErrorComponent, null);\nvar RenderErrorBoundary = class extends React2.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: props.location,\n      revalidation: props.revalidation,\n      error: props.error\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  static getDerivedStateFromProps(props, state) {\n    if (state.location !== props.location || state.revalidation !== \"idle\" && props.revalidation === \"idle\") {\n      return {\n        error: props.error,\n        location: props.location,\n        revalidation: props.revalidation\n      };\n    }\n    return {\n      error: props.error !== void 0 ? props.error : state.error,\n      location: state.location,\n      revalidation: props.revalidation || state.revalidation\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\n      \"React Router caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n  render() {\n    return this.state.error !== void 0 ? /* @__PURE__ */ React2.createElement(RouteContext.Provider, { value: this.props.routeContext }, /* @__PURE__ */ React2.createElement(\n      RouteErrorContext.Provider,\n      {\n        value: this.state.error,\n        children: this.props.component\n      }\n    )) : this.props.children;\n  }\n};\nfunction RenderedRoute({ routeContext, match, children }) {\n  let dataRouterContext = React2.useContext(DataRouterContext);\n  if (dataRouterContext && dataRouterContext.static && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) {\n    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n  }\n  return /* @__PURE__ */ React2.createElement(RouteContext.Provider, { value: routeContext }, children);\n}\nfunction _renderMatches(matches, parentMatches = [], dataRouterState = null, future = null) {\n  if (matches == null) {\n    if (!dataRouterState) {\n      return null;\n    }\n    if (dataRouterState.errors) {\n      matches = dataRouterState.matches;\n    } else if (parentMatches.length === 0 && !dataRouterState.initialized && dataRouterState.matches.length > 0) {\n      matches = dataRouterState.matches;\n    } else {\n      return null;\n    }\n  }\n  let renderedMatches = matches;\n  let errors = dataRouterState?.errors;\n  if (errors != null) {\n    let errorIndex = renderedMatches.findIndex(\n      (m) => m.route.id && errors?.[m.route.id] !== void 0\n    );\n    invariant(\n      errorIndex >= 0,\n      `Could not find a matching route for errors on route IDs: ${Object.keys(\n        errors\n      ).join(\",\")}`\n    );\n    renderedMatches = renderedMatches.slice(\n      0,\n      Math.min(renderedMatches.length, errorIndex + 1)\n    );\n  }\n  let renderFallback = false;\n  let fallbackIndex = -1;\n  if (dataRouterState) {\n    for (let i = 0; i < renderedMatches.length; i++) {\n      let match = renderedMatches[i];\n      if (match.route.HydrateFallback || match.route.hydrateFallbackElement) {\n        fallbackIndex = i;\n      }\n      if (match.route.id) {\n        let { loaderData, errors: errors2 } = dataRouterState;\n        let needsToRunLoader = match.route.loader && !loaderData.hasOwnProperty(match.route.id) && (!errors2 || errors2[match.route.id] === void 0);\n        if (match.route.lazy || needsToRunLoader) {\n          renderFallback = true;\n          if (fallbackIndex >= 0) {\n            renderedMatches = renderedMatches.slice(0, fallbackIndex + 1);\n          } else {\n            renderedMatches = [renderedMatches[0]];\n          }\n          break;\n        }\n      }\n    }\n  }\n  return renderedMatches.reduceRight((outlet, match, index) => {\n    let error;\n    let shouldRenderHydrateFallback = false;\n    let errorElement = null;\n    let hydrateFallbackElement = null;\n    if (dataRouterState) {\n      error = errors && match.route.id ? errors[match.route.id] : void 0;\n      errorElement = match.route.errorElement || defaultErrorElement;\n      if (renderFallback) {\n        if (fallbackIndex < 0 && index === 0) {\n          warningOnce(\n            \"route-fallback\",\n            false,\n            \"No `HydrateFallback` element provided to render during initial hydration\"\n          );\n          shouldRenderHydrateFallback = true;\n          hydrateFallbackElement = null;\n        } else if (fallbackIndex === index) {\n          shouldRenderHydrateFallback = true;\n          hydrateFallbackElement = match.route.hydrateFallbackElement || null;\n        }\n      }\n    }\n    let matches2 = parentMatches.concat(renderedMatches.slice(0, index + 1));\n    let getChildren = () => {\n      let children;\n      if (error) {\n        children = errorElement;\n      } else if (shouldRenderHydrateFallback) {\n        children = hydrateFallbackElement;\n      } else if (match.route.Component) {\n        children = /* @__PURE__ */ React2.createElement(match.route.Component, null);\n      } else if (match.route.element) {\n        children = match.route.element;\n      } else {\n        children = outlet;\n      }\n      return /* @__PURE__ */ React2.createElement(\n        RenderedRoute,\n        {\n          match,\n          routeContext: {\n            outlet,\n            matches: matches2,\n            isDataRoute: dataRouterState != null\n          },\n          children\n        }\n      );\n    };\n    return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /* @__PURE__ */ React2.createElement(\n      RenderErrorBoundary,\n      {\n        location: dataRouterState.location,\n        revalidation: dataRouterState.revalidation,\n        component: errorElement,\n        error,\n        children: getChildren(),\n        routeContext: { outlet: null, matches: matches2, isDataRoute: true }\n      }\n    ) : getChildren();\n  }, null);\n}\nfunction getDataRouterConsoleError(hookName) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;\n}\nfunction useDataRouterContext(hookName) {\n  let ctx = React2.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\nfunction useDataRouterState(hookName) {\n  let state = React2.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\nfunction useRouteContext(hookName) {\n  let route = React2.useContext(RouteContext);\n  invariant(route, getDataRouterConsoleError(hookName));\n  return route;\n}\nfunction useCurrentRouteId(hookName) {\n  let route = useRouteContext(hookName);\n  let thisRoute = route.matches[route.matches.length - 1];\n  invariant(\n    thisRoute.route.id,\n    `${hookName} can only be used on routes that contain a unique \"id\"`\n  );\n  return thisRoute.route.id;\n}\nfunction useRouteId() {\n  return useCurrentRouteId(\"useRouteId\" /* UseRouteId */);\n}\nfunction useNavigation() {\n  let state = useDataRouterState(\"useNavigation\" /* UseNavigation */);\n  return state.navigation;\n}\nfunction useRevalidator() {\n  let dataRouterContext = useDataRouterContext(\"useRevalidator\" /* UseRevalidator */);\n  let state = useDataRouterState(\"useRevalidator\" /* UseRevalidator */);\n  let revalidate = React2.useCallback(async () => {\n    await dataRouterContext.router.revalidate();\n  }, [dataRouterContext.router]);\n  return React2.useMemo(\n    () => ({ revalidate, state: state.revalidation }),\n    [revalidate, state.revalidation]\n  );\n}\nfunction useMatches() {\n  let { matches, loaderData } = useDataRouterState(\n    \"useMatches\" /* UseMatches */\n  );\n  return React2.useMemo(\n    () => matches.map((m) => convertRouteMatchToUiMatch(m, loaderData)),\n    [matches, loaderData]\n  );\n}\nfunction useLoaderData() {\n  let state = useDataRouterState(\"useLoaderData\" /* UseLoaderData */);\n  let routeId = useCurrentRouteId(\"useLoaderData\" /* UseLoaderData */);\n  return state.loaderData[routeId];\n}\nfunction useRouteLoaderData(routeId) {\n  let state = useDataRouterState(\"useRouteLoaderData\" /* UseRouteLoaderData */);\n  return state.loaderData[routeId];\n}\nfunction useActionData() {\n  let state = useDataRouterState(\"useActionData\" /* UseActionData */);\n  let routeId = useCurrentRouteId(\"useLoaderData\" /* UseLoaderData */);\n  return state.actionData ? state.actionData[routeId] : void 0;\n}\nfunction useRouteError() {\n  let error = React2.useContext(RouteErrorContext);\n  let state = useDataRouterState(\"useRouteError\" /* UseRouteError */);\n  let routeId = useCurrentRouteId(\"useRouteError\" /* UseRouteError */);\n  if (error !== void 0) {\n    return error;\n  }\n  return state.errors?.[routeId];\n}\nfunction useAsyncValue() {\n  let value = React2.useContext(AwaitContext);\n  return value?._data;\n}\nfunction useAsyncError() {\n  let value = React2.useContext(AwaitContext);\n  return value?._error;\n}\nvar blockerId = 0;\nfunction useBlocker(shouldBlock) {\n  let { router, basename } = useDataRouterContext(\"useBlocker\" /* UseBlocker */);\n  let state = useDataRouterState(\"useBlocker\" /* UseBlocker */);\n  let [blockerKey, setBlockerKey] = React2.useState(\"\");\n  let blockerFunction = React2.useCallback(\n    (arg) => {\n      if (typeof shouldBlock !== \"function\") {\n        return !!shouldBlock;\n      }\n      if (basename === \"/\") {\n        return shouldBlock(arg);\n      }\n      let { currentLocation, nextLocation, historyAction } = arg;\n      return shouldBlock({\n        currentLocation: {\n          ...currentLocation,\n          pathname: stripBasename(currentLocation.pathname, basename) || currentLocation.pathname\n        },\n        nextLocation: {\n          ...nextLocation,\n          pathname: stripBasename(nextLocation.pathname, basename) || nextLocation.pathname\n        },\n        historyAction\n      });\n    },\n    [basename, shouldBlock]\n  );\n  React2.useEffect(() => {\n    let key = String(++blockerId);\n    setBlockerKey(key);\n    return () => router.deleteBlocker(key);\n  }, [router]);\n  React2.useEffect(() => {\n    if (blockerKey !== \"\") {\n      router.getBlocker(blockerKey, blockerFunction);\n    }\n  }, [router, blockerKey, blockerFunction]);\n  return blockerKey && state.blockers.has(blockerKey) ? state.blockers.get(blockerKey) : IDLE_BLOCKER;\n}\nfunction useNavigateStable() {\n  let { router } = useDataRouterContext(\"useNavigate\" /* UseNavigateStable */);\n  let id = useCurrentRouteId(\"useNavigate\" /* UseNavigateStable */);\n  let activeRef = React2.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React2.useCallback(\n    async (to, options = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n      if (!activeRef.current) return;\n      if (typeof to === \"number\") {\n        router.navigate(to);\n      } else {\n        await router.navigate(to, { fromRouteId: id, ...options });\n      }\n    },\n    [router, id]\n  );\n  return navigate;\n}\nvar alreadyWarned = {};\nfunction warningOnce(key, cond, message) {\n  if (!cond && !alreadyWarned[key]) {\n    alreadyWarned[key] = true;\n    warning(false, message);\n  }\n}\n\n// lib/server-runtime/warnings.ts\nvar alreadyWarned2 = {};\nfunction warnOnce(condition, message) {\n  if (!condition && !alreadyWarned2[message]) {\n    alreadyWarned2[message] = true;\n    console.warn(message);\n  }\n}\n\n// lib/components.tsx\nfunction mapRouteProperties(route) {\n  let updates = {\n    // Note: this check also occurs in createRoutesFromChildren so update\n    // there if you change this -- please and thank you!\n    hasErrorBoundary: route.hasErrorBoundary || route.ErrorBoundary != null || route.errorElement != null\n  };\n  if (route.Component) {\n    if (ENABLE_DEV_WARNINGS) {\n      if (route.element) {\n        warning(\n          false,\n          \"You should not include both `Component` and `element` on your route - `Component` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      element: React3.createElement(route.Component),\n      Component: void 0\n    });\n  }\n  if (route.HydrateFallback) {\n    if (ENABLE_DEV_WARNINGS) {\n      if (route.hydrateFallbackElement) {\n        warning(\n          false,\n          \"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      hydrateFallbackElement: React3.createElement(route.HydrateFallback),\n      HydrateFallback: void 0\n    });\n  }\n  if (route.ErrorBoundary) {\n    if (ENABLE_DEV_WARNINGS) {\n      if (route.errorElement) {\n        warning(\n          false,\n          \"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      errorElement: React3.createElement(route.ErrorBoundary),\n      ErrorBoundary: void 0\n    });\n  }\n  return updates;\n}\nvar hydrationRouteProperties = [\n  \"HydrateFallback\",\n  \"hydrateFallbackElement\"\n];\nfunction createMemoryRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    unstable_getContext: opts?.unstable_getContext,\n    future: opts?.future,\n    history: createMemoryHistory({\n      initialEntries: opts?.initialEntries,\n      initialIndex: opts?.initialIndex\n    }),\n    hydrationData: opts?.hydrationData,\n    routes,\n    hydrationRouteProperties,\n    mapRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation\n  }).initialize();\n}\nvar Deferred = class {\n  constructor() {\n    this.status = \"pending\";\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = (value) => {\n        if (this.status === \"pending\") {\n          this.status = \"resolved\";\n          resolve(value);\n        }\n      };\n      this.reject = (reason) => {\n        if (this.status === \"pending\") {\n          this.status = \"rejected\";\n          reject(reason);\n        }\n      };\n    });\n  }\n};\nfunction RouterProvider({\n  router,\n  flushSync: reactDomFlushSyncImpl\n}) {\n  let [state, setStateImpl] = React3.useState(router.state);\n  let [pendingState, setPendingState] = React3.useState();\n  let [vtContext, setVtContext] = React3.useState({\n    isTransitioning: false\n  });\n  let [renderDfd, setRenderDfd] = React3.useState();\n  let [transition, setTransition] = React3.useState();\n  let [interruption, setInterruption] = React3.useState();\n  let fetcherData = React3.useRef(/* @__PURE__ */ new Map());\n  let setState = React3.useCallback(\n    (newState, { deletedFetchers, flushSync, viewTransitionOpts }) => {\n      newState.fetchers.forEach((fetcher, key) => {\n        if (fetcher.data !== void 0) {\n          fetcherData.current.set(key, fetcher.data);\n        }\n      });\n      deletedFetchers.forEach((key) => fetcherData.current.delete(key));\n      warnOnce(\n        flushSync === false || reactDomFlushSyncImpl != null,\n        'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from \"react-router/dom\"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.'\n      );\n      let isViewTransitionAvailable = router.window != null && router.window.document != null && typeof router.window.document.startViewTransition === \"function\";\n      warnOnce(\n        viewTransitionOpts == null || isViewTransitionAvailable,\n        \"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available.\"\n      );\n      if (!viewTransitionOpts || !isViewTransitionAvailable) {\n        if (reactDomFlushSyncImpl && flushSync) {\n          reactDomFlushSyncImpl(() => setStateImpl(newState));\n        } else {\n          React3.startTransition(() => setStateImpl(newState));\n        }\n        return;\n      }\n      if (reactDomFlushSyncImpl && flushSync) {\n        reactDomFlushSyncImpl(() => {\n          if (transition) {\n            renderDfd && renderDfd.resolve();\n            transition.skipTransition();\n          }\n          setVtContext({\n            isTransitioning: true,\n            flushSync: true,\n            currentLocation: viewTransitionOpts.currentLocation,\n            nextLocation: viewTransitionOpts.nextLocation\n          });\n        });\n        let t = router.window.document.startViewTransition(() => {\n          reactDomFlushSyncImpl(() => setStateImpl(newState));\n        });\n        t.finished.finally(() => {\n          reactDomFlushSyncImpl(() => {\n            setRenderDfd(void 0);\n            setTransition(void 0);\n            setPendingState(void 0);\n            setVtContext({ isTransitioning: false });\n          });\n        });\n        reactDomFlushSyncImpl(() => setTransition(t));\n        return;\n      }\n      if (transition) {\n        renderDfd && renderDfd.resolve();\n        transition.skipTransition();\n        setInterruption({\n          state: newState,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation\n        });\n      } else {\n        setPendingState(newState);\n        setVtContext({\n          isTransitioning: true,\n          flushSync: false,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation\n        });\n      }\n    },\n    [router.window, reactDomFlushSyncImpl, transition, renderDfd]\n  );\n  React3.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n  React3.useEffect(() => {\n    if (vtContext.isTransitioning && !vtContext.flushSync) {\n      setRenderDfd(new Deferred());\n    }\n  }, [vtContext]);\n  React3.useEffect(() => {\n    if (renderDfd && pendingState && router.window) {\n      let newState = pendingState;\n      let renderPromise = renderDfd.promise;\n      let transition2 = router.window.document.startViewTransition(async () => {\n        React3.startTransition(() => setStateImpl(newState));\n        await renderPromise;\n      });\n      transition2.finished.finally(() => {\n        setRenderDfd(void 0);\n        setTransition(void 0);\n        setPendingState(void 0);\n        setVtContext({ isTransitioning: false });\n      });\n      setTransition(transition2);\n    }\n  }, [pendingState, renderDfd, router.window]);\n  React3.useEffect(() => {\n    if (renderDfd && pendingState && state.location.key === pendingState.location.key) {\n      renderDfd.resolve();\n    }\n  }, [renderDfd, transition, state.location, pendingState]);\n  React3.useEffect(() => {\n    if (!vtContext.isTransitioning && interruption) {\n      setPendingState(interruption.state);\n      setVtContext({\n        isTransitioning: true,\n        flushSync: false,\n        currentLocation: interruption.currentLocation,\n        nextLocation: interruption.nextLocation\n      });\n      setInterruption(void 0);\n    }\n  }, [vtContext.isTransitioning, interruption]);\n  let navigator = React3.useMemo(() => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: (n) => router.navigate(n),\n      push: (to, state2, opts) => router.navigate(to, {\n        state: state2,\n        preventScrollReset: opts?.preventScrollReset\n      }),\n      replace: (to, state2, opts) => router.navigate(to, {\n        replace: true,\n        state: state2,\n        preventScrollReset: opts?.preventScrollReset\n      })\n    };\n  }, [router]);\n  let basename = router.basename || \"/\";\n  let dataRouterContext = React3.useMemo(\n    () => ({\n      router,\n      navigator,\n      static: false,\n      basename\n    }),\n    [router, navigator, basename]\n  );\n  return /* @__PURE__ */ React3.createElement(React3.Fragment, null, /* @__PURE__ */ React3.createElement(DataRouterContext.Provider, { value: dataRouterContext }, /* @__PURE__ */ React3.createElement(DataRouterStateContext.Provider, { value: state }, /* @__PURE__ */ React3.createElement(FetchersContext.Provider, { value: fetcherData.current }, /* @__PURE__ */ React3.createElement(ViewTransitionContext.Provider, { value: vtContext }, /* @__PURE__ */ React3.createElement(\n    Router,\n    {\n      basename,\n      location: state.location,\n      navigationType: state.historyAction,\n      navigator\n    },\n    /* @__PURE__ */ React3.createElement(\n      MemoizedDataRoutes,\n      {\n        routes: router.routes,\n        future: router.future,\n        state\n      }\n    )\n  ))))), null);\n}\nvar MemoizedDataRoutes = React3.memo(DataRoutes);\nfunction DataRoutes({\n  routes,\n  future,\n  state\n}) {\n  return useRoutesImpl(routes, void 0, state, future);\n}\nfunction MemoryRouter({\n  basename,\n  children,\n  initialEntries,\n  initialIndex\n}) {\n  let historyRef = React3.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createMemoryHistory({\n      initialEntries,\n      initialIndex,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React3.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React3.useCallback(\n    (newState) => {\n      React3.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React3.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React3.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nfunction Navigate({\n  to,\n  replace: replace2,\n  state,\n  relative\n}) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of\n    // the router loaded. We can help them understand how to avoid that.\n    `<Navigate> may be used only in the context of a <Router> component.`\n  );\n  let { static: isStatic } = React3.useContext(NavigationContext);\n  warning(\n    !isStatic,\n    `<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.`\n  );\n  let { matches } = React3.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let navigate = useNavigate();\n  let path = resolveTo(\n    to,\n    getResolveToMatches(matches),\n    locationPathname,\n    relative === \"path\"\n  );\n  let jsonPath = JSON.stringify(path);\n  React3.useEffect(() => {\n    navigate(JSON.parse(jsonPath), { replace: replace2, state, relative });\n  }, [navigate, jsonPath, relative, replace2, state]);\n  return null;\n}\nfunction Outlet(props) {\n  return useOutlet(props.context);\n}\nfunction Route(_props) {\n  invariant(\n    false,\n    `A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`\n  );\n}\nfunction Router({\n  basename: basenameProp = \"/\",\n  children = null,\n  location: locationProp,\n  navigationType = \"POP\" /* Pop */,\n  navigator,\n  static: staticProp = false\n}) {\n  invariant(\n    !useInRouterContext(),\n    `You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`\n  );\n  let basename = basenameProp.replace(/^\\/*/, \"/\");\n  let navigationContext = React3.useMemo(\n    () => ({\n      basename,\n      navigator,\n      static: staticProp,\n      future: {}\n    }),\n    [basename, navigator, staticProp]\n  );\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\",\n    state = null,\n    key = \"default\"\n  } = locationProp;\n  let locationContext = React3.useMemo(() => {\n    let trailingPathname = stripBasename(pathname, basename);\n    if (trailingPathname == null) {\n      return null;\n    }\n    return {\n      location: {\n        pathname: trailingPathname,\n        search,\n        hash,\n        state,\n        key\n      },\n      navigationType\n    };\n  }, [basename, pathname, search, hash, state, key, navigationType]);\n  warning(\n    locationContext != null,\n    `<Router basename=\"${basename}\"> is not able to match the URL \"${pathname}${search}${hash}\" because it does not start with the basename, so the <Router> won't render anything.`\n  );\n  if (locationContext == null) {\n    return null;\n  }\n  return /* @__PURE__ */ React3.createElement(NavigationContext.Provider, { value: navigationContext }, /* @__PURE__ */ React3.createElement(LocationContext.Provider, { children, value: locationContext }));\n}\nfunction Routes({\n  children,\n  location\n}) {\n  return useRoutes(createRoutesFromChildren(children), location);\n}\nfunction Await({\n  children,\n  errorElement,\n  resolve\n}) {\n  return /* @__PURE__ */ React3.createElement(AwaitErrorBoundary, { resolve, errorElement }, /* @__PURE__ */ React3.createElement(ResolveAwait, null, children));\n}\nvar AwaitErrorBoundary = class extends React3.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: null };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\n      \"<Await> caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n  render() {\n    let { children, errorElement, resolve } = this.props;\n    let promise = null;\n    let status = 0 /* pending */;\n    if (!(resolve instanceof Promise)) {\n      status = 1 /* success */;\n      promise = Promise.resolve();\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_data\", { get: () => resolve });\n    } else if (this.state.error) {\n      status = 2 /* error */;\n      let renderError = this.state.error;\n      promise = Promise.reject().catch(() => {\n      });\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_error\", { get: () => renderError });\n    } else if (resolve._tracked) {\n      promise = resolve;\n      status = \"_error\" in promise ? 2 /* error */ : \"_data\" in promise ? 1 /* success */ : 0 /* pending */;\n    } else {\n      status = 0 /* pending */;\n      Object.defineProperty(resolve, \"_tracked\", { get: () => true });\n      promise = resolve.then(\n        (data2) => Object.defineProperty(resolve, \"_data\", { get: () => data2 }),\n        (error) => Object.defineProperty(resolve, \"_error\", { get: () => error })\n      );\n    }\n    if (status === 2 /* error */ && !errorElement) {\n      throw promise._error;\n    }\n    if (status === 2 /* error */) {\n      return /* @__PURE__ */ React3.createElement(AwaitContext.Provider, { value: promise, children: errorElement });\n    }\n    if (status === 1 /* success */) {\n      return /* @__PURE__ */ React3.createElement(AwaitContext.Provider, { value: promise, children });\n    }\n    throw promise;\n  }\n};\nfunction ResolveAwait({\n  children\n}) {\n  let data2 = useAsyncValue();\n  let toRender = typeof children === \"function\" ? children(data2) : children;\n  return /* @__PURE__ */ React3.createElement(React3.Fragment, null, toRender);\n}\nfunction createRoutesFromChildren(children, parentPath = []) {\n  let routes = [];\n  React3.Children.forEach(children, (element, index) => {\n    if (!React3.isValidElement(element)) {\n      return;\n    }\n    let treePath = [...parentPath, index];\n    if (element.type === React3.Fragment) {\n      routes.push.apply(\n        routes,\n        createRoutesFromChildren(element.props.children, treePath)\n      );\n      return;\n    }\n    invariant(\n      element.type === Route,\n      `[${typeof element.type === \"string\" ? element.type : element.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`\n    );\n    invariant(\n      !element.props.index || !element.props.children,\n      \"An index route cannot have child routes.\"\n    );\n    let route = {\n      id: element.props.id || treePath.join(\"-\"),\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      Component: element.props.Component,\n      index: element.props.index,\n      path: element.props.path,\n      loader: element.props.loader,\n      action: element.props.action,\n      hydrateFallbackElement: element.props.hydrateFallbackElement,\n      HydrateFallback: element.props.HydrateFallback,\n      errorElement: element.props.errorElement,\n      ErrorBoundary: element.props.ErrorBoundary,\n      hasErrorBoundary: element.props.hasErrorBoundary === true || element.props.ErrorBoundary != null || element.props.errorElement != null,\n      shouldRevalidate: element.props.shouldRevalidate,\n      handle: element.props.handle,\n      lazy: element.props.lazy\n    };\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(\n        element.props.children,\n        treePath\n      );\n    }\n    routes.push(route);\n  });\n  return routes;\n}\nvar createRoutesFromElements = createRoutesFromChildren;\nfunction renderMatches(matches) {\n  return _renderMatches(matches);\n}\nfunction withComponentProps(Component4) {\n  return function WithComponentProps() {\n    const props = {\n      params: useParams(),\n      loaderData: useLoaderData(),\n      actionData: useActionData(),\n      matches: useMatches()\n    };\n    return React3.createElement(Component4, props);\n  };\n}\nfunction withHydrateFallbackProps(HydrateFallback) {\n  return function WithHydrateFallbackProps() {\n    const props = {\n      params: useParams(),\n      loaderData: useLoaderData(),\n      actionData: useActionData()\n    };\n    return React3.createElement(HydrateFallback, props);\n  };\n}\nfunction withErrorBoundaryProps(ErrorBoundary) {\n  return function WithErrorBoundaryProps() {\n    const props = {\n      params: useParams(),\n      loaderData: useLoaderData(),\n      actionData: useActionData(),\n      error: useRouteError()\n    };\n    return React3.createElement(ErrorBoundary, props);\n  };\n}\n\n// lib/dom/lib.tsx\nimport * as React10 from \"react\";\n\n// lib/dom/dom.ts\nvar defaultMethod = \"get\";\nvar defaultEncType = \"application/x-www-form-urlencoded\";\nfunction isHtmlElement(object) {\n  return object != null && typeof object.tagName === \"string\";\n}\nfunction isButtonElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\nfunction isFormElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\nfunction isInputElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\nfunction shouldProcessLinkClick(event, target) {\n  return event.button === 0 && // Ignore everything but left clicks\n  (!target || target === \"_self\") && // Let browser handle \"target=_blank\" etc.\n  !isModifiedEvent(event);\n}\nfunction createSearchParams(init = \"\") {\n  return new URLSearchParams(\n    typeof init === \"string\" || Array.isArray(init) || init instanceof URLSearchParams ? init : Object.keys(init).reduce((memo2, key) => {\n      let value = init[key];\n      return memo2.concat(\n        Array.isArray(value) ? value.map((v) => [key, v]) : [[key, value]]\n      );\n    }, [])\n  );\n}\nfunction getSearchParamsForLocation(locationSearch, defaultSearchParams) {\n  let searchParams = createSearchParams(locationSearch);\n  if (defaultSearchParams) {\n    defaultSearchParams.forEach((_, key) => {\n      if (!searchParams.has(key)) {\n        defaultSearchParams.getAll(key).forEach((value) => {\n          searchParams.append(key, value);\n        });\n      }\n    });\n  }\n  return searchParams;\n}\nvar _formDataSupportsSubmitter = null;\nfunction isFormDataSubmitterSupported() {\n  if (_formDataSupportsSubmitter === null) {\n    try {\n      new FormData(\n        document.createElement(\"form\"),\n        // @ts-expect-error if FormData supports the submitter parameter, this will throw\n        0\n      );\n      _formDataSupportsSubmitter = false;\n    } catch (e) {\n      _formDataSupportsSubmitter = true;\n    }\n  }\n  return _formDataSupportsSubmitter;\n}\nvar supportedFormEncTypes = /* @__PURE__ */ new Set([\n  \"application/x-www-form-urlencoded\",\n  \"multipart/form-data\",\n  \"text/plain\"\n]);\nfunction getFormEncType(encType) {\n  if (encType != null && !supportedFormEncTypes.has(encType)) {\n    warning(\n      false,\n      `\"${encType}\" is not a valid \\`encType\\` for \\`<Form>\\`/\\`<fetcher.Form>\\` and will default to \"${defaultEncType}\"`\n    );\n    return null;\n  }\n  return encType;\n}\nfunction getFormSubmissionInfo(target, basename) {\n  let method;\n  let action;\n  let encType;\n  let formData;\n  let body;\n  if (isFormElement(target)) {\n    let attr = target.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(target);\n  } else if (isButtonElement(target) || isInputElement(target) && (target.type === \"submit\" || target.type === \"image\")) {\n    let form = target.form;\n    if (form == null) {\n      throw new Error(\n        `Cannot submit a <button> or <input type=\"submit\"> without a <form>`\n      );\n    }\n    let attr = target.getAttribute(\"formaction\") || form.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"formmethod\") || form.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"formenctype\")) || getFormEncType(form.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(form, target);\n    if (!isFormDataSubmitterSupported()) {\n      let { name, type, value } = target;\n      if (type === \"image\") {\n        let prefix = name ? `${name}.` : \"\";\n        formData.append(`${prefix}x`, \"0\");\n        formData.append(`${prefix}y`, \"0\");\n      } else if (name) {\n        formData.append(name, value);\n      }\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\n      `Cannot submit element that is not <form>, <button>, or <input type=\"submit|image\">`\n    );\n  } else {\n    method = defaultMethod;\n    action = null;\n    encType = defaultEncType;\n    body = target;\n  }\n  if (formData && encType === \"text/plain\") {\n    body = formData;\n    formData = void 0;\n  }\n  return { action, method: method.toLowerCase(), encType, formData, body };\n}\n\n// lib/dom/ssr/components.tsx\nimport * as React9 from \"react\";\n\n// lib/dom/ssr/invariant.ts\nfunction invariant2(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\n\n// lib/dom/ssr/routeModules.ts\nasync function loadRouteModule(route, routeModulesCache) {\n  if (route.id in routeModulesCache) {\n    return routeModulesCache[route.id];\n  }\n  try {\n    let routeModule = await import(\n      /* @vite-ignore */\n      /* webpackIgnore: true */\n      route.module\n    );\n    routeModulesCache[route.id] = routeModule;\n    return routeModule;\n  } catch (error) {\n    console.error(\n      `Error loading route module \\`${route.module}\\`, reloading page...`\n    );\n    console.error(error);\n    if (window.__reactRouterContext && window.__reactRouterContext.isSpaMode && // @ts-expect-error\n    import.meta.hot) {\n      throw error;\n    }\n    window.location.reload();\n    return new Promise(() => {\n    });\n  }\n}\n\n// lib/dom/ssr/links.ts\nfunction getKeyedLinksForMatches(matches, routeModules, manifest) {\n  let descriptors = matches.map((match) => {\n    let module = routeModules[match.route.id];\n    let route = manifest.routes[match.route.id];\n    return [\n      route && route.css ? route.css.map((href2) => ({ rel: \"stylesheet\", href: href2 })) : [],\n      module?.links?.() || []\n    ];\n  }).flat(2);\n  let preloads = getModuleLinkHrefs(matches, manifest);\n  return dedupeLinkDescriptors(descriptors, preloads);\n}\nfunction getRouteCssDescriptors(route) {\n  if (!route.css) return [];\n  return route.css.map((href2) => ({ rel: \"stylesheet\", href: href2 }));\n}\nasync function prefetchRouteCss(route) {\n  if (!route.css) return;\n  let descriptors = getRouteCssDescriptors(route);\n  await Promise.all(descriptors.map(prefetchStyleLink));\n}\nasync function prefetchStyleLinks(route, routeModule) {\n  if (!route.css && !routeModule.links || !isPreloadSupported()) return;\n  let descriptors = [];\n  if (route.css) {\n    descriptors.push(...getRouteCssDescriptors(route));\n  }\n  if (routeModule.links) {\n    descriptors.push(...routeModule.links());\n  }\n  if (descriptors.length === 0) return;\n  let styleLinks = [];\n  for (let descriptor of descriptors) {\n    if (!isPageLinkDescriptor(descriptor) && descriptor.rel === \"stylesheet\") {\n      styleLinks.push({\n        ...descriptor,\n        rel: \"preload\",\n        as: \"style\"\n      });\n    }\n  }\n  await Promise.all(styleLinks.map(prefetchStyleLink));\n}\nasync function prefetchStyleLink(descriptor) {\n  return new Promise((resolve) => {\n    if (descriptor.media && !window.matchMedia(descriptor.media).matches || document.querySelector(\n      `link[rel=\"stylesheet\"][href=\"${descriptor.href}\"]`\n    )) {\n      return resolve();\n    }\n    let link = document.createElement(\"link\");\n    Object.assign(link, descriptor);\n    function removeLink() {\n      if (document.head.contains(link)) {\n        document.head.removeChild(link);\n      }\n    }\n    link.onload = () => {\n      removeLink();\n      resolve();\n    };\n    link.onerror = () => {\n      removeLink();\n      resolve();\n    };\n    document.head.appendChild(link);\n  });\n}\nfunction isPageLinkDescriptor(object) {\n  return object != null && typeof object.page === \"string\";\n}\nfunction isHtmlLinkDescriptor(object) {\n  if (object == null) {\n    return false;\n  }\n  if (object.href == null) {\n    return object.rel === \"preload\" && typeof object.imageSrcSet === \"string\" && typeof object.imageSizes === \"string\";\n  }\n  return typeof object.rel === \"string\" && typeof object.href === \"string\";\n}\nasync function getKeyedPrefetchLinks(matches, manifest, routeModules) {\n  let links = await Promise.all(\n    matches.map(async (match) => {\n      let route = manifest.routes[match.route.id];\n      if (route) {\n        let mod = await loadRouteModule(route, routeModules);\n        return mod.links ? mod.links() : [];\n      }\n      return [];\n    })\n  );\n  return dedupeLinkDescriptors(\n    links.flat(1).filter(isHtmlLinkDescriptor).filter((link) => link.rel === \"stylesheet\" || link.rel === \"preload\").map(\n      (link) => link.rel === \"stylesheet\" ? { ...link, rel: \"prefetch\", as: \"style\" } : { ...link, rel: \"prefetch\" }\n    )\n  );\n}\nfunction getNewMatchesForLinks(page, nextMatches, currentMatches, manifest, location, mode) {\n  let isNew = (match, index) => {\n    if (!currentMatches[index]) return true;\n    return match.route.id !== currentMatches[index].route.id;\n  };\n  let matchPathChanged = (match, index) => {\n    return (\n      // param change, /users/123 -> /users/456\n      currentMatches[index].pathname !== match.pathname || // splat param changed, which is not present in match.path\n      // e.g. /files/images/avatar.jpg -> files/finances.xls\n      currentMatches[index].route.path?.endsWith(\"*\") && currentMatches[index].params[\"*\"] !== match.params[\"*\"]\n    );\n  };\n  if (mode === \"assets\") {\n    return nextMatches.filter(\n      (match, index) => isNew(match, index) || matchPathChanged(match, index)\n    );\n  }\n  if (mode === \"data\") {\n    return nextMatches.filter((match, index) => {\n      let manifestRoute = manifest.routes[match.route.id];\n      if (!manifestRoute || !manifestRoute.hasLoader) {\n        return false;\n      }\n      if (isNew(match, index) || matchPathChanged(match, index)) {\n        return true;\n      }\n      if (match.route.shouldRevalidate) {\n        let routeChoice = match.route.shouldRevalidate({\n          currentUrl: new URL(\n            location.pathname + location.search + location.hash,\n            window.origin\n          ),\n          currentParams: currentMatches[0]?.params || {},\n          nextUrl: new URL(page, window.origin),\n          nextParams: match.params,\n          defaultShouldRevalidate: true\n        });\n        if (typeof routeChoice === \"boolean\") {\n          return routeChoice;\n        }\n      }\n      return true;\n    });\n  }\n  return [];\n}\nfunction getModuleLinkHrefs(matches, manifest, { includeHydrateFallback } = {}) {\n  return dedupeHrefs(\n    matches.map((match) => {\n      let route = manifest.routes[match.route.id];\n      if (!route) return [];\n      let hrefs = [route.module];\n      if (route.clientActionModule) {\n        hrefs = hrefs.concat(route.clientActionModule);\n      }\n      if (route.clientLoaderModule) {\n        hrefs = hrefs.concat(route.clientLoaderModule);\n      }\n      if (includeHydrateFallback && route.hydrateFallbackModule) {\n        hrefs = hrefs.concat(route.hydrateFallbackModule);\n      }\n      if (route.imports) {\n        hrefs = hrefs.concat(route.imports);\n      }\n      return hrefs;\n    }).flat(1)\n  );\n}\nfunction dedupeHrefs(hrefs) {\n  return [...new Set(hrefs)];\n}\nfunction sortKeys(obj) {\n  let sorted = {};\n  let keys = Object.keys(obj).sort();\n  for (let key of keys) {\n    sorted[key] = obj[key];\n  }\n  return sorted;\n}\nfunction dedupeLinkDescriptors(descriptors, preloads) {\n  let set = /* @__PURE__ */ new Set();\n  let preloadsSet = new Set(preloads);\n  return descriptors.reduce((deduped, descriptor) => {\n    let alreadyModulePreload = preloads && !isPageLinkDescriptor(descriptor) && descriptor.as === \"script\" && descriptor.href && preloadsSet.has(descriptor.href);\n    if (alreadyModulePreload) {\n      return deduped;\n    }\n    let key = JSON.stringify(sortKeys(descriptor));\n    if (!set.has(key)) {\n      set.add(key);\n      deduped.push({ key, link: descriptor });\n    }\n    return deduped;\n  }, []);\n}\nvar _isPreloadSupported;\nfunction isPreloadSupported() {\n  if (_isPreloadSupported !== void 0) {\n    return _isPreloadSupported;\n  }\n  let el = document.createElement(\"link\");\n  _isPreloadSupported = el.relList.supports(\"preload\");\n  el = null;\n  return _isPreloadSupported;\n}\n\n// lib/dom/ssr/markup.ts\nvar ESCAPE_LOOKUP = {\n  \"&\": \"\\\\u0026\",\n  \">\": \"\\\\u003e\",\n  \"<\": \"\\\\u003c\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nvar ESCAPE_REGEX = /[&><\\u2028\\u2029]/g;\nfunction escapeHtml(html) {\n  return html.replace(ESCAPE_REGEX, (match) => ESCAPE_LOOKUP[match]);\n}\nfunction createHtml(html) {\n  return { __html: html };\n}\n\n// lib/dom/ssr/single-fetch.tsx\nimport * as React4 from \"react\";\n\n// vendor/turbo-stream-v2/utils.ts\nvar HOLE = -1;\nvar NAN = -2;\nvar NEGATIVE_INFINITY = -3;\nvar NEGATIVE_ZERO = -4;\nvar NULL = -5;\nvar POSITIVE_INFINITY = -6;\nvar UNDEFINED = -7;\nvar TYPE_BIGINT = \"B\";\nvar TYPE_DATE = \"D\";\nvar TYPE_ERROR = \"E\";\nvar TYPE_MAP = \"M\";\nvar TYPE_NULL_OBJECT = \"N\";\nvar TYPE_PROMISE = \"P\";\nvar TYPE_REGEXP = \"R\";\nvar TYPE_SET = \"S\";\nvar TYPE_SYMBOL = \"Y\";\nvar TYPE_URL = \"U\";\nvar TYPE_PREVIOUS_RESOLVED = \"Z\";\nvar Deferred2 = class {\n  constructor() {\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = resolve;\n      this.reject = reject;\n    });\n  }\n};\nfunction createLineSplittingTransform() {\n  const decoder = new TextDecoder();\n  let leftover = \"\";\n  return new TransformStream({\n    transform(chunk, controller) {\n      const str = decoder.decode(chunk, { stream: true });\n      const parts = (leftover + str).split(\"\\n\");\n      leftover = parts.pop() || \"\";\n      for (const part of parts) {\n        controller.enqueue(part);\n      }\n    },\n    flush(controller) {\n      if (leftover) {\n        controller.enqueue(leftover);\n      }\n    }\n  });\n}\n\n// vendor/turbo-stream-v2/flatten.ts\nfunction flatten(input) {\n  const { indices } = this;\n  const existing = indices.get(input);\n  if (existing) return [existing];\n  if (input === void 0) return UNDEFINED;\n  if (input === null) return NULL;\n  if (Number.isNaN(input)) return NAN;\n  if (input === Number.POSITIVE_INFINITY) return POSITIVE_INFINITY;\n  if (input === Number.NEGATIVE_INFINITY) return NEGATIVE_INFINITY;\n  if (input === 0 && 1 / input < 0) return NEGATIVE_ZERO;\n  const index = this.index++;\n  indices.set(input, index);\n  stringify.call(this, input, index);\n  return index;\n}\nfunction stringify(input, index) {\n  const { deferred, plugins, postPlugins } = this;\n  const str = this.stringified;\n  const stack = [[input, index]];\n  while (stack.length > 0) {\n    const [input2, index2] = stack.pop();\n    const partsForObj = (obj) => Object.keys(obj).map((k) => `\"_${flatten.call(this, k)}\":${flatten.call(this, obj[k])}`).join(\",\");\n    let error = null;\n    switch (typeof input2) {\n      case \"boolean\":\n      case \"number\":\n      case \"string\":\n        str[index2] = JSON.stringify(input2);\n        break;\n      case \"bigint\":\n        str[index2] = `[\"${TYPE_BIGINT}\",\"${input2}\"]`;\n        break;\n      case \"symbol\": {\n        const keyFor = Symbol.keyFor(input2);\n        if (!keyFor) {\n          error = new Error(\n            \"Cannot encode symbol unless created with Symbol.for()\"\n          );\n        } else {\n          str[index2] = `[\"${TYPE_SYMBOL}\",${JSON.stringify(keyFor)}]`;\n        }\n        break;\n      }\n      case \"object\": {\n        if (!input2) {\n          str[index2] = `${NULL}`;\n          break;\n        }\n        const isArray = Array.isArray(input2);\n        let pluginHandled = false;\n        if (!isArray && plugins) {\n          for (const plugin of plugins) {\n            const pluginResult = plugin(input2);\n            if (Array.isArray(pluginResult)) {\n              pluginHandled = true;\n              const [pluginIdentifier, ...rest] = pluginResult;\n              str[index2] = `[${JSON.stringify(pluginIdentifier)}`;\n              if (rest.length > 0) {\n                str[index2] += `,${rest.map((v) => flatten.call(this, v)).join(\",\")}`;\n              }\n              str[index2] += \"]\";\n              break;\n            }\n          }\n        }\n        if (!pluginHandled) {\n          let result = isArray ? \"[\" : \"{\";\n          if (isArray) {\n            for (let i = 0; i < input2.length; i++)\n              result += (i ? \",\" : \"\") + (i in input2 ? flatten.call(this, input2[i]) : HOLE);\n            str[index2] = `${result}]`;\n          } else if (input2 instanceof Date) {\n            str[index2] = `[\"${TYPE_DATE}\",${input2.getTime()}]`;\n          } else if (input2 instanceof URL) {\n            str[index2] = `[\"${TYPE_URL}\",${JSON.stringify(input2.href)}]`;\n          } else if (input2 instanceof RegExp) {\n            str[index2] = `[\"${TYPE_REGEXP}\",${JSON.stringify(\n              input2.source\n            )},${JSON.stringify(input2.flags)}]`;\n          } else if (input2 instanceof Set) {\n            if (input2.size > 0) {\n              str[index2] = `[\"${TYPE_SET}\",${[...input2].map((val) => flatten.call(this, val)).join(\",\")}]`;\n            } else {\n              str[index2] = `[\"${TYPE_SET}\"]`;\n            }\n          } else if (input2 instanceof Map) {\n            if (input2.size > 0) {\n              str[index2] = `[\"${TYPE_MAP}\",${[...input2].flatMap(([k, v]) => [\n                flatten.call(this, k),\n                flatten.call(this, v)\n              ]).join(\",\")}]`;\n            } else {\n              str[index2] = `[\"${TYPE_MAP}\"]`;\n            }\n          } else if (input2 instanceof Promise) {\n            str[index2] = `[\"${TYPE_PROMISE}\",${index2}]`;\n            deferred[index2] = input2;\n          } else if (input2 instanceof Error) {\n            str[index2] = `[\"${TYPE_ERROR}\",${JSON.stringify(input2.message)}`;\n            if (input2.name !== \"Error\") {\n              str[index2] += `,${JSON.stringify(input2.name)}`;\n            }\n            str[index2] += \"]\";\n          } else if (Object.getPrototypeOf(input2) === null) {\n            str[index2] = `[\"${TYPE_NULL_OBJECT}\",{${partsForObj(input2)}}]`;\n          } else if (isPlainObject(input2)) {\n            str[index2] = `{${partsForObj(input2)}}`;\n          } else {\n            error = new Error(\"Cannot encode object with prototype\");\n          }\n        }\n        break;\n      }\n      default: {\n        const isArray = Array.isArray(input2);\n        let pluginHandled = false;\n        if (!isArray && plugins) {\n          for (const plugin of plugins) {\n            const pluginResult = plugin(input2);\n            if (Array.isArray(pluginResult)) {\n              pluginHandled = true;\n              const [pluginIdentifier, ...rest] = pluginResult;\n              str[index2] = `[${JSON.stringify(pluginIdentifier)}`;\n              if (rest.length > 0) {\n                str[index2] += `,${rest.map((v) => flatten.call(this, v)).join(\",\")}`;\n              }\n              str[index2] += \"]\";\n              break;\n            }\n          }\n        }\n        if (!pluginHandled) {\n          error = new Error(\"Cannot encode function or unexpected type\");\n        }\n      }\n    }\n    if (error) {\n      let pluginHandled = false;\n      if (postPlugins) {\n        for (const plugin of postPlugins) {\n          const pluginResult = plugin(input2);\n          if (Array.isArray(pluginResult)) {\n            pluginHandled = true;\n            const [pluginIdentifier, ...rest] = pluginResult;\n            str[index2] = `[${JSON.stringify(pluginIdentifier)}`;\n            if (rest.length > 0) {\n              str[index2] += `,${rest.map((v) => flatten.call(this, v)).join(\",\")}`;\n            }\n            str[index2] += \"]\";\n            break;\n          }\n        }\n      }\n      if (!pluginHandled) {\n        throw error;\n      }\n    }\n  }\n}\nvar objectProtoNames = Object.getOwnPropertyNames(Object.prototype).sort().join(\"\\0\");\nfunction isPlainObject(thing) {\n  const proto = Object.getPrototypeOf(thing);\n  return proto === Object.prototype || proto === null || Object.getOwnPropertyNames(proto).sort().join(\"\\0\") === objectProtoNames;\n}\n\n// vendor/turbo-stream-v2/unflatten.ts\nvar globalObj = typeof window !== \"undefined\" ? window : typeof globalThis !== \"undefined\" ? globalThis : void 0;\nfunction unflatten(parsed) {\n  const { hydrated, values } = this;\n  if (typeof parsed === \"number\") return hydrate.call(this, parsed);\n  if (!Array.isArray(parsed) || !parsed.length) throw new SyntaxError();\n  const startIndex = values.length;\n  for (const value of parsed) {\n    values.push(value);\n  }\n  hydrated.length = values.length;\n  return hydrate.call(this, startIndex);\n}\nfunction hydrate(index) {\n  const { hydrated, values, deferred, plugins } = this;\n  let result;\n  const stack = [\n    [\n      index,\n      (v) => {\n        result = v;\n      }\n    ]\n  ];\n  let postRun = [];\n  while (stack.length > 0) {\n    const [index2, set] = stack.pop();\n    switch (index2) {\n      case UNDEFINED:\n        set(void 0);\n        continue;\n      case NULL:\n        set(null);\n        continue;\n      case NAN:\n        set(NaN);\n        continue;\n      case POSITIVE_INFINITY:\n        set(Infinity);\n        continue;\n      case NEGATIVE_INFINITY:\n        set(-Infinity);\n        continue;\n      case NEGATIVE_ZERO:\n        set(-0);\n        continue;\n    }\n    if (hydrated[index2]) {\n      set(hydrated[index2]);\n      continue;\n    }\n    const value = values[index2];\n    if (!value || typeof value !== \"object\") {\n      hydrated[index2] = value;\n      set(value);\n      continue;\n    }\n    if (Array.isArray(value)) {\n      if (typeof value[0] === \"string\") {\n        const [type, b, c] = value;\n        switch (type) {\n          case TYPE_DATE:\n            set(hydrated[index2] = new Date(b));\n            continue;\n          case TYPE_URL:\n            set(hydrated[index2] = new URL(b));\n            continue;\n          case TYPE_BIGINT:\n            set(hydrated[index2] = BigInt(b));\n            continue;\n          case TYPE_REGEXP:\n            set(hydrated[index2] = new RegExp(b, c));\n            continue;\n          case TYPE_SYMBOL:\n            set(hydrated[index2] = Symbol.for(b));\n            continue;\n          case TYPE_SET:\n            const newSet = /* @__PURE__ */ new Set();\n            hydrated[index2] = newSet;\n            for (let i = value.length - 1; i > 0; i--)\n              stack.push([\n                value[i],\n                (v) => {\n                  newSet.add(v);\n                }\n              ]);\n            set(newSet);\n            continue;\n          case TYPE_MAP:\n            const map = /* @__PURE__ */ new Map();\n            hydrated[index2] = map;\n            for (let i = value.length - 2; i > 0; i -= 2) {\n              const r = [];\n              stack.push([\n                value[i + 1],\n                (v) => {\n                  r[1] = v;\n                }\n              ]);\n              stack.push([\n                value[i],\n                (k) => {\n                  r[0] = k;\n                }\n              ]);\n              postRun.push(() => {\n                map.set(r[0], r[1]);\n              });\n            }\n            set(map);\n            continue;\n          case TYPE_NULL_OBJECT:\n            const obj = /* @__PURE__ */ Object.create(null);\n            hydrated[index2] = obj;\n            for (const key of Object.keys(b).reverse()) {\n              const r = [];\n              stack.push([\n                b[key],\n                (v) => {\n                  r[1] = v;\n                }\n              ]);\n              stack.push([\n                Number(key.slice(1)),\n                (k) => {\n                  r[0] = k;\n                }\n              ]);\n              postRun.push(() => {\n                obj[r[0]] = r[1];\n              });\n            }\n            set(obj);\n            continue;\n          case TYPE_PROMISE:\n            if (hydrated[b]) {\n              set(hydrated[index2] = hydrated[b]);\n            } else {\n              const d = new Deferred2();\n              deferred[b] = d;\n              set(hydrated[index2] = d.promise);\n            }\n            continue;\n          case TYPE_ERROR:\n            const [, message, errorType] = value;\n            let error = errorType && globalObj && globalObj[errorType] ? new globalObj[errorType](message) : new Error(message);\n            hydrated[index2] = error;\n            set(error);\n            continue;\n          case TYPE_PREVIOUS_RESOLVED:\n            set(hydrated[index2] = hydrated[b]);\n            continue;\n          default:\n            if (Array.isArray(plugins)) {\n              const r = [];\n              const vals = value.slice(1);\n              for (let i = 0; i < vals.length; i++) {\n                const v = vals[i];\n                stack.push([\n                  v,\n                  (v2) => {\n                    r[i] = v2;\n                  }\n                ]);\n              }\n              postRun.push(() => {\n                for (const plugin of plugins) {\n                  const result2 = plugin(value[0], ...r);\n                  if (result2) {\n                    set(hydrated[index2] = result2.value);\n                    return;\n                  }\n                }\n                throw new SyntaxError();\n              });\n              continue;\n            }\n            throw new SyntaxError();\n        }\n      } else {\n        const array = [];\n        hydrated[index2] = array;\n        for (let i = 0; i < value.length; i++) {\n          const n = value[i];\n          if (n !== HOLE) {\n            stack.push([\n              n,\n              (v) => {\n                array[i] = v;\n              }\n            ]);\n          }\n        }\n        set(array);\n        continue;\n      }\n    } else {\n      const object = {};\n      hydrated[index2] = object;\n      for (const key of Object.keys(value).reverse()) {\n        const r = [];\n        stack.push([\n          value[key],\n          (v) => {\n            r[1] = v;\n          }\n        ]);\n        stack.push([\n          Number(key.slice(1)),\n          (k) => {\n            r[0] = k;\n          }\n        ]);\n        postRun.push(() => {\n          object[r[0]] = r[1];\n        });\n      }\n      set(object);\n      continue;\n    }\n  }\n  while (postRun.length > 0) {\n    postRun.pop()();\n  }\n  return result;\n}\n\n// vendor/turbo-stream-v2/turbo-stream.ts\nasync function decode(readable, options) {\n  const { plugins } = options ?? {};\n  const done = new Deferred2();\n  const reader = readable.pipeThrough(createLineSplittingTransform()).getReader();\n  const decoder = {\n    values: [],\n    hydrated: [],\n    deferred: {},\n    plugins\n  };\n  const decoded = await decodeInitial.call(decoder, reader);\n  let donePromise = done.promise;\n  if (decoded.done) {\n    done.resolve();\n  } else {\n    donePromise = decodeDeferred.call(decoder, reader).then(done.resolve).catch((reason) => {\n      for (const deferred of Object.values(decoder.deferred)) {\n        deferred.reject(reason);\n      }\n      done.reject(reason);\n    });\n  }\n  return {\n    done: donePromise.then(() => reader.closed),\n    value: decoded.value\n  };\n}\nasync function decodeInitial(reader) {\n  const read = await reader.read();\n  if (!read.value) {\n    throw new SyntaxError();\n  }\n  let line;\n  try {\n    line = JSON.parse(read.value);\n  } catch (reason) {\n    throw new SyntaxError();\n  }\n  return {\n    done: read.done,\n    value: unflatten.call(this, line)\n  };\n}\nasync function decodeDeferred(reader) {\n  let read = await reader.read();\n  while (!read.done) {\n    if (!read.value) continue;\n    const line = read.value;\n    switch (line[0]) {\n      case TYPE_PROMISE: {\n        const colonIndex = line.indexOf(\":\");\n        const deferredId = Number(line.slice(1, colonIndex));\n        const deferred = this.deferred[deferredId];\n        if (!deferred) {\n          throw new Error(`Deferred ID ${deferredId} not found in stream`);\n        }\n        const lineData = line.slice(colonIndex + 1);\n        let jsonLine;\n        try {\n          jsonLine = JSON.parse(lineData);\n        } catch (reason) {\n          throw new SyntaxError();\n        }\n        const value = unflatten.call(this, jsonLine);\n        deferred.resolve(value);\n        break;\n      }\n      case TYPE_ERROR: {\n        const colonIndex = line.indexOf(\":\");\n        const deferredId = Number(line.slice(1, colonIndex));\n        const deferred = this.deferred[deferredId];\n        if (!deferred) {\n          throw new Error(`Deferred ID ${deferredId} not found in stream`);\n        }\n        const lineData = line.slice(colonIndex + 1);\n        let jsonLine;\n        try {\n          jsonLine = JSON.parse(lineData);\n        } catch (reason) {\n          throw new SyntaxError();\n        }\n        const value = unflatten.call(this, jsonLine);\n        deferred.reject(value);\n        break;\n      }\n      default:\n        throw new SyntaxError();\n    }\n    read = await reader.read();\n  }\n}\nfunction encode(input, options) {\n  const { plugins, postPlugins, signal } = options ?? {};\n  const encoder2 = {\n    deferred: {},\n    index: 0,\n    indices: /* @__PURE__ */ new Map(),\n    stringified: [],\n    plugins,\n    postPlugins,\n    signal\n  };\n  const textEncoder = new TextEncoder();\n  let lastSentIndex = 0;\n  const readable = new ReadableStream({\n    async start(controller) {\n      const id = flatten.call(encoder2, input);\n      if (Array.isArray(id)) {\n        throw new Error(\"This should never happen\");\n      }\n      if (id < 0) {\n        controller.enqueue(textEncoder.encode(`${id}\n`));\n      } else {\n        controller.enqueue(\n          textEncoder.encode(`[${encoder2.stringified.join(\",\")}]\n`)\n        );\n        lastSentIndex = encoder2.stringified.length - 1;\n      }\n      const seenPromises = /* @__PURE__ */ new WeakSet();\n      if (Object.keys(encoder2.deferred).length) {\n        let raceDone;\n        const racePromise = new Promise((resolve, reject) => {\n          raceDone = resolve;\n          if (signal) {\n            const rejectPromise = () => reject(signal.reason || new Error(\"Signal was aborted.\"));\n            if (signal.aborted) {\n              rejectPromise();\n            } else {\n              signal.addEventListener(\"abort\", (event) => {\n                rejectPromise();\n              });\n            }\n          }\n        });\n        while (Object.keys(encoder2.deferred).length > 0) {\n          for (const [deferredId, deferred] of Object.entries(\n            encoder2.deferred\n          )) {\n            if (seenPromises.has(deferred)) continue;\n            seenPromises.add(\n              // biome-ignore lint/suspicious/noAssignInExpressions: <explanation>\n              encoder2.deferred[Number(deferredId)] = Promise.race([\n                racePromise,\n                deferred\n              ]).then(\n                (resolved) => {\n                  const id2 = flatten.call(encoder2, resolved);\n                  if (Array.isArray(id2)) {\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_PROMISE}${deferredId}:[[\"${TYPE_PREVIOUS_RESOLVED}\",${id2[0]}]]\n`\n                      )\n                    );\n                    encoder2.index++;\n                    lastSentIndex++;\n                  } else if (id2 < 0) {\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_PROMISE}${deferredId}:${id2}\n`\n                      )\n                    );\n                  } else {\n                    const values = encoder2.stringified.slice(lastSentIndex + 1).join(\",\");\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_PROMISE}${deferredId}:[${values}]\n`\n                      )\n                    );\n                    lastSentIndex = encoder2.stringified.length - 1;\n                  }\n                },\n                (reason) => {\n                  if (!reason || typeof reason !== \"object\" || !(reason instanceof Error)) {\n                    reason = new Error(\"An unknown error occurred\");\n                  }\n                  const id2 = flatten.call(encoder2, reason);\n                  if (Array.isArray(id2)) {\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_ERROR}${deferredId}:[[\"${TYPE_PREVIOUS_RESOLVED}\",${id2[0]}]]\n`\n                      )\n                    );\n                    encoder2.index++;\n                    lastSentIndex++;\n                  } else if (id2 < 0) {\n                    controller.enqueue(\n                      textEncoder.encode(`${TYPE_ERROR}${deferredId}:${id2}\n`)\n                    );\n                  } else {\n                    const values = encoder2.stringified.slice(lastSentIndex + 1).join(\",\");\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_ERROR}${deferredId}:[${values}]\n`\n                      )\n                    );\n                    lastSentIndex = encoder2.stringified.length - 1;\n                  }\n                }\n              ).finally(() => {\n                delete encoder2.deferred[Number(deferredId)];\n              })\n            );\n          }\n          await Promise.race(Object.values(encoder2.deferred));\n        }\n        raceDone();\n      }\n      await Promise.all(Object.values(encoder2.deferred));\n      controller.close();\n    }\n  });\n  return readable;\n}\n\n// lib/dom/ssr/data.ts\nasync function createRequestInit(request) {\n  let init = { signal: request.signal };\n  if (request.method !== \"GET\") {\n    init.method = request.method;\n    let contentType = request.headers.get(\"Content-Type\");\n    if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n      init.headers = { \"Content-Type\": contentType };\n      init.body = JSON.stringify(await request.json());\n    } else if (contentType && /\\btext\\/plain\\b/.test(contentType)) {\n      init.headers = { \"Content-Type\": contentType };\n      init.body = await request.text();\n    } else if (contentType && /\\bapplication\\/x-www-form-urlencoded\\b/.test(contentType)) {\n      init.body = new URLSearchParams(await request.text());\n    } else {\n      init.body = await request.formData();\n    }\n  }\n  return init;\n}\n\n// lib/dom/ssr/single-fetch.tsx\nvar SingleFetchRedirectSymbol = Symbol(\"SingleFetchRedirect\");\nvar SingleFetchNoResultError = class extends Error {\n};\nvar SINGLE_FETCH_REDIRECT_STATUS = 202;\nvar NO_BODY_STATUS_CODES = /* @__PURE__ */ new Set([100, 101, 204, 205]);\nfunction StreamTransfer({\n  context,\n  identifier,\n  reader,\n  textDecoder,\n  nonce\n}) {\n  if (!context.renderMeta || !context.renderMeta.didRenderScripts) {\n    return null;\n  }\n  if (!context.renderMeta.streamCache) {\n    context.renderMeta.streamCache = {};\n  }\n  let { streamCache } = context.renderMeta;\n  let promise = streamCache[identifier];\n  if (!promise) {\n    promise = streamCache[identifier] = reader.read().then((result) => {\n      streamCache[identifier].result = {\n        done: result.done,\n        value: textDecoder.decode(result.value, { stream: true })\n      };\n    }).catch((e) => {\n      streamCache[identifier].error = e;\n    });\n  }\n  if (promise.error) {\n    throw promise.error;\n  }\n  if (promise.result === void 0) {\n    throw promise;\n  }\n  let { done, value } = promise.result;\n  let scriptTag = value ? /* @__PURE__ */ React4.createElement(\n    \"script\",\n    {\n      nonce,\n      dangerouslySetInnerHTML: {\n        __html: `window.__reactRouterContext.streamController.enqueue(${escapeHtml(\n          JSON.stringify(value)\n        )});`\n      }\n    }\n  ) : null;\n  if (done) {\n    return /* @__PURE__ */ React4.createElement(React4.Fragment, null, scriptTag, /* @__PURE__ */ React4.createElement(\n      \"script\",\n      {\n        nonce,\n        dangerouslySetInnerHTML: {\n          __html: `window.__reactRouterContext.streamController.close();`\n        }\n      }\n    ));\n  } else {\n    return /* @__PURE__ */ React4.createElement(React4.Fragment, null, scriptTag, /* @__PURE__ */ React4.createElement(React4.Suspense, null, /* @__PURE__ */ React4.createElement(\n      StreamTransfer,\n      {\n        context,\n        identifier: identifier + 1,\n        reader,\n        textDecoder,\n        nonce\n      }\n    )));\n  }\n}\nfunction getTurboStreamSingleFetchDataStrategy(getRouter, manifest, routeModules, ssr, basename) {\n  let dataStrategy = getSingleFetchDataStrategyImpl(\n    getRouter,\n    (match) => {\n      let manifestRoute = manifest.routes[match.route.id];\n      invariant2(manifestRoute, \"Route not found in manifest\");\n      let routeModule = routeModules[match.route.id];\n      return {\n        hasLoader: manifestRoute.hasLoader,\n        hasClientLoader: manifestRoute.hasClientLoader,\n        hasShouldRevalidate: Boolean(routeModule?.shouldRevalidate)\n      };\n    },\n    fetchAndDecodeViaTurboStream,\n    ssr,\n    basename\n  );\n  return async (args) => args.unstable_runClientMiddleware(dataStrategy);\n}\nfunction getSingleFetchDataStrategyImpl(getRouter, getRouteInfo, fetchAndDecode, ssr, basename) {\n  return async (args) => {\n    let { request, matches, fetcherKey } = args;\n    let router = getRouter();\n    if (request.method !== \"GET\") {\n      return singleFetchActionStrategy(args, fetchAndDecode, basename);\n    }\n    let foundRevalidatingServerLoader = matches.some((m) => {\n      let { hasLoader, hasClientLoader } = getRouteInfo(m);\n      return m.unstable_shouldCallHandler() && hasLoader && !hasClientLoader;\n    });\n    if (!ssr && !foundRevalidatingServerLoader) {\n      return nonSsrStrategy(args, getRouteInfo, fetchAndDecode, basename);\n    }\n    if (fetcherKey) {\n      return singleFetchLoaderFetcherStrategy(args, fetchAndDecode, basename);\n    }\n    return singleFetchLoaderNavigationStrategy(\n      args,\n      router,\n      getRouteInfo,\n      fetchAndDecode,\n      ssr,\n      basename\n    );\n  };\n}\nasync function singleFetchActionStrategy(args, fetchAndDecode, basename) {\n  let actionMatch = args.matches.find((m) => m.unstable_shouldCallHandler());\n  invariant2(actionMatch, \"No action match found\");\n  let actionStatus = void 0;\n  let result = await actionMatch.resolve(async (handler) => {\n    let result2 = await handler(async () => {\n      let { data: data2, status } = await fetchAndDecode(args, basename, [\n        actionMatch.route.id\n      ]);\n      actionStatus = status;\n      return unwrapSingleFetchResult(data2, actionMatch.route.id);\n    });\n    return result2;\n  });\n  if (isResponse(result.result) || isRouteErrorResponse(result.result) || isDataWithResponseInit(result.result)) {\n    return { [actionMatch.route.id]: result };\n  }\n  return {\n    [actionMatch.route.id]: {\n      type: result.type,\n      result: data(result.result, actionStatus)\n    }\n  };\n}\nasync function nonSsrStrategy(args, getRouteInfo, fetchAndDecode, basename) {\n  let matchesToLoad = args.matches.filter(\n    (m) => m.unstable_shouldCallHandler()\n  );\n  let results = {};\n  await Promise.all(\n    matchesToLoad.map(\n      (m) => m.resolve(async (handler) => {\n        try {\n          let { hasClientLoader } = getRouteInfo(m);\n          let routeId = m.route.id;\n          let result = hasClientLoader ? await handler(async () => {\n            let { data: data2 } = await fetchAndDecode(args, basename, [routeId]);\n            return unwrapSingleFetchResult(data2, routeId);\n          }) : await handler();\n          results[m.route.id] = { type: \"data\", result };\n        } catch (e) {\n          results[m.route.id] = { type: \"error\", result: e };\n        }\n      })\n    )\n  );\n  return results;\n}\nasync function singleFetchLoaderNavigationStrategy(args, router, getRouteInfo, fetchAndDecode, ssr, basename) {\n  let routesParams = /* @__PURE__ */ new Set();\n  let foundOptOutRoute = false;\n  let routeDfds = args.matches.map(() => createDeferred2());\n  let singleFetchDfd = createDeferred2();\n  let results = {};\n  let resolvePromise = Promise.all(\n    args.matches.map(\n      async (m, i) => m.resolve(async (handler) => {\n        routeDfds[i].resolve();\n        let routeId = m.route.id;\n        let { hasLoader, hasClientLoader, hasShouldRevalidate } = getRouteInfo(m);\n        let defaultShouldRevalidate = !m.unstable_shouldRevalidateArgs || m.unstable_shouldRevalidateArgs.actionStatus == null || m.unstable_shouldRevalidateArgs.actionStatus < 400;\n        let shouldCall = m.unstable_shouldCallHandler(defaultShouldRevalidate);\n        if (!shouldCall) {\n          foundOptOutRoute || (foundOptOutRoute = m.unstable_shouldRevalidateArgs != null && // This is a revalidation,\n          hasLoader && // for a route with a server loader,\n          hasShouldRevalidate === true);\n          return;\n        }\n        if (hasClientLoader) {\n          if (hasLoader) {\n            foundOptOutRoute = true;\n          }\n          try {\n            let result = await handler(async () => {\n              let { data: data2 } = await fetchAndDecode(args, basename, [routeId]);\n              return unwrapSingleFetchResult(data2, routeId);\n            });\n            results[routeId] = { type: \"data\", result };\n          } catch (e) {\n            results[routeId] = { type: \"error\", result: e };\n          }\n          return;\n        }\n        if (hasLoader) {\n          routesParams.add(routeId);\n        }\n        try {\n          let result = await handler(async () => {\n            let data2 = await singleFetchDfd.promise;\n            return unwrapSingleFetchResult(data2, routeId);\n          });\n          results[routeId] = { type: \"data\", result };\n        } catch (e) {\n          results[routeId] = { type: \"error\", result: e };\n        }\n      })\n    )\n  );\n  await Promise.all(routeDfds.map((d) => d.promise));\n  let isInitialLoad = !router.state.initialized && router.state.navigation.state === \"idle\";\n  if ((isInitialLoad || routesParams.size === 0) && !window.__reactRouterHdrActive) {\n    singleFetchDfd.resolve({ routes: {} });\n  } else {\n    let targetRoutes = ssr && foundOptOutRoute && routesParams.size > 0 ? [...routesParams.keys()] : void 0;\n    try {\n      let data2 = await fetchAndDecode(args, basename, targetRoutes);\n      singleFetchDfd.resolve(data2.data);\n    } catch (e) {\n      singleFetchDfd.reject(e);\n    }\n  }\n  await resolvePromise;\n  await bubbleMiddlewareErrors(\n    singleFetchDfd.promise,\n    args.matches,\n    routesParams,\n    results\n  );\n  return results;\n}\nasync function bubbleMiddlewareErrors(singleFetchPromise, matches, routesParams, results) {\n  try {\n    let middlewareError;\n    let fetchedData = await singleFetchPromise;\n    if (\"routes\" in fetchedData) {\n      for (let match of matches) {\n        if (match.route.id in fetchedData.routes) {\n          let routeResult = fetchedData.routes[match.route.id];\n          if (\"error\" in routeResult) {\n            middlewareError = routeResult.error;\n            break;\n          }\n        }\n      }\n    }\n    if (middlewareError !== void 0) {\n      Array.from(routesParams.values()).forEach((routeId) => {\n        if (results[routeId].result instanceof SingleFetchNoResultError) {\n          results[routeId].result = middlewareError;\n        }\n      });\n    }\n  } catch (e) {\n  }\n}\nasync function singleFetchLoaderFetcherStrategy(args, fetchAndDecode, basename) {\n  let fetcherMatch = args.matches.find((m) => m.unstable_shouldCallHandler());\n  invariant2(fetcherMatch, \"No fetcher match found\");\n  let routeId = fetcherMatch.route.id;\n  let result = await fetcherMatch.resolve(\n    async (handler) => handler(async () => {\n      let { data: data2 } = await fetchAndDecode(args, basename, [routeId]);\n      return unwrapSingleFetchResult(data2, routeId);\n    })\n  );\n  return { [fetcherMatch.route.id]: result };\n}\nfunction stripIndexParam(url) {\n  let indexValues = url.searchParams.getAll(\"index\");\n  url.searchParams.delete(\"index\");\n  let indexValuesToKeep = [];\n  for (let indexValue of indexValues) {\n    if (indexValue) {\n      indexValuesToKeep.push(indexValue);\n    }\n  }\n  for (let toKeep of indexValuesToKeep) {\n    url.searchParams.append(\"index\", toKeep);\n  }\n  return url;\n}\nfunction singleFetchUrl(reqUrl, basename) {\n  let url = typeof reqUrl === \"string\" ? new URL(\n    reqUrl,\n    // This can be called during the SSR flow via PrefetchPageLinksImpl so\n    // don't assume window is available\n    typeof window === \"undefined\" ? \"server://singlefetch/\" : window.location.origin\n  ) : reqUrl;\n  if (url.pathname === \"/\") {\n    url.pathname = \"_root.data\";\n  } else if (basename && stripBasename(url.pathname, basename) === \"/\") {\n    url.pathname = `${basename.replace(/\\/$/, \"\")}/_root.data`;\n  } else {\n    url.pathname = `${url.pathname.replace(/\\/$/, \"\")}.data`;\n  }\n  return url;\n}\nasync function fetchAndDecodeViaTurboStream(args, basename, targetRoutes) {\n  let { request } = args;\n  let url = singleFetchUrl(request.url, basename);\n  if (request.method === \"GET\") {\n    url = stripIndexParam(url);\n    if (targetRoutes) {\n      url.searchParams.set(\"_routes\", targetRoutes.join(\",\"));\n    }\n  }\n  let res = await fetch(url, await createRequestInit(request));\n  if (res.status === 404 && !res.headers.has(\"X-Remix-Response\")) {\n    throw new ErrorResponseImpl(404, \"Not Found\", true);\n  }\n  if (res.status === 204 && res.headers.has(\"X-Remix-Redirect\")) {\n    return {\n      status: SINGLE_FETCH_REDIRECT_STATUS,\n      data: {\n        redirect: {\n          redirect: res.headers.get(\"X-Remix-Redirect\"),\n          status: Number(res.headers.get(\"X-Remix-Status\") || \"302\"),\n          revalidate: res.headers.get(\"X-Remix-Revalidate\") === \"true\",\n          reload: res.headers.get(\"X-Remix-Reload-Document\") === \"true\",\n          replace: res.headers.get(\"X-Remix-Replace\") === \"true\"\n        }\n      }\n    };\n  }\n  if (NO_BODY_STATUS_CODES.has(res.status)) {\n    let routes = {};\n    if (targetRoutes && request.method !== \"GET\") {\n      routes[targetRoutes[0]] = { data: void 0 };\n    }\n    return {\n      status: res.status,\n      data: { routes }\n    };\n  }\n  invariant2(res.body, \"No response body to decode\");\n  try {\n    let decoded = await decodeViaTurboStream(res.body, window);\n    let data2;\n    if (request.method === \"GET\") {\n      let typed = decoded.value;\n      if (SingleFetchRedirectSymbol in typed) {\n        data2 = { redirect: typed[SingleFetchRedirectSymbol] };\n      } else {\n        data2 = { routes: typed };\n      }\n    } else {\n      let typed = decoded.value;\n      let routeId = targetRoutes?.[0];\n      invariant2(routeId, \"No routeId found for single fetch call decoding\");\n      if (\"redirect\" in typed) {\n        data2 = { redirect: typed };\n      } else {\n        data2 = { routes: { [routeId]: typed } };\n      }\n    }\n    return { status: res.status, data: data2 };\n  } catch (e) {\n    throw new Error(\"Unable to decode turbo-stream response\");\n  }\n}\nfunction decodeViaTurboStream(body, global2) {\n  return decode(body, {\n    plugins: [\n      (type, ...rest) => {\n        if (type === \"SanitizedError\") {\n          let [name, message, stack] = rest;\n          let Constructor = Error;\n          if (name && name in global2 && typeof global2[name] === \"function\") {\n            Constructor = global2[name];\n          }\n          let error = new Constructor(message);\n          error.stack = stack;\n          return { value: error };\n        }\n        if (type === \"ErrorResponse\") {\n          let [data2, status, statusText] = rest;\n          return {\n            value: new ErrorResponseImpl(status, statusText, data2)\n          };\n        }\n        if (type === \"SingleFetchRedirect\") {\n          return { value: { [SingleFetchRedirectSymbol]: rest[0] } };\n        }\n        if (type === \"SingleFetchClassInstance\") {\n          return { value: rest[0] };\n        }\n        if (type === \"SingleFetchFallback\") {\n          return { value: void 0 };\n        }\n      }\n    ]\n  });\n}\nfunction unwrapSingleFetchResult(result, routeId) {\n  if (\"redirect\" in result) {\n    let {\n      redirect: location,\n      revalidate,\n      reload,\n      replace: replace2,\n      status\n    } = result.redirect;\n    throw redirect(location, {\n      status,\n      headers: {\n        // Three R's of redirecting (lol Veep)\n        ...revalidate ? { \"X-Remix-Revalidate\": \"yes\" } : null,\n        ...reload ? { \"X-Remix-Reload-Document\": \"yes\" } : null,\n        ...replace2 ? { \"X-Remix-Replace\": \"yes\" } : null\n      }\n    });\n  }\n  let routeResult = result.routes[routeId];\n  if (routeResult == null) {\n    throw new SingleFetchNoResultError(\n      `No result found for routeId \"${routeId}\"`\n    );\n  } else if (\"error\" in routeResult) {\n    throw routeResult.error;\n  } else if (\"data\" in routeResult) {\n    return routeResult.data;\n  } else {\n    throw new Error(`Invalid response found for routeId \"${routeId}\"`);\n  }\n}\nfunction createDeferred2() {\n  let resolve;\n  let reject;\n  let promise = new Promise((res, rej) => {\n    resolve = async (val) => {\n      res(val);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n    reject = async (error) => {\n      rej(error);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n  });\n  return {\n    promise,\n    //@ts-ignore\n    resolve,\n    //@ts-ignore\n    reject\n  };\n}\n\n// lib/dom/ssr/fog-of-war.ts\nimport * as React8 from \"react\";\n\n// lib/dom/ssr/routes.tsx\nimport * as React7 from \"react\";\n\n// lib/dom/ssr/errorBoundaries.tsx\nimport * as React5 from \"react\";\nvar RemixErrorBoundary = class extends React5.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: props.error || null, location: props.location };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  static getDerivedStateFromProps(props, state) {\n    if (state.location !== props.location) {\n      return { error: props.error || null, location: props.location };\n    }\n    return { error: props.error || state.error, location: state.location };\n  }\n  render() {\n    if (this.state.error) {\n      return /* @__PURE__ */ React5.createElement(\n        RemixRootDefaultErrorBoundary,\n        {\n          error: this.state.error,\n          isOutsideRemixApp: true\n        }\n      );\n    } else {\n      return this.props.children;\n    }\n  }\n};\nfunction RemixRootDefaultErrorBoundary({\n  error,\n  isOutsideRemixApp\n}) {\n  console.error(error);\n  let heyDeveloper = /* @__PURE__ */ React5.createElement(\n    \"script\",\n    {\n      dangerouslySetInnerHTML: {\n        __html: `\n        console.log(\n          \"\\u{1F4BF} Hey developer \\u{1F44B}. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information.\"\n        );\n      `\n      }\n    }\n  );\n  if (isRouteErrorResponse(error)) {\n    return /* @__PURE__ */ React5.createElement(BoundaryShell, { title: \"Unhandled Thrown Response!\" }, /* @__PURE__ */ React5.createElement(\"h1\", { style: { fontSize: \"24px\" } }, error.status, \" \", error.statusText), ENABLE_DEV_WARNINGS ? heyDeveloper : null);\n  }\n  let errorInstance;\n  if (error instanceof Error) {\n    errorInstance = error;\n  } else {\n    let errorString = error == null ? \"Unknown Error\" : typeof error === \"object\" && \"toString\" in error ? error.toString() : JSON.stringify(error);\n    errorInstance = new Error(errorString);\n  }\n  return /* @__PURE__ */ React5.createElement(\n    BoundaryShell,\n    {\n      title: \"Application Error!\",\n      isOutsideRemixApp\n    },\n    /* @__PURE__ */ React5.createElement(\"h1\", { style: { fontSize: \"24px\" } }, \"Application Error\"),\n    /* @__PURE__ */ React5.createElement(\n      \"pre\",\n      {\n        style: {\n          padding: \"2rem\",\n          background: \"hsla(10, 50%, 50%, 0.1)\",\n          color: \"red\",\n          overflow: \"auto\"\n        }\n      },\n      errorInstance.stack\n    ),\n    heyDeveloper\n  );\n}\nfunction BoundaryShell({\n  title,\n  renderScripts,\n  isOutsideRemixApp,\n  children\n}) {\n  let { routeModules } = useFrameworkContext();\n  if (routeModules.root?.Layout && !isOutsideRemixApp) {\n    return children;\n  }\n  return /* @__PURE__ */ React5.createElement(\"html\", { lang: \"en\" }, /* @__PURE__ */ React5.createElement(\"head\", null, /* @__PURE__ */ React5.createElement(\"meta\", { charSet: \"utf-8\" }), /* @__PURE__ */ React5.createElement(\n    \"meta\",\n    {\n      name: \"viewport\",\n      content: \"width=device-width,initial-scale=1,viewport-fit=cover\"\n    }\n  ), /* @__PURE__ */ React5.createElement(\"title\", null, title)), /* @__PURE__ */ React5.createElement(\"body\", null, /* @__PURE__ */ React5.createElement(\"main\", { style: { fontFamily: \"system-ui, sans-serif\", padding: \"2rem\" } }, children, renderScripts ? /* @__PURE__ */ React5.createElement(Scripts, null) : null)));\n}\n\n// lib/dom/ssr/fallback.tsx\nimport * as React6 from \"react\";\nfunction RemixRootDefaultHydrateFallback() {\n  return /* @__PURE__ */ React6.createElement(BoundaryShell, { title: \"Loading...\", renderScripts: true }, ENABLE_DEV_WARNINGS ? /* @__PURE__ */ React6.createElement(\n    \"script\",\n    {\n      dangerouslySetInnerHTML: {\n        __html: `\n              console.log(\n                \"\\u{1F4BF} Hey developer \\u{1F44B}. You can provide a way better UX than this \" +\n                \"when your app is loading JS modules and/or running \\`clientLoader\\` \" +\n                \"functions. Check out https://reactrouter.com/start/framework/route-module#hydratefallback \" +\n                \"for more information.\"\n              );\n            `\n      }\n    }\n  ) : null);\n}\n\n// lib/dom/ssr/routes.tsx\nfunction groupRoutesByParentId(manifest) {\n  let routes = {};\n  Object.values(manifest).forEach((route) => {\n    if (route) {\n      let parentId = route.parentId || \"\";\n      if (!routes[parentId]) {\n        routes[parentId] = [];\n      }\n      routes[parentId].push(route);\n    }\n  });\n  return routes;\n}\nfunction getRouteComponents(route, routeModule, isSpaMode) {\n  let Component4 = getRouteModuleComponent(routeModule);\n  let HydrateFallback = routeModule.HydrateFallback && (!isSpaMode || route.id === \"root\") ? routeModule.HydrateFallback : route.id === \"root\" ? RemixRootDefaultHydrateFallback : void 0;\n  let ErrorBoundary = routeModule.ErrorBoundary ? routeModule.ErrorBoundary : route.id === \"root\" ? () => /* @__PURE__ */ React7.createElement(RemixRootDefaultErrorBoundary, { error: useRouteError() }) : void 0;\n  if (route.id === \"root\" && routeModule.Layout) {\n    return {\n      ...Component4 ? {\n        element: /* @__PURE__ */ React7.createElement(routeModule.Layout, null, /* @__PURE__ */ React7.createElement(Component4, null))\n      } : { Component: Component4 },\n      ...ErrorBoundary ? {\n        errorElement: /* @__PURE__ */ React7.createElement(routeModule.Layout, null, /* @__PURE__ */ React7.createElement(ErrorBoundary, null))\n      } : { ErrorBoundary },\n      ...HydrateFallback ? {\n        hydrateFallbackElement: /* @__PURE__ */ React7.createElement(routeModule.Layout, null, /* @__PURE__ */ React7.createElement(HydrateFallback, null))\n      } : { HydrateFallback }\n    };\n  }\n  return { Component: Component4, ErrorBoundary, HydrateFallback };\n}\nfunction createServerRoutes(manifest, routeModules, future, isSpaMode, parentId = \"\", routesByParentId = groupRoutesByParentId(manifest), spaModeLazyPromise = Promise.resolve({ Component: () => null })) {\n  return (routesByParentId[parentId] || []).map((route) => {\n    let routeModule = routeModules[route.id];\n    invariant2(\n      routeModule,\n      \"No `routeModule` available to create server routes\"\n    );\n    let dataRoute = {\n      ...getRouteComponents(route, routeModule, isSpaMode),\n      caseSensitive: route.caseSensitive,\n      id: route.id,\n      index: route.index,\n      path: route.path,\n      handle: routeModule.handle,\n      // For SPA Mode, all routes are lazy except root.  However we tell the\n      // router root is also lazy here too since we don't need a full\n      // implementation - we just need a `lazy` prop to tell the RR rendering\n      // where to stop which is always at the root route in SPA mode\n      lazy: isSpaMode ? () => spaModeLazyPromise : void 0,\n      // For partial hydration rendering, we need to indicate when the route\n      // has a loader/clientLoader, but it won't ever be called during the static\n      // render, so just give it a no-op function so we can render down to the\n      // proper fallback\n      loader: route.hasLoader || route.hasClientLoader ? () => null : void 0\n      // We don't need middleware/action/shouldRevalidate on these routes since\n      // they're for a static render\n    };\n    let children = createServerRoutes(\n      manifest,\n      routeModules,\n      future,\n      isSpaMode,\n      route.id,\n      routesByParentId,\n      spaModeLazyPromise\n    );\n    if (children.length > 0) dataRoute.children = children;\n    return dataRoute;\n  });\n}\nfunction createClientRoutesWithHMRRevalidationOptOut(needsRevalidation, manifest, routeModulesCache, initialState, ssr, isSpaMode) {\n  return createClientRoutes(\n    manifest,\n    routeModulesCache,\n    initialState,\n    ssr,\n    isSpaMode,\n    \"\",\n    groupRoutesByParentId(manifest),\n    needsRevalidation\n  );\n}\nfunction preventInvalidServerHandlerCall(type, route) {\n  if (type === \"loader\" && !route.hasLoader || type === \"action\" && !route.hasAction) {\n    let fn = type === \"action\" ? \"serverAction()\" : \"serverLoader()\";\n    let msg = `You are trying to call ${fn} on a route that does not have a server ${type} (routeId: \"${route.id}\")`;\n    console.error(msg);\n    throw new ErrorResponseImpl(400, \"Bad Request\", new Error(msg), true);\n  }\n}\nfunction noActionDefinedError(type, routeId) {\n  let article = type === \"clientAction\" ? \"a\" : \"an\";\n  let msg = `Route \"${routeId}\" does not have ${article} ${type}, but you are trying to submit to it. To fix this, please add ${article} \\`${type}\\` function to the route`;\n  console.error(msg);\n  throw new ErrorResponseImpl(405, \"Method Not Allowed\", new Error(msg), true);\n}\nfunction createClientRoutes(manifest, routeModulesCache, initialState, ssr, isSpaMode, parentId = \"\", routesByParentId = groupRoutesByParentId(manifest), needsRevalidation) {\n  return (routesByParentId[parentId] || []).map((route) => {\n    let routeModule = routeModulesCache[route.id];\n    function fetchServerHandler(singleFetch) {\n      invariant2(\n        typeof singleFetch === \"function\",\n        \"No single fetch function available for route handler\"\n      );\n      return singleFetch();\n    }\n    function fetchServerLoader(singleFetch) {\n      if (!route.hasLoader) return Promise.resolve(null);\n      return fetchServerHandler(singleFetch);\n    }\n    function fetchServerAction(singleFetch) {\n      if (!route.hasAction) {\n        throw noActionDefinedError(\"action\", route.id);\n      }\n      return fetchServerHandler(singleFetch);\n    }\n    function prefetchModule(modulePath) {\n      import(\n        /* @vite-ignore */\n        /* webpackIgnore: true */\n        modulePath\n      );\n    }\n    function prefetchRouteModuleChunks(route2) {\n      if (route2.clientActionModule) {\n        prefetchModule(route2.clientActionModule);\n      }\n      if (route2.clientLoaderModule) {\n        prefetchModule(route2.clientLoaderModule);\n      }\n    }\n    async function prefetchStylesAndCallHandler(handler) {\n      let cachedModule = routeModulesCache[route.id];\n      let linkPrefetchPromise = cachedModule ? prefetchStyleLinks(route, cachedModule) : Promise.resolve();\n      try {\n        return handler();\n      } finally {\n        await linkPrefetchPromise;\n      }\n    }\n    let dataRoute = {\n      id: route.id,\n      index: route.index,\n      path: route.path\n    };\n    if (routeModule) {\n      Object.assign(dataRoute, {\n        ...dataRoute,\n        ...getRouteComponents(route, routeModule, isSpaMode),\n        unstable_middleware: routeModule.unstable_clientMiddleware,\n        handle: routeModule.handle,\n        shouldRevalidate: getShouldRevalidateFunction(\n          dataRoute.path,\n          routeModule,\n          route,\n          ssr,\n          needsRevalidation\n        )\n      });\n      let hasInitialData = initialState && initialState.loaderData && route.id in initialState.loaderData;\n      let initialData = hasInitialData ? initialState?.loaderData?.[route.id] : void 0;\n      let hasInitialError = initialState && initialState.errors && route.id in initialState.errors;\n      let initialError = hasInitialError ? initialState?.errors?.[route.id] : void 0;\n      let isHydrationRequest = needsRevalidation == null && (routeModule.clientLoader?.hydrate === true || !route.hasLoader);\n      dataRoute.loader = async ({ request, params, context }, singleFetch) => {\n        try {\n          let result = await prefetchStylesAndCallHandler(async () => {\n            invariant2(\n              routeModule,\n              \"No `routeModule` available for critical-route loader\"\n            );\n            if (!routeModule.clientLoader) {\n              return fetchServerLoader(singleFetch);\n            }\n            return routeModule.clientLoader({\n              request,\n              params,\n              context,\n              async serverLoader() {\n                preventInvalidServerHandlerCall(\"loader\", route);\n                if (isHydrationRequest) {\n                  if (hasInitialData) {\n                    return initialData;\n                  }\n                  if (hasInitialError) {\n                    throw initialError;\n                  }\n                }\n                return fetchServerLoader(singleFetch);\n              }\n            });\n          });\n          return result;\n        } finally {\n          isHydrationRequest = false;\n        }\n      };\n      dataRoute.loader.hydrate = shouldHydrateRouteLoader(\n        route.id,\n        routeModule.clientLoader,\n        route.hasLoader,\n        isSpaMode\n      );\n      dataRoute.action = ({ request, params, context }, singleFetch) => {\n        return prefetchStylesAndCallHandler(async () => {\n          invariant2(\n            routeModule,\n            \"No `routeModule` available for critical-route action\"\n          );\n          if (!routeModule.clientAction) {\n            if (isSpaMode) {\n              throw noActionDefinedError(\"clientAction\", route.id);\n            }\n            return fetchServerAction(singleFetch);\n          }\n          return routeModule.clientAction({\n            request,\n            params,\n            context,\n            async serverAction() {\n              preventInvalidServerHandlerCall(\"action\", route);\n              return fetchServerAction(singleFetch);\n            }\n          });\n        });\n      };\n    } else {\n      if (!route.hasClientLoader) {\n        dataRoute.loader = (_, singleFetch) => prefetchStylesAndCallHandler(() => {\n          return fetchServerLoader(singleFetch);\n        });\n      }\n      if (!route.hasClientAction) {\n        dataRoute.action = (_, singleFetch) => prefetchStylesAndCallHandler(() => {\n          if (isSpaMode) {\n            throw noActionDefinedError(\"clientAction\", route.id);\n          }\n          return fetchServerAction(singleFetch);\n        });\n      }\n      let lazyRoutePromise;\n      async function getLazyRoute() {\n        if (lazyRoutePromise) {\n          return await lazyRoutePromise;\n        }\n        lazyRoutePromise = (async () => {\n          if (route.clientLoaderModule || route.clientActionModule) {\n            await new Promise((resolve) => setTimeout(resolve, 0));\n          }\n          let routeModulePromise = loadRouteModuleWithBlockingLinks(\n            route,\n            routeModulesCache\n          );\n          prefetchRouteModuleChunks(route);\n          return await routeModulePromise;\n        })();\n        return await lazyRoutePromise;\n      }\n      dataRoute.lazy = {\n        loader: route.hasClientLoader ? async () => {\n          let { clientLoader } = route.clientLoaderModule ? await import(\n            /* @vite-ignore */\n            /* webpackIgnore: true */\n            route.clientLoaderModule\n          ) : await getLazyRoute();\n          invariant2(clientLoader, \"No `clientLoader` export found\");\n          return (args, singleFetch) => clientLoader({\n            ...args,\n            async serverLoader() {\n              preventInvalidServerHandlerCall(\"loader\", route);\n              return fetchServerLoader(singleFetch);\n            }\n          });\n        } : void 0,\n        action: route.hasClientAction ? async () => {\n          let clientActionPromise = route.clientActionModule ? import(\n            /* @vite-ignore */\n            /* webpackIgnore: true */\n            route.clientActionModule\n          ) : getLazyRoute();\n          prefetchRouteModuleChunks(route);\n          let { clientAction } = await clientActionPromise;\n          invariant2(clientAction, \"No `clientAction` export found\");\n          return (args, singleFetch) => clientAction({\n            ...args,\n            async serverAction() {\n              preventInvalidServerHandlerCall(\"action\", route);\n              return fetchServerAction(singleFetch);\n            }\n          });\n        } : void 0,\n        unstable_middleware: route.hasClientMiddleware ? async () => {\n          let { unstable_clientMiddleware } = route.clientMiddlewareModule ? await import(\n            /* @vite-ignore */\n            /* webpackIgnore: true */\n            route.clientMiddlewareModule\n          ) : await getLazyRoute();\n          invariant2(\n            unstable_clientMiddleware,\n            \"No `unstable_clientMiddleware` export found\"\n          );\n          return unstable_clientMiddleware;\n        } : void 0,\n        shouldRevalidate: async () => {\n          let lazyRoute = await getLazyRoute();\n          return getShouldRevalidateFunction(\n            dataRoute.path,\n            lazyRoute,\n            route,\n            ssr,\n            needsRevalidation\n          );\n        },\n        handle: async () => (await getLazyRoute()).handle,\n        // No need to wrap these in layout since the root route is never\n        // loaded via route.lazy()\n        Component: async () => (await getLazyRoute()).Component,\n        ErrorBoundary: route.hasErrorBoundary ? async () => (await getLazyRoute()).ErrorBoundary : void 0\n      };\n    }\n    let children = createClientRoutes(\n      manifest,\n      routeModulesCache,\n      initialState,\n      ssr,\n      isSpaMode,\n      route.id,\n      routesByParentId,\n      needsRevalidation\n    );\n    if (children.length > 0) dataRoute.children = children;\n    return dataRoute;\n  });\n}\nfunction getShouldRevalidateFunction(path, route, manifestRoute, ssr, needsRevalidation) {\n  if (needsRevalidation) {\n    return wrapShouldRevalidateForHdr(\n      manifestRoute.id,\n      route.shouldRevalidate,\n      needsRevalidation\n    );\n  }\n  if (!ssr && manifestRoute.hasLoader && !manifestRoute.hasClientLoader) {\n    let myParams = path ? compilePath(path)[1].map((p) => p.paramName) : [];\n    const didParamsChange = (opts) => myParams.some((p) => opts.currentParams[p] !== opts.nextParams[p]);\n    if (route.shouldRevalidate) {\n      let fn = route.shouldRevalidate;\n      return (opts) => fn({\n        ...opts,\n        defaultShouldRevalidate: didParamsChange(opts)\n      });\n    } else {\n      return (opts) => didParamsChange(opts);\n    }\n  }\n  if (ssr && route.shouldRevalidate) {\n    let fn = route.shouldRevalidate;\n    return (opts) => fn({ ...opts, defaultShouldRevalidate: true });\n  }\n  return route.shouldRevalidate;\n}\nfunction wrapShouldRevalidateForHdr(routeId, routeShouldRevalidate, needsRevalidation) {\n  let handledRevalidation = false;\n  return (arg) => {\n    if (!handledRevalidation) {\n      handledRevalidation = true;\n      return needsRevalidation.has(routeId);\n    }\n    return routeShouldRevalidate ? routeShouldRevalidate(arg) : arg.defaultShouldRevalidate;\n  };\n}\nasync function loadRouteModuleWithBlockingLinks(route, routeModules) {\n  let routeModulePromise = loadRouteModule(route, routeModules);\n  let prefetchRouteCssPromise = prefetchRouteCss(route);\n  let routeModule = await routeModulePromise;\n  await Promise.all([\n    prefetchRouteCssPromise,\n    prefetchStyleLinks(route, routeModule)\n  ]);\n  return {\n    Component: getRouteModuleComponent(routeModule),\n    ErrorBoundary: routeModule.ErrorBoundary,\n    unstable_clientMiddleware: routeModule.unstable_clientMiddleware,\n    clientAction: routeModule.clientAction,\n    clientLoader: routeModule.clientLoader,\n    handle: routeModule.handle,\n    links: routeModule.links,\n    meta: routeModule.meta,\n    shouldRevalidate: routeModule.shouldRevalidate\n  };\n}\nfunction getRouteModuleComponent(routeModule) {\n  if (routeModule.default == null) return void 0;\n  let isEmptyObject = typeof routeModule.default === \"object\" && Object.keys(routeModule.default).length === 0;\n  if (!isEmptyObject) {\n    return routeModule.default;\n  }\n}\nfunction shouldHydrateRouteLoader(routeId, clientLoader, hasLoader, isSpaMode) {\n  return isSpaMode && routeId !== \"root\" || clientLoader != null && (clientLoader.hydrate === true || hasLoader !== true);\n}\n\n// lib/dom/ssr/fog-of-war.ts\nvar nextPaths = /* @__PURE__ */ new Set();\nvar discoveredPathsMaxSize = 1e3;\nvar discoveredPaths = /* @__PURE__ */ new Set();\nvar URL_LIMIT = 7680;\nfunction isFogOfWarEnabled(routeDiscovery, ssr) {\n  return routeDiscovery.mode === \"lazy\" && ssr === true;\n}\nfunction getPartialManifest({ sri, ...manifest }, router) {\n  let routeIds = new Set(router.state.matches.map((m) => m.route.id));\n  let segments = router.state.location.pathname.split(\"/\").filter(Boolean);\n  let paths = [\"/\"];\n  segments.pop();\n  while (segments.length > 0) {\n    paths.push(`/${segments.join(\"/\")}`);\n    segments.pop();\n  }\n  paths.forEach((path) => {\n    let matches = matchRoutes(router.routes, path, router.basename);\n    if (matches) {\n      matches.forEach((m) => routeIds.add(m.route.id));\n    }\n  });\n  let initialRoutes = [...routeIds].reduce(\n    (acc, id) => Object.assign(acc, { [id]: manifest.routes[id] }),\n    {}\n  );\n  return {\n    ...manifest,\n    routes: initialRoutes,\n    sri: sri ? true : void 0\n  };\n}\nfunction getPatchRoutesOnNavigationFunction(manifest, routeModules, ssr, routeDiscovery, isSpaMode, basename) {\n  if (!isFogOfWarEnabled(routeDiscovery, ssr)) {\n    return void 0;\n  }\n  return async ({ path, patch, signal, fetcherKey }) => {\n    if (discoveredPaths.has(path)) {\n      return;\n    }\n    await fetchAndApplyManifestPatches(\n      [path],\n      fetcherKey ? window.location.href : path,\n      manifest,\n      routeModules,\n      ssr,\n      isSpaMode,\n      basename,\n      routeDiscovery.manifestPath,\n      patch,\n      signal\n    );\n  };\n}\nfunction useFogOFWarDiscovery(router, manifest, routeModules, ssr, routeDiscovery, isSpaMode) {\n  React8.useEffect(() => {\n    if (!isFogOfWarEnabled(routeDiscovery, ssr) || // @ts-expect-error - TS doesn't know about this yet\n    window.navigator?.connection?.saveData === true) {\n      return;\n    }\n    function registerElement(el) {\n      let path = el.tagName === \"FORM\" ? el.getAttribute(\"action\") : el.getAttribute(\"href\");\n      if (!path) {\n        return;\n      }\n      let pathname = el.tagName === \"A\" ? el.pathname : new URL(path, window.location.origin).pathname;\n      if (!discoveredPaths.has(pathname)) {\n        nextPaths.add(pathname);\n      }\n    }\n    async function fetchPatches() {\n      document.querySelectorAll(\"a[data-discover], form[data-discover]\").forEach(registerElement);\n      let lazyPaths = Array.from(nextPaths.keys()).filter((path) => {\n        if (discoveredPaths.has(path)) {\n          nextPaths.delete(path);\n          return false;\n        }\n        return true;\n      });\n      if (lazyPaths.length === 0) {\n        return;\n      }\n      try {\n        await fetchAndApplyManifestPatches(\n          lazyPaths,\n          null,\n          manifest,\n          routeModules,\n          ssr,\n          isSpaMode,\n          router.basename,\n          routeDiscovery.manifestPath,\n          router.patchRoutes\n        );\n      } catch (e) {\n        console.error(\"Failed to fetch manifest patches\", e);\n      }\n    }\n    let debouncedFetchPatches = debounce(fetchPatches, 100);\n    fetchPatches();\n    let observer = new MutationObserver(() => debouncedFetchPatches());\n    observer.observe(document.documentElement, {\n      subtree: true,\n      childList: true,\n      attributes: true,\n      attributeFilter: [\"data-discover\", \"href\", \"action\"]\n    });\n    return () => observer.disconnect();\n  }, [ssr, isSpaMode, manifest, routeModules, router, routeDiscovery]);\n}\nfunction getManifestPath(_manifestPath, basename) {\n  let manifestPath = _manifestPath || \"/__manifest\";\n  if (basename == null) {\n    return manifestPath;\n  }\n  return `${basename}${manifestPath}`.replace(/\\/+/g, \"/\");\n}\nvar MANIFEST_VERSION_STORAGE_KEY = \"react-router-manifest-version\";\nasync function fetchAndApplyManifestPatches(paths, errorReloadPath, manifest, routeModules, ssr, isSpaMode, basename, manifestPath, patchRoutes, signal) {\n  let url = new URL(\n    getManifestPath(manifestPath, basename),\n    window.location.origin\n  );\n  paths.sort().forEach((path) => url.searchParams.append(\"p\", path));\n  url.searchParams.set(\"version\", manifest.version);\n  if (url.toString().length > URL_LIMIT) {\n    nextPaths.clear();\n    return;\n  }\n  let serverPatches;\n  try {\n    let res = await fetch(url, { signal });\n    if (!res.ok) {\n      throw new Error(`${res.status} ${res.statusText}`);\n    } else if (res.status === 204 && res.headers.has(\"X-Remix-Reload-Document\")) {\n      if (!errorReloadPath) {\n        console.warn(\n          \"Detected a manifest version mismatch during eager route discovery. The next navigation/fetch to an undiscovered route will result in a new document navigation to sync up with the latest manifest.\"\n        );\n        return;\n      }\n      if (sessionStorage.getItem(MANIFEST_VERSION_STORAGE_KEY) === manifest.version) {\n        console.error(\n          \"Unable to discover routes due to manifest version mismatch.\"\n        );\n        return;\n      }\n      sessionStorage.setItem(MANIFEST_VERSION_STORAGE_KEY, manifest.version);\n      window.location.href = errorReloadPath;\n      console.warn(\"Detected manifest version mismatch, reloading...\");\n      await new Promise(() => {\n      });\n    } else if (res.status >= 400) {\n      throw new Error(await res.text());\n    }\n    sessionStorage.removeItem(MANIFEST_VERSION_STORAGE_KEY);\n    serverPatches = await res.json();\n  } catch (e) {\n    if (signal?.aborted) return;\n    throw e;\n  }\n  let knownRoutes = new Set(Object.keys(manifest.routes));\n  let patches = Object.values(serverPatches).reduce((acc, route) => {\n    if (route && !knownRoutes.has(route.id)) {\n      acc[route.id] = route;\n    }\n    return acc;\n  }, {});\n  Object.assign(manifest.routes, patches);\n  paths.forEach((p) => addToFifoQueue(p, discoveredPaths));\n  let parentIds = /* @__PURE__ */ new Set();\n  Object.values(patches).forEach((patch) => {\n    if (patch && (!patch.parentId || !patches[patch.parentId])) {\n      parentIds.add(patch.parentId);\n    }\n  });\n  parentIds.forEach(\n    (parentId) => patchRoutes(\n      parentId || null,\n      createClientRoutes(patches, routeModules, null, ssr, isSpaMode, parentId)\n    )\n  );\n}\nfunction addToFifoQueue(path, queue) {\n  if (queue.size >= discoveredPathsMaxSize) {\n    let first = queue.values().next().value;\n    queue.delete(first);\n  }\n  queue.add(path);\n}\nfunction debounce(callback, wait) {\n  let timeoutId;\n  return (...args) => {\n    window.clearTimeout(timeoutId);\n    timeoutId = window.setTimeout(() => callback(...args), wait);\n  };\n}\n\n// lib/dom/ssr/components.tsx\nfunction useDataRouterContext2() {\n  let context = React9.useContext(DataRouterContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <DataRouterContext.Provider> element\"\n  );\n  return context;\n}\nfunction useDataRouterStateContext() {\n  let context = React9.useContext(DataRouterStateContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <DataRouterStateContext.Provider> element\"\n  );\n  return context;\n}\nvar FrameworkContext = React9.createContext(void 0);\nFrameworkContext.displayName = \"FrameworkContext\";\nfunction useFrameworkContext() {\n  let context = React9.useContext(FrameworkContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <HydratedRouter> element\"\n  );\n  return context;\n}\nfunction usePrefetchBehavior(prefetch, theirElementProps) {\n  let frameworkContext = React9.useContext(FrameworkContext);\n  let [maybePrefetch, setMaybePrefetch] = React9.useState(false);\n  let [shouldPrefetch, setShouldPrefetch] = React9.useState(false);\n  let { onFocus, onBlur, onMouseEnter, onMouseLeave, onTouchStart } = theirElementProps;\n  let ref = React9.useRef(null);\n  React9.useEffect(() => {\n    if (prefetch === \"render\") {\n      setShouldPrefetch(true);\n    }\n    if (prefetch === \"viewport\") {\n      let callback = (entries) => {\n        entries.forEach((entry) => {\n          setShouldPrefetch(entry.isIntersecting);\n        });\n      };\n      let observer = new IntersectionObserver(callback, { threshold: 0.5 });\n      if (ref.current) observer.observe(ref.current);\n      return () => {\n        observer.disconnect();\n      };\n    }\n  }, [prefetch]);\n  React9.useEffect(() => {\n    if (maybePrefetch) {\n      let id = setTimeout(() => {\n        setShouldPrefetch(true);\n      }, 100);\n      return () => {\n        clearTimeout(id);\n      };\n    }\n  }, [maybePrefetch]);\n  let setIntent = () => {\n    setMaybePrefetch(true);\n  };\n  let cancelIntent = () => {\n    setMaybePrefetch(false);\n    setShouldPrefetch(false);\n  };\n  if (!frameworkContext) {\n    return [false, ref, {}];\n  }\n  if (prefetch !== \"intent\") {\n    return [shouldPrefetch, ref, {}];\n  }\n  return [\n    shouldPrefetch,\n    ref,\n    {\n      onFocus: composeEventHandlers(onFocus, setIntent),\n      onBlur: composeEventHandlers(onBlur, cancelIntent),\n      onMouseEnter: composeEventHandlers(onMouseEnter, setIntent),\n      onMouseLeave: composeEventHandlers(onMouseLeave, cancelIntent),\n      onTouchStart: composeEventHandlers(onTouchStart, setIntent)\n    }\n  ];\n}\nfunction composeEventHandlers(theirHandler, ourHandler) {\n  return (event) => {\n    theirHandler && theirHandler(event);\n    if (!event.defaultPrevented) {\n      ourHandler(event);\n    }\n  };\n}\nfunction getActiveMatches(matches, errors, isSpaMode) {\n  if (isSpaMode && !isHydrated) {\n    return [matches[0]];\n  }\n  if (errors) {\n    let errorIdx = matches.findIndex((m) => errors[m.route.id] !== void 0);\n    return matches.slice(0, errorIdx + 1);\n  }\n  return matches;\n}\nfunction Links() {\n  let { isSpaMode, manifest, routeModules, criticalCss } = useFrameworkContext();\n  let { errors, matches: routerMatches } = useDataRouterStateContext();\n  let matches = getActiveMatches(routerMatches, errors, isSpaMode);\n  let keyedLinks = React9.useMemo(\n    () => getKeyedLinksForMatches(matches, routeModules, manifest),\n    [matches, routeModules, manifest]\n  );\n  return /* @__PURE__ */ React9.createElement(React9.Fragment, null, typeof criticalCss === \"string\" ? /* @__PURE__ */ React9.createElement(\"style\", { dangerouslySetInnerHTML: { __html: criticalCss } }) : null, typeof criticalCss === \"object\" ? /* @__PURE__ */ React9.createElement(\"link\", { rel: \"stylesheet\", href: criticalCss.href }) : null, keyedLinks.map(\n    ({ key, link }) => isPageLinkDescriptor(link) ? /* @__PURE__ */ React9.createElement(PrefetchPageLinks, { key, ...link }) : /* @__PURE__ */ React9.createElement(\"link\", { key, ...link })\n  ));\n}\nfunction PrefetchPageLinks({\n  page,\n  ...dataLinkProps\n}) {\n  let { router } = useDataRouterContext2();\n  let matches = React9.useMemo(\n    () => matchRoutes(router.routes, page, router.basename),\n    [router.routes, page, router.basename]\n  );\n  if (!matches) {\n    return null;\n  }\n  return /* @__PURE__ */ React9.createElement(PrefetchPageLinksImpl, { page, matches, ...dataLinkProps });\n}\nfunction useKeyedPrefetchLinks(matches) {\n  let { manifest, routeModules } = useFrameworkContext();\n  let [keyedPrefetchLinks, setKeyedPrefetchLinks] = React9.useState([]);\n  React9.useEffect(() => {\n    let interrupted = false;\n    void getKeyedPrefetchLinks(matches, manifest, routeModules).then(\n      (links) => {\n        if (!interrupted) {\n          setKeyedPrefetchLinks(links);\n        }\n      }\n    );\n    return () => {\n      interrupted = true;\n    };\n  }, [matches, manifest, routeModules]);\n  return keyedPrefetchLinks;\n}\nfunction PrefetchPageLinksImpl({\n  page,\n  matches: nextMatches,\n  ...linkProps\n}) {\n  let location = useLocation();\n  let { manifest, routeModules } = useFrameworkContext();\n  let { basename } = useDataRouterContext2();\n  let { loaderData, matches } = useDataRouterStateContext();\n  let newMatchesForData = React9.useMemo(\n    () => getNewMatchesForLinks(\n      page,\n      nextMatches,\n      matches,\n      manifest,\n      location,\n      \"data\"\n    ),\n    [page, nextMatches, matches, manifest, location]\n  );\n  let newMatchesForAssets = React9.useMemo(\n    () => getNewMatchesForLinks(\n      page,\n      nextMatches,\n      matches,\n      manifest,\n      location,\n      \"assets\"\n    ),\n    [page, nextMatches, matches, manifest, location]\n  );\n  let dataHrefs = React9.useMemo(() => {\n    if (page === location.pathname + location.search + location.hash) {\n      return [];\n    }\n    let routesParams = /* @__PURE__ */ new Set();\n    let foundOptOutRoute = false;\n    nextMatches.forEach((m) => {\n      let manifestRoute = manifest.routes[m.route.id];\n      if (!manifestRoute || !manifestRoute.hasLoader) {\n        return;\n      }\n      if (!newMatchesForData.some((m2) => m2.route.id === m.route.id) && m.route.id in loaderData && routeModules[m.route.id]?.shouldRevalidate) {\n        foundOptOutRoute = true;\n      } else if (manifestRoute.hasClientLoader) {\n        foundOptOutRoute = true;\n      } else {\n        routesParams.add(m.route.id);\n      }\n    });\n    if (routesParams.size === 0) {\n      return [];\n    }\n    let url = singleFetchUrl(page, basename);\n    if (foundOptOutRoute && routesParams.size > 0) {\n      url.searchParams.set(\n        \"_routes\",\n        nextMatches.filter((m) => routesParams.has(m.route.id)).map((m) => m.route.id).join(\",\")\n      );\n    }\n    return [url.pathname + url.search];\n  }, [\n    basename,\n    loaderData,\n    location,\n    manifest,\n    newMatchesForData,\n    nextMatches,\n    page,\n    routeModules\n  ]);\n  let moduleHrefs = React9.useMemo(\n    () => getModuleLinkHrefs(newMatchesForAssets, manifest),\n    [newMatchesForAssets, manifest]\n  );\n  let keyedPrefetchLinks = useKeyedPrefetchLinks(newMatchesForAssets);\n  return /* @__PURE__ */ React9.createElement(React9.Fragment, null, dataHrefs.map((href2) => /* @__PURE__ */ React9.createElement(\"link\", { key: href2, rel: \"prefetch\", as: \"fetch\", href: href2, ...linkProps })), moduleHrefs.map((href2) => /* @__PURE__ */ React9.createElement(\"link\", { key: href2, rel: \"modulepreload\", href: href2, ...linkProps })), keyedPrefetchLinks.map(({ key, link }) => (\n    // these don't spread `linkProps` because they are full link descriptors\n    // already with their own props\n    /* @__PURE__ */ React9.createElement(\"link\", { key, ...link })\n  )));\n}\nfunction Meta() {\n  let { isSpaMode, routeModules } = useFrameworkContext();\n  let {\n    errors,\n    matches: routerMatches,\n    loaderData\n  } = useDataRouterStateContext();\n  let location = useLocation();\n  let _matches = getActiveMatches(routerMatches, errors, isSpaMode);\n  let error = null;\n  if (errors) {\n    error = errors[_matches[_matches.length - 1].route.id];\n  }\n  let meta = [];\n  let leafMeta = null;\n  let matches = [];\n  for (let i = 0; i < _matches.length; i++) {\n    let _match = _matches[i];\n    let routeId = _match.route.id;\n    let data2 = loaderData[routeId];\n    let params = _match.params;\n    let routeModule = routeModules[routeId];\n    let routeMeta = [];\n    let match = {\n      id: routeId,\n      data: data2,\n      meta: [],\n      params: _match.params,\n      pathname: _match.pathname,\n      handle: _match.route.handle,\n      error\n    };\n    matches[i] = match;\n    if (routeModule?.meta) {\n      routeMeta = typeof routeModule.meta === \"function\" ? routeModule.meta({\n        data: data2,\n        params,\n        location,\n        matches,\n        error\n      }) : Array.isArray(routeModule.meta) ? [...routeModule.meta] : routeModule.meta;\n    } else if (leafMeta) {\n      routeMeta = [...leafMeta];\n    }\n    routeMeta = routeMeta || [];\n    if (!Array.isArray(routeMeta)) {\n      throw new Error(\n        \"The route at \" + _match.route.path + \" returns an invalid value. All route meta functions must return an array of meta objects.\\n\\nTo reference the meta function API, see https://remix.run/route/meta\"\n      );\n    }\n    match.meta = routeMeta;\n    matches[i] = match;\n    meta = [...routeMeta];\n    leafMeta = meta;\n  }\n  return /* @__PURE__ */ React9.createElement(React9.Fragment, null, meta.flat().map((metaProps) => {\n    if (!metaProps) {\n      return null;\n    }\n    if (\"tagName\" in metaProps) {\n      let { tagName, ...rest } = metaProps;\n      if (!isValidMetaTag(tagName)) {\n        console.warn(\n          `A meta object uses an invalid tagName: ${tagName}. Expected either 'link' or 'meta'`\n        );\n        return null;\n      }\n      let Comp = tagName;\n      return /* @__PURE__ */ React9.createElement(Comp, { key: JSON.stringify(rest), ...rest });\n    }\n    if (\"title\" in metaProps) {\n      return /* @__PURE__ */ React9.createElement(\"title\", { key: \"title\" }, String(metaProps.title));\n    }\n    if (\"charset\" in metaProps) {\n      metaProps.charSet ?? (metaProps.charSet = metaProps.charset);\n      delete metaProps.charset;\n    }\n    if (\"charSet\" in metaProps && metaProps.charSet != null) {\n      return typeof metaProps.charSet === \"string\" ? /* @__PURE__ */ React9.createElement(\"meta\", { key: \"charSet\", charSet: metaProps.charSet }) : null;\n    }\n    if (\"script:ld+json\" in metaProps) {\n      try {\n        let json = JSON.stringify(metaProps[\"script:ld+json\"]);\n        return /* @__PURE__ */ React9.createElement(\n          \"script\",\n          {\n            key: `script:ld+json:${json}`,\n            type: \"application/ld+json\",\n            dangerouslySetInnerHTML: { __html: json }\n          }\n        );\n      } catch (err) {\n        return null;\n      }\n    }\n    return /* @__PURE__ */ React9.createElement(\"meta\", { key: JSON.stringify(metaProps), ...metaProps });\n  }));\n}\nfunction isValidMetaTag(tagName) {\n  return typeof tagName === \"string\" && /^(meta|link)$/.test(tagName);\n}\nvar isHydrated = false;\nfunction Scripts(props) {\n  let {\n    manifest,\n    serverHandoffString,\n    isSpaMode,\n    renderMeta,\n    routeDiscovery,\n    ssr\n  } = useFrameworkContext();\n  let { router, static: isStatic, staticContext } = useDataRouterContext2();\n  let { matches: routerMatches } = useDataRouterStateContext();\n  let enableFogOfWar = isFogOfWarEnabled(routeDiscovery, ssr);\n  if (renderMeta) {\n    renderMeta.didRenderScripts = true;\n  }\n  let matches = getActiveMatches(routerMatches, null, isSpaMode);\n  React9.useEffect(() => {\n    isHydrated = true;\n  }, []);\n  let initialScripts = React9.useMemo(() => {\n    let streamScript = \"window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());\";\n    let contextScript = staticContext ? `window.__reactRouterContext = ${serverHandoffString};${streamScript}` : \" \";\n    let routeModulesScript = !isStatic ? \" \" : `${manifest.hmr?.runtime ? `import ${JSON.stringify(manifest.hmr.runtime)};` : \"\"}${!enableFogOfWar ? `import ${JSON.stringify(manifest.url)}` : \"\"};\n${matches.map((match, routeIndex) => {\n      let routeVarName = `route${routeIndex}`;\n      let manifestEntry = manifest.routes[match.route.id];\n      invariant2(manifestEntry, `Route ${match.route.id} not found in manifest`);\n      let {\n        clientActionModule,\n        clientLoaderModule,\n        clientMiddlewareModule,\n        hydrateFallbackModule,\n        module\n      } = manifestEntry;\n      let chunks = [\n        ...clientActionModule ? [\n          {\n            module: clientActionModule,\n            varName: `${routeVarName}_clientAction`\n          }\n        ] : [],\n        ...clientLoaderModule ? [\n          {\n            module: clientLoaderModule,\n            varName: `${routeVarName}_clientLoader`\n          }\n        ] : [],\n        ...clientMiddlewareModule ? [\n          {\n            module: clientMiddlewareModule,\n            varName: `${routeVarName}_clientMiddleware`\n          }\n        ] : [],\n        ...hydrateFallbackModule ? [\n          {\n            module: hydrateFallbackModule,\n            varName: `${routeVarName}_HydrateFallback`\n          }\n        ] : [],\n        { module, varName: `${routeVarName}_main` }\n      ];\n      if (chunks.length === 1) {\n        return `import * as ${routeVarName} from ${JSON.stringify(module)};`;\n      }\n      let chunkImportsSnippet = chunks.map((chunk) => `import * as ${chunk.varName} from \"${chunk.module}\";`).join(\"\\n\");\n      let mergedChunksSnippet = `const ${routeVarName} = {${chunks.map((chunk) => `...${chunk.varName}`).join(\",\")}};`;\n      return [chunkImportsSnippet, mergedChunksSnippet].join(\"\\n\");\n    }).join(\"\\n\")}\n  ${enableFogOfWar ? (\n      // Inline a minimal manifest with the SSR matches\n      `window.__reactRouterManifest = ${JSON.stringify(\n        getPartialManifest(manifest, router),\n        null,\n        2\n      )};`\n    ) : \"\"}\n  window.__reactRouterRouteModules = {${matches.map((match, index) => `${JSON.stringify(match.route.id)}:route${index}`).join(\",\")}};\n\nimport(${JSON.stringify(manifest.entry.module)});`;\n    return /* @__PURE__ */ React9.createElement(React9.Fragment, null, /* @__PURE__ */ React9.createElement(\n      \"script\",\n      {\n        ...props,\n        suppressHydrationWarning: true,\n        dangerouslySetInnerHTML: createHtml(contextScript),\n        type: void 0\n      }\n    ), /* @__PURE__ */ React9.createElement(\n      \"script\",\n      {\n        ...props,\n        suppressHydrationWarning: true,\n        dangerouslySetInnerHTML: createHtml(routeModulesScript),\n        type: \"module\",\n        async: true\n      }\n    ));\n  }, []);\n  let preloads = isHydrated ? [] : dedupe(\n    manifest.entry.imports.concat(\n      getModuleLinkHrefs(matches, manifest, {\n        includeHydrateFallback: true\n      })\n    )\n  );\n  let sri = typeof manifest.sri === \"object\" ? manifest.sri : {};\n  return isHydrated ? null : /* @__PURE__ */ React9.createElement(React9.Fragment, null, typeof manifest.sri === \"object\" ? /* @__PURE__ */ React9.createElement(\n    \"script\",\n    {\n      \"rr-importmap\": \"\",\n      type: \"importmap\",\n      suppressHydrationWarning: true,\n      dangerouslySetInnerHTML: {\n        __html: JSON.stringify({\n          integrity: sri\n        })\n      }\n    }\n  ) : null, !enableFogOfWar ? /* @__PURE__ */ React9.createElement(\n    \"link\",\n    {\n      rel: \"modulepreload\",\n      href: manifest.url,\n      crossOrigin: props.crossOrigin,\n      integrity: sri[manifest.url],\n      suppressHydrationWarning: true\n    }\n  ) : null, /* @__PURE__ */ React9.createElement(\n    \"link\",\n    {\n      rel: \"modulepreload\",\n      href: manifest.entry.module,\n      crossOrigin: props.crossOrigin,\n      integrity: sri[manifest.entry.module],\n      suppressHydrationWarning: true\n    }\n  ), preloads.map((path) => /* @__PURE__ */ React9.createElement(\n    \"link\",\n    {\n      key: path,\n      rel: \"modulepreload\",\n      href: path,\n      crossOrigin: props.crossOrigin,\n      integrity: sri[path],\n      suppressHydrationWarning: true\n    }\n  )), initialScripts);\n}\nfunction dedupe(array) {\n  return [...new Set(array)];\n}\nfunction mergeRefs(...refs) {\n  return (value) => {\n    refs.forEach((ref) => {\n      if (typeof ref === \"function\") {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    });\n  };\n}\n\n// lib/dom/lib.tsx\nvar isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\";\ntry {\n  if (isBrowser) {\n    window.__reactRouterVersion = \"7.6.3\";\n  }\n} catch (e) {\n}\nfunction createBrowserRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    unstable_getContext: opts?.unstable_getContext,\n    future: opts?.future,\n    history: createBrowserHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n    hydrationRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation,\n    window: opts?.window\n  }).initialize();\n}\nfunction createHashRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    unstable_getContext: opts?.unstable_getContext,\n    future: opts?.future,\n    history: createHashHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n    hydrationRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation,\n    window: opts?.window\n  }).initialize();\n}\nfunction parseHydrationData() {\n  let state = window?.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = {\n      ...state,\n      errors: deserializeErrors(state.errors)\n    };\n  }\n  return state;\n}\nfunction deserializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponseImpl(\n        val.status,\n        val.statusText,\n        val.data,\n        val.internal === true\n      );\n    } else if (val && val.__type === \"Error\") {\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            let error = new ErrorConstructor(val.message);\n            error.stack = \"\";\n            serialized[key] = error;\n          } catch (e) {\n          }\n        }\n      }\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        error.stack = \"\";\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\nfunction BrowserRouter({\n  basename,\n  children,\n  window: window2\n}) {\n  let historyRef = React10.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({ window: window2, v5Compat: true });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      React10.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nfunction HashRouter({ basename, children, window: window2 }) {\n  let historyRef = React10.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({ window: window2, v5Compat: true });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      React10.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nfunction HistoryRouter({\n  basename,\n  children,\n  history\n}) {\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      React10.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nHistoryRouter.displayName = \"unstable_HistoryRouter\";\nvar ABSOLUTE_URL_REGEX2 = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar Link = React10.forwardRef(\n  function LinkWithRef({\n    onClick,\n    discover = \"render\",\n    prefetch = \"none\",\n    relative,\n    reloadDocument,\n    replace: replace2,\n    state,\n    target,\n    to,\n    preventScrollReset,\n    viewTransition,\n    ...rest\n  }, forwardedRef) {\n    let { basename } = React10.useContext(NavigationContext);\n    let isAbsolute = typeof to === \"string\" && ABSOLUTE_URL_REGEX2.test(to);\n    let absoluteHref;\n    let isExternal = false;\n    if (typeof to === \"string\" && isAbsolute) {\n      absoluteHref = to;\n      if (isBrowser) {\n        try {\n          let currentUrl = new URL(window.location.href);\n          let targetUrl = to.startsWith(\"//\") ? new URL(currentUrl.protocol + to) : new URL(to);\n          let path = stripBasename(targetUrl.pathname, basename);\n          if (targetUrl.origin === currentUrl.origin && path != null) {\n            to = path + targetUrl.search + targetUrl.hash;\n          } else {\n            isExternal = true;\n          }\n        } catch (e) {\n          warning(\n            false,\n            `<Link to=\"${to}\"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`\n          );\n        }\n      }\n    }\n    let href2 = useHref(to, { relative });\n    let [shouldPrefetch, prefetchRef, prefetchHandlers] = usePrefetchBehavior(\n      prefetch,\n      rest\n    );\n    let internalOnClick = useLinkClickHandler(to, {\n      replace: replace2,\n      state,\n      target,\n      preventScrollReset,\n      relative,\n      viewTransition\n    });\n    function handleClick(event) {\n      if (onClick) onClick(event);\n      if (!event.defaultPrevented) {\n        internalOnClick(event);\n      }\n    }\n    let link = (\n      // eslint-disable-next-line jsx-a11y/anchor-has-content\n      /* @__PURE__ */ React10.createElement(\n        \"a\",\n        {\n          ...rest,\n          ...prefetchHandlers,\n          href: absoluteHref || href2,\n          onClick: isExternal || reloadDocument ? onClick : handleClick,\n          ref: mergeRefs(forwardedRef, prefetchRef),\n          target,\n          \"data-discover\": !isAbsolute && discover === \"render\" ? \"true\" : void 0\n        }\n      )\n    );\n    return shouldPrefetch && !isAbsolute ? /* @__PURE__ */ React10.createElement(React10.Fragment, null, link, /* @__PURE__ */ React10.createElement(PrefetchPageLinks, { page: href2 })) : link;\n  }\n);\nLink.displayName = \"Link\";\nvar NavLink = React10.forwardRef(\n  function NavLinkWithRef({\n    \"aria-current\": ariaCurrentProp = \"page\",\n    caseSensitive = false,\n    className: classNameProp = \"\",\n    end = false,\n    style: styleProp,\n    to,\n    viewTransition,\n    children,\n    ...rest\n  }, ref) {\n    let path = useResolvedPath(to, { relative: rest.relative });\n    let location = useLocation();\n    let routerState = React10.useContext(DataRouterStateContext);\n    let { navigator, basename } = React10.useContext(NavigationContext);\n    let isTransitioning = routerState != null && // Conditional usage is OK here because the usage of a data router is static\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useViewTransitionState(path) && viewTransition === true;\n    let toPathname = navigator.encodeLocation ? navigator.encodeLocation(path).pathname : path.pathname;\n    let locationPathname = location.pathname;\n    let nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;\n    if (!caseSensitive) {\n      locationPathname = locationPathname.toLowerCase();\n      nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;\n      toPathname = toPathname.toLowerCase();\n    }\n    if (nextLocationPathname && basename) {\n      nextLocationPathname = stripBasename(nextLocationPathname, basename) || nextLocationPathname;\n    }\n    const endSlashPosition = toPathname !== \"/\" && toPathname.endsWith(\"/\") ? toPathname.length - 1 : toPathname.length;\n    let isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(endSlashPosition) === \"/\";\n    let isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === \"/\");\n    let renderProps = {\n      isActive,\n      isPending,\n      isTransitioning\n    };\n    let ariaCurrent = isActive ? ariaCurrentProp : void 0;\n    let className;\n    if (typeof classNameProp === \"function\") {\n      className = classNameProp(renderProps);\n    } else {\n      className = [\n        classNameProp,\n        isActive ? \"active\" : null,\n        isPending ? \"pending\" : null,\n        isTransitioning ? \"transitioning\" : null\n      ].filter(Boolean).join(\" \");\n    }\n    let style = typeof styleProp === \"function\" ? styleProp(renderProps) : styleProp;\n    return /* @__PURE__ */ React10.createElement(\n      Link,\n      {\n        ...rest,\n        \"aria-current\": ariaCurrent,\n        className,\n        ref,\n        style,\n        to,\n        viewTransition\n      },\n      typeof children === \"function\" ? children(renderProps) : children\n    );\n  }\n);\nNavLink.displayName = \"NavLink\";\nvar Form = React10.forwardRef(\n  ({\n    discover = \"render\",\n    fetcherKey,\n    navigate,\n    reloadDocument,\n    replace: replace2,\n    state,\n    method = defaultMethod,\n    action,\n    onSubmit,\n    relative,\n    preventScrollReset,\n    viewTransition,\n    ...props\n  }, forwardedRef) => {\n    let submit = useSubmit();\n    let formAction = useFormAction(action, { relative });\n    let formMethod = method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n    let isAbsolute = typeof action === \"string\" && ABSOLUTE_URL_REGEX2.test(action);\n    let submitHandler = (event) => {\n      onSubmit && onSubmit(event);\n      if (event.defaultPrevented) return;\n      event.preventDefault();\n      let submitter = event.nativeEvent.submitter;\n      let submitMethod = submitter?.getAttribute(\"formmethod\") || method;\n      submit(submitter || event.currentTarget, {\n        fetcherKey,\n        method: submitMethod,\n        navigate,\n        replace: replace2,\n        state,\n        relative,\n        preventScrollReset,\n        viewTransition\n      });\n    };\n    return /* @__PURE__ */ React10.createElement(\n      \"form\",\n      {\n        ref: forwardedRef,\n        method: formMethod,\n        action: formAction,\n        onSubmit: reloadDocument ? onSubmit : submitHandler,\n        ...props,\n        \"data-discover\": !isAbsolute && discover === \"render\" ? \"true\" : void 0\n      }\n    );\n  }\n);\nForm.displayName = \"Form\";\nfunction ScrollRestoration({\n  getKey,\n  storageKey,\n  ...props\n}) {\n  let remixContext = React10.useContext(FrameworkContext);\n  let { basename } = React10.useContext(NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  useScrollRestoration({ getKey, storageKey });\n  let ssrKey = React10.useMemo(\n    () => {\n      if (!remixContext || !getKey) return null;\n      let userKey = getScrollRestorationKey(\n        location,\n        matches,\n        basename,\n        getKey\n      );\n      return userKey !== location.key ? userKey : null;\n    },\n    // Nah, we only need this the first time for the SSR render\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  if (!remixContext || remixContext.isSpaMode) {\n    return null;\n  }\n  let restoreScroll = ((storageKey2, restoreKey) => {\n    if (!window.history.state || !window.history.state.key) {\n      let key = Math.random().toString(32).slice(2);\n      window.history.replaceState({ key }, \"\");\n    }\n    try {\n      let positions = JSON.parse(sessionStorage.getItem(storageKey2) || \"{}\");\n      let storedY = positions[restoreKey || window.history.state.key];\n      if (typeof storedY === \"number\") {\n        window.scrollTo(0, storedY);\n      }\n    } catch (error) {\n      console.error(error);\n      sessionStorage.removeItem(storageKey2);\n    }\n  }).toString();\n  return /* @__PURE__ */ React10.createElement(\n    \"script\",\n    {\n      ...props,\n      suppressHydrationWarning: true,\n      dangerouslySetInnerHTML: {\n        __html: `(${restoreScroll})(${JSON.stringify(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        )}, ${JSON.stringify(ssrKey)})`\n      }\n    }\n  );\n}\nScrollRestoration.displayName = \"ScrollRestoration\";\nfunction getDataRouterConsoleError2(hookName) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;\n}\nfunction useDataRouterContext3(hookName) {\n  let ctx = React10.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError2(hookName));\n  return ctx;\n}\nfunction useDataRouterState2(hookName) {\n  let state = React10.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError2(hookName));\n  return state;\n}\nfunction useLinkClickHandler(to, {\n  target,\n  replace: replaceProp,\n  state,\n  preventScrollReset,\n  relative,\n  viewTransition\n} = {}) {\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, { relative });\n  return React10.useCallback(\n    (event) => {\n      if (shouldProcessLinkClick(event, target)) {\n        event.preventDefault();\n        let replace2 = replaceProp !== void 0 ? replaceProp : createPath(location) === createPath(path);\n        navigate(to, {\n          replace: replace2,\n          state,\n          preventScrollReset,\n          relative,\n          viewTransition\n        });\n      }\n    },\n    [\n      location,\n      navigate,\n      path,\n      replaceProp,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      relative,\n      viewTransition\n    ]\n  );\n}\nfunction useSearchParams(defaultInit) {\n  warning(\n    typeof URLSearchParams !== \"undefined\",\n    `You cannot use the \\`useSearchParams\\` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.`\n  );\n  let defaultSearchParamsRef = React10.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React10.useRef(false);\n  let location = useLocation();\n  let searchParams = React10.useMemo(\n    () => (\n      // Only merge in the defaults if we haven't yet called setSearchParams.\n      // Once we call that we want those to take precedence, otherwise you can't\n      // remove a param with setSearchParams({}) if it has an initial value\n      getSearchParamsForLocation(\n        location.search,\n        hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current\n      )\n    ),\n    [location.search]\n  );\n  let navigate = useNavigate();\n  let setSearchParams = React10.useCallback(\n    (nextInit, navigateOptions) => {\n      const newSearchParams = createSearchParams(\n        typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit\n      );\n      hasSetSearchParamsRef.current = true;\n      navigate(\"?\" + newSearchParams, navigateOptions);\n    },\n    [navigate, searchParams]\n  );\n  return [searchParams, setSearchParams];\n}\nvar fetcherId = 0;\nvar getUniqueFetcherId = () => `__${String(++fetcherId)}__`;\nfunction useSubmit() {\n  let { router } = useDataRouterContext3(\"useSubmit\" /* UseSubmit */);\n  let { basename } = React10.useContext(NavigationContext);\n  let currentRouteId = useRouteId();\n  return React10.useCallback(\n    async (target, options = {}) => {\n      let { action, method, encType, formData, body } = getFormSubmissionInfo(\n        target,\n        basename\n      );\n      if (options.navigate === false) {\n        let key = options.fetcherKey || getUniqueFetcherId();\n        await router.fetch(key, currentRouteId, options.action || action, {\n          preventScrollReset: options.preventScrollReset,\n          formData,\n          body,\n          formMethod: options.method || method,\n          formEncType: options.encType || encType,\n          flushSync: options.flushSync\n        });\n      } else {\n        await router.navigate(options.action || action, {\n          preventScrollReset: options.preventScrollReset,\n          formData,\n          body,\n          formMethod: options.method || method,\n          formEncType: options.encType || encType,\n          replace: options.replace,\n          state: options.state,\n          fromRouteId: currentRouteId,\n          flushSync: options.flushSync,\n          viewTransition: options.viewTransition\n        });\n      }\n    },\n    [router, basename, currentRouteId]\n  );\n}\nfunction useFormAction(action, { relative } = {}) {\n  let { basename } = React10.useContext(NavigationContext);\n  let routeContext = React10.useContext(RouteContext);\n  invariant(routeContext, \"useFormAction must be used inside a RouteContext\");\n  let [match] = routeContext.matches.slice(-1);\n  let path = { ...useResolvedPath(action ? action : \".\", { relative }) };\n  let location = useLocation();\n  if (action == null) {\n    path.search = location.search;\n    let params = new URLSearchParams(path.search);\n    let indexValues = params.getAll(\"index\");\n    let hasNakedIndexParam = indexValues.some((v) => v === \"\");\n    if (hasNakedIndexParam) {\n      params.delete(\"index\");\n      indexValues.filter((v) => v).forEach((v) => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? `?${qs}` : \"\";\n    }\n  }\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n  }\n  if (basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\nfunction useFetcher({\n  key\n} = {}) {\n  let { router } = useDataRouterContext3(\"useFetcher\" /* UseFetcher */);\n  let state = useDataRouterState2(\"useFetcher\" /* UseFetcher */);\n  let fetcherData = React10.useContext(FetchersContext);\n  let route = React10.useContext(RouteContext);\n  let routeId = route.matches[route.matches.length - 1]?.route.id;\n  invariant(fetcherData, `useFetcher must be used inside a FetchersContext`);\n  invariant(route, `useFetcher must be used inside a RouteContext`);\n  invariant(\n    routeId != null,\n    `useFetcher can only be used on routes that contain a unique \"id\"`\n  );\n  let defaultKey = React10.useId();\n  let [fetcherKey, setFetcherKey] = React10.useState(key || defaultKey);\n  if (key && key !== fetcherKey) {\n    setFetcherKey(key);\n  }\n  React10.useEffect(() => {\n    router.getFetcher(fetcherKey);\n    return () => router.deleteFetcher(fetcherKey);\n  }, [router, fetcherKey]);\n  let load = React10.useCallback(\n    async (href2, opts) => {\n      invariant(routeId, \"No routeId available for fetcher.load()\");\n      await router.fetch(fetcherKey, routeId, href2, opts);\n    },\n    [fetcherKey, routeId, router]\n  );\n  let submitImpl = useSubmit();\n  let submit = React10.useCallback(\n    async (target, opts) => {\n      await submitImpl(target, {\n        ...opts,\n        navigate: false,\n        fetcherKey\n      });\n    },\n    [fetcherKey, submitImpl]\n  );\n  let FetcherForm = React10.useMemo(() => {\n    let FetcherForm2 = React10.forwardRef(\n      (props, ref) => {\n        return /* @__PURE__ */ React10.createElement(Form, { ...props, navigate: false, fetcherKey, ref });\n      }\n    );\n    FetcherForm2.displayName = \"fetcher.Form\";\n    return FetcherForm2;\n  }, [fetcherKey]);\n  let fetcher = state.fetchers.get(fetcherKey) || IDLE_FETCHER;\n  let data2 = fetcherData.get(fetcherKey);\n  let fetcherWithComponents = React10.useMemo(\n    () => ({\n      Form: FetcherForm,\n      submit,\n      load,\n      ...fetcher,\n      data: data2\n    }),\n    [FetcherForm, submit, load, fetcher, data2]\n  );\n  return fetcherWithComponents;\n}\nfunction useFetchers() {\n  let state = useDataRouterState2(\"useFetchers\" /* UseFetchers */);\n  return Array.from(state.fetchers.entries()).map(([key, fetcher]) => ({\n    ...fetcher,\n    key\n  }));\n}\nvar SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nvar savedScrollPositions = {};\nfunction getScrollRestorationKey(location, matches, basename, getKey) {\n  let key = null;\n  if (getKey) {\n    if (basename !== \"/\") {\n      key = getKey(\n        {\n          ...location,\n          pathname: stripBasename(location.pathname, basename) || location.pathname\n        },\n        matches\n      );\n    } else {\n      key = getKey(location, matches);\n    }\n  }\n  if (key == null) {\n    key = location.key;\n  }\n  return key;\n}\nfunction useScrollRestoration({\n  getKey,\n  storageKey\n} = {}) {\n  let { router } = useDataRouterContext3(\"useScrollRestoration\" /* UseScrollRestoration */);\n  let { restoreScrollPosition, preventScrollReset } = useDataRouterState2(\n    \"useScrollRestoration\" /* UseScrollRestoration */\n  );\n  let { basename } = React10.useContext(NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n  React10.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n  usePageHide(\n    React10.useCallback(() => {\n      if (navigation.state === \"idle\") {\n        let key = getScrollRestorationKey(location, matches, basename, getKey);\n        savedScrollPositions[key] = window.scrollY;\n      }\n      try {\n        sessionStorage.setItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY,\n          JSON.stringify(savedScrollPositions)\n        );\n      } catch (error) {\n        warning(\n          false,\n          `Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${error}).`\n        );\n      }\n      window.history.scrollRestoration = \"auto\";\n    }, [navigation.state, getKey, basename, location, matches, storageKey])\n  );\n  if (typeof document !== \"undefined\") {\n    React10.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        );\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n      }\n    }, [storageKey]);\n    React10.useLayoutEffect(() => {\n      let disableScrollRestoration = router?.enableScrollRestoration(\n        savedScrollPositions,\n        () => window.scrollY,\n        getKey ? (location2, matches2) => getScrollRestorationKey(location2, matches2, basename, getKey) : void 0\n      );\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, basename, getKey]);\n    React10.useLayoutEffect(() => {\n      if (restoreScrollPosition === false) {\n        return;\n      }\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n      if (location.hash) {\n        let el = document.getElementById(\n          decodeURIComponent(location.hash.slice(1))\n        );\n        if (el) {\n          el.scrollIntoView();\n          return;\n        }\n      }\n      if (preventScrollReset === true) {\n        return;\n      }\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\nfunction useBeforeUnload(callback, options) {\n  let { capture } = options || {};\n  React10.useEffect(() => {\n    let opts = capture != null ? { capture } : void 0;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\nfunction usePageHide(callback, options) {\n  let { capture } = options || {};\n  React10.useEffect(() => {\n    let opts = capture != null ? { capture } : void 0;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\nfunction usePrompt({\n  when,\n  message\n}) {\n  let blocker = useBlocker(when);\n  React10.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n  React10.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n}\nfunction useViewTransitionState(to, opts = {}) {\n  let vtContext = React10.useContext(ViewTransitionContext);\n  invariant(\n    vtContext != null,\n    \"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?\"\n  );\n  let { basename } = useDataRouterContext3(\n    \"useViewTransitionState\" /* useViewTransitionState */\n  );\n  let path = useResolvedPath(to, { relative: opts.relative });\n  if (!vtContext.isTransitioning) {\n    return false;\n  }\n  let currentPath = stripBasename(vtContext.currentLocation.pathname, basename) || vtContext.currentLocation.pathname;\n  let nextPath = stripBasename(vtContext.nextLocation.pathname, basename) || vtContext.nextLocation.pathname;\n  return matchPath(path.pathname, nextPath) != null || matchPath(path.pathname, currentPath) != null;\n}\n\n// lib/dom/server.tsx\nimport * as React11 from \"react\";\nfunction StaticRouter({\n  basename,\n  children,\n  location: locationProp = \"/\"\n}) {\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n  let action = \"POP\" /* Pop */;\n  let location = {\n    pathname: locationProp.pathname || \"/\",\n    search: locationProp.search || \"\",\n    hash: locationProp.hash || \"\",\n    state: locationProp.state != null ? locationProp.state : null,\n    key: locationProp.key || \"default\"\n  };\n  let staticNavigator = getStatelessNavigator();\n  return /* @__PURE__ */ React11.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location,\n      navigationType: action,\n      navigator: staticNavigator,\n      static: true\n    }\n  );\n}\nfunction StaticRouterProvider({\n  context,\n  router,\n  hydrate: hydrate2 = true,\n  nonce\n}) {\n  invariant(\n    router && context,\n    \"You must provide `router` and `context` to <StaticRouterProvider>\"\n  );\n  let dataRouterContext = {\n    router,\n    navigator: getStatelessNavigator(),\n    static: true,\n    staticContext: context,\n    basename: context.basename || \"/\"\n  };\n  let fetchersContext = /* @__PURE__ */ new Map();\n  let hydrateScript = \"\";\n  if (hydrate2 !== false) {\n    let data2 = {\n      loaderData: context.loaderData,\n      actionData: context.actionData,\n      errors: serializeErrors(context.errors)\n    };\n    let json = htmlEscape(JSON.stringify(JSON.stringify(data2)));\n    hydrateScript = `window.__staticRouterHydrationData = JSON.parse(${json});`;\n  }\n  let { state } = dataRouterContext.router;\n  return /* @__PURE__ */ React11.createElement(React11.Fragment, null, /* @__PURE__ */ React11.createElement(DataRouterContext.Provider, { value: dataRouterContext }, /* @__PURE__ */ React11.createElement(DataRouterStateContext.Provider, { value: state }, /* @__PURE__ */ React11.createElement(FetchersContext.Provider, { value: fetchersContext }, /* @__PURE__ */ React11.createElement(ViewTransitionContext.Provider, { value: { isTransitioning: false } }, /* @__PURE__ */ React11.createElement(\n    Router,\n    {\n      basename: dataRouterContext.basename,\n      location: state.location,\n      navigationType: state.historyAction,\n      navigator: dataRouterContext.navigator,\n      static: dataRouterContext.static\n    },\n    /* @__PURE__ */ React11.createElement(\n      DataRoutes2,\n      {\n        routes: router.routes,\n        future: router.future,\n        state\n      }\n    )\n  ))))), hydrateScript ? /* @__PURE__ */ React11.createElement(\n    \"script\",\n    {\n      suppressHydrationWarning: true,\n      nonce,\n      dangerouslySetInnerHTML: { __html: hydrateScript }\n    }\n  ) : null);\n}\nfunction DataRoutes2({\n  routes,\n  future,\n  state\n}) {\n  return useRoutesImpl(routes, void 0, state, future);\n}\nfunction serializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (isRouteErrorResponse(val)) {\n      serialized[key] = { ...val, __type: \"RouteErrorResponse\" };\n    } else if (val instanceof Error) {\n      serialized[key] = {\n        message: val.message,\n        __type: \"Error\",\n        // If this is a subclass (i.e., ReferenceError), send up the type so we\n        // can re-create the same type during hydration.\n        ...val.name !== \"Error\" ? {\n          __subType: val.name\n        } : {}\n      };\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\nfunction getStatelessNavigator() {\n  return {\n    createHref,\n    encodeLocation,\n    push(to) {\n      throw new Error(\n        `You cannot use navigator.push() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${JSON.stringify(to)})\\` somewhere in your app.`\n      );\n    },\n    replace(to) {\n      throw new Error(\n        `You cannot use navigator.replace() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${JSON.stringify(to)}, { replace: true })\\` somewhere in your app.`\n      );\n    },\n    go(delta) {\n      throw new Error(\n        `You cannot use navigator.go() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${delta})\\` somewhere in your app.`\n      );\n    },\n    back() {\n      throw new Error(\n        `You cannot use navigator.back() on the server because it is a stateless environment.`\n      );\n    },\n    forward() {\n      throw new Error(\n        `You cannot use navigator.forward() on the server because it is a stateless environment.`\n      );\n    }\n  };\n}\nfunction createStaticHandler2(routes, opts) {\n  return createStaticHandler(routes, {\n    ...opts,\n    mapRouteProperties\n  });\n}\nfunction createStaticRouter(routes, context, opts = {}) {\n  let manifest = {};\n  let dataRoutes = convertRoutesToDataRoutes(\n    routes,\n    mapRouteProperties,\n    void 0,\n    manifest\n  );\n  let matches = context.matches.map((match) => {\n    let route = manifest[match.route.id] || match.route;\n    return {\n      ...match,\n      route\n    };\n  });\n  let msg = (method) => `You cannot use router.${method}() on the server because it is a stateless environment`;\n  return {\n    get basename() {\n      return context.basename;\n    },\n    get future() {\n      return {\n        unstable_middleware: false,\n        ...opts?.future\n      };\n    },\n    get state() {\n      return {\n        historyAction: \"POP\" /* Pop */,\n        location: context.location,\n        matches,\n        loaderData: context.loaderData,\n        actionData: context.actionData,\n        errors: context.errors,\n        initialized: true,\n        navigation: IDLE_NAVIGATION,\n        restoreScrollPosition: null,\n        preventScrollReset: false,\n        revalidation: \"idle\",\n        fetchers: /* @__PURE__ */ new Map(),\n        blockers: /* @__PURE__ */ new Map()\n      };\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    get window() {\n      return void 0;\n    },\n    initialize() {\n      throw msg(\"initialize\");\n    },\n    subscribe() {\n      throw msg(\"subscribe\");\n    },\n    enableScrollRestoration() {\n      throw msg(\"enableScrollRestoration\");\n    },\n    navigate() {\n      throw msg(\"navigate\");\n    },\n    fetch() {\n      throw msg(\"fetch\");\n    },\n    revalidate() {\n      throw msg(\"revalidate\");\n    },\n    createHref,\n    encodeLocation,\n    getFetcher() {\n      return IDLE_FETCHER;\n    },\n    deleteFetcher() {\n      throw msg(\"deleteFetcher\");\n    },\n    dispose() {\n      throw msg(\"dispose\");\n    },\n    getBlocker() {\n      return IDLE_BLOCKER;\n    },\n    deleteBlocker() {\n      throw msg(\"deleteBlocker\");\n    },\n    patchRoutes() {\n      throw msg(\"patchRoutes\");\n    },\n    _internalFetchControllers: /* @__PURE__ */ new Map(),\n    _internalSetRoutes() {\n      throw msg(\"_internalSetRoutes\");\n    }\n  };\n}\nfunction createHref(to) {\n  return typeof to === \"string\" ? to : createPath(to);\n}\nfunction encodeLocation(to) {\n  let href2 = typeof to === \"string\" ? to : createPath(to);\n  href2 = href2.replace(/ $/, \"%20\");\n  let encoded = ABSOLUTE_URL_REGEX3.test(href2) ? new URL(href2) : new URL(href2, \"http://localhost\");\n  return {\n    pathname: encoded.pathname,\n    search: encoded.search,\n    hash: encoded.hash\n  };\n}\nvar ABSOLUTE_URL_REGEX3 = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar ESCAPE_LOOKUP2 = {\n  \"&\": \"\\\\u0026\",\n  \">\": \"\\\\u003e\",\n  \"<\": \"\\\\u003c\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nvar ESCAPE_REGEX2 = /[&><\\u2028\\u2029]/g;\nfunction htmlEscape(str) {\n  return str.replace(ESCAPE_REGEX2, (match) => ESCAPE_LOOKUP2[match]);\n}\n\n// lib/dom/ssr/server.tsx\nimport * as React12 from \"react\";\nfunction ServerRouter({\n  context,\n  url,\n  nonce\n}) {\n  if (typeof url === \"string\") {\n    url = new URL(url);\n  }\n  let { manifest, routeModules, criticalCss, serverHandoffString } = context;\n  let routes = createServerRoutes(\n    manifest.routes,\n    routeModules,\n    context.future,\n    context.isSpaMode\n  );\n  context.staticHandlerContext.loaderData = {\n    ...context.staticHandlerContext.loaderData\n  };\n  for (let match of context.staticHandlerContext.matches) {\n    let routeId = match.route.id;\n    let route = routeModules[routeId];\n    let manifestRoute = context.manifest.routes[routeId];\n    if (route && manifestRoute && shouldHydrateRouteLoader(\n      routeId,\n      route.clientLoader,\n      manifestRoute.hasLoader,\n      context.isSpaMode\n    ) && (route.HydrateFallback || !manifestRoute.hasLoader)) {\n      delete context.staticHandlerContext.loaderData[routeId];\n    }\n  }\n  let router = createStaticRouter(routes, context.staticHandlerContext);\n  return /* @__PURE__ */ React12.createElement(React12.Fragment, null, /* @__PURE__ */ React12.createElement(\n    FrameworkContext.Provider,\n    {\n      value: {\n        manifest,\n        routeModules,\n        criticalCss,\n        serverHandoffString,\n        future: context.future,\n        ssr: context.ssr,\n        isSpaMode: context.isSpaMode,\n        routeDiscovery: context.routeDiscovery,\n        serializeError: context.serializeError,\n        renderMeta: context.renderMeta\n      }\n    },\n    /* @__PURE__ */ React12.createElement(RemixErrorBoundary, { location: router.state.location }, /* @__PURE__ */ React12.createElement(\n      StaticRouterProvider,\n      {\n        router,\n        context: context.staticHandlerContext,\n        hydrate: false\n      }\n    ))\n  ), context.serverHandoffStream ? /* @__PURE__ */ React12.createElement(React12.Suspense, null, /* @__PURE__ */ React12.createElement(\n    StreamTransfer,\n    {\n      context,\n      identifier: 0,\n      reader: context.serverHandoffStream.getReader(),\n      textDecoder: new TextDecoder(),\n      nonce\n    }\n  )) : null);\n}\n\n// lib/dom/ssr/routes-test-stub.tsx\nimport * as React13 from \"react\";\nfunction createRoutesStub(routes, unstable_getContext) {\n  return function RoutesTestStub({\n    initialEntries,\n    initialIndex,\n    hydrationData,\n    future\n  }) {\n    let routerRef = React13.useRef();\n    let remixContextRef = React13.useRef();\n    if (routerRef.current == null) {\n      remixContextRef.current = {\n        future: {\n          unstable_subResourceIntegrity: future?.unstable_subResourceIntegrity === true,\n          unstable_middleware: future?.unstable_middleware === true\n        },\n        manifest: {\n          routes: {},\n          entry: { imports: [], module: \"\" },\n          url: \"\",\n          version: \"\"\n        },\n        routeModules: {},\n        ssr: false,\n        isSpaMode: false,\n        routeDiscovery: { mode: \"lazy\", manifestPath: \"/__manifest\" }\n      };\n      let patched = processRoutes(\n        // @ts-expect-error `StubRouteObject` is stricter about `loader`/`action`\n        // types compared to `AgnosticRouteObject`\n        convertRoutesToDataRoutes(routes, (r) => r),\n        remixContextRef.current.manifest,\n        remixContextRef.current.routeModules\n      );\n      routerRef.current = createMemoryRouter(patched, {\n        unstable_getContext,\n        initialEntries,\n        initialIndex,\n        hydrationData\n      });\n    }\n    return /* @__PURE__ */ React13.createElement(FrameworkContext.Provider, { value: remixContextRef.current }, /* @__PURE__ */ React13.createElement(RouterProvider, { router: routerRef.current }));\n  };\n}\nfunction processRoutes(routes, manifest, routeModules, parentId) {\n  return routes.map((route) => {\n    if (!route.id) {\n      throw new Error(\n        \"Expected a route.id in @remix-run/testing processRoutes() function\"\n      );\n    }\n    let newRoute = {\n      id: route.id,\n      path: route.path,\n      index: route.index,\n      Component: route.Component ? withComponentProps(route.Component) : void 0,\n      HydrateFallback: route.HydrateFallback ? withHydrateFallbackProps(route.HydrateFallback) : void 0,\n      ErrorBoundary: route.ErrorBoundary ? withErrorBoundaryProps(route.ErrorBoundary) : void 0,\n      action: route.action,\n      loader: route.loader,\n      handle: route.handle,\n      shouldRevalidate: route.shouldRevalidate\n    };\n    let entryRoute = {\n      id: route.id,\n      path: route.path,\n      index: route.index,\n      parentId,\n      hasAction: route.action != null,\n      hasLoader: route.loader != null,\n      // When testing routes, you should be stubbing loader/action/middleware,\n      // not trying to re-implement the full loader/clientLoader/SSR/hydration\n      // flow. That is better tested via E2E tests.\n      hasClientAction: false,\n      hasClientLoader: false,\n      hasClientMiddleware: false,\n      hasErrorBoundary: route.ErrorBoundary != null,\n      // any need for these?\n      module: \"build/stub-path-to-module.js\",\n      clientActionModule: void 0,\n      clientLoaderModule: void 0,\n      clientMiddlewareModule: void 0,\n      hydrateFallbackModule: void 0\n    };\n    manifest.routes[newRoute.id] = entryRoute;\n    routeModules[route.id] = {\n      default: newRoute.Component || Outlet,\n      ErrorBoundary: newRoute.ErrorBoundary || void 0,\n      handle: route.handle,\n      links: route.links,\n      meta: route.meta,\n      shouldRevalidate: route.shouldRevalidate\n    };\n    if (route.children) {\n      newRoute.children = processRoutes(\n        route.children,\n        manifest,\n        routeModules,\n        newRoute.id\n      );\n    }\n    return newRoute;\n  });\n}\n\n// lib/server-runtime/cookies.ts\nimport { parse, serialize } from \"cookie\";\n\n// lib/server-runtime/crypto.ts\nvar encoder = /* @__PURE__ */ new TextEncoder();\nvar sign = async (value, secret) => {\n  let data2 = encoder.encode(value);\n  let key = await createKey2(secret, [\"sign\"]);\n  let signature = await crypto.subtle.sign(\"HMAC\", key, data2);\n  let hash = btoa(String.fromCharCode(...new Uint8Array(signature))).replace(\n    /=+$/,\n    \"\"\n  );\n  return value + \".\" + hash;\n};\nvar unsign = async (cookie, secret) => {\n  let index = cookie.lastIndexOf(\".\");\n  let value = cookie.slice(0, index);\n  let hash = cookie.slice(index + 1);\n  let data2 = encoder.encode(value);\n  let key = await createKey2(secret, [\"verify\"]);\n  let signature = byteStringToUint8Array(atob(hash));\n  let valid = await crypto.subtle.verify(\"HMAC\", key, signature, data2);\n  return valid ? value : false;\n};\nvar createKey2 = async (secret, usages) => crypto.subtle.importKey(\n  \"raw\",\n  encoder.encode(secret),\n  { name: \"HMAC\", hash: \"SHA-256\" },\n  false,\n  usages\n);\nfunction byteStringToUint8Array(byteString) {\n  let array = new Uint8Array(byteString.length);\n  for (let i = 0; i < byteString.length; i++) {\n    array[i] = byteString.charCodeAt(i);\n  }\n  return array;\n}\n\n// lib/server-runtime/cookies.ts\nvar createCookie = (name, cookieOptions = {}) => {\n  let { secrets = [], ...options } = {\n    path: \"/\",\n    sameSite: \"lax\",\n    ...cookieOptions\n  };\n  warnOnceAboutExpiresCookie(name, options.expires);\n  return {\n    get name() {\n      return name;\n    },\n    get isSigned() {\n      return secrets.length > 0;\n    },\n    get expires() {\n      return typeof options.maxAge !== \"undefined\" ? new Date(Date.now() + options.maxAge * 1e3) : options.expires;\n    },\n    async parse(cookieHeader, parseOptions) {\n      if (!cookieHeader) return null;\n      let cookies = parse(cookieHeader, { ...options, ...parseOptions });\n      if (name in cookies) {\n        let value = cookies[name];\n        if (typeof value === \"string\" && value !== \"\") {\n          let decoded = await decodeCookieValue(value, secrets);\n          return decoded;\n        } else {\n          return \"\";\n        }\n      } else {\n        return null;\n      }\n    },\n    async serialize(value, serializeOptions) {\n      return serialize(\n        name,\n        value === \"\" ? \"\" : await encodeCookieValue(value, secrets),\n        {\n          ...options,\n          ...serializeOptions\n        }\n      );\n    }\n  };\n};\nvar isCookie = (object) => {\n  return object != null && typeof object.name === \"string\" && typeof object.isSigned === \"boolean\" && typeof object.parse === \"function\" && typeof object.serialize === \"function\";\n};\nasync function encodeCookieValue(value, secrets) {\n  let encoded = encodeData(value);\n  if (secrets.length > 0) {\n    encoded = await sign(encoded, secrets[0]);\n  }\n  return encoded;\n}\nasync function decodeCookieValue(value, secrets) {\n  if (secrets.length > 0) {\n    for (let secret of secrets) {\n      let unsignedValue = await unsign(value, secret);\n      if (unsignedValue !== false) {\n        return decodeData(unsignedValue);\n      }\n    }\n    return null;\n  }\n  return decodeData(value);\n}\nfunction encodeData(value) {\n  return btoa(myUnescape(encodeURIComponent(JSON.stringify(value))));\n}\nfunction decodeData(value) {\n  try {\n    return JSON.parse(decodeURIComponent(myEscape(atob(value))));\n  } catch (error) {\n    return {};\n  }\n}\nfunction myEscape(value) {\n  let str = value.toString();\n  let result = \"\";\n  let index = 0;\n  let chr, code;\n  while (index < str.length) {\n    chr = str.charAt(index++);\n    if (/[\\w*+\\-./@]/.exec(chr)) {\n      result += chr;\n    } else {\n      code = chr.charCodeAt(0);\n      if (code < 256) {\n        result += \"%\" + hex(code, 2);\n      } else {\n        result += \"%u\" + hex(code, 4).toUpperCase();\n      }\n    }\n  }\n  return result;\n}\nfunction hex(code, length) {\n  let result = code.toString(16);\n  while (result.length < length) result = \"0\" + result;\n  return result;\n}\nfunction myUnescape(value) {\n  let str = value.toString();\n  let result = \"\";\n  let index = 0;\n  let chr, part;\n  while (index < str.length) {\n    chr = str.charAt(index++);\n    if (chr === \"%\") {\n      if (str.charAt(index) === \"u\") {\n        part = str.slice(index + 1, index + 5);\n        if (/^[\\da-f]{4}$/i.exec(part)) {\n          result += String.fromCharCode(parseInt(part, 16));\n          index += 5;\n          continue;\n        }\n      } else {\n        part = str.slice(index, index + 2);\n        if (/^[\\da-f]{2}$/i.exec(part)) {\n          result += String.fromCharCode(parseInt(part, 16));\n          index += 2;\n          continue;\n        }\n      }\n    }\n    result += chr;\n  }\n  return result;\n}\nfunction warnOnceAboutExpiresCookie(name, expires) {\n  warnOnce(\n    !expires,\n    `The \"${name}\" cookie has an \"expires\" property set. This will cause the expires value to not be updated when the session is committed. Instead, you should set the expires value when serializing the cookie. You can use \\`commitSession(session, { expires })\\` if using a session storage object, or \\`cookie.serialize(\"value\", { expires })\\` if you're using the cookie directly.`\n  );\n}\n\n// lib/server-runtime/entry.ts\nfunction createEntryRouteModules(manifest) {\n  return Object.keys(manifest).reduce((memo2, routeId) => {\n    let route = manifest[routeId];\n    if (route) {\n      memo2[routeId] = route.module;\n    }\n    return memo2;\n  }, {});\n}\n\n// lib/server-runtime/mode.ts\nvar ServerMode = /* @__PURE__ */ ((ServerMode2) => {\n  ServerMode2[\"Development\"] = \"development\";\n  ServerMode2[\"Production\"] = \"production\";\n  ServerMode2[\"Test\"] = \"test\";\n  return ServerMode2;\n})(ServerMode || {});\nfunction isServerMode(value) {\n  return value === \"development\" /* Development */ || value === \"production\" /* Production */ || value === \"test\" /* Test */;\n}\n\n// lib/server-runtime/errors.ts\nfunction sanitizeError(error, serverMode) {\n  if (error instanceof Error && serverMode !== \"development\" /* Development */) {\n    let sanitized = new Error(\"Unexpected Server Error\");\n    sanitized.stack = void 0;\n    return sanitized;\n  }\n  return error;\n}\nfunction sanitizeErrors(errors, serverMode) {\n  return Object.entries(errors).reduce((acc, [routeId, error]) => {\n    return Object.assign(acc, { [routeId]: sanitizeError(error, serverMode) });\n  }, {});\n}\nfunction serializeError(error, serverMode) {\n  let sanitized = sanitizeError(error, serverMode);\n  return {\n    message: sanitized.message,\n    stack: sanitized.stack\n  };\n}\nfunction serializeErrors2(errors, serverMode) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (isRouteErrorResponse(val)) {\n      serialized[key] = { ...val, __type: \"RouteErrorResponse\" };\n    } else if (val instanceof Error) {\n      let sanitized = sanitizeError(val, serverMode);\n      serialized[key] = {\n        message: sanitized.message,\n        stack: sanitized.stack,\n        __type: \"Error\",\n        // If this is a subclass (i.e., ReferenceError), send up the type so we\n        // can re-create the same type during hydration.  This will only apply\n        // in dev mode since all production errors are sanitized to normal\n        // Error instances\n        ...sanitized.name !== \"Error\" ? {\n          __subType: sanitized.name\n        } : {}\n      };\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\n\n// lib/server-runtime/routeMatching.ts\nfunction matchServerRoutes(routes, pathname, basename) {\n  let matches = matchRoutes(\n    routes,\n    pathname,\n    basename\n  );\n  if (!matches) return null;\n  return matches.map((match) => ({\n    params: match.params,\n    pathname: match.pathname,\n    route: match.route\n  }));\n}\n\n// lib/server-runtime/data.ts\nasync function callRouteHandler(handler, args) {\n  let result = await handler({\n    request: stripRoutesParam(stripIndexParam2(args.request)),\n    params: args.params,\n    context: args.context\n  });\n  if (isDataWithResponseInit(result) && result.init && result.init.status && isRedirectStatusCode(result.init.status)) {\n    throw new Response(null, result.init);\n  }\n  return result;\n}\nfunction stripIndexParam2(request) {\n  let url = new URL(request.url);\n  let indexValues = url.searchParams.getAll(\"index\");\n  url.searchParams.delete(\"index\");\n  let indexValuesToKeep = [];\n  for (let indexValue of indexValues) {\n    if (indexValue) {\n      indexValuesToKeep.push(indexValue);\n    }\n  }\n  for (let toKeep of indexValuesToKeep) {\n    url.searchParams.append(\"index\", toKeep);\n  }\n  let init = {\n    method: request.method,\n    body: request.body,\n    headers: request.headers,\n    signal: request.signal\n  };\n  if (init.body) {\n    init.duplex = \"half\";\n  }\n  return new Request(url.href, init);\n}\nfunction stripRoutesParam(request) {\n  let url = new URL(request.url);\n  url.searchParams.delete(\"_routes\");\n  let init = {\n    method: request.method,\n    body: request.body,\n    headers: request.headers,\n    signal: request.signal\n  };\n  if (init.body) {\n    init.duplex = \"half\";\n  }\n  return new Request(url.href, init);\n}\n\n// lib/server-runtime/invariant.ts\nfunction invariant3(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    console.error(\n      \"The following error is a bug in React Router; please open an issue! https://github.com/remix-run/react-router/issues/new/choose\"\n    );\n    throw new Error(message);\n  }\n}\n\n// lib/server-runtime/dev.ts\nvar globalDevServerHooksKey = \"__reactRouterDevServerHooks\";\nfunction setDevServerHooks(devServerHooks) {\n  globalThis[globalDevServerHooksKey] = devServerHooks;\n}\nfunction getDevServerHooks() {\n  return globalThis[globalDevServerHooksKey];\n}\nfunction getBuildTimeHeader(request, headerName) {\n  if (typeof process !== \"undefined\") {\n    try {\n      if (process.env?.IS_RR_BUILD_REQUEST === \"yes\") {\n        return request.headers.get(headerName);\n      }\n    } catch (e) {\n    }\n  }\n  return null;\n}\n\n// lib/server-runtime/routes.ts\nfunction groupRoutesByParentId2(manifest) {\n  let routes = {};\n  Object.values(manifest).forEach((route) => {\n    if (route) {\n      let parentId = route.parentId || \"\";\n      if (!routes[parentId]) {\n        routes[parentId] = [];\n      }\n      routes[parentId].push(route);\n    }\n  });\n  return routes;\n}\nfunction createRoutes(manifest, parentId = \"\", routesByParentId = groupRoutesByParentId2(manifest)) {\n  return (routesByParentId[parentId] || []).map((route) => ({\n    ...route,\n    children: createRoutes(manifest, route.id, routesByParentId)\n  }));\n}\nfunction createStaticHandlerDataRoutes(manifest, future, parentId = \"\", routesByParentId = groupRoutesByParentId2(manifest)) {\n  return (routesByParentId[parentId] || []).map((route) => {\n    let commonRoute = {\n      // Always include root due to default boundaries\n      hasErrorBoundary: route.id === \"root\" || route.module.ErrorBoundary != null,\n      id: route.id,\n      path: route.path,\n      unstable_middleware: route.module.unstable_middleware,\n      // Need to use RR's version in the param typed here to permit the optional\n      // context even though we know it'll always be provided in remix\n      loader: route.module.loader ? async (args) => {\n        let preRenderedData = getBuildTimeHeader(\n          args.request,\n          \"X-React-Router-Prerender-Data\"\n        );\n        if (preRenderedData != null) {\n          let encoded = preRenderedData ? decodeURI(preRenderedData) : preRenderedData;\n          invariant3(encoded, \"Missing prerendered data for route\");\n          let uint8array = new TextEncoder().encode(encoded);\n          let stream = new ReadableStream({\n            start(controller) {\n              controller.enqueue(uint8array);\n              controller.close();\n            }\n          });\n          let decoded = await decodeViaTurboStream(stream, global);\n          let data2 = decoded.value;\n          if (data2 && SingleFetchRedirectSymbol in data2) {\n            let result = data2[SingleFetchRedirectSymbol];\n            let init = { status: result.status };\n            if (result.reload) {\n              throw redirectDocument(result.redirect, init);\n            } else if (result.replace) {\n              throw replace(result.redirect, init);\n            } else {\n              throw redirect(result.redirect, init);\n            }\n          } else {\n            invariant3(\n              data2 && route.id in data2,\n              \"Unable to decode prerendered data\"\n            );\n            let result = data2[route.id];\n            invariant3(\n              \"data\" in result,\n              \"Unable to process prerendered data\"\n            );\n            return result.data;\n          }\n        }\n        let val = await callRouteHandler(route.module.loader, args);\n        return val;\n      } : void 0,\n      action: route.module.action ? (args) => callRouteHandler(route.module.action, args) : void 0,\n      handle: route.module.handle\n    };\n    return route.index ? {\n      index: true,\n      ...commonRoute\n    } : {\n      caseSensitive: route.caseSensitive,\n      children: createStaticHandlerDataRoutes(\n        manifest,\n        future,\n        route.id,\n        routesByParentId\n      ),\n      ...commonRoute\n    };\n  });\n}\n\n// lib/server-runtime/markup.ts\nvar ESCAPE_LOOKUP3 = {\n  \"&\": \"\\\\u0026\",\n  \">\": \"\\\\u003e\",\n  \"<\": \"\\\\u003c\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nvar ESCAPE_REGEX3 = /[&><\\u2028\\u2029]/g;\nfunction escapeHtml2(html) {\n  return html.replace(ESCAPE_REGEX3, (match) => ESCAPE_LOOKUP3[match]);\n}\n\n// lib/server-runtime/serverHandoff.ts\nfunction createServerHandoffString(serverHandoff) {\n  return escapeHtml2(JSON.stringify(serverHandoff));\n}\n\n// lib/server-runtime/headers.ts\nimport { splitCookiesString } from \"set-cookie-parser\";\nfunction getDocumentHeaders(build, context) {\n  return getDocumentHeadersImpl(context, (m) => {\n    let route = build.routes[m.route.id];\n    invariant3(route, `Route with id \"${m.route.id}\" not found in build`);\n    return route.module.headers;\n  });\n}\nfunction getDocumentHeadersImpl(context, getRouteHeadersFn) {\n  let boundaryIdx = context.errors ? context.matches.findIndex((m) => context.errors[m.route.id]) : -1;\n  let matches = boundaryIdx >= 0 ? context.matches.slice(0, boundaryIdx + 1) : context.matches;\n  let errorHeaders;\n  if (boundaryIdx >= 0) {\n    let { actionHeaders, actionData, loaderHeaders, loaderData } = context;\n    context.matches.slice(boundaryIdx).some((match) => {\n      let id = match.route.id;\n      if (actionHeaders[id] && (!actionData || !actionData.hasOwnProperty(id))) {\n        errorHeaders = actionHeaders[id];\n      } else if (loaderHeaders[id] && !loaderData.hasOwnProperty(id)) {\n        errorHeaders = loaderHeaders[id];\n      }\n      return errorHeaders != null;\n    });\n  }\n  return matches.reduce((parentHeaders, match, idx) => {\n    let { id } = match.route;\n    let loaderHeaders = context.loaderHeaders[id] || new Headers();\n    let actionHeaders = context.actionHeaders[id] || new Headers();\n    let includeErrorHeaders = errorHeaders != null && idx === matches.length - 1;\n    let includeErrorCookies = includeErrorHeaders && errorHeaders !== loaderHeaders && errorHeaders !== actionHeaders;\n    let headersFn = getRouteHeadersFn(match);\n    if (headersFn == null) {\n      let headers2 = new Headers(parentHeaders);\n      if (includeErrorCookies) {\n        prependCookies(errorHeaders, headers2);\n      }\n      prependCookies(actionHeaders, headers2);\n      prependCookies(loaderHeaders, headers2);\n      return headers2;\n    }\n    let headers = new Headers(\n      typeof headersFn === \"function\" ? headersFn({\n        loaderHeaders,\n        parentHeaders,\n        actionHeaders,\n        errorHeaders: includeErrorHeaders ? errorHeaders : void 0\n      }) : headersFn\n    );\n    if (includeErrorCookies) {\n      prependCookies(errorHeaders, headers);\n    }\n    prependCookies(actionHeaders, headers);\n    prependCookies(loaderHeaders, headers);\n    prependCookies(parentHeaders, headers);\n    return headers;\n  }, new Headers());\n}\nfunction prependCookies(parentHeaders, childHeaders) {\n  let parentSetCookieString = parentHeaders.get(\"Set-Cookie\");\n  if (parentSetCookieString) {\n    let cookies = splitCookiesString(parentSetCookieString);\n    let childCookies = new Set(childHeaders.getSetCookie());\n    cookies.forEach((cookie) => {\n      if (!childCookies.has(cookie)) {\n        childHeaders.append(\"Set-Cookie\", cookie);\n      }\n    });\n  }\n}\n\n// lib/server-runtime/single-fetch.ts\nvar SERVER_NO_BODY_STATUS_CODES = /* @__PURE__ */ new Set([\n  ...NO_BODY_STATUS_CODES,\n  304\n]);\nasync function singleFetchAction(build, serverMode, staticHandler, request, handlerUrl, loadContext, handleError) {\n  try {\n    let respond2 = function(context) {\n      let headers = getDocumentHeaders(build, context);\n      if (isRedirectStatusCode(context.statusCode) && headers.has(\"Location\")) {\n        return generateSingleFetchResponse(request, build, serverMode, {\n          result: getSingleFetchRedirect(\n            context.statusCode,\n            headers,\n            build.basename\n          ),\n          headers,\n          status: SINGLE_FETCH_REDIRECT_STATUS\n        });\n      }\n      if (context.errors) {\n        Object.values(context.errors).forEach((err) => {\n          if (!isRouteErrorResponse(err) || err.error) {\n            handleError(err);\n          }\n        });\n        context.errors = sanitizeErrors(context.errors, serverMode);\n      }\n      let singleFetchResult;\n      if (context.errors) {\n        singleFetchResult = { error: Object.values(context.errors)[0] };\n      } else {\n        singleFetchResult = {\n          data: Object.values(context.actionData || {})[0]\n        };\n      }\n      return generateSingleFetchResponse(request, build, serverMode, {\n        result: singleFetchResult,\n        headers,\n        status: context.statusCode\n      });\n    };\n    var respond = respond2;\n    let handlerRequest = new Request(handlerUrl, {\n      method: request.method,\n      body: request.body,\n      headers: request.headers,\n      signal: request.signal,\n      ...request.body ? { duplex: \"half\" } : void 0\n    });\n    let result = await staticHandler.query(handlerRequest, {\n      requestContext: loadContext,\n      skipLoaderErrorBubbling: true,\n      skipRevalidation: true,\n      unstable_respond: respond2\n    });\n    if (!isResponse(result)) {\n      result = respond2(result);\n    }\n    if (isRedirectResponse(result)) {\n      return generateSingleFetchResponse(request, build, serverMode, {\n        result: getSingleFetchRedirect(\n          result.status,\n          result.headers,\n          build.basename\n        ),\n        headers: result.headers,\n        status: SINGLE_FETCH_REDIRECT_STATUS\n      });\n    }\n    return result;\n  } catch (error) {\n    handleError(error);\n    return generateSingleFetchResponse(request, build, serverMode, {\n      result: { error },\n      headers: new Headers(),\n      status: 500\n    });\n  }\n}\nasync function singleFetchLoaders(build, serverMode, staticHandler, request, handlerUrl, loadContext, handleError) {\n  try {\n    let respond2 = function(context) {\n      let headers = getDocumentHeaders(build, context);\n      if (isRedirectStatusCode(context.statusCode) && headers.has(\"Location\")) {\n        return generateSingleFetchResponse(request, build, serverMode, {\n          result: {\n            [SingleFetchRedirectSymbol]: getSingleFetchRedirect(\n              context.statusCode,\n              headers,\n              build.basename\n            )\n          },\n          headers,\n          status: SINGLE_FETCH_REDIRECT_STATUS\n        });\n      }\n      if (context.errors) {\n        Object.values(context.errors).forEach((err) => {\n          if (!isRouteErrorResponse(err) || err.error) {\n            handleError(err);\n          }\n        });\n        context.errors = sanitizeErrors(context.errors, serverMode);\n      }\n      let results = {};\n      let loadedMatches = new Set(\n        context.matches.filter(\n          (m) => loadRouteIds ? loadRouteIds.has(m.route.id) : m.route.loader != null\n        ).map((m) => m.route.id)\n      );\n      if (context.errors) {\n        for (let [id, error] of Object.entries(context.errors)) {\n          results[id] = { error };\n        }\n      }\n      for (let [id, data2] of Object.entries(context.loaderData)) {\n        if (!(id in results) && loadedMatches.has(id)) {\n          results[id] = { data: data2 };\n        }\n      }\n      return generateSingleFetchResponse(request, build, serverMode, {\n        result: results,\n        headers,\n        status: context.statusCode\n      });\n    };\n    var respond = respond2;\n    let handlerRequest = new Request(handlerUrl, {\n      headers: request.headers,\n      signal: request.signal\n    });\n    let routesParam = new URL(request.url).searchParams.get(\"_routes\");\n    let loadRouteIds = routesParam ? new Set(routesParam.split(\",\")) : null;\n    let result = await staticHandler.query(handlerRequest, {\n      requestContext: loadContext,\n      filterMatchesToLoad: (m) => !loadRouteIds || loadRouteIds.has(m.route.id),\n      skipLoaderErrorBubbling: true,\n      unstable_respond: respond2\n    });\n    if (!isResponse(result)) {\n      result = respond2(result);\n    }\n    if (isRedirectResponse(result)) {\n      return generateSingleFetchResponse(request, build, serverMode, {\n        result: {\n          [SingleFetchRedirectSymbol]: getSingleFetchRedirect(\n            result.status,\n            result.headers,\n            build.basename\n          )\n        },\n        headers: result.headers,\n        status: SINGLE_FETCH_REDIRECT_STATUS\n      });\n    }\n    return result;\n  } catch (error) {\n    handleError(error);\n    return generateSingleFetchResponse(request, build, serverMode, {\n      result: { root: { error } },\n      headers: new Headers(),\n      status: 500\n    });\n  }\n}\nfunction generateSingleFetchResponse(request, build, serverMode, {\n  result,\n  headers,\n  status\n}) {\n  let resultHeaders = new Headers(headers);\n  resultHeaders.set(\"X-Remix-Response\", \"yes\");\n  if (SERVER_NO_BODY_STATUS_CODES.has(status)) {\n    return new Response(null, { status, headers: resultHeaders });\n  }\n  resultHeaders.set(\"Content-Type\", \"text/x-script\");\n  return new Response(\n    encodeViaTurboStream(\n      result,\n      request.signal,\n      build.entry.module.streamTimeout,\n      serverMode\n    ),\n    {\n      status: status || 200,\n      headers: resultHeaders\n    }\n  );\n}\nfunction getSingleFetchRedirect(status, headers, basename) {\n  let redirect2 = headers.get(\"Location\");\n  if (basename) {\n    redirect2 = stripBasename(redirect2, basename) || redirect2;\n  }\n  return {\n    redirect: redirect2,\n    status,\n    revalidate: (\n      // Technically X-Remix-Revalidate isn't needed here - that was an implementation\n      // detail of ?_data requests as our way to tell the front end to revalidate when\n      // we didn't have a response body to include that information in.\n      // With single fetch, we tell the front end via this revalidate boolean field.\n      // However, we're respecting it for now because it may be something folks have\n      // used in their own responses\n      // TODO(v3): Consider removing or making this official public API\n      headers.has(\"X-Remix-Revalidate\") || headers.has(\"Set-Cookie\")\n    ),\n    reload: headers.has(\"X-Remix-Reload-Document\"),\n    replace: headers.has(\"X-Remix-Replace\")\n  };\n}\nfunction encodeViaTurboStream(data2, requestSignal, streamTimeout, serverMode) {\n  let controller = new AbortController();\n  let timeoutId = setTimeout(\n    () => controller.abort(new Error(\"Server Timeout\")),\n    typeof streamTimeout === \"number\" ? streamTimeout : 4950\n  );\n  requestSignal.addEventListener(\"abort\", () => clearTimeout(timeoutId));\n  return encode(data2, {\n    signal: controller.signal,\n    plugins: [\n      (value) => {\n        if (value instanceof Error) {\n          let { name, message, stack } = serverMode === \"production\" /* Production */ ? sanitizeError(value, serverMode) : value;\n          return [\"SanitizedError\", name, message, stack];\n        }\n        if (value instanceof ErrorResponseImpl) {\n          let { data: data3, status, statusText } = value;\n          return [\"ErrorResponse\", data3, status, statusText];\n        }\n        if (value && typeof value === \"object\" && SingleFetchRedirectSymbol in value) {\n          return [\"SingleFetchRedirect\", value[SingleFetchRedirectSymbol]];\n        }\n      }\n    ],\n    postPlugins: [\n      (value) => {\n        if (!value) return;\n        if (typeof value !== \"object\") return;\n        return [\n          \"SingleFetchClassInstance\",\n          Object.fromEntries(Object.entries(value))\n        ];\n      },\n      () => [\"SingleFetchFallback\"]\n    ]\n  });\n}\n\n// lib/server-runtime/server.ts\nfunction derive(build, mode) {\n  let routes = createRoutes(build.routes);\n  let dataRoutes = createStaticHandlerDataRoutes(build.routes, build.future);\n  let serverMode = isServerMode(mode) ? mode : \"production\" /* Production */;\n  let staticHandler = createStaticHandler(dataRoutes, {\n    basename: build.basename\n  });\n  let errorHandler = build.entry.module.handleError || ((error, { request }) => {\n    if (serverMode !== \"test\" /* Test */ && !request.signal.aborted) {\n      console.error(\n        // @ts-expect-error This is \"private\" from users but intended for internal use\n        isRouteErrorResponse(error) && error.error ? error.error : error\n      );\n    }\n  });\n  return {\n    routes,\n    dataRoutes,\n    serverMode,\n    staticHandler,\n    errorHandler\n  };\n}\nvar createRequestHandler = (build, mode) => {\n  let _build;\n  let routes;\n  let serverMode;\n  let staticHandler;\n  let errorHandler;\n  return async function requestHandler(request, initialContext) {\n    _build = typeof build === \"function\" ? await build() : build;\n    if (typeof build === \"function\") {\n      let derived = derive(_build, mode);\n      routes = derived.routes;\n      serverMode = derived.serverMode;\n      staticHandler = derived.staticHandler;\n      errorHandler = derived.errorHandler;\n    } else if (!routes || !serverMode || !staticHandler || !errorHandler) {\n      let derived = derive(_build, mode);\n      routes = derived.routes;\n      serverMode = derived.serverMode;\n      staticHandler = derived.staticHandler;\n      errorHandler = derived.errorHandler;\n    }\n    let params = {};\n    let loadContext;\n    let handleError = (error) => {\n      if (mode === \"development\" /* Development */) {\n        getDevServerHooks()?.processRequestError?.(error);\n      }\n      errorHandler(error, {\n        context: loadContext,\n        params,\n        request\n      });\n    };\n    if (_build.future.unstable_middleware) {\n      if (initialContext == null) {\n        loadContext = new unstable_RouterContextProvider();\n      } else {\n        try {\n          loadContext = new unstable_RouterContextProvider(\n            initialContext\n          );\n        } catch (e) {\n          let error = new Error(\n            `Unable to create initial \\`unstable_RouterContextProvider\\` instance. Please confirm you are returning an instance of \\`Map<unstable_routerContext, unknown>\\` from your \\`getLoadContext\\` function.\n\nError: ${e instanceof Error ? e.toString() : e}`\n          );\n          handleError(error);\n          return returnLastResortErrorResponse(error, serverMode);\n        }\n      }\n    } else {\n      loadContext = initialContext || {};\n    }\n    let url = new URL(request.url);\n    let normalizedBasename = _build.basename || \"/\";\n    let normalizedPath = url.pathname;\n    if (stripBasename(normalizedPath, normalizedBasename) === \"/_root.data\") {\n      normalizedPath = normalizedBasename;\n    } else if (normalizedPath.endsWith(\".data\")) {\n      normalizedPath = normalizedPath.replace(/\\.data$/, \"\");\n    }\n    if (stripBasename(normalizedPath, normalizedBasename) !== \"/\" && normalizedPath.endsWith(\"/\")) {\n      normalizedPath = normalizedPath.slice(0, -1);\n    }\n    let isSpaMode = getBuildTimeHeader(request, \"X-React-Router-SPA-Mode\") === \"yes\";\n    if (!_build.ssr) {\n      if (_build.prerender.length === 0) {\n        isSpaMode = true;\n      } else if (!_build.prerender.includes(normalizedPath) && !_build.prerender.includes(normalizedPath + \"/\")) {\n        if (url.pathname.endsWith(\".data\")) {\n          errorHandler(\n            new ErrorResponseImpl(\n              404,\n              \"Not Found\",\n              `Refusing to SSR the path \\`${normalizedPath}\\` because \\`ssr:false\\` is set and the path is not included in the \\`prerender\\` config, so in production the path will be a 404.`\n            ),\n            {\n              context: loadContext,\n              params,\n              request\n            }\n          );\n          return new Response(\"Not Found\", {\n            status: 404,\n            statusText: \"Not Found\"\n          });\n        } else {\n          isSpaMode = true;\n        }\n      }\n    }\n    let manifestUrl = getManifestPath(\n      _build.routeDiscovery.manifestPath,\n      normalizedBasename\n    );\n    if (url.pathname === manifestUrl) {\n      try {\n        let res = await handleManifestRequest(_build, routes, url);\n        return res;\n      } catch (e) {\n        handleError(e);\n        return new Response(\"Unknown Server Error\", { status: 500 });\n      }\n    }\n    let matches = matchServerRoutes(routes, normalizedPath, _build.basename);\n    if (matches && matches.length > 0) {\n      Object.assign(params, matches[0].params);\n    }\n    let response;\n    if (url.pathname.endsWith(\".data\")) {\n      let handlerUrl = new URL(request.url);\n      handlerUrl.pathname = normalizedPath;\n      let singleFetchMatches = matchServerRoutes(\n        routes,\n        handlerUrl.pathname,\n        _build.basename\n      );\n      response = await handleSingleFetchRequest(\n        serverMode,\n        _build,\n        staticHandler,\n        request,\n        handlerUrl,\n        loadContext,\n        handleError\n      );\n      if (_build.entry.module.handleDataRequest) {\n        response = await _build.entry.module.handleDataRequest(response, {\n          context: loadContext,\n          params: singleFetchMatches ? singleFetchMatches[0].params : {},\n          request\n        });\n        if (isRedirectResponse(response)) {\n          let result = getSingleFetchRedirect(\n            response.status,\n            response.headers,\n            _build.basename\n          );\n          if (request.method === \"GET\") {\n            result = {\n              [SingleFetchRedirectSymbol]: result\n            };\n          }\n          let headers = new Headers(response.headers);\n          headers.set(\"Content-Type\", \"text/x-script\");\n          return new Response(\n            encodeViaTurboStream(\n              result,\n              request.signal,\n              _build.entry.module.streamTimeout,\n              serverMode\n            ),\n            {\n              status: SINGLE_FETCH_REDIRECT_STATUS,\n              headers\n            }\n          );\n        }\n      }\n    } else if (!isSpaMode && matches && matches[matches.length - 1].route.module.default == null && matches[matches.length - 1].route.module.ErrorBoundary == null) {\n      response = await handleResourceRequest(\n        serverMode,\n        _build,\n        staticHandler,\n        matches.slice(-1)[0].route.id,\n        request,\n        loadContext,\n        handleError\n      );\n    } else {\n      let { pathname } = url;\n      let criticalCss = void 0;\n      if (_build.unstable_getCriticalCss) {\n        criticalCss = await _build.unstable_getCriticalCss({ pathname });\n      } else if (mode === \"development\" /* Development */ && getDevServerHooks()?.getCriticalCss) {\n        criticalCss = await getDevServerHooks()?.getCriticalCss?.(pathname);\n      }\n      response = await handleDocumentRequest(\n        serverMode,\n        _build,\n        staticHandler,\n        request,\n        loadContext,\n        handleError,\n        isSpaMode,\n        criticalCss\n      );\n    }\n    if (request.method === \"HEAD\") {\n      return new Response(null, {\n        headers: response.headers,\n        status: response.status,\n        statusText: response.statusText\n      });\n    }\n    return response;\n  };\n};\nasync function handleManifestRequest(build, routes, url) {\n  if (build.assets.version !== url.searchParams.get(\"version\")) {\n    return new Response(null, {\n      status: 204,\n      headers: {\n        \"X-Remix-Reload-Document\": \"true\"\n      }\n    });\n  }\n  let patches = {};\n  if (url.searchParams.has(\"p\")) {\n    let paths = /* @__PURE__ */ new Set();\n    url.searchParams.getAll(\"p\").forEach((path) => {\n      if (!path.startsWith(\"/\")) {\n        path = `/${path}`;\n      }\n      let segments = path.split(\"/\").slice(1);\n      segments.forEach((_, i) => {\n        let partialPath = segments.slice(0, i + 1).join(\"/\");\n        paths.add(`/${partialPath}`);\n      });\n    });\n    for (let path of paths) {\n      let matches = matchServerRoutes(routes, path, build.basename);\n      if (matches) {\n        for (let match of matches) {\n          let routeId = match.route.id;\n          let route = build.assets.routes[routeId];\n          if (route) {\n            patches[routeId] = route;\n          }\n        }\n      }\n    }\n    return Response.json(patches, {\n      headers: {\n        \"Cache-Control\": \"public, max-age=31536000, immutable\"\n      }\n    });\n  }\n  return new Response(\"Invalid Request\", { status: 400 });\n}\nasync function handleSingleFetchRequest(serverMode, build, staticHandler, request, handlerUrl, loadContext, handleError) {\n  let response = request.method !== \"GET\" ? await singleFetchAction(\n    build,\n    serverMode,\n    staticHandler,\n    request,\n    handlerUrl,\n    loadContext,\n    handleError\n  ) : await singleFetchLoaders(\n    build,\n    serverMode,\n    staticHandler,\n    request,\n    handlerUrl,\n    loadContext,\n    handleError\n  );\n  return response;\n}\nasync function handleDocumentRequest(serverMode, build, staticHandler, request, loadContext, handleError, isSpaMode, criticalCss) {\n  try {\n    let response = await staticHandler.query(request, {\n      requestContext: loadContext,\n      unstable_respond: build.future.unstable_middleware ? (ctx) => renderHtml(ctx, isSpaMode) : void 0\n    });\n    return isResponse(response) ? response : renderHtml(response, isSpaMode);\n  } catch (error) {\n    handleError(error);\n    return new Response(null, { status: 500 });\n  }\n  async function renderHtml(context, isSpaMode2) {\n    if (isResponse(context)) {\n      return context;\n    }\n    let headers = getDocumentHeaders(build, context);\n    if (SERVER_NO_BODY_STATUS_CODES.has(context.statusCode)) {\n      return new Response(null, { status: context.statusCode, headers });\n    }\n    if (context.errors) {\n      Object.values(context.errors).forEach((err) => {\n        if (!isRouteErrorResponse(err) || err.error) {\n          handleError(err);\n        }\n      });\n      context.errors = sanitizeErrors(context.errors, serverMode);\n    }\n    let state = {\n      loaderData: context.loaderData,\n      actionData: context.actionData,\n      errors: serializeErrors2(context.errors, serverMode)\n    };\n    let baseServerHandoff = {\n      basename: build.basename,\n      future: build.future,\n      routeDiscovery: build.routeDiscovery,\n      ssr: build.ssr,\n      isSpaMode: isSpaMode2\n    };\n    let entryContext = {\n      manifest: build.assets,\n      routeModules: createEntryRouteModules(build.routes),\n      staticHandlerContext: context,\n      criticalCss,\n      serverHandoffString: createServerHandoffString({\n        ...baseServerHandoff,\n        criticalCss\n      }),\n      serverHandoffStream: encodeViaTurboStream(\n        state,\n        request.signal,\n        build.entry.module.streamTimeout,\n        serverMode\n      ),\n      renderMeta: {},\n      future: build.future,\n      ssr: build.ssr,\n      routeDiscovery: build.routeDiscovery,\n      isSpaMode: isSpaMode2,\n      serializeError: (err) => serializeError(err, serverMode)\n    };\n    let handleDocumentRequestFunction = build.entry.module.default;\n    try {\n      return await handleDocumentRequestFunction(\n        request,\n        context.statusCode,\n        headers,\n        entryContext,\n        loadContext\n      );\n    } catch (error) {\n      handleError(error);\n      let errorForSecondRender = error;\n      if (isResponse(error)) {\n        try {\n          let data2 = await unwrapResponse(error);\n          errorForSecondRender = new ErrorResponseImpl(\n            error.status,\n            error.statusText,\n            data2\n          );\n        } catch (e) {\n        }\n      }\n      context = getStaticContextFromError(\n        staticHandler.dataRoutes,\n        context,\n        errorForSecondRender\n      );\n      if (context.errors) {\n        context.errors = sanitizeErrors(context.errors, serverMode);\n      }\n      let state2 = {\n        loaderData: context.loaderData,\n        actionData: context.actionData,\n        errors: serializeErrors2(context.errors, serverMode)\n      };\n      entryContext = {\n        ...entryContext,\n        staticHandlerContext: context,\n        serverHandoffString: createServerHandoffString(baseServerHandoff),\n        serverHandoffStream: encodeViaTurboStream(\n          state2,\n          request.signal,\n          build.entry.module.streamTimeout,\n          serverMode\n        ),\n        renderMeta: {}\n      };\n      try {\n        return await handleDocumentRequestFunction(\n          request,\n          context.statusCode,\n          headers,\n          entryContext,\n          loadContext\n        );\n      } catch (error2) {\n        handleError(error2);\n        return returnLastResortErrorResponse(error2, serverMode);\n      }\n    }\n  }\n}\nasync function handleResourceRequest(serverMode, build, staticHandler, routeId, request, loadContext, handleError) {\n  try {\n    let response = await staticHandler.queryRoute(request, {\n      routeId,\n      requestContext: loadContext,\n      unstable_respond: build.future.unstable_middleware ? (ctx) => ctx : void 0\n    });\n    if (isResponse(response)) {\n      return response;\n    }\n    if (typeof response === \"string\") {\n      return new Response(response);\n    }\n    return Response.json(response);\n  } catch (error) {\n    if (isResponse(error)) {\n      error.headers.set(\"X-Remix-Catch\", \"yes\");\n      return error;\n    }\n    if (isRouteErrorResponse(error)) {\n      if (error) {\n        handleError(error);\n      }\n      return errorResponseToJson(error, serverMode);\n    }\n    if (error instanceof Error && error.message === \"Expected a response from queryRoute\") {\n      let newError = new Error(\n        \"Expected a Response to be returned from resource route handler\"\n      );\n      handleError(newError);\n      return returnLastResortErrorResponse(newError, serverMode);\n    }\n    handleError(error);\n    return returnLastResortErrorResponse(error, serverMode);\n  }\n}\nfunction errorResponseToJson(errorResponse, serverMode) {\n  return Response.json(\n    serializeError(\n      // @ts-expect-error This is \"private\" from users but intended for internal use\n      errorResponse.error || new Error(\"Unexpected Server Error\"),\n      serverMode\n    ),\n    {\n      status: errorResponse.status,\n      statusText: errorResponse.statusText,\n      headers: {\n        \"X-Remix-Error\": \"yes\"\n      }\n    }\n  );\n}\nfunction returnLastResortErrorResponse(error, serverMode) {\n  let message = \"Unexpected Server Error\";\n  if (serverMode !== \"production\" /* Production */) {\n    message += `\n\n${String(error)}`;\n  }\n  return new Response(message, {\n    status: 500,\n    headers: {\n      \"Content-Type\": \"text/plain\"\n    }\n  });\n}\nfunction unwrapResponse(response) {\n  let contentType = response.headers.get(\"Content-Type\");\n  return contentType && /\\bapplication\\/json\\b/.test(contentType) ? response.body == null ? null : response.json() : response.text();\n}\n\n// lib/server-runtime/sessions.ts\nfunction flash(name) {\n  return `__flash_${name}__`;\n}\nvar createSession = (initialData = {}, id = \"\") => {\n  let map = new Map(Object.entries(initialData));\n  return {\n    get id() {\n      return id;\n    },\n    get data() {\n      return Object.fromEntries(map);\n    },\n    has(name) {\n      return map.has(name) || map.has(flash(name));\n    },\n    get(name) {\n      if (map.has(name)) return map.get(name);\n      let flashName = flash(name);\n      if (map.has(flashName)) {\n        let value = map.get(flashName);\n        map.delete(flashName);\n        return value;\n      }\n      return void 0;\n    },\n    set(name, value) {\n      map.set(name, value);\n    },\n    flash(name, value) {\n      map.set(flash(name), value);\n    },\n    unset(name) {\n      map.delete(name);\n    }\n  };\n};\nvar isSession = (object) => {\n  return object != null && typeof object.id === \"string\" && typeof object.data !== \"undefined\" && typeof object.has === \"function\" && typeof object.get === \"function\" && typeof object.set === \"function\" && typeof object.flash === \"function\" && typeof object.unset === \"function\";\n};\nfunction createSessionStorage({\n  cookie: cookieArg,\n  createData,\n  readData,\n  updateData,\n  deleteData\n}) {\n  let cookie = isCookie(cookieArg) ? cookieArg : createCookie(cookieArg?.name || \"__session\", cookieArg);\n  warnOnceAboutSigningSessionCookie(cookie);\n  return {\n    async getSession(cookieHeader, options) {\n      let id = cookieHeader && await cookie.parse(cookieHeader, options);\n      let data2 = id && await readData(id);\n      return createSession(data2 || {}, id || \"\");\n    },\n    async commitSession(session, options) {\n      let { id, data: data2 } = session;\n      let expires = options?.maxAge != null ? new Date(Date.now() + options.maxAge * 1e3) : options?.expires != null ? options.expires : cookie.expires;\n      if (id) {\n        await updateData(id, data2, expires);\n      } else {\n        id = await createData(data2, expires);\n      }\n      return cookie.serialize(id, options);\n    },\n    async destroySession(session, options) {\n      await deleteData(session.id);\n      return cookie.serialize(\"\", {\n        ...options,\n        maxAge: void 0,\n        expires: /* @__PURE__ */ new Date(0)\n      });\n    }\n  };\n}\nfunction warnOnceAboutSigningSessionCookie(cookie) {\n  warnOnce(\n    cookie.isSigned,\n    `The \"${cookie.name}\" cookie is not signed, but session cookies should be signed to prevent tampering on the client before they are sent back to the server. See https://reactrouter.com/explanation/sessions-and-cookies#signing-cookies for more information.`\n  );\n}\n\n// lib/server-runtime/sessions/cookieStorage.ts\nfunction createCookieSessionStorage({ cookie: cookieArg } = {}) {\n  let cookie = isCookie(cookieArg) ? cookieArg : createCookie(cookieArg?.name || \"__session\", cookieArg);\n  warnOnceAboutSigningSessionCookie(cookie);\n  return {\n    async getSession(cookieHeader, options) {\n      return createSession(\n        cookieHeader && await cookie.parse(cookieHeader, options) || {}\n      );\n    },\n    async commitSession(session, options) {\n      let serializedCookie = await cookie.serialize(session.data, options);\n      if (serializedCookie.length > 4096) {\n        throw new Error(\n          \"Cookie length will exceed browser maximum. Length: \" + serializedCookie.length\n        );\n      }\n      return serializedCookie;\n    },\n    async destroySession(_session, options) {\n      return cookie.serialize(\"\", {\n        ...options,\n        maxAge: void 0,\n        expires: /* @__PURE__ */ new Date(0)\n      });\n    }\n  };\n}\n\n// lib/server-runtime/sessions/memoryStorage.ts\nfunction createMemorySessionStorage({ cookie } = {}) {\n  let map = /* @__PURE__ */ new Map();\n  return createSessionStorage({\n    cookie,\n    async createData(data2, expires) {\n      let id = Math.random().toString(36).substring(2, 10);\n      map.set(id, { data: data2, expires });\n      return id;\n    },\n    async readData(id) {\n      if (map.has(id)) {\n        let { data: data2, expires } = map.get(id);\n        if (!expires || expires > /* @__PURE__ */ new Date()) {\n          return data2;\n        }\n        if (expires) map.delete(id);\n      }\n      return null;\n    },\n    async updateData(id, data2, expires) {\n      map.set(id, { data: data2, expires });\n    },\n    async deleteData(id) {\n      map.delete(id);\n    }\n  });\n}\n\n// lib/href.ts\nfunction href(path, ...args) {\n  let params = args[0];\n  return path.split(\"/\").map((segment) => {\n    if (segment === \"*\") {\n      return params ? params[\"*\"] : void 0;\n    }\n    const match = segment.match(/^:([\\w-]+)(\\?)?/);\n    if (!match) return segment;\n    const param = match[1];\n    const value = params ? params[param] : void 0;\n    const isRequired = match[2] === void 0;\n    if (isRequired && value === void 0) {\n      throw Error(\n        `Path '${path}' requires param '${param}' but it was not provided`\n      );\n    }\n    return value;\n  }).filter((segment) => segment !== void 0).join(\"/\");\n}\n\n// lib/dom/ssr/errors.ts\nfunction deserializeErrors2(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponseImpl(\n        val.status,\n        val.statusText,\n        val.data,\n        val.internal === true\n      );\n    } else if (val && val.__type === \"Error\") {\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            let error = new ErrorConstructor(val.message);\n            error.stack = val.stack;\n            serialized[key] = error;\n          } catch (e) {\n          }\n        }\n      }\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        error.stack = val.stack;\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\n\n// lib/dom/ssr/hydration.tsx\nfunction getHydrationData(state, routes, getRouteInfo, location, basename, isSpaMode) {\n  let hydrationData = {\n    ...state,\n    loaderData: { ...state.loaderData }\n  };\n  let initialMatches = matchRoutes(routes, location, basename);\n  if (initialMatches) {\n    for (let match of initialMatches) {\n      let routeId = match.route.id;\n      let routeInfo = getRouteInfo(routeId);\n      if (shouldHydrateRouteLoader(\n        routeId,\n        routeInfo.clientLoader,\n        routeInfo.hasLoader,\n        isSpaMode\n      ) && (routeInfo.hasHydrateFallback || !routeInfo.hasLoader)) {\n        delete hydrationData.loaderData[routeId];\n      } else if (!routeInfo.hasLoader) {\n        hydrationData.loaderData[routeId] = null;\n      }\n    }\n  }\n  return hydrationData;\n}\n\nexport {\n  Action,\n  createBrowserHistory,\n  invariant,\n  createPath,\n  parsePath,\n  unstable_createContext,\n  unstable_RouterContextProvider,\n  matchRoutes,\n  generatePath,\n  matchPath,\n  resolvePath,\n  data,\n  redirect,\n  redirectDocument,\n  replace,\n  ErrorResponseImpl,\n  isRouteErrorResponse,\n  IDLE_NAVIGATION,\n  IDLE_FETCHER,\n  IDLE_BLOCKER,\n  createRouter,\n  DataRouterContext,\n  DataRouterStateContext,\n  ViewTransitionContext,\n  FetchersContext,\n  NavigationContext,\n  LocationContext,\n  RouteContext,\n  useHref,\n  useInRouterContext,\n  useLocation,\n  useNavigationType,\n  useMatch,\n  useNavigate,\n  useOutletContext,\n  useOutlet,\n  useParams,\n  useResolvedPath,\n  useRoutes,\n  useNavigation,\n  useRevalidator,\n  useMatches,\n  useLoaderData,\n  useRouteLoaderData,\n  useActionData,\n  useRouteError,\n  useAsyncValue,\n  useAsyncError,\n  useBlocker,\n  mapRouteProperties,\n  hydrationRouteProperties,\n  createMemoryRouter,\n  RouterProvider,\n  MemoryRouter,\n  Navigate,\n  Outlet,\n  Route,\n  Router,\n  Routes,\n  Await,\n  createRoutesFromChildren,\n  createRoutesFromElements,\n  renderMatches,\n  withComponentProps,\n  withHydrateFallbackProps,\n  withErrorBoundaryProps,\n  createSearchParams,\n  SingleFetchRedirectSymbol,\n  getTurboStreamSingleFetchDataStrategy,\n  decodeViaTurboStream,\n  RemixErrorBoundary,\n  createClientRoutesWithHMRRevalidationOptOut,\n  createClientRoutes,\n  shouldHydrateRouteLoader,\n  getPatchRoutesOnNavigationFunction,\n  useFogOFWarDiscovery,\n  FrameworkContext,\n  Links,\n  PrefetchPageLinks,\n  Meta,\n  Scripts,\n  createBrowserRouter,\n  createHashRouter,\n  BrowserRouter,\n  HashRouter,\n  HistoryRouter,\n  Link,\n  NavLink,\n  Form,\n  ScrollRestoration,\n  useLinkClickHandler,\n  useSearchParams,\n  useSubmit,\n  useFormAction,\n  useFetcher,\n  useFetchers,\n  useScrollRestoration,\n  useBeforeUnload,\n  usePrompt,\n  useViewTransitionState,\n  StaticRouter,\n  StaticRouterProvider,\n  createStaticHandler2 as createStaticHandler,\n  createStaticRouter,\n  ServerRouter,\n  createRoutesStub,\n  createCookie,\n  isCookie,\n  ServerMode,\n  setDevServerHooks,\n  createRequestHandler,\n  createSession,\n  isSession,\n  createSessionStorage,\n  createCookieSessionStorage,\n  createMemorySessionStorage,\n  href,\n  deserializeErrors2 as deserializeErrors,\n  getHydrationData\n};\n", "\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query'\nimport { useState } from 'react'\nimport { trpc, trpcClient } from '../lib/trpc'\n\ninterface TRPCProviderProps {\n  children: React.ReactNode\n}\n\nexport default function TRPCProvider({ children }: TRPCProviderProps) {\n  const [queryClient] = useState(\n    () =>\n      new QueryClient({\n        defaultOptions: {\n          queries: {\n            staleTime: 5 * 60 * 1000, // 5 minutes\n            refetchOnWindowFocus: false,\n          },\n        },\n      })\n  )\n\n  return (\n    <trpc.Provider client={trpcClient} queryClient={queryClient}>\n      <QueryClientProvider client={queryClient}>\n        {children}\n      </QueryClientProvider>\n    </trpc.Provider>\n  )\n}", "/**\n * Authentication Store\n * Modern auth state management with tRPC integration\n */\n\nimport { create } from 'zustand'\nimport { persist } from 'zustand/middleware'\n\ninterface User {\n  id: string\n  name: string\n  email: string\n  avatar?: string\n  createdAt: Date\n}\n\ninterface AuthState {\n  user: User | null\n  token: string | null\n  isAuthenticated: boolean\n  isLoading: boolean\n  \n  hydrate: () => Promise<void>\n  fetchUser: () => Promise<void>\n  setUser: (user: User) => void\n  setToken: (token: string) => void\n  logout: () => void\n  setLoading: (loading: boolean) => void\n}\n\nexport const useAuthStore = create<AuthState>()(\n  persist(\n    (set, get) => ({\n      user: null,\n      token: null,\n      isAuthenticated: false,\n      isLoading: true,\n\n      hydrate: async () => {\n        if (typeof window !== 'undefined') {\n          // Check if token exists in localStorage first\n          const existingToken = localStorage.getItem('auth-token')\n          \n          // Only use dev token in development environment\n          if (!existingToken && process.env.NODE_ENV === 'development') {\n            localStorage.setItem('auth-token', 'dev-token-123')\n          }\n          \n          const tokenToUse = existingToken || \n            (process.env.NODE_ENV === 'development' ? 'dev-token-123' : null)\n          \n          set({ \n            token: tokenToUse,\n            isLoading: true \n          })\n\n          // Fetch user data from API\n          await get().fetchUser()\n        }\n      },\n\n      fetchUser: async () => {\n        const token = get().token\n        if (!token) return\n\n        try {\n          const response = await fetch('http://localhost:3002/trpc/user.me', {\n            headers: {\n              'Authorization': `Bearer ${token}`,\n              'Content-Type': 'application/json'\n            }\n          })\n\n          if (response.ok) {\n            const data = await response.json()\n            const userData = data.result.data\n            \n            set({\n              user: {\n                id: userData.id,\n                name: userData.name,\n                email: userData.email,\n                avatar: userData.avatar,\n                createdAt: new Date(userData.createdAt)\n              },\n              isAuthenticated: true,\n              isLoading: false\n            })\n          } else {\n            set({\n              user: null,\n              isAuthenticated: false,\n              isLoading: false\n            })\n          }\n        } catch (error) {\n          console.error('Failed to fetch user:', error)\n          set({\n            user: null,\n            isAuthenticated: false,\n            isLoading: false\n          })\n        }\n      },\n\n      setUser: (user) => \n        set({ \n          user, \n          isAuthenticated: true,\n          isLoading: false \n        }),\n\n      setToken: (token) => {\n        // Store token in localStorage for tRPC client\n        if (typeof window !== 'undefined') {\n          localStorage.setItem('auth-token', token)\n        }\n        set({ token })\n      },\n\n      logout: () => {\n        // Clear token from localStorage\n        if (typeof window !== 'undefined') {\n          localStorage.removeItem('auth-token')\n        }\n        set({ \n          user: null, \n          token: null, \n          isAuthenticated: false,\n          isLoading: false \n        })\n      },\n\n      setLoading: (isLoading) => set({ isLoading }),\n    }),\n    {\n      name: 'auth-storage',\n      partialize: (state) => ({ \n        user: state.user, \n        token: state.token,\n        isAuthenticated: state.isAuthenticated \n      }),\n    }\n  )\n)", "import { HashRouter, Route, Routes, Navigate } from 'react-router'\nimport TRPCProvider from './providers/TRPCProvider'\nimport { useAuthStore } from './stores/auth-store'\nimport { useEffect } from 'react'\nimport Test from './pages/Test'\nimport Login from './pages/Login'\nimport Register from './pages/Register'\nimport Home from './pages/Home'\nimport Board from './pages/Board'\nimport Calendar from './pages/Calendar'\nimport Notes from './pages/Notes'\nimport Chat from './pages/Chat'\nimport Teams from './pages/Teams'\nimport Projects from './pages/Projects'\nimport Profile from './pages/Profile'\nimport Settings from './pages/Settings'\nimport Pricing from './pages/Pricing'\nimport Workspace from './pages/Workspace'\nimport SimpleLanding from './pages/SimpleLanding'\n\nfunction ProtectedRoute({ children }: { children: React.ReactNode }) {\n  const { isAuthenticated, isLoading } = useAuthStore()\n  \n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-2\"></div>\n          <p>Loading...</p>\n        </div>\n      </div>\n    )\n  }\n  \n  return isAuthenticated ? <>{children}</> : <Navigate to=\"/login\" replace />\n}\n\nexport default function App() {\n  const { hydrate } = useAuthStore()\n\n  useEffect(() => {\n    hydrate().catch(console.error)\n  }, [hydrate])\n\n  return (\n    <TRPCProvider>\n      <HashRouter>\n        <Routes>\n          <Route path=\"/\" element={<SimpleLanding />} />\n          <Route path=\"/landing\" element={<SimpleLanding />} />\n          <Route path=\"/test\" element={<Test />} />\n          <Route path=\"/login\" element={<Login />} />\n          <Route path=\"/register\" element={<Register />} />\n          <Route path=\"/pricing\" element={<Pricing />} />\n          <Route path=\"/home\" element={<ProtectedRoute><Home /></ProtectedRoute>} />\n          <Route path=\"/board\" element={<ProtectedRoute><Board /></ProtectedRoute>} />\n          <Route path=\"/calendar\" element={<ProtectedRoute><Calendar /></ProtectedRoute>} />\n          <Route path=\"/notes\" element={<ProtectedRoute><Notes /></ProtectedRoute>} />\n          <Route path=\"/chat\" element={<ProtectedRoute><Chat /></ProtectedRoute>} />\n          <Route path=\"/teams\" element={<ProtectedRoute><Teams /></ProtectedRoute>} />\n          <Route path=\"/projects\" element={<ProtectedRoute><Projects /></ProtectedRoute>} />\n          <Route path=\"/workspace\" element={<ProtectedRoute><Workspace /></ProtectedRoute>} />\n          <Route path=\"/workspace/:workspaceId\" element={<ProtectedRoute><Workspace /></ProtectedRoute>} />\n          <Route path=\"/workspaces/new\" element={<ProtectedRoute><Workspace /></ProtectedRoute>} />\n          <Route path=\"/profile\" element={<ProtectedRoute><Profile /></ProtectedRoute>} />\n          <Route path=\"/settings\" element={<ProtectedRoute><Settings /></ProtectedRoute>} />\n        </Routes>\n      </HashRouter>\n    </TRPCProvider>\n  )\n}", "\nimport React, { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router'\nimport { trpc } from '../lib/trpc'\nimport { useAuthStore } from '../stores/auth-store'\nimport UniversalFormDemo from '../components/forms/UniversalFormDemo'\nimport UniversalInputFormCompact from '../components/forms/UniversalInputFormCompact'\nimport KanbanQuickCreate from '../components/kanban/KanbanQuickCreate'\nimport WorkspaceHeader from '../components/workspace/WorkspaceHeader'\nimport { FloatingInput } from '../components/ui/floating-input'\nimport { ContentType } from '../types/universal-form'\nimport { TaskStatus } from '../types/enums'\n\nexport default function Test() {\n  const [email, setEmail] = useState('alice@krushr.dev')\n  const [password, setPassword] = useState('password123')\n  const [name, setName] = useState('Test User')\n  const [isRegistering, setIsRegistering] = useState(false)\n\n  const { user, isAuthenticated, setUser, setToken, logout } = useAuthStore()\n  const navigate = useNavigate()\n\n  // Redirect to home if already authenticated (disabled for integration testing)\n  //   if (isAuthenticated) {\n  // }, [isAuthenticated, navigate])\n\n  const loginMutation = trpc.auth.login.useMutation({\n    onSuccess: (data) => {\n      setUser(data.user)\n      setToken(data.token)\n      console.log('\u2705 Login successful:', data)\n    },\n    onError: (error) => {\n      console.error('\u274C Login failed:', error.message)\n    }\n  })\n\n  const registerMutation = trpc.auth.register.useMutation({\n    onSuccess: (data) => {\n      setUser(data.user)\n      setToken(data.token)\n      console.log('\u2705 Registration successful:', data)\n    },\n    onError: (error) => {\n      console.error('\u274C Registration failed:', error.message)\n    }\n  })\n\n  const meQuery = trpc.auth.me.useQuery(undefined, {\n    enabled: isAuthenticated,\n  })\n\n  const handleLogin = () => {\n    console.log('\uD83D\uDD10 Attempting login with:', { email, password })\n    loginMutation.mutate({ email, password })\n  }\n\n  const handleRegister = () => {\n    console.log('\uD83D\uDCDD Attempting registration with:', { email, password, name })\n    registerMutation.mutate({ email, password, name })\n  }\n\n  return (\n    <div className=\"p-8 max-w-md mx-auto\">\n      <h1 className=\"text-2xl font-bold text-gray-900 mb-6\">\uD83D\uDE80 Krushr tRPC Test</h1>\n      \n      {isAuthenticated ? (\n        <div className=\"space-y-4\">\n          <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg\">\n            <h2 className=\"text-lg font-semibold text-green-800\">\u2705 Authenticated!</h2>\n            <p className=\"text-green-700\">Welcome, {user?.name}!</p>\n            <p className=\"text-sm text-green-600\">{user?.email}</p>\n          </div>\n          \n          {meQuery.data && (\n            <div className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n              <h3 className=\"font-semibold text-blue-800\">Profile from API:</h3>\n              <pre className=\"text-sm text-blue-700 mt-2\">\n                {JSON.stringify(meQuery.data, null, 2)}\n              </pre>\n            </div>\n          )}\n          \n          <button\n            onClick={logout}\n            className=\"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\"\n          >\n            Logout\n          </button>\n          \n          {/* Universal Input Form Demo */}\n          <div className=\"mt-8 pt-8 border-t border-gray-200\">\n            <h2 className=\"text-xl font-semibold text-gray-800 mb-4\">\uD83C\uDFA8 Universal Input Form Demo</h2>\n            <UniversalFormDemo />\n          </div>\n          \n          {/* Compact Form Integration Demo */}\n          <div className=\"mt-8 pt-8 border-t border-gray-200\">\n            <h2 className=\"text-xl font-semibold text-gray-800 mb-4\">\uD83D\uDD27 Workspace Panel Integration</h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              \n              {/* Compact Form Preview */}\n              <div>\n                <h3 className=\"text-lg font-medium mb-3\">Compact Panel Form</h3>\n                <div className=\"border rounded-lg\">\n                  <UniversalInputFormCompact \n                    workspaceId=\"demo-workspace\"\n                    contentType={ContentType.TASK}\n                    maxHeight=\"400px\"\n                    integrationMode=\"panel\"\n                  />\n                </div>\n              </div>\n              \n              {/* Kanban Integration Preview */}\n              <div>\n                <h3 className=\"text-lg font-medium mb-3\">Kanban Quick Create</h3>\n                <div className=\"space-y-2\">\n                  <div className=\"bg-gray-50 p-3 rounded-lg\">\n                    <div className=\"text-sm font-medium text-gray-600 mb-2\">To Do Column</div>\n                    <KanbanQuickCreate \n                      workspaceId=\"demo-workspace\"\n                      columnId=\"todo\"\n                      columnStatus={TaskStatus.TODO}\n                    />\n                  </div>\n                  \n                  <div className=\"bg-gray-50 p-3 rounded-lg\">\n                    <div className=\"text-sm font-medium text-gray-600 mb-2\">In Progress Column</div>\n                    <KanbanQuickCreate \n                      workspaceId=\"demo-workspace\"\n                      columnId=\"in-progress\"\n                      columnStatus={TaskStatus.IN_PROGRESS}\n                    />\n                  </div>\n                </div>\n              </div>\n              \n            </div>\n            \n            {/* Workspace Header Demo */}\n            <div className=\"mt-6\">\n              <h3 className=\"text-lg font-medium mb-3\">Workspace Header Integration</h3>\n              <div className=\"border rounded-lg overflow-hidden\">\n                <WorkspaceHeader \n                  workspaceName=\"Demo Workspace\"\n                  workspaceId=\"demo-workspace\"\n                  currentPanel=\"kanban\"\n                />\n              </div>\n            </div>\n            \n          </div>\n        </div>\n      ) : (\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Email\n            </label>\n            <FloatingInput\n              id=\"email\"\n              type=\"email\"\n              label=\"Email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              autoComplete=\"email\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Password\n            </label>\n            <FloatingInput\n              id=\"password\"\n              type=\"password\"\n              label=\"Password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              autoComplete=\"current-password\"\n            />\n          </div>\n          \n          {isRegistering && (\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Name\n              </label>\n              <FloatingInput\n                id=\"name\"\n                type=\"text\"\n                label=\"Name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                autoComplete=\"name\"\n              />\n            </div>\n          )}\n          \n          <div className=\"space-y-2\">\n            <button\n              onClick={isRegistering ? handleRegister : handleLogin}\n              disabled={loginMutation.isPending || registerMutation.isPending}\n              className=\"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50\"\n            >\n              {loginMutation.isPending || registerMutation.isPending\n                ? 'Loading...'\n                : isRegistering\n                ? 'Register'\n                : 'Login'\n              }\n            </button>\n            \n            <button\n              onClick={() => setIsRegistering(!isRegistering)}\n              className=\"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200\"\n            >\n              {isRegistering ? 'Switch to Login' : 'Switch to Register'}\n            </button>\n          </div>\n          \n          <div className=\"text-sm text-gray-600\">\n            <p>Demo credentials:</p>\n            <p>Email: alice@krushr.dev</p>\n            <p>Password: password123</p>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}", "\nimport React, { useState } from 'react'\nimport { Button } from '../ui/button'\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card'\nimport { Badge } from '../ui/badge'\nimport { Plus, Calendar, FileText, Kanban } from 'lucide-react'\nimport UniversalInputForm from './UniversalInputForm'\nimport { ContentType, UniversalFormData } from '../../types/universal-form'\nimport { Priority, TaskStatus } from '../../types/enums'\n\nexport default function UniversalFormDemo() {\n  const [isFormOpen, setIsFormOpen] = useState(false)\n  const [selectedContentType, setSelectedContentType] = useState<ContentType>(ContentType.TASK)\n  const [recentItems, setRecentItems] = useState<Array<{ \n    id: string\n    title: string\n    type: ContentType\n    createdAt: Date\n  }>>([])\n\n  const handleFormSuccess = (data: UniversalFormData, contentType: ContentType) => {\n    console.log('Form submitted successfully:', { data, contentType })\n    \n    const newItem = {\n      id: Date.now().toString(),\n      title: data.title,\n      type: contentType,\n      createdAt: new Date()\n    }\n    setRecentItems(prev => [newItem, ...prev.slice(0, 4)])\n  }\n\n  const openForm = (type: ContentType) => {\n    setSelectedContentType(type)\n    setIsFormOpen(true)\n  }\n\n  const getContentTypeIcon = (type: ContentType) => {\n    switch (type) {\n      case ContentType.TASK:\n        return <Kanban className=\"w-4 h-4\" />\n      case ContentType.NOTE:\n        return <FileText className=\"w-4 h-4\" />\n      case ContentType.CALENDAR_EVENT:\n        return <Calendar className=\"w-4 h-4\" />\n      default:\n        return <Plus className=\"w-4 h-4\" />\n    }\n  }\n\n  const getContentTypeColor = (type: ContentType) => {\n    switch (type) {\n      case ContentType.TASK:\n        return 'bg-blue-100 text-blue-800'\n      case ContentType.NOTE:\n        return 'bg-green-100 text-green-800'\n      case ContentType.CALENDAR_EVENT:\n        return 'bg-purple-100 text-purple-800'\n      default:\n        return 'bg-gray-100 text-gray-800'\n    }\n  }\n\n  return (\n    <div className=\"p-6 max-w-4xl mx-auto space-y-6\">\n      <div>\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Universal Input Form Demo</h1>\n        <p className=\"text-gray-600\">\n          Comprehensive form for creating tasks, notes, calendar events, and mixed content\n        </p>\n      </div>\n\n      {/* Quick Action Buttons */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Quick Actions</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <Button\n              onClick={() => openForm(ContentType.TASK)}\n              className=\"h-24 flex flex-col items-center justify-center gap-2\"\n              variant=\"outline\"\n            >\n              <Kanban className=\"w-8 h-8 text-blue-600\" />\n              <span>Create Task</span>\n            </Button>\n            \n            <Button\n              onClick={() => openForm(ContentType.NOTE)}\n              className=\"h-24 flex flex-col items-center justify-center gap-2\"\n              variant=\"outline\"\n            >\n              <FileText className=\"w-8 h-8 text-green-600\" />\n              <span>Create Note</span>\n            </Button>\n            \n            <Button\n              onClick={() => openForm(ContentType.CALENDAR_EVENT)}\n              className=\"h-24 flex flex-col items-center justify-center gap-2\"\n              variant=\"outline\"\n            >\n              <Calendar className=\"w-8 h-8 text-purple-600\" />\n              <span>Create Event</span>\n            </Button>\n          </div>\n          \n          <div className=\"mt-4 pt-4 border-t\">\n            <Button\n              onClick={() => openForm(ContentType.MIXED)}\n              className=\"w-full\"\n              variant=\"default\"\n            >\n              <Plus className=\"w-4 h-4 mr-2\" />\n              Universal Form (All Types)\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Recent Items */}\n      {recentItems.length > 0 && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Recently Created</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-3\">\n              {recentItems.map((item) => (\n                <div\n                  key={item.id}\n                  className=\"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50\"\n                >\n                  <div className=\"flex items-center gap-3\">\n                    {getContentTypeIcon(item.type)}\n                    <div>\n                      <div className=\"font-medium\">{item.title}</div>\n                      <div className=\"text-sm text-gray-500\">\n                        {item.createdAt.toLocaleString()}\n                      </div>\n                    </div>\n                  </div>\n                  <Badge variant=\"secondary\" className={getContentTypeColor(item.type)}>\n                    {item.type.toLowerCase().replace('_', ' ')}\n                  </Badge>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Features Overview */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Form Features</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <h3 className=\"font-semibold mb-3\">Content Creation</h3>\n              <ul className=\"space-y-2 text-sm text-gray-600\">\n                <li>\u2022 Multi-content type support</li>\n                <li>\u2022 Rich text editing with toolbar</li>\n                <li>\u2022 Priority and tag management</li>\n                <li>\u2022 Team assignment</li>\n                <li>\u2022 Due dates and scheduling</li>\n              </ul>\n            </div>\n            \n            <div>\n              <h3 className=\"font-semibold mb-3\">Advanced Features</h3>\n              <ul className=\"space-y-2 text-sm text-gray-600\">\n                <li>\u2022 File attachments with drag & drop</li>\n                <li>\u2022 Recurring events</li>\n                <li>\u2022 Workflow automation toggles</li>\n                <li>\u2022 Checklist and subtasks</li>\n                <li>\u2022 Form validation and error handling</li>\n              </ul>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Universal Input Form */}\n      <UniversalInputForm\n        open={isFormOpen}\n        onClose={() => setIsFormOpen(false)}\n        onSuccess={handleFormSuccess}\n        contentType={selectedContentType}\n        workspaceId=\"demo-workspace-id\"\n        projectId=\"demo-project-id\"\n        kanbanColumnId=\"demo-column-id\"\n        showWorkflowToggles={true}\n        showFileUploads={true}\n        allowContentTypeSwitch={selectedContentType === ContentType.MIXED}\n        initialData={{\n          priority: Priority.MEDIUM,\n          status: TaskStatus.TODO,\n          tags: [],\n          workflow: {\n            createVideoMeeting: true,\n            createCall: true,\n            kanbanTaskBoard: true,\n            notes: true,\n            ganttTimeline: true,\n            ganttDependency: false,\n            reminder: true,\n            notifyTeam: false,\n            changesNotifyTeam: false,\n            reminders: [\n              { enabled: true, timeBefore: '1d', type: 'notification' },\n              { enabled: true, timeBefore: '1h', type: 'notification' }\n            ]\n          }\n        }}\n      />\n    </div>\n  )\n}", "/**\n * Universal Input Form Component\n * A comprehensive form for creating tasks, notes, calendar events, and mixed content\n * \n * Features:\n * - Multi-content type support (Task, Note, Calendar Event, Mixed)\n * - Rich text editing with toolbar\n * - File attachments and drag & drop\n * - Team assignment and collaboration\n * - Workflow automation toggles\n * - Recurring events and reminders\n * - Priority and tag management\n * - Responsive design with mobile support\n * \n * Performance:\n * - Optimized re-renders with useCallback\n * - Lazy loading of heavy components\n * - Efficient form state management\n * - Debounced auto-save (future)\n */\n\nimport React, { useState, useCallback, useEffect, useMemo } from 'react'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from '../ui/dialog'\nimport { Button } from '../ui/button'\nimport { FloatingInput } from '../ui/floating-input'\nimport { Label } from '../ui/label'\nimport { Textarea } from '../ui/textarea'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../ui/select'\nimport { Calendar } from '../ui/calendar'\nimport { Popover, PopoverContent, PopoverTrigger } from '../ui/popover'\nimport { Badge } from '../ui/badge'\nimport { Avatar, AvatarFallback, AvatarImage } from '../ui/avatar'\nimport { Switch } from '../ui/switch'\nimport { Checkbox } from '../ui/checkbox'\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card'\nimport { Separator } from '../ui/separator'\nimport { ScrollArea } from '../ui/scroll-area'\nimport { \n  CalendarIcon, \n  Plus, \n  X, \n  Paperclip, \n  Tag, \n  Users, \n  Flag,\n  Edit,\n  ChevronUp,\n  ChevronDown,\n  Play,\n  Wand2,\n  Share2,\n  CheckCircle,\n  Trash2,\n  Save,\n  Upload,\n  Download,\n  Link,\n  MoreHorizontal,\n  Clock\n} from 'lucide-react'\nimport { format } from 'date-fns'\nimport { cn } from '../../lib/utils'\nimport { trpc } from '../../lib/trpc'\nimport { Priority, TaskStatus } from '../../types/enums'\nimport FileUpload from '../common/FileUpload'\nimport { \n  ContentType,\n  UniversalFormProps, \n  UniversalFormData,\n  ChecklistItem,\n  FileAttachment,\n  ReminderConfig,\n  WorkflowConfig,\n  RecurringConfig,\n  FormValidation,\n  PriorityConfig\n} from '../../types/universal-form'\n\nconst PRIORITY_CONFIGS: Record<Priority, PriorityConfig> = {\n  [Priority.LOW]: { level: Priority.LOW, dots: 1, color: 'bg-krushr-priority-low' },\n  [Priority.MEDIUM]: { level: Priority.MEDIUM, dots: 2, color: 'bg-krushr-priority-medium' },\n  [Priority.HIGH]: { level: Priority.HIGH, dots: 3, color: 'bg-krushr-priority-high' },\n  [Priority.CRITICAL]: { level: Priority.CRITICAL, dots: 4, color: 'bg-krushr-priority-critical' }\n}\n\nconst DEFAULT_WORKFLOW: WorkflowConfig = {\n  createVideoMeeting: true,\n  createCall: true,\n  kanbanTaskBoard: true,\n  notes: true,\n  ganttTimeline: true,\n  ganttDependency: false,\n  reminder: true,\n  notifyTeam: false,\n  changesNotifyTeam: false,\n  reminders: [\n    { enabled: true, timeBefore: '1d', type: 'notification' },\n    { enabled: true, timeBefore: '1h', type: 'notification' }\n  ]\n}\n\nconst DEFAULT_RECURRING: RecurringConfig = {\n  enabled: false,\n  pattern: 'weekly',\n  interval: 1,\n  daysOfWeek: []\n}\n\nexport default function UniversalInputForm({\n  open,\n  onClose,\n  onSuccess,\n  initialData,\n  contentType = ContentType.TASK,\n  workspaceId,\n  projectId,\n  kanbanColumnId,\n  showWorkflowToggles = true,\n  showFileUploads = true,\n  allowContentTypeSwitch = false,\n  compactMode = false,\n  requiredFields = ['title'],\n  maxTitleLength = 200,\n  maxDescriptionLength = 5000\n}: UniversalFormProps) {\n  \n  \n  const [formData, setFormData] = useState<UniversalFormData>(() => ({\n    contentType,\n    title: '',\n    description: '',\n    priority: Priority.MEDIUM,\n    tags: [],\n    allDay: false,\n    status: TaskStatus.TODO,\n    teamMembers: [],\n    checklist: [],\n    subtasks: [],\n    attachments: [],\n    workflow: DEFAULT_WORKFLOW,\n    recurring: DEFAULT_RECURRING,\n    workspaceId,\n    ...initialData\n  }))\n  \n  const [currentTag, setCurrentTag] = useState('')\n  const [newChecklistItem, setNewChecklistItem] = useState('')\n  const [expandedSections, setExpandedSections] = useState({\n    dates: true,\n    description: true,\n    checklist: false,\n    subtasks: false,\n    files: false,\n    workflow: true\n  })\n  const [validation, setValidation] = useState<FormValidation>({\n    isValid: true,\n    errors: {},\n    warnings: {}\n  })\n  \n  const { data: users = [] } = trpc.user.listWorkspaceMembers.useQuery(\n    { workspaceId },\n    { enabled: !!workspaceId }\n  )\n  const { data: projects = [] } = trpc.project.list.useQuery(\n    { workspaceId },\n    { enabled: !!workspaceId }\n  )\n  const { data: templates = [] } = trpc.template.list.useQuery(\n    { workspaceId },\n    { enabled: !!workspaceId }\n  )\n  \n  const createTaskMutation = trpc.task.create.useMutation({\n    onSuccess: (data) => {\n      onSuccess?.(formData, ContentType.TASK)\n      onClose()\n      resetForm()\n    }\n  })\n  \n  const createNoteMutation = trpc.notes?.create?.useMutation?.({\n    onSuccess: (data) => {\n      onSuccess?.(formData, ContentType.NOTE)\n      onClose()\n      resetForm()\n    }\n  }) || { mutate: () => {}, isLoading: false }\n  \n  const uploadFileMutation = trpc.upload.uploadTaskFile?.useMutation?.() || { mutate: () => {}, isLoading: false }\n  \n  \n  const updateField = useCallback(<K extends keyof UniversalFormData>(\n    field: K, \n    value: UniversalFormData[K]\n  ) => {\n    setFormData(prev => ({ ...prev, [field]: value }))\n  }, [])\n\n  \n  const handleFileUpload = useCallback(async (files: File[]) => {\n    try {\n      const newAttachments: FileAttachment[] = []\n      \n      for (const file of files) {\n        const attachment: FileAttachment = {\n          name: file.name,\n          size: file.size,\n          type: file.type,\n          file: file\n        }\n        newAttachments.push(attachment)\n      }\n      \n      updateField('attachments', [...formData.attachments, ...newAttachments])\n      \n      // Note: Actual upload will happen on form submission\n      \n    } catch (error) {\n      console.error('File preparation error:', error)\n    }\n  }, [formData.attachments, updateField])\n  \n  const handleRemoveFile = useCallback((index: number) => {\n    const newAttachments = formData.attachments.filter((_, i) => i !== index)\n    updateField('attachments', newAttachments)\n  }, [formData.attachments, updateField])\n  \n  const isEditMode = useMemo(() => !!formData.id, [formData.id])\n  const isLoading = useMemo(() => \n    createTaskMutation.isLoading || \n    createNoteMutation.isLoading || \n    uploadFileMutation.isLoading, \n    [createTaskMutation.isLoading, createNoteMutation.isLoading, uploadFileMutation.isLoading]\n  )\n  \n  const resetForm = useCallback(() => {\n    setFormData({\n      contentType,\n      title: '',\n      description: '',\n      priority: Priority.MEDIUM,\n      tags: [],\n      allDay: false,\n      status: TaskStatus.TODO,\n      teamMembers: [],\n      checklist: [],\n      subtasks: [],\n      attachments: [],\n      workflow: DEFAULT_WORKFLOW,\n      recurring: DEFAULT_RECURRING,\n      workspaceId,\n      ...initialData\n    })\n    setCurrentTag('')\n    setNewChecklistItem('')\n    setValidation({ isValid: true, errors: {}, warnings: {} })\n  }, [contentType, workspaceId, initialData])\n  \n  const validateForm = useCallback((): FormValidation => {\n    const errors: Record<string, string> = {}\n    const warnings: Record<string, string> = {}\n    \n    if (requiredFields.includes('title') && !formData.title.trim()) {\n      errors.title = 'Title is required'\n    }\n    \n    if (formData.title.length > maxTitleLength) {\n      errors.title = `Title must be less than ${maxTitleLength} characters`\n    }\n    \n    if (formData.description.length > maxDescriptionLength) {\n      errors.description = `Description must be less than ${maxDescriptionLength} characters`\n    }\n    \n    if (formData.startDate && formData.endDate && formData.startDate > formData.endDate) {\n      errors.dates = 'Start date must be before end date'\n    }\n    \n    if (formData.contentType === ContentType.TASK && !formData.assigneeId) {\n      warnings.assignee = 'Consider assigning this task to someone'\n    }\n    \n    const result = {\n      isValid: Object.keys(errors).length === 0,\n      errors,\n      warnings\n    }\n    \n    setValidation(result)\n    return result\n  }, [formData, requiredFields, maxTitleLength, maxDescriptionLength])\n  \n  const handleSubmit = useCallback(async () => {\n    const validation = validateForm()\n    if (!validation.isValid) return\n    \n    try {\n      switch (formData.contentType) {\n        case ContentType.TASK:\n          await createTaskMutation.mutateAsync({\n            title: formData.title,\n            description: formData.description,\n            priority: formData.priority,\n            status: formData.status,\n            dueDate: formData.endDate?.toISOString(),\n            assigneeId: formData.assigneeId,\n            estimatedHours: formData.estimatedHours,\n            tags: formData.tags,\n            workspaceId: formData.workspaceId,\n            projectId: projectId || formData.projectId,\n            kanbanColumnId: kanbanColumnId || formData.kanbanColumnId,\n          })\n          break\n          \n        case ContentType.NOTE:\n          createNoteMutation.mutate({\n            title: formData.title,\n            content: formData.description,\n            tags: formData.tags,\n            workspaceId: formData.workspaceId,\n          })\n          break\n          \n        case ContentType.CALENDAR_EVENT:\n          // TODO: Implement calendar event creation\n          console.log('Calendar event creation not yet implemented')\n          break\n          \n        case ContentType.MIXED:\n          // TODO: Implement mixed content creation\n          console.log('Mixed content creation not yet implemented')\n          break\n      }\n    } catch (error) {\n      console.error('Form submission error:', error)\n    }\n  }, [formData, validateForm, createTaskMutation, createNoteMutation, projectId, kanbanColumnId])\n  \n  \n  const toggleSection = useCallback((section: keyof typeof expandedSections) => {\n    setExpandedSections(prev => ({ ...prev, [section]: !prev[section] }))\n  }, [])\n  \n  const handleAddTag = useCallback(() => {\n    if (currentTag && !formData.tags.includes(currentTag)) {\n      updateField('tags', [...formData.tags, currentTag])\n      setCurrentTag('')\n    }\n  }, [currentTag, formData.tags, updateField])\n  \n  const handleRemoveTag = useCallback((tag: string) => {\n    updateField('tags', formData.tags.filter(t => t !== tag))\n  }, [formData.tags, updateField])\n  \n  const handleAddChecklistItem = useCallback(() => {\n    if (newChecklistItem.trim()) {\n      const newItem: ChecklistItem = {\n        text: newChecklistItem.trim(),\n        completed: false,\n        order: formData.checklist.length\n      }\n      updateField('checklist', [...formData.checklist, newItem])\n      setNewChecklistItem('')\n    }\n  }, [newChecklistItem, formData.checklist, updateField])\n  \n  const handleUpdateChecklistItem = useCallback((index: number, updates: Partial<ChecklistItem>) => {\n    const newChecklist = [...formData.checklist]\n    newChecklist[index] = { ...newChecklist[index], ...updates }\n    updateField('checklist', newChecklist)\n  }, [formData.checklist, updateField])\n  \n  const handleRemoveChecklistItem = useCallback((index: number) => {\n    updateField('checklist', formData.checklist.filter((_, i) => i !== index))\n  }, [formData.checklist, updateField])\n  \n  \n  const renderPriorityDots = useCallback((priority: Priority) => {\n    const config = PRIORITY_CONFIGS[priority]\n    return (\n      <div className=\"flex items-center gap-1\">\n        {Array.from({ length: 5 }, (_, i) => (\n          <div\n            key={i}\n            className={cn(\n              \"w-3 h-3 rounded-full\",\n              i < config.dots ? config.color : \"bg-gray-200\"\n            )}\n          />\n        ))}\n      </div>\n    )\n  }, [])\n  \n  const renderSectionHeader = useCallback((\n    title: string, \n    sectionKey: keyof typeof expandedSections,\n    showEditIcon = false\n  ) => (\n    <div className=\"flex items-center justify-between mb-3\">\n      <Label className=\"text-base font-medium\">{title}</Label>\n      <div className=\"flex items-center gap-2\">\n        {showEditIcon && (\n          <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n            <Edit className=\"h-4 w-4 text-gray-400\" />\n          </Button>\n        )}\n        <Button \n          variant=\"ghost\" \n          size=\"sm\" \n          className=\"h-8 w-8 p-0\"\n          onClick={() => toggleSection(sectionKey)}\n        >\n          {expandedSections[sectionKey] ? (\n            <ChevronUp className=\"h-4 w-4 text-gray-400\" />\n          ) : (\n            <ChevronDown className=\"h-4 w-4 text-gray-400\" />\n          )}\n        </Button>\n      </div>\n    </div>\n  ), [expandedSections, toggleSection])\n  \n  useEffect(() => {\n    if (initialData) {\n      setFormData(prev => ({ ...prev, ...initialData }))\n    }\n  }, [initialData])\n  \n  \n  return (\n    <Dialog open={open} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-5xl max-h-[95vh] overflow-hidden p-0\">\n        <DialogHeader className=\"px-6 py-4 border-b\">\n          <DialogTitle className=\"flex items-center justify-between\">\n            <span>{isEditMode ? 'Edit Item' : 'New Item'}</span>\n            {allowContentTypeSwitch && (\n              <Select \n                value={formData.contentType} \n                onValueChange={(value) => updateField('contentType', value as ContentType)}\n              >\n                <SelectTrigger className=\"w-40\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value={ContentType.TASK}>Task</SelectItem>\n                  <SelectItem value={ContentType.NOTE}>Note</SelectItem>\n                  <SelectItem value={ContentType.CALENDAR_EVENT}>Calendar Event</SelectItem>\n                  <SelectItem value={ContentType.MIXED}>Mixed</SelectItem>\n                </SelectContent>\n              </Select>\n            )}\n          </DialogTitle>\n        </DialogHeader>\n        \n        <ScrollArea className=\"flex-1 px-6\">\n          <div className=\"py-6 space-y-8\">\n            {/* Header Section */}\n            <Card>\n              <CardContent className=\"pt-6\">\n                {/* Header Images */}\n                <div className=\"flex gap-4 mb-6\">\n                  <div className=\"w-32 h-20 bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg flex items-center justify-center\">\n                    <Paperclip className=\"w-8 h-8 text-blue-600\" />\n                  </div>\n                  <div className=\"w-32 h-20 bg-gradient-to-br from-green-100 to-green-200 rounded-lg flex items-center justify-center\">\n                    <Tag className=\"w-8 h-8 text-green-600\" />\n                  </div>\n                  <div className=\"w-32 h-20 bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg flex items-center justify-center\">\n                    <Users className=\"w-8 h-8 text-purple-600\" />\n                  </div>\n                </div>\n                \n                {/* Title and Basic Info */}\n                <div className=\"flex justify-between items-start mb-6\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-2 mb-3\">\n                      <FloatingInput\n                        value={formData.title}\n                        onChange={(e) => updateField('title', e.target.value)}\n                        label=\"Enter title...\"\n                        className=\"text-2xl font-medium text-krushr-primary\"\n                        maxLength={maxTitleLength}\n                      />\n                      <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n                        <Edit className=\"h-4 w-4 text-gray-400\" />\n                      </Button>\n                    </div>\n                    \n                    {/* Tags */}\n                    <div className=\"flex items-center gap-2 mb-4\">\n                      {formData.tags.map((tag) => (\n                        <Badge key={tag} variant=\"secondary\" className=\"gap-1\">\n                          {tag}\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            className=\"h-4 w-4 p-0 hover:text-destructive\"\n                            onClick={() => handleRemoveTag(tag)}\n                          >\n                            <X className=\"h-3 w-3\" />\n                          </Button>\n                        </Badge>\n                      ))}\n                      <div className=\"flex items-center gap-2\">\n                        <FloatingInput\n                          value={currentTag}\n                          onChange={(e) => setCurrentTag(e.target.value)}\n                          onKeyPress={(e) => e.key === 'Enter' && handleAddTag()}\n                          label=\"+ Add Tag\"\n                          className=\"w-24 h-7 text-xs\"\n                        />\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={handleAddTag}\n                          className=\"h-7 px-2\"\n                        >\n                          <Plus className=\"w-3 h-3\" />\n                        </Button>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  {/* Priority */}\n                  <div className=\"ml-6\">\n                    <Label className=\"text-sm text-gray-600 mb-2 block\">Priority</Label>\n                    <Select \n                      value={formData.priority} \n                      onValueChange={(value) => updateField('priority', value as Priority)}\n                    >\n                      <SelectTrigger className=\"w-32\">\n                        <SelectValue>\n                          {renderPriorityDots(formData.priority)}\n                        </SelectValue>\n                      </SelectTrigger>\n                      <SelectContent>\n                        {Object.values(Priority).map((priority) => (\n                          <SelectItem key={priority} value={priority}>\n                            <div className=\"flex items-center gap-2\">\n                              {renderPriorityDots(priority)}\n                              <span className=\"capitalize\">{priority.toLowerCase()}</span>\n                            </div>\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n                </div>\n                \n                {/* Team Assignment */}\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"flex items-center\">\n                    <div className=\"flex -space-x-2 mr-2\">\n                      {formData.teamMembers.slice(0, 3).map((member, index) => (\n                        <Avatar key={member.userId} className=\"w-8 h-8 border-2 border-white\">\n                          <AvatarImage src={member.avatar} />\n                          <AvatarFallback className=\"text-xs\">\n                            {member.name.charAt(0)}\n                          </AvatarFallback>\n                        </Avatar>\n                      ))}\n                      {formData.teamMembers.length > 3 && (\n                        <div className=\"w-8 h-8 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center\">\n                          <span className=\"text-xs font-medium\">+{formData.teamMembers.length - 3}</span>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                  <div>\n                    <div className=\"font-medium\">Design Team</div>\n                    <div className=\"text-sm text-gray-500\">\n                      Last updated by {formData.lastUpdatedBy || 'Unknown'} at {format(new Date(), 'h:mm a, M/d/yy')}\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n            \n            {/* Main Content Area */}\n            <div className=\"grid grid-cols-3 gap-8\">\n              {/* Left Column - Form Fields */}\n              <div className=\"col-span-2 space-y-6\">\n                \n                {/* All Day Toggle */}\n                {(formData.contentType === ContentType.CALENDAR_EVENT || formData.contentType === ContentType.MIXED) && (\n                  <div className=\"flex items-center justify-between\">\n                    <Label>All Day</Label>\n                    <Switch \n                      checked={formData.allDay}\n                      onCheckedChange={(checked) => updateField('allDay', checked)}\n                    />\n                  </div>\n                )}\n                \n                {/* Dates Section */}\n                <Card>\n                  <CardHeader className=\"pb-3\">\n                    {renderSectionHeader('Dates', 'dates')}\n                  </CardHeader>\n                  {expandedSections.dates && (\n                    <CardContent className=\"space-y-4\">\n                      <div className=\"grid grid-cols-3 gap-4\">\n                        <div>\n                          <Label className=\"text-xs text-gray-500 uppercase tracking-wide\">Start Date</Label>\n                          <Popover>\n                            <PopoverTrigger asChild>\n                              <Button\n                                variant=\"outline\"\n                                className={cn(\n                                  \"w-full justify-start text-left font-normal mt-1\",\n                                  !formData.startDate && \"text-muted-foreground\"\n                                )}\n                              >\n                                <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                                {formData.startDate ? format(formData.startDate, \"MMM dd\") : \"Start Date\"}\n                              </Button>\n                            </PopoverTrigger>\n                            <PopoverContent className=\"w-auto p-0\">\n                              <Calendar\n                                mode=\"single\"\n                                selected={formData.startDate}\n                                onSelect={(date) => updateField('startDate', date)}\n                                initialFocus\n                              />\n                            </PopoverContent>\n                          </Popover>\n                        </div>\n                        \n                        {!formData.allDay && (\n                          <div>\n                            <FloatingInput\n                              type=\"time\"\n                              value={formData.startTime || ''}\n                              onChange={(e) => updateField('startTime', e.target.value)}\n                              label=\"Time\"\n                              className=\"mt-1\"\n                            />\n                          </div>\n                        )}\n                        \n                        <div>\n                          <Label className=\"text-xs text-gray-500 uppercase tracking-wide\">Duration</Label>\n                          <Select \n                            value={formData.duration || ''} \n                            onValueChange={(value) => updateField('duration', value)}\n                          >\n                            <SelectTrigger className=\"mt-1\">\n                              <SelectValue placeholder=\"Duration\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                              <SelectItem value=\"15m\">15 minutes</SelectItem>\n                              <SelectItem value=\"30m\">30 minutes</SelectItem>\n                              <SelectItem value=\"1h\">1 hour</SelectItem>\n                              <SelectItem value=\"2h\">2 hours</SelectItem>\n                              <SelectItem value=\"4h\">4 hours</SelectItem>\n                              <SelectItem value=\"1d\">1 day</SelectItem>\n                            </SelectContent>\n                          </Select>\n                        </div>\n                      </div>\n                      \n                      <div className=\"grid grid-cols-2 gap-4\">\n                        <div>\n                          <Label className=\"text-xs text-gray-500 uppercase tracking-wide\">End Date</Label>\n                          <Popover>\n                            <PopoverTrigger asChild>\n                              <Button\n                                variant=\"outline\"\n                                className={cn(\n                                  \"w-full justify-start text-left font-normal mt-1\",\n                                  !formData.endDate && \"text-muted-foreground\"\n                                )}\n                              >\n                                <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                                {formData.endDate ? format(formData.endDate, \"MMM dd\") : \"End Date\"}\n                              </Button>\n                            </PopoverTrigger>\n                            <PopoverContent className=\"w-auto p-0\">\n                              <Calendar\n                                mode=\"single\"\n                                selected={formData.endDate}\n                                onSelect={(date) => updateField('endDate', date)}\n                                initialFocus\n                              />\n                            </PopoverContent>\n                          </Popover>\n                        </div>\n                        \n                        {!formData.allDay && (\n                          <div>\n                            <FloatingInput\n                              type=\"time\"\n                              value={formData.endTime || ''}\n                              onChange={(e) => updateField('endTime', e.target.value)}\n                              label=\"End Time\"\n                              className=\"mt-1\"\n                            />\n                          </div>\n                        )}\n                      </div>\n                    </CardContent>\n                  )}\n                </Card>\n                \n                {/* Calendar Section */}\n                {(formData.contentType === ContentType.CALENDAR_EVENT || formData.contentType === ContentType.MIXED) && (\n                  <div>\n                    <FloatingInput\n                      value={formData.calendar || ''}\n                      onChange={(e) => updateField('calendar', e.target.value)}\n                      label=\"Calendar Email\"\n                      className=\"mt-1\"\n                    />\n                  </div>\n                )}\n                \n                {/* Recurring Section */}\n                {(formData.contentType === ContentType.CALENDAR_EVENT || formData.contentType === ContentType.MIXED) && (\n                  <div>\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <Label>Recurring</Label>\n                      <Switch \n                        checked={formData.recurring.enabled}\n                        onCheckedChange={(checked) => updateField('recurring', { ...formData.recurring, enabled: checked })}\n                      />\n                    </div>\n                    {formData.recurring.enabled && (\n                      <div className=\"grid grid-cols-2 gap-4\">\n                        <Popover>\n                          <PopoverTrigger asChild>\n                            <Button variant=\"outline\" className=\"justify-start\">\n                              <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                              {formData.recurring.startDate ? format(formData.recurring.startDate, \"PPP\") : \"Start Date\"}\n                            </Button>\n                          </PopoverTrigger>\n                          <PopoverContent className=\"w-auto p-0\">\n                            <Calendar\n                              mode=\"single\"\n                              selected={formData.recurring.startDate}\n                              onSelect={(date) => updateField('recurring', { ...formData.recurring, startDate: date })}\n                              initialFocus\n                            />\n                          </PopoverContent>\n                        </Popover>\n                        \n                        <Popover>\n                          <PopoverTrigger asChild>\n                            <Button variant=\"outline\" className=\"justify-start\">\n                              <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                              {formData.recurring.endDate ? format(formData.recurring.endDate, \"PPP\") : \"End Date\"}\n                            </Button>\n                          </PopoverTrigger>\n                          <PopoverContent className=\"w-auto p-0\">\n                            <Calendar\n                              mode=\"single\"\n                              selected={formData.recurring.endDate}\n                              onSelect={(date) => updateField('recurring', { ...formData.recurring, endDate: date })}\n                              initialFocus\n                            />\n                          </PopoverContent>\n                        </Popover>\n                      </div>\n                    )}\n                  </div>\n                )}\n                \n                {/* Description & Notes */}\n                <Card>\n                  <CardHeader className=\"pb-3\">\n                    {renderSectionHeader('Description & Notes', 'description', true)}\n                  </CardHeader>\n                  {expandedSections.description && (\n                    <CardContent className=\"space-y-4\">\n                      <div className=\"border rounded-lg p-4\">\n                        <Textarea\n                          value={formData.description}\n                          onChange={(e) => updateField('description', e.target.value)}\n                          placeholder=\"Add a detailed description...\"\n                          className=\"min-h-[120px] border-0 resize-none focus-visible:ring-0\"\n                          maxLength={maxDescriptionLength}\n                        />\n                      </div>\n                      \n                      {/* Rich Text Toolbar */}\n                      <div className=\"flex items-center justify-center gap-1 py-2 border-t\">\n                        <Button variant=\"ghost\" size=\"sm\"><Edit className=\"h-4 w-4\" /></Button>\n                        <Button variant=\"ghost\" size=\"sm\"><X className=\"h-4 w-4\" /></Button>\n                        <Separator orientation=\"vertical\" className=\"h-6\" />\n                        <Button variant=\"ghost\" size=\"sm\" className=\"font-bold\">B</Button>\n                        <Button variant=\"ghost\" size=\"sm\" className=\"italic\">I</Button>\n                        <Button variant=\"ghost\" size=\"sm\" className=\"underline\">U</Button>\n                        <Separator orientation=\"vertical\" className=\"h-6\" />\n                        <Button variant=\"ghost\" size=\"sm\">\u2022</Button>\n                        <Button variant=\"ghost\" size=\"sm\">1.</Button>\n                        <Button variant=\"ghost\" size=\"sm\"><Link className=\"h-4 w-4\" /></Button>\n                        <Button variant=\"ghost\" size=\"sm\">@</Button>\n                        <Button variant=\"ghost\" size=\"sm\">\uD83D\uDE0A</Button>\n                        <Badge variant=\"secondary\" className=\"text-xs\">Tag</Badge>\n                      </div>\n                    </CardContent>\n                  )}\n                </Card>\n                \n                {/* Checklist */}\n                <Card>\n                  <CardHeader className=\"pb-3\">\n                    {renderSectionHeader('Checklist', 'checklist', true)}\n                  </CardHeader>\n                  {expandedSections.checklist && (\n                    <CardContent className=\"space-y-4\">\n                      {formData.checklist.map((item, index) => (\n                        <div key={index} className=\"flex items-center gap-3\">\n                          <Checkbox\n                            checked={item.completed}\n                            onCheckedChange={(checked) => \n                              handleUpdateChecklistItem(index, { completed: !!checked })\n                            }\n                          />\n                          <FloatingInput\n                            label=\"Checklist item\"\n                            value={item.text}\n                            onChange={(e) => \n                              handleUpdateChecklistItem(index, { text: e.target.value })\n                            }\n                            className=\"flex-1\"\n                          />\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={() => handleRemoveChecklistItem(index)}\n                            className=\"h-8 w-8 p-0 text-krushr-secondary hover:text-krushr-secondary-600\"\n                          >\n                            <X className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                      ))}\n                      \n                      <div className=\"flex items-center gap-2\">\n                        <FloatingInput\n                          value={newChecklistItem}\n                          onChange={(e) => setNewChecklistItem(e.target.value)}\n                          onKeyPress={(e) => e.key === 'Enter' && handleAddChecklistItem()}\n                          label=\"Add new item...\"\n                          className=\"flex-1\"\n                        />\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={handleAddChecklistItem}\n                        >\n                          <Plus className=\"w-4 h-4\" />\n                        </Button>\n                      </div>\n                    </CardContent>\n                  )}\n                </Card>\n                \n                {/* Files */}\n                {showFileUploads && (\n                  <Card>\n                    <CardHeader className=\"pb-3\">\n                      {renderSectionHeader('Files', 'files', true)}\n                    </CardHeader>\n                    {expandedSections.files && (\n                      <CardContent className=\"space-y-4\">\n                        {/* Existing Files */}\n                        {formData.attachments.map((file, index) => {\n                          const sizeInKB = (file.size / 1024).toFixed(1)\n                          const isImage = file.type?.startsWith('image/')\n                          \n                          return (\n                            <div key={index} className=\"flex items-center gap-3 p-3 border rounded-lg\">\n                              <div className=\"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden\">\n                                {isImage && file.file ? (\n                                  <img \n                                    src={URL.createObjectURL(file.file)} \n                                    alt={file.name}\n                                    className=\"w-full h-full object-cover\"\n                                  />\n                                ) : (\n                                  <Paperclip className=\"w-6 h-6 text-gray-500\" />\n                                )}\n                              </div>\n                              <div className=\"flex-1\">\n                                <div className=\"font-medium truncate\">{file.name}</div>\n                                <div className=\"text-sm text-gray-500\">{sizeInKB} KB</div>\n                              </div>\n                              <div className=\"flex items-center gap-2\">\n                                {file.url && (\n                                  <Button \n                                    variant=\"ghost\" \n                                    size=\"sm\" \n                                    className=\"h-8 w-8 p-0 text-krushr-info hover:text-krushr-info-600\"\n                                    onClick={() => window.open(file.url, '_blank')}\n                                  >\n                                    <Download className=\"h-4 w-4\" />\n                                  </Button>\n                                )}\n                                <Button \n                                  variant=\"ghost\" \n                                  size=\"sm\" \n                                  className=\"h-8 w-8 p-0 text-krushr-secondary hover:text-krushr-secondary-600\"\n                                  onClick={() => handleRemoveFile(index)}\n                                >\n                                  <Trash2 className=\"h-4 w-4\" />\n                                </Button>\n                              </div>\n                            </div>\n                          )\n                        })}\n                        \n                        {/* File Upload Component */}\n                        <FileUpload\n                          onUpload={handleFileUpload}\n                          accept={{\n                            'image/*': ['.jpg', '.jpeg', '.png', '.gif', '.webp'],\n                            'application/pdf': ['.pdf'],\n                            'text/*': ['.txt', '.md'],\n                            'application/msword': ['.doc'],\n                            'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx']\n                          }}\n                          maxSize={10 * 1024 * 1024} // 10MB\n                          maxFiles={5}\n                          className=\"mt-4\"\n                        />\n                      </CardContent>\n                    )}\n                  </Card>\n                )}\n              </div>\n              \n              {/* Right Column - Workflow */}\n              <div className=\"space-y-6\">\n                <Card>\n                  <CardHeader>\n                    <CardTitle>Workflow</CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    {/* Workflow Buttons */}\n                    <div className=\"space-y-3\">\n                      <Button variant=\"outline\" className=\"w-full justify-start\">\n                        <Play className=\"w-4 h-4 mr-2 text-krushr-success\" />\n                        Load Template\n                      </Button>\n                      <Button variant=\"outline\" className=\"w-full justify-start\">\n                        <Wand2 className=\"w-4 h-4 mr-2 text-krushr-secondary\" />\n                        Set As Template\n                      </Button>\n                      <Button variant=\"outline\" className=\"w-full justify-start\">\n                        <Share2 className=\"w-4 h-4 mr-2 text-krushr-info\" />\n                        Share\n                      </Button>\n                      <Button className=\"w-full justify-start bg-krushr-secondary hover:bg-krushr-secondary-600\">\n                        <Plus className=\"w-4 h-4 mr-2\" />\n                        Team\n                      </Button>\n                      <Button className=\"w-full justify-start bg-krushr-primary hover:bg-krushr-primary-700\">\n                        <Plus className=\"w-4 h-4 mr-2\" />\n                        User\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n                \n                {/* Workflow Additions */}\n                {showWorkflowToggles && (\n                  <Card>\n                    <CardHeader>\n                      <CardTitle>Workflow Additions</CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"space-y-4\">\n                      {Object.entries({\n                        'Create video meeting': 'createVideoMeeting',\n                        'Create call': 'createCall',\n                        'Kanban task board': 'kanbanTaskBoard',\n                        'Notes': 'notes',\n                        'Gantt timeline': 'ganttTimeline',\n                        'Gantt Dependency': 'ganttDependency',\n                        'Reminder': 'reminder',\n                        'Notify team': 'notifyTeam',\n                        'Changes notify team': 'changesNotifyTeam'\n                      }).map(([label, key]) => (\n                        <div key={key} className=\"flex items-center justify-between\">\n                          <Label className=\"text-sm\">{label}</Label>\n                          <div className=\"flex items-center gap-2\">\n                            <Switch\n                              checked={formData.workflow[key as keyof WorkflowConfig] as boolean}\n                              onCheckedChange={(checked) => \n                                updateField('workflow', { \n                                  ...formData.workflow, \n                                  [key]: checked \n                                })\n                              }\n                            />\n                            {['kanbanTaskBoard', 'notes', 'ganttTimeline'].includes(key) && (\n                              <Button variant=\"ghost\" size=\"sm\" className=\"h-6 w-6 p-0\">\n                                <ChevronDown className=\"h-4 w-4 text-gray-400\" />\n                              </Button>\n                            )}\n                          </div>\n                        </div>\n                      ))}\n                      \n                      {/* Reminder Options */}\n                      {formData.workflow.reminder && (\n                        <div className=\"pl-6 space-y-2 border-l-2 border-gray-200\">\n                          {formData.workflow.reminders.map((reminder, index) => (\n                            <div key={index} className=\"flex items-center text-gray-700\">\n                              <div className=\"w-2 h-2 rounded-full bg-krushr-warning mr-3\" />\n                              <span className=\"text-sm\">\n                                {reminder.timeBefore === '1d' ? '1 Day Prior' : '1 Hour Prior'}\n                              </span>\n                            </div>\n                          ))}\n                          <div className=\"text-krushr-primary text-lg font-bold cursor-pointer hover:text-krushr-primary-700\">\n                            +\n                          </div>\n                        </div>\n                      )}\n                    </CardContent>\n                  </Card>\n                )}\n                \n                {/* Action Buttons */}\n                <Card>\n                  <CardContent className=\"pt-6 space-y-3\">\n                    <Button \n                      className=\"w-full justify-start bg-krushr-success hover:bg-krushr-success-600\"\n                      onClick={() => {}}\n                    >\n                      <CheckCircle className=\"w-4 h-4 mr-2\" />\n                      Mark As Complete\n                    </Button>\n                    <Button \n                      variant=\"destructive\" \n                      className=\"w-full justify-start\"\n                      onClick={() => {}}\n                    >\n                      <Trash2 className=\"w-4 h-4 mr-2\" />\n                      Delete\n                    </Button>\n                    <Button \n                      className=\"w-full justify-start bg-krushr-primary hover:bg-krushr-primary-700\"\n                      onClick={handleSubmit}\n                      disabled={isLoading || !validation.isValid}\n                    >\n                      <Save className=\"w-4 h-4 mr-2\" />\n                      {isLoading ? 'Saving...' : 'Save Changes'}\n                    </Button>\n                  </CardContent>\n                </Card>\n              </div>\n            </div>\n          </div>\n        </ScrollArea>\n        \n        {/* Footer with validation errors */}\n        {Object.keys(validation.errors).length > 0 && (\n          <div className=\"px-6 py-3 border-t bg-krushr-secondary-50\">\n            <div className=\"text-sm text-krushr-secondary-600\">\n              {Object.values(validation.errors).join(', ')}\n            </div>\n          </div>\n        )}\n      </DialogContent>\n    </Dialog>\n  )\n}", "\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n", "import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n", "import * as React from 'react';\nimport { Primitive } from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n * Label\n * -----------------------------------------------------------------------------------------------*/\n\nconst NAME = 'Label';\n\ntype LabelElement = React.ComponentRef<typeof Primitive.label>;\ntype PrimitiveLabelProps = React.ComponentPropsWithoutRef<typeof Primitive.label>;\ninterface LabelProps extends PrimitiveLabelProps {}\n\nconst Label = React.forwardRef<LabelElement, LabelProps>((props, forwardedRef) => {\n  return (\n    <Primitive.label\n      {...props}\n      ref={forwardedRef}\n      onMouseDown={(event) => {\n        // only prevent text selection if clicking inside the label itself\n        const target = event.target as HTMLElement;\n        if (target.closest('button, input, select, textarea')) return;\n\n        props.onMouseDown?.(event);\n        // prevent text selection when double clicking label\n        if (!event.defaultPrevented && event.detail > 1) event.preventDefault();\n      }}\n    />\n  );\n});\n\nLabel.displayName = NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Label;\n\nexport {\n  Label,\n  //\n  Root,\n};\nexport type { LabelProps };\n", "import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n", "import { addDays } from \"./addDays.mjs\";\n\n/**\n * @name addWeeks\n * @category Week Helpers\n * @summary Add the specified number of weeks to the given date.\n *\n * @description\n * Add the specified number of week to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of weeks to be added.\n *\n * @returns The new date with the weeks added\n *\n * @example\n * // Add 4 weeks to 1 September 2014:\n * const result = addWeeks(new Date(2014, 8, 1), 4)\n * //=> Mon Sep 29 2014 00:00:00\n */\nexport function addWeeks(date, amount) {\n  const days = amount * 7;\n  return addDays(date, days);\n}\n\n// Fallback for modularized imports:\nexport default addWeeks;\n", "import { addMonths } from \"./addMonths.mjs\";\n\n/**\n * @name addYears\n * @category Year Helpers\n * @summary Add the specified number of years to the given date.\n *\n * @description\n * Add the specified number of years to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of years to be added.\n *\n * @returns The new date with the years added\n *\n * @example\n * // Add 5 years to 1 September 2014:\n * const result = addYears(new Date(2014, 8, 1), 5)\n * //=> Sun Sep 01 2019 00:00:00\n */\nexport function addYears(date, amount) {\n  return addMonths(date, amount * 12);\n}\n\n// Fallback for modularized imports:\nexport default addYears;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name max\n * @category Common Helpers\n * @summary Return the latest of the given dates.\n *\n * @description\n * Return the latest of the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dates - The dates to compare\n *\n * @returns The latest of the dates\n *\n * @example\n * // Which of these dates is the latest?\n * const result = max([\n *   new Date(1989, 6, 10),\n *   new Date(1987, 1, 11),\n *   new Date(1995, 6, 2),\n *   new Date(1990, 0, 1)\n * ])\n * //=> Sun Jul 02 1995 00:00:00\n */\nexport function max(dates) {\n  let result;\n  dates.forEach(function (dirtyDate) {\n    const currentDate = toDate(dirtyDate);\n\n    if (\n      result === undefined ||\n      result < currentDate ||\n      isNaN(Number(currentDate))\n    ) {\n      result = currentDate;\n    }\n  });\n\n  return result || new Date(NaN);\n}\n\n// Fallback for modularized imports:\nexport default max;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name min\n * @category Common Helpers\n * @summary Returns the earliest of the given dates.\n *\n * @description\n * Returns the earliest of the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dates - The dates to compare\n *\n * @returns The earliest of the dates\n *\n * @example\n * // Which of these dates is the earliest?\n * const result = min([\n *   new Date(1989, 6, 10),\n *   new Date(1987, 1, 11),\n *   new Date(1995, 6, 2),\n *   new Date(1990, 0, 1)\n * ])\n * //=> Wed Feb 11 1987 00:00:00\n */\nexport function min(dates) {\n  let result;\n\n  dates.forEach((dirtyDate) => {\n    const date = toDate(dirtyDate);\n    if (!result || result > date || isNaN(+date)) {\n      result = date;\n    }\n  });\n\n  return result || new Date(NaN);\n}\n\n// Fallback for modularized imports:\nexport default min;\n", "import { millisecondsInWeek } from \"./constants.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.mjs\";\n\n/**\n * The {@link differenceInCalendarWeeks} function options.\n */\n\n/**\n * @name differenceInCalendarWeeks\n * @category Week Helpers\n * @summary Get the number of calendar weeks between the given dates.\n *\n * @description\n * Get the number of calendar weeks between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n * @param options - An object with options.\n *\n * @returns The number of calendar weeks\n *\n * @example\n * // How many calendar weeks are between 5 July 2014 and 20 July 2014?\n * const result = differenceInCalendarWeeks(\n *   new Date(2014, 6, 20),\n *   new Date(2014, 6, 5)\n * )\n * //=> 3\n *\n * @example\n * // If the week starts on Monday,\n * // how many calendar weeks are between 5 July 2014 and 20 July 2014?\n * const result = differenceInCalendarWeeks(\n *   new Date(2014, 6, 20),\n *   new Date(2014, 6, 5),\n *   { weekStartsOn: 1 }\n * )\n * //=> 2\n */\nexport function differenceInCalendarWeeks(dateLeft, dateRight, options) {\n  const startOfWeekLeft = startOfWeek(dateLeft, options);\n  const startOfWeekRight = startOfWeek(dateRight, options);\n\n  const timestampLeft =\n    +startOfWeekLeft - getTimezoneOffsetInMilliseconds(startOfWeekLeft);\n  const timestampRight =\n    +startOfWeekRight - getTimezoneOffsetInMilliseconds(startOfWeekRight);\n\n  // Round the number of days to the nearest integer because the number of\n  // milliseconds in a days is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round((timestampLeft - timestampRight) / millisecondsInWeek);\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarWeeks;\n", "import { endOfWeek } from \"./endOfWeek.mjs\";\n\n/**\n * @name endOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the end of an ISO week for the given date.\n *\n * @description\n * Return the end of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of an ISO week\n *\n * @example\n * // The end of an ISO week for 2 September 2014 11:55:00:\n * const result = endOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Sep 07 2014 23:59:59.999\n */\nexport function endOfISOWeek(date) {\n  return endOfWeek(date, { weekStartsOn: 1 });\n}\n\n// Fallback for modularized imports:\nexport default endOfISOWeek;\n", "import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name getDaysInMonth\n * @category Month Helpers\n * @summary Get the number of days in a month of the given date.\n *\n * @description\n * Get the number of days in a month of the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The number of days in a month\n *\n * @example\n * // How many days are in February 2000?\n * const result = getDaysInMonth(new Date(2000, 1))\n * //=> 29\n */\nexport function getDaysInMonth(date) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n  const monthIndex = _date.getMonth();\n  const lastDayOfMonth = constructFrom(date, 0);\n  lastDayOfMonth.setFullYear(year, monthIndex + 1, 0);\n  lastDayOfMonth.setHours(0, 0, 0, 0);\n  return lastDayOfMonth.getDate();\n}\n\n// Fallback for modularized imports:\nexport default getDaysInMonth;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getUnixTime\n * @category Timestamp Helpers\n * @summary Get the seconds timestamp of the given date.\n *\n * @description\n * Get the seconds timestamp of the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The timestamp\n *\n * @example\n * // Get the timestamp of 29 February 2012 11:45:05 CET:\n * const result = getUnixTime(new Date(2012, 1, 29, 11, 45, 5))\n * //=> 1330512305\n */\nexport function getUnixTime(date) {\n  return Math.trunc(+toDate(date) / 1000);\n}\n\n// Fallback for modularized imports:\nexport default getUnixTime;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name lastDayOfMonth\n * @category Month Helpers\n * @summary Return the last day of a month for the given date.\n *\n * @description\n * Return the last day of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The last day of a month\n *\n * @example\n * // The last day of a month for 2 September 2014 11:55:00:\n * const result = lastDayOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 00:00:00\n */\nexport function lastDayOfMonth(date) {\n  const _date = toDate(date);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default lastDayOfMonth;\n", "import { differenceInCalendarWeeks } from \"./differenceInCalendarWeeks.mjs\";\nimport { lastDayOfMonth } from \"./lastDayOfMonth.mjs\";\nimport { startOfMonth } from \"./startOfMonth.mjs\";\n\n/**\n * The {@link getWeeksInMonth} function options.\n */\n\n/**\n * @name getWeeksInMonth\n * @category Week Helpers\n * @summary Get the number of calendar weeks a month spans.\n *\n * @description\n * Get the number of calendar weeks the month in the given date spans.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - An object with options.\n *\n * @returns The number of calendar weeks\n *\n * @example\n * // How many calendar weeks does February 2015 span?\n * const result = getWeeksInMonth(new Date(2015, 1, 8))\n * //=> 4\n *\n * @example\n * // If the week starts on Monday,\n * // how many calendar weeks does July 2017 span?\n * const result = getWeeksInMonth(new Date(2017, 6, 5), { weekStartsOn: 1 })\n * //=> 6\n */\nexport function getWeeksInMonth(date, options) {\n  return (\n    differenceInCalendarWeeks(\n      lastDayOfMonth(date),\n      startOfMonth(date),\n      options,\n    ) + 1\n  );\n}\n\n// Fallback for modularized imports:\nexport default getWeeksInMonth;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isAfter\n * @category Common Helpers\n * @summary Is the first date after the second one?\n *\n * @description\n * Is the first date after the second one?\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date that should be after the other one to return true\n * @param dateToCompare - The date to compare with\n *\n * @returns The first date is after the second date\n *\n * @example\n * // Is 10 July 1989 after 11 February 1987?\n * const result = isAfter(new Date(1989, 6, 10), new Date(1987, 1, 11))\n * //=> true\n */\nexport function isAfter(date, dateToCompare) {\n  const _date = toDate(date);\n  const _dateToCompare = toDate(dateToCompare);\n  return _date.getTime() > _dateToCompare.getTime();\n}\n\n// Fallback for modularized imports:\nexport default isAfter;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isBefore\n * @category Common Helpers\n * @summary Is the first date before the second one?\n *\n * @description\n * Is the first date before the second one?\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date that should be before the other one to return true\n * @param dateToCompare - The date to compare with\n *\n * @returns The first date is before the second date\n *\n * @example\n * // Is 10 July 1989 before 11 February 1987?\n * const result = isBefore(new Date(1989, 6, 10), new Date(1987, 1, 11))\n * //=> false\n */\nexport function isBefore(date, dateToCompare) {\n  const _date = toDate(date);\n  const _dateToCompare = toDate(dateToCompare);\n  return +_date < +_dateToCompare;\n}\n\n// Fallback for modularized imports:\nexport default isBefore;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isSameYear\n * @category Year Helpers\n * @summary Are the given dates in the same year?\n *\n * @description\n * Are the given dates in the same year?\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The first date to check\n * @param dateRight - The second date to check\n *\n * @returns The dates are in the same year\n *\n * @example\n * // Are 2 September 2014 and 25 September 2014 in the same year?\n * const result = isSameYear(new Date(2014, 8, 2), new Date(2014, 8, 25))\n * //=> true\n */\nexport function isSameYear(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n  return _dateLeft.getFullYear() === _dateRight.getFullYear();\n}\n\n// Fallback for modularized imports:\nexport default isSameYear;\n", "import { addDays } from \"./addDays.mjs\";\n\n/**\n * @name subDays\n * @category Day Helpers\n * @summary Subtract the specified number of days from the given date.\n *\n * @description\n * Subtract the specified number of days from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be subtracted.\n *\n * @returns The new date with the days subtracted\n *\n * @example\n * // Subtract 10 days from 1 September 2014:\n * const result = subDays(new Date(2014, 8, 1), 10)\n * //=> Fri Aug 22 2014 00:00:00\n */\nexport function subDays(date, amount) {\n  return addDays(date, -amount);\n}\n\n// Fallback for modularized imports:\nexport default subDays;\n", "import { constructFrom } from \"./constructFrom.mjs\";\nimport { getDaysInMonth } from \"./getDaysInMonth.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name setMonth\n * @category Month Helpers\n * @summary Set the month to the given date.\n *\n * @description\n * Set the month to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param month - The month index to set (0-11)\n *\n * @returns The new date with the month set\n *\n * @example\n * // Set February to 1 September 2014:\n * const result = setMonth(new Date(2014, 8, 1), 1)\n * //=> Sat Feb 01 2014 00:00:00\n */\nexport function setMonth(date, month) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n  const day = _date.getDate();\n\n  const dateWithDesiredMonth = constructFrom(date, 0);\n  dateWithDesiredMonth.setFullYear(year, month, 15);\n  dateWithDesiredMonth.setHours(0, 0, 0, 0);\n  const daysInMonth = getDaysInMonth(dateWithDesiredMonth);\n  // Set the last day of the new month\n  // if the original date was the last day of the longer month\n  _date.setMonth(month, Math.min(day, daysInMonth));\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default setMonth;\n", "import { constructFrom } from \"./constructFrom.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name setYear\n * @category Year Helpers\n * @summary Set the year to the given date.\n *\n * @description\n * Set the year to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param year - The year of the new date\n *\n * @returns The new date with the year set\n *\n * @example\n * // Set year 2013 to 1 September 2014:\n * const result = setYear(new Date(2014, 8, 1), 2013)\n * //=> Sun Sep 01 2013 00:00:00\n */\nexport function setYear(date, year) {\n  const _date = toDate(date);\n\n  // Check if date is Invalid Date because Date.prototype.setFullYear ignores the value of Invalid Date\n  if (isNaN(+_date)) {\n    return constructFrom(date, NaN);\n  }\n\n  _date.setFullYear(year);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default setYear;\n", "/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    function next() {\r\n        while (env.stack.length) {\r\n            var rec = env.stack.pop();\r\n            try {\r\n                var result = rec.dispose && rec.dispose.call(rec.value);\r\n                if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n};\r\n", "import { DayPickerProps } from 'DayPicker';\n\nimport { DayPickerContextValue } from 'contexts/DayPicker';\n\nimport { DayPickerBase } from './DayPickerBase';\nimport { SelectMultipleEventHandler } from './EventHandlers';\n\n/** The props for the {@link DayPicker} component when using `mode=\"multiple\"`. */\nexport interface DayPickerMultipleProps extends DayPickerBase {\n  mode: 'multiple';\n  /** The selected days. */\n  selected?: Date[] | undefined;\n  /** Event fired when a days added or removed to the selection. */\n  onSelect?: SelectMultipleEventHandler;\n  /** The minimum amount of days that can be selected. */\n  min?: number;\n  /** The maximum amount of days that can be selected. */\n  max?: number;\n}\n\n/** Returns true when the props are of type {@link DayPickerMultipleProps}. */\nexport function isDayPickerMultiple(\n  props: DayPickerProps | DayPickerContextValue\n): props is DayPickerMultipleProps {\n  return props.mode === 'multiple';\n}\n", "import { DayPickerProps } from 'DayPicker';\n\nimport { DayPickerContextValue } from 'contexts/DayPicker';\n\nimport { DayPickerBase } from './DayPickerBase';\nimport { SelectRangeEventHandler } from './EventHandlers';\nimport { DateRange } from './Matchers';\n\n/** The props for the {@link DayPicker} component when using `mode=\"range\"`. */\nexport interface DayPickerRangeProps extends DayPickerBase {\n  mode: 'range';\n  /** The selected range of days. */\n  selected?: DateRange | undefined;\n  /** Event fired when a range (or a part of the range) is selected. */\n  onSelect?: SelectRangeEventHandler;\n  /** The minimum amount of days that can be selected. */\n  min?: number;\n  /** The maximum amount of days that can be selected. */\n  max?: number;\n}\n\n/** Returns true when the props are of type {@link DayPickerRangeProps}. */\nexport function isDayPickerRange(\n  props: DayPickerProps | DayPickerContextValue\n): props is DayPickerRangeProps {\n  return props.mode === 'range';\n}\n", "import { DayPickerProps } from 'DayPicker';\n\nimport { DayPickerContextValue } from 'contexts/DayPicker';\n\nimport { DayPickerBase } from './DayPickerBase';\nimport { SelectSingleEventHandler } from './EventHandlers';\n\n/** The props for the {@link DayPicker} component when using `mode=\"single\"`. */\nexport interface DayPickerSingleProps extends DayPickerBase {\n  mode: 'single';\n  /** The selected day. */\n  selected?: Date | undefined;\n  /** Event fired when a day is selected. */\n  onSelect?: SelectSingleEventHandler;\n  /** Make the selection required. */\n  required?: boolean;\n}\n\n/** Returns true when the props are of type {@link DayPickerSingleProps}. */\nexport function isDayPickerSingle(\n  props: DayPickerProps | DayPickerContextValue\n): props is DayPickerSingleProps {\n  return props.mode === 'single';\n}\n", "import { ClassNames } from 'types/Styles';\n\n/**\n * The name of the default CSS classes.\n */\nexport const defaultClassNames: Required<ClassNames> = {\n  root: 'rdp',\n  multiple_months: 'rdp-multiple_months',\n  with_weeknumber: 'rdp-with_weeknumber',\n  vhidden: 'rdp-vhidden',\n  button_reset: 'rdp-button_reset',\n  button: 'rdp-button',\n\n  caption: 'rdp-caption',\n\n  caption_start: 'rdp-caption_start',\n  caption_end: 'rdp-caption_end',\n  caption_between: 'rdp-caption_between',\n  caption_label: 'rdp-caption_label',\n\n  caption_dropdowns: 'rdp-caption_dropdowns',\n\n  dropdown: 'rdp-dropdown',\n  dropdown_month: 'rdp-dropdown_month',\n  dropdown_year: 'rdp-dropdown_year',\n  dropdown_icon: 'rdp-dropdown_icon',\n\n  months: 'rdp-months',\n  month: 'rdp-month',\n  table: 'rdp-table',\n  tbody: 'rdp-tbody',\n  tfoot: 'rdp-tfoot',\n\n  head: 'rdp-head',\n  head_row: 'rdp-head_row',\n  head_cell: 'rdp-head_cell',\n\n  nav: 'rdp-nav',\n  nav_button: 'rdp-nav_button',\n  nav_button_previous: 'rdp-nav_button_previous',\n  nav_button_next: 'rdp-nav_button_next',\n\n  nav_icon: 'rdp-nav_icon',\n\n  row: 'rdp-row',\n  weeknumber: 'rdp-weeknumber',\n  cell: 'rdp-cell',\n\n  day: 'rdp-day',\n  day_today: 'rdp-day_today',\n  day_outside: 'rdp-day_outside',\n  day_selected: 'rdp-day_selected',\n  day_disabled: 'rdp-day_disabled',\n  day_hidden: 'rdp-day_hidden',\n  day_range_start: 'rdp-day_range_start',\n  day_range_end: 'rdp-day_range_end',\n  day_range_middle: 'rdp-day_range_middle'\n};\n", "import { format, Locale } from 'date-fns';\n\n/**\n * The default formatter for the caption.\n */\nexport function formatCaption(\n  month: Date,\n  options?: { locale?: Locale }\n): string {\n  return format(month, 'LLLL y', options);\n}\n", "import { format, Locale } from 'date-fns';\n\n/**\n * The default formatter for the Day button.\n */\nexport function formatDay(day: Date, options?: { locale?: Locale }): string {\n  return format(day, 'd', options);\n}\n", "import { format, Locale } from 'date-fns';\n\n/**\n * The default formatter for the Month caption.\n */\nexport function formatMonthCaption(\n  month: Date,\n  options?: { locale?: Locale }\n): string {\n  return format(month, 'LLLL', options);\n}\n", "/**\n * The default formatter for the week number.\n */\nexport function formatWeekNumber(weekNumber: number): string {\n  return `${weekNumber}`;\n}\n", "import { format, Locale } from 'date-fns';\n\n/**\n * The default formatter for the name of the weekday.\n */\nexport function formatWeekdayName(\n  weekday: Date,\n  options?: { locale?: Locale }\n): string {\n  return format(weekday, 'cccccc', options);\n}\n", "import { format, Locale } from 'date-fns';\n\n/**\n * The default formatter for the Year caption.\n */\nexport function formatYearCaption(\n  year: Date,\n  options?: {\n    locale?: Locale;\n  }\n): string {\n  return format(year, 'yyyy', options);\n}\n", "import { format } from 'date-fns';\n\nimport { DayLabel } from 'types/Labels';\n\n/**\n * The default ARIA label for the day button.\n */\nexport const labelDay: DayLabel = (day, activeModifiers, options): string => {\n  return format(day, 'do MMMM (EEEE)', options);\n};\n", "/**\n * The default ARIA label for the WeekNumber element.\n */\nexport const labelMonthDropdown = (): string => {\n  return 'Month: ';\n};\n", "import { NavButtonLabel } from 'types/Labels';\n\n/**\n * The default ARIA label for next month button in navigation\n */\nexport const labelNext: NavButtonLabel = (): string => {\n  return 'Go to next month';\n};\n", "import { NavButtonLabel } from 'types/Labels';\n\n/**\n * The default ARIA label for previous month button in navigation\n */\nexport const labelPrevious: NavButtonLabel = (): string => {\n  return 'Go to previous month';\n};\n", "import { format } from 'date-fns';\n\nimport { WeekdayLabel } from 'types/Labels';\n\n/**\n * The default ARIA label for the Weekday element.\n */\nexport const labelWeekday: WeekdayLabel = (day, options): string => {\n  return format(day, 'cccc', options);\n};\n", "import { WeekNumberLabel } from 'types/Labels';\n\n/**\n * The default ARIA label for the WeekNumber element.\n */\nexport const labelWeekNumber: WeekNumberLabel = (n): string => {\n  return `Week n. ${n}`;\n};\n", "/**\n * The default ARIA label for the WeekNumber element.\n */\nexport const labelYearDropdown = (): string => {\n  return 'Year: ';\n};\n", "import { enUS } from 'date-fns/locale';\n\nimport { CaptionLayout } from 'components/Caption';\nimport { DayPickerContextValue } from 'contexts/DayPicker';\n\nimport { defaultClassNames } from './defaultClassNames';\nimport * as formatters from './formatters';\nimport * as labels from './labels';\n\nexport type DefaultContextProps =\n  | 'captionLayout'\n  | 'classNames'\n  | 'formatters'\n  | 'locale'\n  | 'labels'\n  | 'modifiersClassNames'\n  | 'modifiers'\n  | 'numberOfMonths'\n  | 'styles'\n  | 'today'\n  | 'mode';\n\nexport type DefaultContextValues = Pick<\n  DayPickerContextValue,\n  DefaultContextProps\n>;\n/**\n * Returns the default values to use in the DayPickerContext, in case they are\n * not passed down with the DayPicker initial props.\n */\nexport function getDefaultContextValues(): DefaultContextValues {\n  const captionLayout: CaptionLayout = 'buttons';\n  const classNames = defaultClassNames;\n  const locale = enUS;\n  const modifiersClassNames = {};\n  const modifiers = {};\n  const numberOfMonths = 1;\n  const styles = {};\n  const today = new Date();\n\n  return {\n    captionLayout,\n    classNames,\n    formatters,\n    labels,\n    locale,\n    modifiersClassNames,\n    modifiers,\n    numberOfMonths,\n    styles,\n    today,\n    mode: 'default'\n  };\n}\n", "import { endOfMonth, startOfDay, startOfMonth } from 'date-fns';\n\nimport { DayPickerBase } from 'types/DayPickerBase';\n\n/** Return the `fromDate` and `toDate` prop values values parsing the DayPicker props. */\nexport function parseFromToProps(\n  props: Pick<\n    DayPickerBase,\n    'fromYear' | 'toYear' | 'fromDate' | 'toDate' | 'fromMonth' | 'toMonth'\n  >\n): { fromDate: Date | undefined; toDate: Date | undefined } {\n  const { fromYear, toYear, fromMonth, toMonth } = props;\n  let { fromDate, toDate } = props;\n\n  if (fromMonth) {\n    fromDate = startOfMonth(fromMonth);\n  } else if (fromYear) {\n    fromDate = new Date(fromYear, 0, 1);\n  }\n  if (toMonth) {\n    toDate = endOfMonth(toMonth);\n  } else if (toYear) {\n    toDate = new Date(toYear, 11, 31);\n  }\n\n  return {\n    fromDate: fromDate ? startOfDay(fromDate) : undefined,\n    toDate: toDate ? startOfDay(toDate) : undefined\n  };\n}\n", "import { createContext, ReactNode, useContext } from 'react';\n\nimport { Locale } from 'date-fns';\nimport { DayPickerProps } from 'DayPicker';\n\nimport { CaptionLayout } from 'components/Caption';\nimport { DayPickerBase, DaySelectionMode } from 'types/DayPickerBase';\nimport {\n  DayPickerMultipleProps,\n  isDayPickerMultiple\n} from 'types/DayPickerMultiple';\nimport { DayPickerRangeProps, isDayPickerRange } from 'types/DayPickerRange';\nimport { DayPickerSingleProps, isDayPickerSingle } from 'types/DayPickerSingle';\nimport { Formatters } from 'types/Formatters';\nimport { Labels } from 'types/Labels';\nimport { Matcher } from 'types/Matchers';\nimport { DayModifiers, ModifiersClassNames } from 'types/Modifiers';\nimport { ClassNames, Styles } from 'types/Styles';\n\nimport { getDefaultContextValues } from './defaultContextValues';\nimport { parseFromToProps } from './utils';\n\n/**\n * The value of the {@link DayPickerContext} extends the props from DayPicker\n * with default and cleaned up values.\n */\nexport interface DayPickerContextValue extends DayPickerBase {\n  mode: DaySelectionMode;\n  onSelect?:\n    | DayPickerSingleProps['onSelect']\n    | DayPickerMultipleProps['onSelect']\n    | DayPickerRangeProps['onSelect'];\n  required?: boolean;\n  min?: number;\n  max?: number;\n  selected?: Matcher | Matcher[];\n\n  captionLayout: CaptionLayout;\n  classNames: Required<ClassNames>;\n  formatters: Formatters;\n  labels: Labels;\n  locale: Locale;\n  modifiersClassNames: ModifiersClassNames;\n  modifiers: DayModifiers;\n  numberOfMonths: number;\n  styles: Styles;\n  today: Date;\n}\n\n/**\n * The DayPicker context shares the props passed to DayPicker within internal\n * and custom components. It is used to set the default values and perform\n * one-time calculations required to render the days.\n *\n * Access to this context from the {@link useDayPicker} hook.\n */\nexport const DayPickerContext = createContext<\n  DayPickerContextValue | undefined\n>(undefined);\n\n/** The props for the {@link DayPickerProvider}. */\nexport interface DayPickerProviderProps {\n  /** The initial props from the DayPicker component. */\n  initialProps: DayPickerProps;\n  children?: ReactNode;\n}\n/**\n * The provider for the {@link DayPickerContext}, assigning the defaults from the\n * initial DayPicker props.\n */\nexport function DayPickerProvider(props: DayPickerProviderProps): JSX.Element {\n  const { initialProps } = props;\n\n  const defaultContextValues = getDefaultContextValues();\n\n  const { fromDate, toDate } = parseFromToProps(initialProps);\n\n  let captionLayout =\n    initialProps.captionLayout ?? defaultContextValues.captionLayout;\n  if (captionLayout !== 'buttons' && (!fromDate || !toDate)) {\n    // When no from/to dates are set, the caption is always buttons\n    captionLayout = 'buttons';\n  }\n\n  let onSelect;\n  if (\n    isDayPickerSingle(initialProps) ||\n    isDayPickerMultiple(initialProps) ||\n    isDayPickerRange(initialProps)\n  ) {\n    onSelect = initialProps.onSelect;\n  }\n\n  const value: DayPickerContextValue = {\n    ...defaultContextValues,\n    ...initialProps,\n    captionLayout,\n    classNames: {\n      ...defaultContextValues.classNames,\n      ...initialProps.classNames\n    },\n    components: {\n      ...initialProps.components\n    },\n    formatters: {\n      ...defaultContextValues.formatters,\n      ...initialProps.formatters\n    },\n    fromDate,\n    labels: {\n      ...defaultContextValues.labels,\n      ...initialProps.labels\n    },\n    mode: initialProps.mode || defaultContextValues.mode,\n    modifiers: {\n      ...defaultContextValues.modifiers,\n      ...initialProps.modifiers\n    },\n    modifiersClassNames: {\n      ...defaultContextValues.modifiersClassNames,\n      ...initialProps.modifiersClassNames\n    },\n    onSelect,\n    styles: {\n      ...defaultContextValues.styles,\n      ...initialProps.styles\n    },\n    toDate\n  };\n\n  return (\n    <DayPickerContext.Provider value={value}>\n      {props.children}\n    </DayPickerContext.Provider>\n  );\n}\n\n/**\n * Hook to access the {@link DayPickerContextValue}.\n *\n * Use the DayPicker context to access to the props passed to DayPicker inside\n * internal or custom components.\n */\nexport function useDayPicker(): DayPickerContextValue {\n  const context = useContext(DayPickerContext);\n  if (!context) {\n    throw new Error(`useDayPicker must be used within a DayPickerProvider.`);\n  }\n  return context;\n}\n", "import { useDayPicker } from 'contexts/DayPicker';\n\n/** The props for the {@link CaptionLabel} component. */\nexport interface CaptionLabelProps {\n  /** The ID for the heading element. Must be the same as the labelled-by in Table. */\n  id?: string;\n  /** The month where the caption is displayed. */\n  displayMonth: Date;\n  /** The index of the month where the caption is displayed. Older custom components may miss this prop. */\n  displayIndex?: number | undefined;\n}\n\n/** Render the caption for the displayed month. This component is used when `captionLayout=\"buttons\"`. */\nexport function CaptionLabel(props: CaptionLabelProps): JSX.Element {\n  const {\n    locale,\n    classNames,\n    styles,\n    formatters: { formatCaption }\n  } = useDayPicker();\n  return (\n    <div\n      className={classNames.caption_label}\n      style={styles.caption_label}\n      aria-live=\"polite\"\n      role=\"presentation\"\n      id={props.id}\n    >\n      {formatCaption(props.displayMonth, { locale })}\n    </div>\n  );\n}\n", "import { StyledComponent } from 'types/Styles';\n\n/**\n * Render the icon in the styled drop-down.\n */\nexport function IconDropdown(props: StyledComponent): JSX.Element {\n  return (\n    <svg\n      width=\"8px\"\n      height=\"8px\"\n      viewBox=\"0 0 120 120\"\n      data-testid=\"iconDropdown\"\n      {...props}\n    >\n      <path\n        d=\"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z\"\n        fill=\"currentColor\"\n        fillRule=\"nonzero\"\n      ></path>\n    </svg>\n  );\n}\n", "import {\n  ChangeEventHandler,\n  CSSProperties,\n  ReactNode,\n  SelectHTMLAttributes\n} from 'react';\n\nimport { IconDropdown } from 'components/IconDropdown';\nimport { useDayPicker } from 'contexts/DayPicker';\n\n/** The props for the {@link Dropdown} component. */\nexport interface DropdownProps {\n  /** The name attribute of the element. */\n  name?: string;\n  /** The caption displayed to replace the hidden select. */\n  caption?: ReactNode;\n  children?: SelectHTMLAttributes<HTMLSelectElement>['children'];\n  className?: string;\n  ['aria-label']?: string;\n  style?: CSSProperties;\n  /** The selected value. */\n  value?: string | number;\n  onChange?: ChangeEventHandler<HTMLSelectElement>;\n}\n\n/**\n * Render a styled select component \u2013 displaying a caption and a custom\n * drop-down icon.\n */\nexport function Dropdown(props: DropdownProps): JSX.Element {\n  const { onChange, value, children, caption, className, style } = props;\n  const dayPicker = useDayPicker();\n\n  const IconDropdownComponent =\n    dayPicker.components?.IconDropdown ?? IconDropdown;\n  return (\n    <div className={className} style={style}>\n      <span className={dayPicker.classNames.vhidden}>\n        {props['aria-label']}\n      </span>\n      <select\n        name={props.name}\n        aria-label={props['aria-label']}\n        className={dayPicker.classNames.dropdown}\n        style={dayPicker.styles.dropdown}\n        value={value}\n        onChange={onChange}\n      >\n        {children}\n      </select>\n      <div\n        className={dayPicker.classNames.caption_label}\n        style={dayPicker.styles.caption_label}\n        aria-hidden=\"true\"\n      >\n        {caption}\n        {\n          <IconDropdownComponent\n            className={dayPicker.classNames.dropdown_icon}\n            style={dayPicker.styles.dropdown_icon}\n          />\n        }\n      </div>\n    </div>\n  );\n}\n", "import { ChangeEventHandler } from 'react';\n\nimport { isSameYear, setMonth, startOfMonth } from 'date-fns';\n\nimport { Dropdown } from 'components/Dropdown';\nimport { useDayPicker } from 'contexts/DayPicker';\nimport { MonthChangeEventHandler } from 'types/EventHandlers';\n\n/** The props for the {@link MonthsDropdown} component. */\nexport interface MonthsDropdownProps {\n  /** The month where the dropdown is displayed. */\n  displayMonth: Date;\n  onChange: MonthChangeEventHandler;\n}\n\n/** Render the dropdown to navigate between months. */\nexport function MonthsDropdown(props: MonthsDropdownProps): JSX.Element {\n  const {\n    fromDate,\n    toDate,\n    styles,\n    locale,\n    formatters: { formatMonthCaption },\n    classNames,\n    components,\n    labels: { labelMonthDropdown }\n  } = useDayPicker();\n\n  // Dropdown should appear only when both from/toDate is set\n  if (!fromDate) return <></>;\n  if (!toDate) return <></>;\n\n  const dropdownMonths: Date[] = [];\n\n  if (isSameYear(fromDate, toDate)) {\n    // only display the months included in the range\n    const date = startOfMonth(fromDate);\n    for (let month = fromDate.getMonth(); month <= toDate.getMonth(); month++) {\n      dropdownMonths.push(setMonth(date, month));\n    }\n  } else {\n    // display all the 12 months\n    const date = startOfMonth(new Date()); // Any date should be OK, as we just need the year\n    for (let month = 0; month <= 11; month++) {\n      dropdownMonths.push(setMonth(date, month));\n    }\n  }\n\n  const handleChange: ChangeEventHandler<HTMLSelectElement> = (e) => {\n    const selectedMonth = Number(e.target.value);\n    const newMonth = setMonth(startOfMonth(props.displayMonth), selectedMonth);\n    props.onChange(newMonth);\n  };\n\n  const DropdownComponent = components?.Dropdown ?? Dropdown;\n\n  return (\n    <DropdownComponent\n      name=\"months\"\n      aria-label={labelMonthDropdown()}\n      className={classNames.dropdown_month}\n      style={styles.dropdown_month}\n      onChange={handleChange}\n      value={props.displayMonth.getMonth()}\n      caption={formatMonthCaption(props.displayMonth, { locale })}\n    >\n      {dropdownMonths.map((m) => (\n        <option key={m.getMonth()} value={m.getMonth()}>\n          {formatMonthCaption(m, { locale })}\n        </option>\n      ))}\n    </DropdownComponent>\n  );\n}\n", "import { ChangeEventHandler } from 'react';\n\nimport { setYear, startOfMonth, startOfYear } from 'date-fns';\n\nimport { Dropdown } from 'components/Dropdown';\nimport { useDayPicker } from 'contexts/DayPicker';\nimport { MonthChangeEventHandler } from 'types/EventHandlers';\n\n/**\n * The props for the {@link YearsDropdown} component.\n */\nexport interface YearsDropdownProps {\n  /** The month where the drop-down is displayed. */\n  displayMonth: Date;\n  /** Callback to handle the `change` event. */\n  onChange: MonthChangeEventHandler;\n}\n\n/**\n * Render a dropdown to change the year. Take in account the `nav.fromDate` and\n * `toDate` from context.\n */\nexport function YearsDropdown(props: YearsDropdownProps): JSX.Element {\n  const { displayMonth } = props;\n  const {\n    fromDate,\n    toDate,\n    locale,\n    styles,\n    classNames,\n    components,\n    formatters: { formatYearCaption },\n    labels: { labelYearDropdown }\n  } = useDayPicker();\n\n  const years: Date[] = [];\n\n  // Dropdown should appear only when both from/toDate is set\n  if (!fromDate) return <></>;\n  if (!toDate) return <></>;\n\n  const fromYear = fromDate.getFullYear();\n  const toYear = toDate.getFullYear();\n  for (let year = fromYear; year <= toYear; year++) {\n    years.push(setYear(startOfYear(new Date()), year));\n  }\n\n  const handleChange: ChangeEventHandler<HTMLSelectElement> = (e) => {\n    const newMonth = setYear(\n      startOfMonth(displayMonth),\n      Number(e.target.value)\n    );\n    props.onChange(newMonth);\n  };\n\n  const DropdownComponent = components?.Dropdown ?? Dropdown;\n\n  return (\n    <DropdownComponent\n      name=\"years\"\n      aria-label={labelYearDropdown()}\n      className={classNames.dropdown_year}\n      style={styles.dropdown_year}\n      onChange={handleChange}\n      value={displayMonth.getFullYear()}\n      caption={formatYearCaption(displayMonth, { locale })}\n    >\n      {years.map((year) => (\n        <option key={year.getFullYear()} value={year.getFullYear()}>\n          {formatYearCaption(year, { locale })}\n        </option>\n      ))}\n    </DropdownComponent>\n  );\n}\n", "import { Dispatch, SetStateAction, useState } from 'react';\n\nexport type DispatchStateAction<T> = Dispatch<SetStateAction<T>>;\n\n/**\n * Helper hook for using controlled/uncontrolled values from a component props.\n *\n * When the value is not controlled, pass `undefined` as `controlledValue` and\n * use the returned setter to update it.\n *\n * When the value is controlled, pass the controlled value as second\n * argument, which will be always returned as `value`.\n */\nexport function useControlledValue<T>(\n  defaultValue: T,\n  controlledValue: T | undefined\n): [T, DispatchStateAction<T>] {\n  const [uncontrolledValue, setValue] = useState(defaultValue);\n\n  const value =\n    controlledValue === undefined ? uncontrolledValue : controlledValue;\n\n  return [value, setValue] as [T, DispatchStateAction<T>];\n}\n", "import { addMonths, differenceInCalendarMonths, startOfMonth } from 'date-fns';\n\nimport { DayPickerContextValue } from 'contexts/DayPicker';\n\n/** Return the initial month according to the given options. */\nexport function getInitialMonth(context: Partial<DayPickerContextValue>): Date {\n  const { month, defaultMonth, today } = context;\n  let initialMonth = month || defaultMonth || today || new Date();\n\n  const { toDate, fromDate, numberOfMonths = 1 } = context;\n\n  // Fix the initialMonth if is after the to-date\n  if (toDate && differenceInCalendarMonths(toDate, initialMonth) < 0) {\n    const offset = -1 * (numberOfMonths - 1);\n    initialMonth = addMonths(toDate, offset);\n  }\n  // Fix the initialMonth if is before the from-date\n  if (fromDate && differenceInCalendarMonths(initialMonth, fromDate) < 0) {\n    initialMonth = fromDate;\n  }\n  return startOfMonth(initialMonth);\n}\n", "import { startOfMonth } from 'date-fns';\n\nimport { useDayPicker } from 'contexts/DayPicker';\nimport { useControlledValue } from 'hooks/useControlledValue';\n\nimport { getInitialMonth } from './utils/getInitialMonth';\n\nexport type NavigationState = [\n  /** The month DayPicker is navigating at */\n  month: Date,\n  /** Go to the specified month. */\n  goToMonth: (month: Date) => void\n];\n\n/** Controls the navigation state. */\nexport function useNavigationState(): NavigationState {\n  const context = useDayPicker();\n  const initialMonth = getInitialMonth(context);\n  const [month, setMonth] = useControlledValue(initialMonth, context.month);\n\n  const goToMonth = (date: Date) => {\n    if (context.disableNavigation) return;\n    const month = startOfMonth(date);\n    setMonth(month);\n    context.onMonthChange?.(month);\n  };\n\n  return [month, goToMonth];\n}\n", "import { addMonths, differenceInCalendarMonths, startOfMonth } from 'date-fns';\n\n/**\n * Return the months to display in the component according to the number of\n * months and the from/to date.\n */\nexport function getDisplayMonths(\n  month: Date,\n  {\n    reverseMonths,\n    numberOfMonths\n  }: {\n    reverseMonths?: boolean;\n    numberOfMonths: number;\n  }\n): Date[] {\n  const start = startOfMonth(month);\n  const end = startOfMonth(addMonths(start, numberOfMonths));\n  const monthsDiff = differenceInCalendarMonths(end, start);\n  let months = [];\n\n  for (let i = 0; i < monthsDiff; i++) {\n    const nextMonth = addMonths(start, i);\n    months.push(nextMonth);\n  }\n\n  if (reverseMonths) months = months.reverse();\n  return months;\n}\n", "import { addMonths, differenceInCalendarMonths, startOfMonth } from 'date-fns';\n\n/**\n * Returns the next month the user can navigate to according to the given\n * options.\n *\n * Please note that the next month is not always the next calendar month:\n *\n * - if after the `toDate` range, is undefined;\n * - if the navigation is paged, is the number of months displayed ahead.\n *\n */\nexport function getNextMonth(\n  startingMonth: Date,\n  options: {\n    numberOfMonths?: number;\n    fromDate?: Date;\n    toDate?: Date;\n    pagedNavigation?: boolean;\n    today?: Date;\n    disableNavigation?: boolean;\n  }\n): Date | undefined {\n  if (options.disableNavigation) {\n    return undefined;\n  }\n  const { toDate, pagedNavigation, numberOfMonths = 1 } = options;\n  const offset = pagedNavigation ? numberOfMonths : 1;\n  const month = startOfMonth(startingMonth);\n\n  if (!toDate) {\n    return addMonths(month, offset);\n  }\n\n  const monthsDiff = differenceInCalendarMonths(toDate, startingMonth);\n\n  if (monthsDiff < numberOfMonths) {\n    return undefined;\n  }\n\n  // Jump forward as the number of months when paged navigation\n  return addMonths(month, offset);\n}\n", "import { addMonths, differenceInCalendarMonths, startOfMonth } from 'date-fns';\n\n/**\n * Returns the next previous the user can navigate to, according to the given\n * options.\n *\n * Please note that the previous month is not always the previous calendar\n * month:\n *\n * - if before the `fromDate` date, is `undefined`;\n * - if the navigation is paged, is the number of months displayed before.\n *\n */\nexport function getPreviousMonth(\n  startingMonth: Date,\n  options: {\n    numberOfMonths?: number;\n    fromDate?: Date;\n    toDate?: Date;\n    pagedNavigation?: boolean;\n    today?: Date;\n    disableNavigation?: boolean;\n  }\n): Date | undefined {\n  if (options.disableNavigation) {\n    return undefined;\n  }\n  const { fromDate, pagedNavigation, numberOfMonths = 1 } = options;\n  const offset = pagedNavigation ? numberOfMonths : 1;\n  const month = startOfMonth(startingMonth);\n  if (!fromDate) {\n    return addMonths(month, -offset);\n  }\n  const monthsDiff = differenceInCalendarMonths(month, fromDate);\n\n  if (monthsDiff <= 0) {\n    return undefined;\n  }\n\n  // Jump back as the number of months when paged navigation\n  return addMonths(month, -offset);\n}\n", "import { createContext, ReactNode, useContext } from 'react';\n\nimport { addMonths, isBefore, isSameMonth } from 'date-fns';\n\nimport { useDayPicker } from '../DayPicker';\nimport { useNavigationState } from './useNavigationState';\nimport { getDisplayMonths } from './utils/getDisplayMonths';\nimport { getNextMonth } from './utils/getNextMonth';\nimport { getPreviousMonth } from './utils/getPreviousMonth';\n\n/** Represents the value of the {@link NavigationContext}. */\nexport interface NavigationContextValue {\n  /** The month to display in the calendar. When `numberOfMonths` is greater than one, is the first of the displayed months. */\n  currentMonth: Date;\n  /** The months rendered by DayPicker. DayPicker can render multiple months via `numberOfMonths`. */\n  displayMonths: Date[];\n  /** Navigate to the specified month. */\n  goToMonth: (month: Date) => void;\n  /** Navigate to the specified date. */\n  goToDate: (date: Date, refDate?: Date) => void;\n  /** The next month to display. */\n  nextMonth?: Date;\n  /** The previous month to display. */\n  previousMonth?: Date;\n  /** Whether the given day is included in the displayed months. */\n  isDateDisplayed: (day: Date) => boolean;\n}\n\n/**\n * The Navigation context shares details and methods to navigate the months in DayPicker.\n * Access this context from the {@link useNavigation} hook.\n */\nexport const NavigationContext = createContext<\n  NavigationContextValue | undefined\n>(undefined);\n\n/** Provides the values for the {@link NavigationContext}. */\nexport function NavigationProvider(props: {\n  children?: ReactNode;\n}): JSX.Element {\n  const dayPicker = useDayPicker();\n  const [currentMonth, goToMonth] = useNavigationState();\n\n  const displayMonths = getDisplayMonths(currentMonth, dayPicker);\n  const nextMonth = getNextMonth(currentMonth, dayPicker);\n  const previousMonth = getPreviousMonth(currentMonth, dayPicker);\n\n  const isDateDisplayed = (date: Date) => {\n    return displayMonths.some((displayMonth) =>\n      isSameMonth(date, displayMonth)\n    );\n  };\n\n  const goToDate = (date: Date, refDate?: Date) => {\n    if (isDateDisplayed(date)) {\n      return;\n    }\n\n    if (refDate && isBefore(date, refDate)) {\n      goToMonth(addMonths(date, 1 + dayPicker.numberOfMonths * -1));\n    } else {\n      goToMonth(date);\n    }\n  };\n\n  const value: NavigationContextValue = {\n    currentMonth,\n    displayMonths,\n    goToMonth,\n    goToDate,\n    previousMonth,\n    nextMonth,\n    isDateDisplayed\n  };\n\n  return (\n    <NavigationContext.Provider value={value}>\n      {props.children}\n    </NavigationContext.Provider>\n  );\n}\n\n/**\n * Hook to access the {@link NavigationContextValue}. Use this hook to navigate\n * between months or years in DayPicker.\n *\n * This hook is meant to be used inside internal or custom components.\n */\nexport function useNavigation(): NavigationContextValue {\n  const context = useContext(NavigationContext);\n  if (!context) {\n    throw new Error('useNavigation must be used within a NavigationProvider');\n  }\n  return context;\n}\n", "import { addMonths } from 'date-fns';\n\nimport { CaptionProps } from 'components/Caption/Caption';\nimport { CaptionLabel } from 'components/CaptionLabel';\nimport { MonthsDropdown } from 'components/MonthsDropdown';\nimport { YearsDropdown } from 'components/YearsDropdown';\nimport { useDayPicker } from 'contexts/DayPicker';\nimport { useNavigation } from 'contexts/Navigation';\nimport { MonthChangeEventHandler } from 'types/EventHandlers';\n\n/**\n * Render a caption with the dropdowns to navigate between months and years.\n */\nexport function CaptionDropdowns(props: CaptionProps): JSX.Element {\n  const { classNames, styles, components } = useDayPicker();\n  const { goToMonth } = useNavigation();\n\n  const handleMonthChange: MonthChangeEventHandler = (newMonth) => {\n    goToMonth(\n      addMonths(newMonth, props.displayIndex ? -props.displayIndex : 0)\n    );\n  };\n  const CaptionLabelComponent = components?.CaptionLabel ?? CaptionLabel;\n  const captionLabel = (\n    <CaptionLabelComponent id={props.id} displayMonth={props.displayMonth} />\n  );\n  return (\n    <div\n      className={classNames.caption_dropdowns}\n      style={styles.caption_dropdowns}\n    >\n      {/* Caption label is visually hidden but for a11y. */}\n      <div className={classNames.vhidden}>{captionLabel}</div>\n      <MonthsDropdown\n        onChange={handleMonthChange}\n        displayMonth={props.displayMonth}\n      />\n      <YearsDropdown\n        onChange={handleMonthChange}\n        displayMonth={props.displayMonth}\n      />\n    </div>\n  );\n}\n", "import { StyledComponent } from 'types/Styles';\n\n/**\n * Render the \"previous month\" button in the navigation.\n */\nexport function IconLeft(props: StyledComponent): JSX.Element {\n  return (\n    <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 120 120\" {...props}>\n      <path\n        d=\"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z\"\n        fill=\"currentColor\"\n        fillRule=\"nonzero\"\n      ></path>\n    </svg>\n  );\n}\n", "import { StyledComponent } from 'types/Styles';\n\n/**\n * Render the \"next month\" button in the navigation.\n */\nexport function IconRight(props: StyledComponent): JSX.Element {\n  return (\n    <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 120 120\" {...props}>\n      <path\n        d=\"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z\"\n        fill=\"currentColor\"\n      ></path>\n    </svg>\n  );\n}\n", "import { forwardRef } from 'react';\n\nimport { useDayPicker } from 'contexts/DayPicker';\n\n/** The props for the {@link Button} component. */\nexport type ButtonProps = JSX.IntrinsicElements['button'];\n\n/** Render a button HTML element applying the reset class name. */\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  (props, ref) => {\n    const { classNames, styles } = useDayPicker();\n\n    const classNamesArr = [classNames.button_reset, classNames.button];\n    if (props.className) {\n      classNamesArr.push(props.className);\n    }\n    const className = classNamesArr.join(' ');\n\n    const style = { ...styles.button_reset, ...styles.button };\n    if (props.style) {\n      Object.assign(style, props.style);\n    }\n\n    return (\n      <button\n        {...props}\n        ref={ref}\n        type=\"button\"\n        className={className}\n        style={style}\n      />\n    );\n  }\n);\n", "import { MouseEventHandler } from 'react';\n\nimport { IconLeft } from 'components/IconLeft';\nimport { IconRight } from 'components/IconRight';\nimport { useDayPicker } from 'contexts/DayPicker';\n\nimport { Button } from '../Button';\n\n/** The props for the {@link Navigation} component. */\nexport interface NavigationProps {\n  /** The month where the caption is displayed. */\n  displayMonth: Date;\n  /** The previous month. */\n  previousMonth?: Date;\n  /** The next month. */\n  nextMonth?: Date;\n  /** Hide the previous button. */\n  hidePrevious: boolean;\n  /** Hide the next button. */\n  hideNext: boolean;\n  /** Event handler when the next button is clicked. */\n  onNextClick: MouseEventHandler<HTMLButtonElement>;\n  /** Event handler when the previous button is clicked. */\n  onPreviousClick: MouseEventHandler<HTMLButtonElement>;\n}\n\n/** A component rendering the navigation buttons or the drop-downs. */\nexport function Navigation(props: NavigationProps): JSX.Element {\n  const {\n    dir,\n    locale,\n    classNames,\n    styles,\n    labels: { labelPrevious, labelNext },\n    components\n  } = useDayPicker();\n\n  if (!props.nextMonth && !props.previousMonth) {\n    return <></>;\n  }\n\n  const previousLabel = labelPrevious(props.previousMonth, { locale });\n  const previousClassName = [\n    classNames.nav_button,\n    classNames.nav_button_previous\n  ].join(' ');\n\n  const nextLabel = labelNext(props.nextMonth, { locale });\n  const nextClassName = [\n    classNames.nav_button,\n    classNames.nav_button_next\n  ].join(' ');\n\n  const IconRightComponent = components?.IconRight ?? IconRight;\n  const IconLeftComponent = components?.IconLeft ?? IconLeft;\n  return (\n    <div className={classNames.nav} style={styles.nav}>\n      {!props.hidePrevious && (\n        <Button\n          name=\"previous-month\"\n          aria-label={previousLabel}\n          className={previousClassName}\n          style={styles.nav_button_previous}\n          disabled={!props.previousMonth}\n          onClick={props.onPreviousClick}\n        >\n          {dir === 'rtl' ? (\n            <IconRightComponent\n              className={classNames.nav_icon}\n              style={styles.nav_icon}\n            />\n          ) : (\n            <IconLeftComponent\n              className={classNames.nav_icon}\n              style={styles.nav_icon}\n            />\n          )}\n        </Button>\n      )}\n      {!props.hideNext && (\n        <Button\n          name=\"next-month\"\n          aria-label={nextLabel}\n          className={nextClassName}\n          style={styles.nav_button_next}\n          disabled={!props.nextMonth}\n          onClick={props.onNextClick}\n        >\n          {dir === 'rtl' ? (\n            <IconLeftComponent\n              className={classNames.nav_icon}\n              style={styles.nav_icon}\n            />\n          ) : (\n            <IconRightComponent\n              className={classNames.nav_icon}\n              style={styles.nav_icon}\n            />\n          )}\n        </Button>\n      )}\n    </div>\n  );\n}\n", "import { MouseEventHandler } from 'react';\n\nimport { isSameMonth } from 'date-fns';\n\nimport { CaptionProps } from 'components/Caption/Caption';\nimport { Navigation } from 'components/Navigation';\nimport { useDayPicker } from 'contexts/DayPicker';\nimport { useNavigation } from 'contexts/Navigation';\n\n/**\n * Render a caption with a button-based navigation.\n */\nexport function CaptionNavigation(props: CaptionProps): JSX.Element {\n  const { numberOfMonths } = useDayPicker();\n  const { previousMonth, nextMonth, goToMonth, displayMonths } =\n    useNavigation();\n\n  const displayIndex = displayMonths.findIndex((month) =>\n    isSameMonth(props.displayMonth, month)\n  );\n\n  const isFirst = displayIndex === 0;\n  const isLast = displayIndex === displayMonths.length - 1;\n\n  const hideNext = numberOfMonths > 1 && (isFirst || !isLast);\n  const hidePrevious = numberOfMonths > 1 && (isLast || !isFirst);\n\n  const handlePreviousClick: MouseEventHandler = () => {\n    if (!previousMonth) return;\n    goToMonth(previousMonth);\n  };\n\n  const handleNextClick: MouseEventHandler = () => {\n    if (!nextMonth) return;\n    goToMonth(nextMonth);\n  };\n\n  return (\n    <Navigation\n      displayMonth={props.displayMonth}\n      hideNext={hideNext}\n      hidePrevious={hidePrevious}\n      nextMonth={nextMonth}\n      previousMonth={previousMonth}\n      onPreviousClick={handlePreviousClick}\n      onNextClick={handleNextClick}\n    />\n  );\n}\n", "import { CaptionDropdowns } from 'components/CaptionDropdowns';\nimport { CaptionLabel } from 'components/CaptionLabel';\nimport { CaptionNavigation } from 'components/CaptionNavigation';\nimport { useDayPicker } from 'contexts/DayPicker';\n\n/** Represent the props of the {@link Caption} component. */\nexport interface CaptionProps {\n  /** The ID for the heading element. Must be the same as the labelled-by in Table. */\n  id?: string;\n  /** The month where the caption is displayed. */\n  displayMonth: Date;\n  /** The index of the month where the caption is displayed. Older custom components may miss this prop. */\n  displayIndex?: number | undefined;\n}\n\n/**\n * The layout of the caption:\n *\n * - `dropdown`: display dropdowns for choosing the month and the year.\n * - `buttons`: display previous month / next month buttons.\n * - `dropdown-buttons`: display both month / year dropdowns and previous month / next month buttons.\n */\nexport type CaptionLayout = 'dropdown' | 'buttons' | 'dropdown-buttons';\n\n/**\n * Render the caption of a month. The caption has a different layout when\n * setting the {@link DayPickerBase.captionLayout} prop.\n */\nexport function Caption(props: CaptionProps): JSX.Element {\n  const { classNames, disableNavigation, styles, captionLayout, components } =\n    useDayPicker();\n\n  const CaptionLabelComponent = components?.CaptionLabel ?? CaptionLabel;\n\n  let caption: JSX.Element;\n  if (disableNavigation) {\n    caption = (\n      <CaptionLabelComponent id={props.id} displayMonth={props.displayMonth} />\n    );\n  } else if (captionLayout === 'dropdown') {\n    caption = (\n      <CaptionDropdowns displayMonth={props.displayMonth} id={props.id} />\n    );\n  } else if (captionLayout === 'dropdown-buttons') {\n    caption = (\n      <>\n        <CaptionDropdowns\n          displayMonth={props.displayMonth}\n          displayIndex={props.displayIndex}\n          id={props.id}\n        />\n        <CaptionNavigation\n          displayMonth={props.displayMonth}\n          displayIndex={props.displayIndex}\n          id={props.id}\n        />\n      </>\n    );\n  } else {\n    caption = (\n      <>\n        <CaptionLabelComponent\n          id={props.id}\n          displayMonth={props.displayMonth}\n          displayIndex={props.displayIndex}\n        />\n        <CaptionNavigation displayMonth={props.displayMonth} id={props.id} />\n      </>\n    );\n  }\n\n  return (\n    <div className={classNames.caption} style={styles.caption}>\n      {caption}\n    </div>\n  );\n}\n", "import { useDayPicker } from 'contexts/DayPicker';\n\nexport interface FooterProps {\n  /** The month where the footer is displayed. */\n  displayMonth?: Date;\n}\n/** Render the Footer component (empty as default).*/\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport function Footer(props: FooterProps): JSX.Element {\n  const {\n    footer,\n    styles,\n    classNames: { tfoot }\n  } = useDayPicker();\n  if (!footer) return <></>;\n  return (\n    <tfoot className={tfoot} style={styles.tfoot}>\n      <tr>\n        <td colSpan={8}>{footer}</td>\n      </tr>\n    </tfoot>\n  );\n}\n", "import { addDays, Locale, startOfISOWeek, startOfWeek } from 'date-fns';\n\n/**\n * Generate a series of 7 days, starting from the week, to use for formatting\n * the weekday names (Monday, Tuesday, etc.).\n */\nexport function getWeekdays(\n  locale?: Locale,\n  /** The index of the first day of the week (0 - Sunday). */\n  weekStartsOn?: 0 | 1 | 2 | 3 | 4 | 5 | 6,\n  /** Use ISOWeek instead of locale/ */\n  ISOWeek?: boolean\n): Date[] {\n  const start = ISOWeek\n    ? startOfISOWeek(new Date())\n    : startOfWeek(new Date(), { locale, weekStartsOn });\n\n  const days = [];\n  for (let i = 0; i < 7; i++) {\n    const day = addDays(start, i);\n    days.push(day);\n  }\n  return days;\n}\n", "import { useDayPicker } from 'contexts/DayPicker';\n\nimport { getWeekdays } from './utils';\n\n/**\n * Render the HeadRow component - i.e. the table head row with the weekday names.\n */\nexport function HeadRow(): JSX.Element {\n  const {\n    classNames,\n    styles,\n    showWeekNumber,\n    locale,\n    weekStartsOn,\n    ISOWeek,\n    formatters: { formatWeekdayName },\n    labels: { labelWeekday }\n  } = useDayPicker();\n\n  const weekdays = getWeekdays(locale, weekStartsOn, ISOWeek);\n\n  return (\n    <tr style={styles.head_row} className={classNames.head_row}>\n      {showWeekNumber && (\n        <td style={styles.head_cell} className={classNames.head_cell}></td>\n      )}\n      {weekdays.map((weekday, i) => (\n        <th\n          key={i}\n          scope=\"col\"\n          className={classNames.head_cell}\n          style={styles.head_cell}\n          aria-label={labelWeekday(weekday, { locale })}\n        >\n          {formatWeekdayName(weekday, { locale })}\n        </th>\n      ))}\n    </tr>\n  );\n}\n", "import { HeadRow } from 'components/HeadRow';\nimport { useDayPicker } from 'contexts/DayPicker';\n\n/** Render the table head. */\nexport function Head(): JSX.Element {\n  const { classNames, styles, components } = useDayPicker();\n  const HeadRowComponent = components?.HeadRow ?? HeadRow;\n  return (\n    <thead style={styles.head} className={classNames.head}>\n      <HeadRowComponent />\n    </thead>\n  );\n}\n", "import { useDayPicker } from 'contexts/DayPicker';\nimport { ActiveModifiers } from 'types/Modifiers';\n\n/** Represent the props for the {@link DayContent} component. */\nexport interface DayContentProps {\n  /** The date representing the day. */\n  date: Date;\n  /** The month where the day is displayed. */\n  displayMonth: Date;\n  /** The active modifiers for the given date. */\n  activeModifiers: ActiveModifiers;\n}\n\n/** Render the content of the day cell. */\nexport function DayContent(props: DayContentProps): JSX.Element {\n  const {\n    locale,\n    formatters: { formatDay }\n  } = useDayPicker();\n\n  return <>{formatDay(props.date, { locale })}</>;\n}\n", "import { createContext, ReactNode, useContext } from 'react';\n\nimport { isSameDay } from 'date-fns';\n\nimport { DayPickerBase } from 'types/DayPickerBase';\nimport {\n  DayPickerMultipleProps,\n  isDayPickerMultiple\n} from 'types/DayPickerMultiple';\nimport { DayClickEventHandler } from 'types/EventHandlers';\nimport { InternalModifier, Modifiers } from 'types/Modifiers';\n\n/** Represent the modifiers that are changed by the multiple selection. */\nexport type SelectMultipleModifiers = Pick<\n  Modifiers,\n  InternalModifier.Disabled\n>;\n\n/** Represents the value of a {@link SelectMultipleContext}. */\nexport interface SelectMultipleContextValue {\n  /** The days that have been selected. */\n  selected: Date[] | undefined;\n  /** The modifiers for the corresponding selection. */\n  modifiers: SelectMultipleModifiers;\n  /** Event handler to attach to the day button to enable the multiple select. */\n  onDayClick?: DayClickEventHandler;\n}\n\n/**\n * The SelectMultiple context shares details about the selected days when in\n * multiple selection mode.\n *\n * Access this context from the {@link useSelectMultiple} hook.\n */\nexport const SelectMultipleContext = createContext<\n  SelectMultipleContextValue | undefined\n>(undefined);\n\nexport type SelectMultipleProviderProps = {\n  initialProps: DayPickerBase;\n  children?: ReactNode;\n};\n\n/** Provides the values for the {@link SelectMultipleContext}. */\nexport function SelectMultipleProvider(\n  props: SelectMultipleProviderProps\n): JSX.Element {\n  if (!isDayPickerMultiple(props.initialProps)) {\n    const emptyContextValue: SelectMultipleContextValue = {\n      selected: undefined,\n      modifiers: {\n        disabled: []\n      }\n    };\n    return (\n      <SelectMultipleContext.Provider value={emptyContextValue}>\n        {props.children}\n      </SelectMultipleContext.Provider>\n    );\n  }\n  return (\n    <SelectMultipleProviderInternal\n      initialProps={props.initialProps}\n      children={props.children}\n    />\n  );\n}\n\n/** @private */\nexport interface SelectMultipleProviderInternalProps {\n  initialProps: DayPickerMultipleProps;\n  children?: ReactNode;\n}\n\nexport function SelectMultipleProviderInternal({\n  initialProps,\n  children\n}: SelectMultipleProviderInternalProps): JSX.Element {\n  const { selected, min, max } = initialProps;\n\n  const onDayClick: DayClickEventHandler = (day, activeModifiers, e) => {\n    initialProps.onDayClick?.(day, activeModifiers, e);\n\n    const isMinSelected = Boolean(\n      activeModifiers.selected && min && selected?.length === min\n    );\n    if (isMinSelected) {\n      return;\n    }\n\n    const isMaxSelected = Boolean(\n      !activeModifiers.selected && max && selected?.length === max\n    );\n    if (isMaxSelected) {\n      return;\n    }\n\n    const selectedDays = selected ? [...selected] : [];\n\n    if (activeModifiers.selected) {\n      const index = selectedDays.findIndex((selectedDay) =>\n        isSameDay(day, selectedDay)\n      );\n      selectedDays.splice(index, 1);\n    } else {\n      selectedDays.push(day);\n    }\n    initialProps.onSelect?.(selectedDays, day, activeModifiers, e);\n  };\n\n  const modifiers: SelectMultipleModifiers = {\n    disabled: []\n  };\n\n  if (selected) {\n    modifiers.disabled.push((day: Date) => {\n      const isMaxSelected = max && selected.length > max - 1;\n      const isSelected = selected.some((selectedDay) =>\n        isSameDay(selectedDay, day)\n      );\n      return Boolean(isMaxSelected && !isSelected);\n    });\n  }\n\n  const contextValue = {\n    selected,\n    onDayClick,\n    modifiers\n  };\n\n  return (\n    <SelectMultipleContext.Provider value={contextValue}>\n      {children}\n    </SelectMultipleContext.Provider>\n  );\n}\n\n/**\n * Hook to access the {@link SelectMultipleContextValue}.\n *\n * This hook is meant to be used inside internal or custom components.\n */\nexport function useSelectMultiple(): SelectMultipleContextValue {\n  const context = useContext(SelectMultipleContext);\n  if (!context) {\n    throw new Error(\n      'useSelectMultiple must be used within a SelectMultipleProvider'\n    );\n  }\n  return context;\n}\n", "import { isAfter, isBefore, isSameDay } from 'date-fns';\n\nimport { DateRange } from 'types/Matchers';\n\n/**\n * Add a day to an existing range.\n *\n * The returned range takes in account the `undefined` values and if the added\n * day is already present in the range.\n */\nexport function addToRange(\n  day: Date,\n  range?: DateRange\n): DateRange | undefined {\n  const { from, to } = range || {};\n  if (from && to) {\n    if (isSameDay(to, day) && isSameDay(from, day)) {\n      return undefined;\n    }\n    if (isSameDay(to, day)) {\n      return { from: to, to: undefined };\n    }\n    if (isSameDay(from, day)) {\n      return undefined;\n    }\n    if (isAfter(from, day)) {\n      return { from: day, to };\n    }\n    return { from, to: day };\n  }\n  if (to) {\n    if (isAfter(day, to)) {\n      return { from: to, to: day };\n    }\n    return { from: day, to };\n  }\n  if (from) {\n    if (isBefore(day, from)) {\n      return { from: day, to: from };\n    }\n    return { from, to: day };\n  }\n  return { from: day, to: undefined };\n}\n", "import { createContext, ReactNode, useContext } from 'react';\n\nimport {\n  addDays,\n  differenceInCalendarDays,\n  isSameDay,\n  subDays\n} from 'date-fns';\n\nimport { DayPickerBase } from 'types/DayPickerBase';\nimport { DayPickerRangeProps, isDayPickerRange } from 'types/DayPickerRange';\nimport { DayClickEventHandler } from 'types/EventHandlers';\nimport { DateRange } from 'types/Matchers';\nimport { InternalModifier, Modifiers } from 'types/Modifiers';\n\nimport { addToRange } from './utils/addToRange';\n\n/** Represent the modifiers that are changed by the range selection. */\nexport type SelectRangeModifiers = Pick<\n  Modifiers,\n  | InternalModifier.Disabled\n  | InternalModifier.RangeEnd\n  | InternalModifier.RangeMiddle\n  | InternalModifier.RangeStart\n>;\n\n/** Represents the value of a {@link SelectRangeContext}. */\nexport interface SelectRangeContextValue {\n  /** The range of days that has been selected. */\n  selected: DateRange | undefined;\n  /** The modifiers for the corresponding selection. */\n  modifiers: SelectRangeModifiers;\n  /** Event handler to attach to the day button to enable the range select. */\n  onDayClick?: DayClickEventHandler;\n}\n\n/**\n * The SelectRange context shares details about the selected days when in\n * range selection mode.\n *\n * Access this context from the {@link useSelectRange} hook.\n */\nexport const SelectRangeContext = createContext<\n  SelectRangeContextValue | undefined\n>(undefined);\n\nexport interface SelectRangeProviderProps {\n  initialProps: DayPickerBase;\n  children?: ReactNode;\n}\n\n/** Provides the values for the {@link SelectRangeProvider}. */\nexport function SelectRangeProvider(\n  props: SelectRangeProviderProps\n): JSX.Element {\n  if (!isDayPickerRange(props.initialProps)) {\n    const emptyContextValue: SelectRangeContextValue = {\n      selected: undefined,\n      modifiers: {\n        range_start: [],\n        range_end: [],\n        range_middle: [],\n        disabled: []\n      }\n    };\n    return (\n      <SelectRangeContext.Provider value={emptyContextValue}>\n        {props.children}\n      </SelectRangeContext.Provider>\n    );\n  }\n  return (\n    <SelectRangeProviderInternal\n      initialProps={props.initialProps}\n      children={props.children}\n    />\n  );\n}\n\n/** @private */\nexport interface SelectRangeProviderInternalProps {\n  initialProps: DayPickerRangeProps;\n  children?: ReactNode;\n}\n\nexport function SelectRangeProviderInternal({\n  initialProps,\n  children\n}: SelectRangeProviderInternalProps): JSX.Element {\n  const { selected } = initialProps;\n  const { from: selectedFrom, to: selectedTo } = selected || {};\n  const min = initialProps.min;\n  const max = initialProps.max;\n\n  const onDayClick: DayClickEventHandler = (day, activeModifiers, e) => {\n    initialProps.onDayClick?.(day, activeModifiers, e);\n    const newRange = addToRange(day, selected);\n    initialProps.onSelect?.(newRange, day, activeModifiers, e);\n  };\n\n  const modifiers: SelectRangeModifiers = {\n    range_start: [],\n    range_end: [],\n    range_middle: [],\n    disabled: []\n  };\n\n  if (selectedFrom) {\n    modifiers.range_start = [selectedFrom];\n    if (!selectedTo) {\n      modifiers.range_end = [selectedFrom];\n    } else {\n      modifiers.range_end = [selectedTo];\n      if (!isSameDay(selectedFrom, selectedTo)) {\n        modifiers.range_middle = [\n          {\n            after: selectedFrom,\n            before: selectedTo\n          }\n        ];\n      }\n    }\n  } else if (selectedTo) {\n    modifiers.range_start = [selectedTo];\n    modifiers.range_end = [selectedTo];\n  }\n\n  if (min) {\n    if (selectedFrom && !selectedTo) {\n      modifiers.disabled.push({\n        after: subDays(selectedFrom, min - 1),\n        before: addDays(selectedFrom, min - 1)\n      });\n    }\n    if (selectedFrom && selectedTo) {\n      modifiers.disabled.push({\n        after: selectedFrom,\n        before: addDays(selectedFrom, min - 1)\n      });\n    }\n    if (!selectedFrom && selectedTo) {\n      modifiers.disabled.push({\n        after: subDays(selectedTo, min - 1),\n        before: addDays(selectedTo, min - 1)\n      });\n    }\n  }\n  if (max) {\n    if (selectedFrom && !selectedTo) {\n      modifiers.disabled.push({\n        before: addDays(selectedFrom, -max + 1)\n      });\n      modifiers.disabled.push({\n        after: addDays(selectedFrom, max - 1)\n      });\n    }\n    if (selectedFrom && selectedTo) {\n      const selectedCount =\n        differenceInCalendarDays(selectedTo, selectedFrom) + 1;\n      const offset = max - selectedCount;\n      modifiers.disabled.push({\n        before: subDays(selectedFrom, offset)\n      });\n      modifiers.disabled.push({\n        after: addDays(selectedTo, offset)\n      });\n    }\n    if (!selectedFrom && selectedTo) {\n      modifiers.disabled.push({\n        before: addDays(selectedTo, -max + 1)\n      });\n      modifiers.disabled.push({\n        after: addDays(selectedTo, max - 1)\n      });\n    }\n  }\n\n  return (\n    <SelectRangeContext.Provider value={{ selected, onDayClick, modifiers }}>\n      {children}\n    </SelectRangeContext.Provider>\n  );\n}\n\n/**\n * Hook to access the {@link SelectRangeContextValue}.\n *\n * This hook is meant to be used inside internal or custom components.\n */\nexport function useSelectRange(): SelectRangeContextValue {\n  const context = useContext(SelectRangeContext);\n  if (!context) {\n    throw new Error('useSelectRange must be used within a SelectRangeProvider');\n  }\n  return context;\n}\n", "import { Matcher } from 'types/Matchers';\n\n/** Normalize to array a matcher input. */\nexport function matcherToArray(\n  matcher: Matcher | Matcher[] | undefined\n): Matcher[] {\n  if (Array.isArray(matcher)) {\n    return [...matcher];\n  } else if (matcher !== undefined) {\n    return [matcher];\n  } else {\n    return [];\n  }\n}\n", "import { CustomModifiers, DayModifiers } from 'types/Modifiers';\n\nimport { matcherToArray } from './matcherToArray';\n\n/** Create CustomModifiers from dayModifiers */\nexport function getCustomModifiers(\n  dayModifiers: DayModifiers\n): CustomModifiers {\n  const customModifiers: CustomModifiers = {};\n  Object.entries(dayModifiers).forEach(([modifier, matcher]) => {\n    customModifiers[modifier] = matcherToArray(matcher);\n  });\n  return customModifiers;\n}\n", "import { CSSProperties } from 'react';\n\nimport { Matcher } from './Matchers';\n\n/** A _modifier_ represents different styles or states of a day displayed in the calendar. */\nexport type Modifier = string;\n\n/** The modifiers used by DayPicker. */\nexport type Modifiers = CustomModifiers & InternalModifiers;\n\n/** The name of the modifiers that are used internally by DayPicker. */\nexport enum InternalModifier {\n  Outside = 'outside',\n  /** Name of the modifier applied to the disabled days, using the `disabled` prop. */\n  Disabled = 'disabled',\n  /** Name of the modifier applied to the selected days using the `selected` prop). */\n  Selected = 'selected',\n  /** Name of the modifier applied to the hidden days using the `hidden` prop). */\n  Hidden = 'hidden',\n  /** Name of the modifier applied to the day specified using the `today` prop). */\n  Today = 'today',\n  /** The modifier applied to the day starting a selected range, when in range selection mode.  */\n  RangeStart = 'range_start',\n  /** The modifier applied to the day ending a selected range, when in range selection mode.  */\n  RangeEnd = 'range_end',\n  /** The modifier applied to the days between the start and the end of a selected range, when in range selection mode.  */\n  RangeMiddle = 'range_middle'\n}\n\n/** Map of matchers used for the internal modifiers. */\nexport type InternalModifiers = Record<InternalModifier, Matcher[]>;\n\n/**\n * The modifiers that are matching a day in the calendar. Use the {@link useActiveModifiers} hook to get the modifiers for a day.\n *\n * ```\n * const activeModifiers: ActiveModifiers = {\n *  selected: true,\n *  customModifier: true\n * }\n * ```\n *\n * */\nexport type ActiveModifiers = Record<Modifier, true> &\n  Partial<Record<InternalModifier, true>>;\n\n/** The style to apply to each day element matching a modifier. */\nexport type ModifiersStyles = Record<Modifier, CSSProperties> &\n  Partial<Record<InternalModifier, CSSProperties>>;\n\n/** The classnames to assign to each day element matching a modifier. */\nexport type ModifiersClassNames = Record<Modifier, string> &\n  Partial<Record<InternalModifier, string>>;\n\n/** The custom modifiers passed to the {@link DayPickerBase.modifiers}. */\nexport type DayModifiers = Record<Modifier, Matcher | Matcher[]>;\n\n/**\n * A map of matchers used as custom modifiers by DayPicker component. This is\n * the same as {@link DayModifiers]], but it accepts only array of [[Matcher}s.\n */\nexport type CustomModifiers = Record<Modifier, Matcher[]>;\n", "import { DayPickerContextValue } from 'contexts/DayPicker';\nimport { SelectMultipleContextValue } from 'contexts/SelectMultiple';\nimport { SelectRangeContextValue } from 'contexts/SelectRange';\nimport { isDayPickerMultiple } from 'types/DayPickerMultiple';\nimport { isDayPickerRange } from 'types/DayPickerRange';\nimport { InternalModifier, InternalModifiers } from 'types/Modifiers';\n\nimport { matcherToArray } from './matcherToArray';\n\nconst {\n  Selected,\n  Disabled,\n  Hidden,\n  Today,\n  RangeEnd,\n  RangeMiddle,\n  RangeStart,\n  Outside\n} = InternalModifier;\n\n/** Return the {@link InternalModifiers} from the DayPicker and select contexts. */\nexport function getInternalModifiers(\n  dayPicker: DayPickerContextValue,\n  selectMultiple: SelectMultipleContextValue,\n  selectRange: SelectRangeContextValue\n) {\n  const internalModifiers: InternalModifiers = {\n    [Selected]: matcherToArray(dayPicker.selected),\n    [Disabled]: matcherToArray(dayPicker.disabled),\n    [Hidden]: matcherToArray(dayPicker.hidden),\n    [Today]: [dayPicker.today],\n    [RangeEnd]: [],\n    [RangeMiddle]: [],\n    [RangeStart]: [],\n    [Outside]: []\n  };\n\n  if (dayPicker.fromDate) {\n    internalModifiers[Disabled].push({ before: dayPicker.fromDate });\n  }\n  if (dayPicker.toDate) {\n    internalModifiers[Disabled].push({ after: dayPicker.toDate });\n  }\n\n  if (isDayPickerMultiple(dayPicker)) {\n    internalModifiers[Disabled] = internalModifiers[Disabled].concat(\n      selectMultiple.modifiers[Disabled]\n    );\n  } else if (isDayPickerRange(dayPicker)) {\n    internalModifiers[Disabled] = internalModifiers[Disabled].concat(\n      selectRange.modifiers[Disabled]\n    );\n    internalModifiers[RangeStart] = selectRange.modifiers[RangeStart];\n    internalModifiers[RangeMiddle] = selectRange.modifiers[RangeMiddle];\n    internalModifiers[RangeEnd] = selectRange.modifiers[RangeEnd];\n  }\n  return internalModifiers;\n}\n", "import { createContext, useContext, ReactNode } from 'react';\n\nimport { useDayPicker } from 'contexts/DayPicker';\nimport { useSelectMultiple } from 'contexts/SelectMultiple';\nimport { useSelectRange } from 'contexts/SelectRange';\nimport { CustomModifiers, InternalModifiers, Modifiers } from 'types/Modifiers';\n\nimport { getCustomModifiers } from './utils/getCustomModifiers';\nimport { getInternalModifiers } from './utils/getInternalModifiers';\n\n/** The Modifiers context store the modifiers used in DayPicker. To access the value of this context, use {@link useModifiers}. */\nexport const ModifiersContext = createContext<Modifiers | undefined>(undefined);\n\nexport type ModifiersProviderProps = { children: ReactNode };\n\n/** Provide the value for the {@link ModifiersContext}. */\nexport function ModifiersProvider(props: ModifiersProviderProps): JSX.Element {\n  const dayPicker = useDayPicker();\n  const selectMultiple = useSelectMultiple();\n  const selectRange = useSelectRange();\n\n  const internalModifiers: InternalModifiers = getInternalModifiers(\n    dayPicker,\n    selectMultiple,\n    selectRange\n  );\n\n  const customModifiers: CustomModifiers = getCustomModifiers(\n    dayPicker.modifiers\n  );\n\n  const modifiers: Modifiers = {\n    ...internalModifiers,\n    ...customModifiers\n  };\n\n  return (\n    <ModifiersContext.Provider value={modifiers}>\n      {props.children}\n    </ModifiersContext.Provider>\n  );\n}\n\n/**\n * Return the modifiers used by DayPicker.\n *\n * This hook is meant to be used inside internal or custom components.\n * Requires to be wrapped into {@link ModifiersProvider}.\n *\n */\nexport function useModifiers(): Modifiers {\n  const context = useContext(ModifiersContext);\n  if (!context) {\n    throw new Error('useModifiers must be used within a ModifiersProvider');\n  }\n  return context;\n}\n", "/**\n * A value or a function that matches a specific day.\n *\n *\n * Matchers are passed to DayPicker via {@link DayPickerBase.disabled},\n * {@link DayPickerBase.hidden]] or [[DayPickerProps.selected} and are used to\n * determine if a day should get a {@link Modifier}.\n *\n * Matchers can be of different types:\n *\n * ```\n * // will always match the day\n * const booleanMatcher: Matcher = true;\n *\n *  // will match the today's date\n * const dateMatcher: Matcher = new Date();\n *\n * // will match the days in the array\n * const arrayMatcher: Matcher = [new Date(2019, 1, 2), new Date(2019, 1, 4)];\n *\n * // will match days after the 2nd of February 2019\n * const afterMatcher: DateAfter = { after: new Date(2019, 1, 2) };\n *  // will match days before the 2nd of February 2019 }\n * const beforeMatcher: DateBefore = { before: new Date(2019, 1, 2) };\n *\n * // will match Sundays\n * const dayOfWeekMatcher: DayOfWeek = {\n *  dayOfWeek: 0\n * };\n *\n * // will match the included days, except the two dates\n * const intervalMatcher: DateInterval = {\n *    after: new Date(2019, 1, 2),\n *    before: new Date(2019, 1, 5)\n * };\n *\n * // will match the included days, including the two dates\n * const rangeMatcher: DateRange = {\n *    from: new Date(2019, 1, 2),\n *    to: new Date(2019, 1, 5)\n * };\n *\n * // will match when the function return true\n * const functionMatcher: Matcher = (day: Date) => {\n *  return day.getMonth() === 2 // match when month is March\n * };\n * ```\n *\n * @see {@link isMatch}\n *\n * */\nexport type Matcher =\n  | boolean\n  | ((date: Date) => boolean)\n  | Date\n  | Date[]\n  | DateRange\n  | DateBefore\n  | DateAfter\n  | DateInterval\n  | DayOfWeek;\n\n/** A matcher to match a day falling after the specified date, with the date not included. */\nexport type DateAfter = { after: Date };\n\n/** A matcher to match a day falling before the specified date, with the date not included. */\nexport type DateBefore = { before: Date };\n\n/** A matcher to match a day falling before and/or after two dates, where the dates are not included. */\nexport type DateInterval = { before: Date; after: Date };\n\n/** A matcher to match a range of dates. The range can be open. Differently from {@link DateInterval}, the dates here are included. */\nexport type DateRange = { from: Date | undefined; to?: Date | undefined };\n\n/** A matcher to match a date being one of the specified days of the week (`0-6`, where `0` is Sunday). */\nexport type DayOfWeek = { dayOfWeek: number[] };\n\n/** Returns true if `matcher` is of type {@link DateInterval}. */\nexport function isDateInterval(matcher: unknown): matcher is DateInterval {\n  return Boolean(\n    matcher &&\n      typeof matcher === 'object' &&\n      'before' in matcher &&\n      'after' in matcher\n  );\n}\n\n/** Returns true if `value` is a {@link DateRange} type. */\nexport function isDateRange(value: unknown): value is DateRange {\n  return Boolean(value && typeof value === 'object' && 'from' in value);\n}\n\n/** Returns true if `value` is of type {@link DateAfter}. */\nexport function isDateAfterType(value: unknown): value is DateAfter {\n  return Boolean(value && typeof value === 'object' && 'after' in value);\n}\n\n/** Returns true if `value` is of type {@link DateBefore}. */\nexport function isDateBeforeType(value: unknown): value is DateBefore {\n  return Boolean(value && typeof value === 'object' && 'before' in value);\n}\n\n/** Returns true if `value` is a {@link DayOfWeek} type. */\nexport function isDayOfWeekType(value: unknown): value is DayOfWeek {\n  return Boolean(value && typeof value === 'object' && 'dayOfWeek' in value);\n}\n", "import { differenceInCalendarDays, isSameDay } from 'date-fns';\n\nimport { DateRange } from 'types/Matchers';\n\n/** Return `true` whether `date` is inside `range`. */\nexport function isDateInRange(date: Date, range: DateRange): boolean {\n  let { from, to } = range;\n  if (from && to) {\n    const isRangeInverted = differenceInCalendarDays(to, from) < 0;\n    if (isRangeInverted) {\n      [from, to] = [to, from];\n    }\n    const isInRange =\n      differenceInCalendarDays(date, from) >= 0 &&\n      differenceInCalendarDays(to, date) >= 0;\n    return isInRange;\n  }\n  if (to) {\n    return isSameDay(to, date);\n  }\n  if (from) {\n    return isSameDay(from, date);\n  }\n  return false;\n}\n", "import { differenceInCalendarDays, isAfter, isDate, isSameDay } from 'date-fns';\n\nimport {\n  isDateAfterType,\n  isDateBeforeType,\n  isDateInterval,\n  isDateRange,\n  isDayOfWeekType,\n  Matcher\n} from 'types/Matchers';\n\nimport { isDateInRange } from './isDateInRange';\n\n/** Returns true if `value` is a Date type. */\nfunction isDateType(value: unknown): value is Date {\n  return isDate(value);\n}\n\n/** Returns true if `value` is an array of valid dates. */\nfunction isArrayOfDates(value: unknown): value is Date[] {\n  return Array.isArray(value) && value.every(isDate);\n}\n\n/**\n * Returns whether a day matches against at least one of the given Matchers.\n *\n * ```\n * const day = new Date(2022, 5, 19);\n * const matcher1: DateRange = {\n *    from: new Date(2021, 12, 21),\n *    to: new Date(2021, 12, 30)\n * }\n * const matcher2: DateRange = {\n *    from: new Date(2022, 5, 1),\n *    to: new Date(2022, 5, 23)\n * }\n *\n * const isMatch(day, [matcher1, matcher2]); // true, since day is in the matcher1 range.\n * ```\n * */\nexport function isMatch(day: Date, matchers: Matcher[]): boolean {\n  return matchers.some((matcher: Matcher) => {\n    if (typeof matcher === 'boolean') {\n      return matcher;\n    }\n    if (isDateType(matcher)) {\n      return isSameDay(day, matcher);\n    }\n    if (isArrayOfDates(matcher)) {\n      return matcher.includes(day);\n    }\n    if (isDateRange(matcher)) {\n      return isDateInRange(day, matcher);\n    }\n    if (isDayOfWeekType(matcher)) {\n      return matcher.dayOfWeek.includes(day.getDay());\n    }\n    if (isDateInterval(matcher)) {\n      const diffBefore = differenceInCalendarDays(matcher.before, day);\n      const diffAfter = differenceInCalendarDays(matcher.after, day);\n      const isDayBefore = diffBefore > 0;\n      const isDayAfter = diffAfter < 0;\n      const isClosedInterval = isAfter(matcher.before, matcher.after);\n      if (isClosedInterval) {\n        return isDayAfter && isDayBefore;\n      } else {\n        return isDayBefore || isDayAfter;\n      }\n    }\n    if (isDateAfterType(matcher)) {\n      return differenceInCalendarDays(day, matcher.after) > 0;\n    }\n    if (isDateBeforeType(matcher)) {\n      return differenceInCalendarDays(matcher.before, day) > 0;\n    }\n    if (typeof matcher === 'function') {\n      return matcher(day);\n    }\n    return false;\n  });\n}\n", "import { isSameMonth } from 'date-fns';\n\nimport { ActiveModifiers, Modifiers } from 'types/Modifiers';\n\nimport { isMatch } from './isMatch';\n\n/** Return the active modifiers for the given day. */\nexport function getActiveModifiers(\n  day: Date,\n  /** The modifiers to match for the given date. */\n  modifiers: Modifiers,\n  /** The month where the day is displayed, to add the \"outside\" modifiers.  */\n  displayMonth?: Date\n): ActiveModifiers {\n  const matchedModifiers = Object.keys(modifiers).reduce(\n    (result: string[], key: string): string[] => {\n      const modifier = modifiers[key];\n      if (isMatch(day, modifier)) {\n        result.push(key);\n      }\n      return result;\n    },\n    []\n  );\n  const activeModifiers: ActiveModifiers = {};\n  matchedModifiers.forEach((modifier) => (activeModifiers[modifier] = true));\n\n  if (displayMonth && !isSameMonth(day, displayMonth)) {\n    activeModifiers.outside = true;\n  }\n\n  return activeModifiers;\n}\n", "import { addDays, endOfMonth, startOfMonth } from 'date-fns';\n\nimport { getActiveModifiers } from 'contexts/Modifiers';\nimport { Modifiers } from 'types/Modifiers';\n\n/**\n * Returns the day that should be the target of the focus when DayPicker is\n * rendered the first time.\n *\n * TODO: this function doesn't consider if the day is outside the month. We\n * implemented this check in `useDayRender` but it should probably go here. See\n * https://github.com/gpbl/react-day-picker/pull/1576\n */\nexport function getInitialFocusTarget(\n  displayMonths: Date[],\n  modifiers: Modifiers\n) {\n  const firstDayInMonth = startOfMonth(displayMonths[0]);\n  const lastDayInMonth = endOfMonth(displayMonths[displayMonths.length - 1]);\n\n  // TODO: cleanup code\n  let firstFocusableDay;\n  let today;\n  let date = firstDayInMonth;\n  while (date <= lastDayInMonth) {\n    const activeModifiers = getActiveModifiers(date, modifiers);\n    const isFocusable = !activeModifiers.disabled && !activeModifiers.hidden;\n    if (!isFocusable) {\n      date = addDays(date, 1);\n      continue;\n    }\n    if (activeModifiers.selected) {\n      return date;\n    }\n    if (activeModifiers.today && !today) {\n      today = date;\n    }\n    if (!firstFocusableDay) {\n      firstFocusableDay = date;\n    }\n    date = addDays(date, 1);\n  }\n  if (today) {\n    return today;\n  } else {\n    return firstFocusableDay;\n  }\n}\n", "import {\n  addDays,\n  addMonths,\n  addWeeks,\n  addYears,\n  endOfISOWeek,\n  endOfWeek,\n  max,\n  min,\n  startOfISOWeek,\n  startOfWeek\n} from 'date-fns';\n\nimport { DayPickerContextValue } from 'contexts/DayPicker';\nimport { getActiveModifiers } from 'contexts/Modifiers';\nimport { Modifiers } from 'types/Modifiers';\n\nexport type MoveFocusBy =\n  | 'day'\n  | 'week'\n  | 'startOfWeek'\n  | 'endOfWeek'\n  | 'month'\n  | 'year';\n\nexport type MoveFocusDirection = 'after' | 'before';\n\nexport type FocusDayPickerContext = Partial<\n  Pick<\n    DayPickerContextValue,\n    'ISOWeek' | 'weekStartsOn' | 'fromDate' | 'toDate' | 'locale'\n  >\n>;\n\nexport type FocusDayOptions = {\n  moveBy: MoveFocusBy;\n  direction: MoveFocusDirection;\n  context: FocusDayPickerContext;\n  modifiers?: Modifiers;\n  retry?: { count: number; lastFocused: Date };\n};\n\nconst MAX_RETRY = 365;\n\n/** Return the next date to be focused. */\nexport function getNextFocus(focusedDay: Date, options: FocusDayOptions): Date {\n  const {\n    moveBy,\n    direction,\n    context,\n    modifiers,\n    retry = { count: 0, lastFocused: focusedDay }\n  } = options;\n  const { weekStartsOn, fromDate, toDate, locale } = context;\n\n  const moveFns = {\n    day: addDays,\n    week: addWeeks,\n    month: addMonths,\n    year: addYears,\n    startOfWeek: (date: Date) =>\n      context.ISOWeek\n        ? startOfISOWeek(date)\n        : startOfWeek(date, { locale, weekStartsOn }),\n    endOfWeek: (date: Date) =>\n      context.ISOWeek\n        ? endOfISOWeek(date)\n        : endOfWeek(date, { locale, weekStartsOn })\n  };\n\n  let newFocusedDay = moveFns[moveBy](\n    focusedDay,\n    direction === 'after' ? 1 : -1\n  );\n\n  if (direction === 'before' && fromDate) {\n    newFocusedDay = max([fromDate, newFocusedDay]);\n  } else if (direction === 'after' && toDate) {\n    newFocusedDay = min([toDate, newFocusedDay]);\n  }\n  let isFocusable = true;\n\n  if (modifiers) {\n    const activeModifiers = getActiveModifiers(newFocusedDay, modifiers);\n    isFocusable = !activeModifiers.disabled && !activeModifiers.hidden;\n  }\n  if (isFocusable) {\n    return newFocusedDay;\n  } else {\n    if (retry.count > MAX_RETRY) {\n      return retry.lastFocused;\n    }\n    return getNextFocus(newFocusedDay, {\n      moveBy,\n      direction,\n      context,\n      modifiers,\n      retry: {\n        ...retry,\n        count: retry.count + 1\n      }\n    });\n  }\n}\n", "import { createContext, ReactNode, useContext, useState } from 'react';\n\nimport { isSameDay } from 'date-fns';\n\nimport { useDayPicker } from 'contexts/DayPicker';\n\nimport { useModifiers } from '../Modifiers';\nimport { useNavigation } from '../Navigation';\nimport { getInitialFocusTarget } from './utils/getInitialFocusTarget';\nimport {\n  getNextFocus,\n  MoveFocusBy,\n  MoveFocusDirection\n} from './utils/getNextFocus';\n\n/** Represents the value of the {@link FocusContext}. */\nexport type FocusContextValue = {\n  /** The day currently focused. */\n  focusedDay: Date | undefined;\n  /** Day that will be focused.  */\n  focusTarget: Date | undefined;\n  /** Focus a day. */\n  focus: (day: Date) => void;\n  /** Blur the focused day. */\n  blur: () => void;\n  /** Focus the day after the focused day. */\n  focusDayAfter: () => void;\n  /** Focus the day before the focused day. */\n  focusDayBefore: () => void;\n  /** Focus the day in the week before the focused day. */\n  focusWeekBefore: () => void;\n  /** Focus the day in the week after the focused day. */\n  focusWeekAfter: () => void;\n  /* Focus the day in the month before the focused day. */\n  focusMonthBefore: () => void;\n  /* Focus the day in the month after the focused day. */\n  focusMonthAfter: () => void;\n  /* Focus the day in the year before the focused day. */\n  focusYearBefore: () => void;\n  /* Focus the day in the year after the focused day. */\n  focusYearAfter: () => void;\n  /* Focus the day at the start of the week of the focused day. */\n  focusStartOfWeek: () => void;\n  /* Focus the day at the end of the week of focused day. */\n  focusEndOfWeek: () => void;\n};\n\n/**\n * The Focus context shares details about the focused day for the keyboard\n *\n * Access this context from the {@link useFocusContext} hook.\n */\nexport const FocusContext = createContext<FocusContextValue | undefined>(\n  undefined\n);\n\nexport type FocusProviderProps = { children: ReactNode };\n\n/** The provider for the {@link FocusContext}. */\nexport function FocusProvider(props: FocusProviderProps): JSX.Element {\n  const navigation = useNavigation();\n  const modifiers = useModifiers();\n\n  const [focusedDay, setFocusedDay] = useState<Date | undefined>();\n  const [lastFocused, setLastFocused] = useState<Date | undefined>();\n\n  const initialFocusTarget = getInitialFocusTarget(\n    navigation.displayMonths,\n    modifiers\n  );\n\n  // TODO: cleanup and test obscure code below\n  const focusTarget =\n    focusedDay ?? (lastFocused && navigation.isDateDisplayed(lastFocused))\n      ? lastFocused\n      : initialFocusTarget;\n\n  const blur = () => {\n    setLastFocused(focusedDay);\n    setFocusedDay(undefined);\n  };\n  const focus = (date: Date) => {\n    setFocusedDay(date);\n  };\n\n  const context = useDayPicker();\n\n  const moveFocus = (moveBy: MoveFocusBy, direction: MoveFocusDirection) => {\n    if (!focusedDay) return;\n    const nextFocused = getNextFocus(focusedDay, {\n      moveBy,\n      direction,\n      context,\n      modifiers\n    });\n    if (isSameDay(focusedDay, nextFocused)) return undefined;\n    navigation.goToDate(nextFocused, focusedDay);\n    focus(nextFocused);\n  };\n\n  const value: FocusContextValue = {\n    focusedDay,\n    focusTarget,\n    blur,\n    focus,\n    focusDayAfter: () => moveFocus('day', 'after'),\n    focusDayBefore: () => moveFocus('day', 'before'),\n    focusWeekAfter: () => moveFocus('week', 'after'),\n    focusWeekBefore: () => moveFocus('week', 'before'),\n    focusMonthBefore: () => moveFocus('month', 'before'),\n    focusMonthAfter: () => moveFocus('month', 'after'),\n    focusYearBefore: () => moveFocus('year', 'before'),\n    focusYearAfter: () => moveFocus('year', 'after'),\n    focusStartOfWeek: () => moveFocus('startOfWeek', 'before'),\n    focusEndOfWeek: () => moveFocus('endOfWeek', 'after')\n  };\n\n  return (\n    <FocusContext.Provider value={value}>\n      {props.children}\n    </FocusContext.Provider>\n  );\n}\n\n/**\n * Hook to access the {@link FocusContextValue}. Use this hook to handle the\n * focus state of the elements.\n *\n * This hook is meant to be used inside internal or custom components.\n */\nexport function useFocusContext(): FocusContextValue {\n  const context = useContext(FocusContext);\n  if (!context) {\n    throw new Error('useFocusContext must be used within a FocusProvider');\n  }\n  return context;\n}\n", "import { getActiveModifiers, useModifiers } from 'contexts/Modifiers';\nimport { ActiveModifiers } from 'types/Modifiers';\n\n/**\n * Return the active modifiers for the specified day.\n *\n * This hook is meant to be used inside internal or custom components.\n *\n * @param day\n * @param displayMonth\n */\nexport function useActiveModifiers(\n  day: Date,\n  /**\n   * The month where the date is displayed. If not the same as `date`, the day\n   * is an \"outside day\".\n   */\n  displayMonth?: Date\n): ActiveModifiers {\n  const modifiers = useModifiers();\n  const activeModifiers = getActiveModifiers(day, modifiers, displayMonth);\n  return activeModifiers;\n}\n", "import { createContext, ReactNode, useContext } from 'react';\n\nimport { DayPickerBase } from 'types/DayPickerBase';\nimport { DayPickerSingleProps, isDayPickerSingle } from 'types/DayPickerSingle';\nimport { DayClickEventHandler } from 'types/EventHandlers';\n\n/** Represents the value of a {@link SelectSingleContext}. */\nexport interface SelectSingleContextValue {\n  /** The day that has been selected. */\n  selected: Date | undefined;\n  /** Event handler to attach to the day button to enable the single select. */\n  onDayClick?: DayClickEventHandler;\n}\n\n/**\n * The SelectSingle context shares details about the selected days when in\n * single selection mode.\n *\n * Access this context from the {@link useSelectSingle} hook.\n */\nexport const SelectSingleContext = createContext<\n  SelectSingleContextValue | undefined\n>(undefined);\n\nexport interface SelectSingleProviderProps {\n  initialProps: DayPickerBase;\n  children?: ReactNode;\n}\n\n/** Provides the values for the {@link SelectSingleProvider}. */\nexport function SelectSingleProvider(\n  props: SelectSingleProviderProps\n): JSX.Element {\n  if (!isDayPickerSingle(props.initialProps)) {\n    const emptyContextValue: SelectSingleContextValue = {\n      selected: undefined\n    };\n    return (\n      <SelectSingleContext.Provider value={emptyContextValue}>\n        {props.children}\n      </SelectSingleContext.Provider>\n    );\n  }\n  return (\n    <SelectSingleProviderInternal\n      initialProps={props.initialProps}\n      children={props.children}\n    />\n  );\n}\n\n/** @private */\nexport interface SelectSingleProviderInternal {\n  initialProps: DayPickerSingleProps;\n  children?: ReactNode;\n}\n\nexport function SelectSingleProviderInternal({\n  initialProps,\n  children\n}: SelectSingleProviderInternal): JSX.Element {\n  const onDayClick: DayClickEventHandler = (day, activeModifiers, e) => {\n    initialProps.onDayClick?.(day, activeModifiers, e);\n\n    if (activeModifiers.selected && !initialProps.required) {\n      initialProps.onSelect?.(undefined, day, activeModifiers, e);\n      return;\n    }\n    initialProps.onSelect?.(day, day, activeModifiers, e);\n  };\n\n  const contextValue: SelectSingleContextValue = {\n    selected: initialProps.selected,\n    onDayClick\n  };\n  return (\n    <SelectSingleContext.Provider value={contextValue}>\n      {children}\n    </SelectSingleContext.Provider>\n  );\n}\n\n/**\n * Hook to access the {@link SelectSingleContextValue}.\n *\n * This hook is meant to be used inside internal or custom components.\n */\nexport function useSelectSingle(): SelectSingleContextValue {\n  const context = useContext(SelectSingleContext);\n  if (!context) {\n    throw new Error(\n      'useSelectSingle must be used within a SelectSingleProvider'\n    );\n  }\n  return context;\n}\n", "import {\n  FocusEventHandler,\n  HTMLProps,\n  KeyboardEventHandler,\n  MouseEventHandler,\n  PointerEventHandler,\n  TouchEventHandler\n} from 'react';\n\nimport { useDayPicker } from 'contexts/DayPicker';\nimport { useFocusContext } from 'contexts/Focus';\nimport { useSelectMultiple } from 'contexts/SelectMultiple';\nimport { useSelectRange } from 'contexts/SelectRange';\nimport { useSelectSingle } from 'contexts/SelectSingle';\nimport { isDayPickerMultiple } from 'types/DayPickerMultiple';\nimport { isDayPickerRange } from 'types/DayPickerRange';\nimport { isDayPickerSingle } from 'types/DayPickerSingle';\nimport { ActiveModifiers } from 'types/Modifiers';\n\nexport type EventName =\n  | 'onClick'\n  | 'onFocus'\n  | 'onBlur'\n  | 'onKeyDown'\n  | 'onKeyUp'\n  | 'onMouseEnter'\n  | 'onMouseLeave'\n  | 'onPointerEnter'\n  | 'onPointerLeave'\n  | 'onTouchCancel'\n  | 'onTouchEnd'\n  | 'onTouchMove'\n  | 'onTouchStart';\n\nexport type DayEventName =\n  | 'onDayClick'\n  | 'onDayFocus'\n  | 'onDayBlur'\n  | 'onDayKeyDown'\n  | 'onDayKeyUp'\n  | 'onDayMouseEnter'\n  | 'onDayMouseLeave'\n  | 'onDayPointerEnter'\n  | 'onDayPointerLeave'\n  | 'onDayTouchCancel'\n  | 'onDayTouchEnd'\n  | 'onDayTouchMove'\n  | 'onDayTouchStart';\n\nexport type DayEventHandlers = Pick<HTMLProps<HTMLButtonElement>, EventName>;\n\n/**\n * This hook returns details about the content to render in the day cell.\n *\n *\n * When a day cell is rendered in the table, DayPicker can either:\n *\n * - render nothing: when the day is outside the month or has matched the\n *   \"hidden\" modifier.\n * - render a button when `onDayClick` or a selection mode is set.\n * - render a non-interactive element: when no selection mode is set, the day\n *   cell shouldn\u2019t respond to any interaction. DayPicker should render a `div`\n *   or a `span`.\n *\n * ### Usage\n *\n * Use this hook to customize the behavior of the {@link Day} component. Create a\n * new `Day` component using this hook and pass it to the `components` prop.\n * The source of {@link Day} can be a good starting point.\n *\n */\nexport function useDayEventHandlers(\n  date: Date,\n  activeModifiers: ActiveModifiers\n): DayEventHandlers {\n  const dayPicker = useDayPicker();\n  const single = useSelectSingle();\n  const multiple = useSelectMultiple();\n  const range = useSelectRange();\n  const {\n    focusDayAfter,\n    focusDayBefore,\n    focusWeekAfter,\n    focusWeekBefore,\n    blur,\n    focus,\n    focusMonthBefore,\n    focusMonthAfter,\n    focusYearBefore,\n    focusYearAfter,\n    focusStartOfWeek,\n    focusEndOfWeek\n  } = useFocusContext();\n\n  const onClick: MouseEventHandler = (e) => {\n    if (isDayPickerSingle(dayPicker)) {\n      single.onDayClick?.(date, activeModifiers, e);\n    } else if (isDayPickerMultiple(dayPicker)) {\n      multiple.onDayClick?.(date, activeModifiers, e);\n    } else if (isDayPickerRange(dayPicker)) {\n      range.onDayClick?.(date, activeModifiers, e);\n    } else {\n      dayPicker.onDayClick?.(date, activeModifiers, e);\n    }\n  };\n\n  const onFocus: FocusEventHandler = (e) => {\n    focus(date);\n    dayPicker.onDayFocus?.(date, activeModifiers, e);\n  };\n\n  const onBlur: FocusEventHandler = (e) => {\n    blur();\n    dayPicker.onDayBlur?.(date, activeModifiers, e);\n  };\n\n  const onMouseEnter: MouseEventHandler = (e) => {\n    dayPicker.onDayMouseEnter?.(date, activeModifiers, e);\n  };\n  const onMouseLeave: MouseEventHandler = (e) => {\n    dayPicker.onDayMouseLeave?.(date, activeModifiers, e);\n  };\n  const onPointerEnter: PointerEventHandler = (e) => {\n    dayPicker.onDayPointerEnter?.(date, activeModifiers, e);\n  };\n  const onPointerLeave: PointerEventHandler = (e) => {\n    dayPicker.onDayPointerLeave?.(date, activeModifiers, e);\n  };\n  const onTouchCancel: TouchEventHandler = (e) => {\n    dayPicker.onDayTouchCancel?.(date, activeModifiers, e);\n  };\n  const onTouchEnd: TouchEventHandler = (e) => {\n    dayPicker.onDayTouchEnd?.(date, activeModifiers, e);\n  };\n  const onTouchMove: TouchEventHandler = (e) => {\n    dayPicker.onDayTouchMove?.(date, activeModifiers, e);\n  };\n  const onTouchStart: TouchEventHandler = (e) => {\n    dayPicker.onDayTouchStart?.(date, activeModifiers, e);\n  };\n\n  const onKeyUp: KeyboardEventHandler = (e) => {\n    dayPicker.onDayKeyUp?.(date, activeModifiers, e);\n  };\n\n  const onKeyDown: KeyboardEventHandler = (e) => {\n    switch (e.key) {\n      case 'ArrowLeft':\n        e.preventDefault();\n        e.stopPropagation();\n        dayPicker.dir === 'rtl' ? focusDayAfter() : focusDayBefore();\n        break;\n      case 'ArrowRight':\n        e.preventDefault();\n        e.stopPropagation();\n        dayPicker.dir === 'rtl' ? focusDayBefore() : focusDayAfter();\n        break;\n      case 'ArrowDown':\n        e.preventDefault();\n        e.stopPropagation();\n        focusWeekAfter();\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        e.stopPropagation();\n        focusWeekBefore();\n        break;\n      case 'PageUp':\n        e.preventDefault();\n        e.stopPropagation();\n        e.shiftKey ? focusYearBefore() : focusMonthBefore();\n        break;\n      case 'PageDown':\n        e.preventDefault();\n        e.stopPropagation();\n        e.shiftKey ? focusYearAfter() : focusMonthAfter();\n        break;\n      case 'Home':\n        e.preventDefault();\n        e.stopPropagation();\n        focusStartOfWeek();\n        break;\n      case 'End':\n        e.preventDefault();\n        e.stopPropagation();\n        focusEndOfWeek();\n        break;\n    }\n    dayPicker.onDayKeyDown?.(date, activeModifiers, e);\n  };\n\n  const eventHandlers: DayEventHandlers = {\n    onClick,\n    onFocus,\n    onBlur,\n    onKeyDown,\n    onKeyUp,\n    onMouseEnter,\n    onMouseLeave,\n    onPointerEnter,\n    onPointerLeave,\n    onTouchCancel,\n    onTouchEnd,\n    onTouchMove,\n    onTouchStart\n  };\n\n  return eventHandlers;\n}\n", "import { useDayPicker } from 'contexts/DayPicker';\nimport { useSelectMultiple } from 'contexts/SelectMultiple';\nimport { useSelectRange } from 'contexts/SelectRange';\nimport { useSelectSingle } from 'contexts/SelectSingle';\nimport { isDayPickerMultiple } from 'types/DayPickerMultiple';\nimport { isDayPickerRange } from 'types/DayPickerRange';\nimport { isDayPickerSingle } from 'types/DayPickerSingle';\nimport { DateRange } from 'types/Matchers';\n\nexport type SelectedDays = Date | Date[] | DateRange | undefined;\n\n/**\n * Return the current selected days when DayPicker is in selection mode. Days\n * selected by the custom selection mode are not returned.\n *\n * This hook is meant to be used inside internal or custom components.\n *\n */\nexport function useSelectedDays(): SelectedDays {\n  const dayPicker = useDayPicker();\n  const single = useSelectSingle();\n  const multiple = useSelectMultiple();\n  const range = useSelectRange();\n\n  const selectedDays = isDayPickerSingle(dayPicker)\n    ? single.selected\n    : isDayPickerMultiple(dayPicker)\n      ? multiple.selected\n      : isDayPickerRange(dayPicker)\n        ? range.selected\n        : undefined;\n\n  return selectedDays;\n}\n", "import { DayPickerContextValue } from 'contexts/DayPicker';\nimport { ActiveModifiers, InternalModifier } from 'types/Modifiers';\n\nfunction isInternalModifier(modifier: string): modifier is InternalModifier {\n  return Object.values(InternalModifier).includes(modifier as InternalModifier);\n}\n\n/**\n * Return the class names for the Day element, according to the given active\n * modifiers.\n *\n * Custom class names are set via `modifiersClassNames` or `classNames`,\n * where the first have the precedence.\n */\nexport function getDayClassNames(\n  dayPicker: Pick<DayPickerContextValue, 'modifiersClassNames' | 'classNames'>,\n  activeModifiers: ActiveModifiers\n) {\n  const classNames: string[] = [dayPicker.classNames.day];\n  Object.keys(activeModifiers).forEach((modifier) => {\n    const customClassName = dayPicker.modifiersClassNames[modifier];\n    if (customClassName) {\n      classNames.push(customClassName);\n    } else if (isInternalModifier(modifier)) {\n      const internalClassName = dayPicker.classNames[`day_${modifier}`];\n      if (internalClassName) {\n        classNames.push(internalClassName);\n      }\n    }\n  });\n  return classNames;\n}\n", "import { CSSProperties } from 'react';\n\nimport { DayPickerContextValue } from 'contexts/DayPicker';\nimport { ActiveModifiers } from 'types/Modifiers';\n\n/** Return the style for the Day element, according to the given active modifiers. */\nexport function getDayStyle(\n  dayPicker: Pick<DayPickerContextValue, 'modifiersStyles' | 'styles'>,\n  activeModifiers: ActiveModifiers\n): CSSProperties {\n  let style: CSSProperties = {\n    ...dayPicker.styles.day\n  };\n  Object.keys(activeModifiers).forEach((modifier) => {\n    style = {\n      ...style,\n      ...dayPicker.modifiersStyles?.[modifier]\n    };\n  });\n  return style;\n}\n", "import { RefObject, useEffect } from 'react';\n\nimport { isSameDay } from 'date-fns';\n\nimport { ButtonProps } from 'components/Button';\nimport { DayContent } from 'components/DayContent';\nimport { useDayPicker } from 'contexts/DayPicker';\nimport { useFocusContext } from 'contexts/Focus';\nimport { useActiveModifiers } from 'hooks/useActiveModifiers';\nimport {\n  DayEventHandlers,\n  useDayEventHandlers\n} from 'hooks/useDayEventHandlers';\nimport { SelectedDays, useSelectedDays } from 'hooks/useSelectedDays';\nimport { ActiveModifiers } from 'types/Modifiers';\nimport { StyledComponent } from 'types/Styles';\n\nimport { getDayClassNames } from './utils/getDayClassNames';\nimport { getDayStyle } from './utils/getDayStyle';\n\nexport type DayRender = {\n  /** Whether the day should be rendered a `button` instead of a `div` */\n  isButton: boolean;\n  /** Whether the day should be hidden. */\n  isHidden: boolean;\n  /** The modifiers active for the given day. */\n  activeModifiers: ActiveModifiers;\n  /** The props to apply to the button element (when `isButton` is true). */\n  buttonProps: StyledComponent &\n    Pick<ButtonProps, 'disabled' | 'aria-selected' | 'tabIndex'> &\n    DayEventHandlers;\n  /** The props to apply to the div element (when `isButton` is false). */\n  divProps: StyledComponent;\n  selectedDays: SelectedDays;\n};\n\n/**\n * Return props and data used to render the {@link Day} component.\n *\n * Use this hook when creating a component to replace the built-in `Day`\n * component.\n */\nexport function useDayRender(\n  /** The date to render. */\n  day: Date,\n  /** The month where the date is displayed (if not the same as `date`, it means it is an \"outside\" day). */\n  displayMonth: Date,\n  /** A ref to the button element that will be target of focus when rendered (if required). */\n  buttonRef: RefObject<HTMLButtonElement>\n): DayRender {\n  const dayPicker = useDayPicker();\n  const focusContext = useFocusContext();\n  const activeModifiers = useActiveModifiers(day, displayMonth);\n  const eventHandlers = useDayEventHandlers(day, activeModifiers);\n  const selectedDays = useSelectedDays();\n  const isButton = Boolean(\n    dayPicker.onDayClick || dayPicker.mode !== 'default'\n  );\n\n  // Focus the button if the day is focused according to the focus context\n  useEffect(() => {\n    if (activeModifiers.outside) return;\n    if (!focusContext.focusedDay) return;\n    if (!isButton) return;\n    if (isSameDay(focusContext.focusedDay, day)) {\n      buttonRef.current?.focus();\n    }\n  }, [\n    focusContext.focusedDay,\n    day,\n    buttonRef,\n    isButton,\n    activeModifiers.outside\n  ]);\n\n  const className = getDayClassNames(dayPicker, activeModifiers).join(' ');\n  const style = getDayStyle(dayPicker, activeModifiers);\n  const isHidden = Boolean(\n    (activeModifiers.outside && !dayPicker.showOutsideDays) ||\n      activeModifiers.hidden\n  );\n\n  const DayContentComponent = dayPicker.components?.DayContent ?? DayContent;\n  const children = (\n    <DayContentComponent\n      date={day}\n      displayMonth={displayMonth}\n      activeModifiers={activeModifiers}\n    />\n  );\n\n  const divProps = {\n    style,\n    className,\n    children,\n    role: 'gridcell'\n  };\n\n  const isFocusTarget =\n    focusContext.focusTarget &&\n    isSameDay(focusContext.focusTarget, day) &&\n    !activeModifiers.outside;\n\n  const isFocused =\n    focusContext.focusedDay && isSameDay(focusContext.focusedDay, day);\n\n  const buttonProps = {\n    ...divProps,\n    disabled: activeModifiers.disabled,\n    role: 'gridcell',\n    ['aria-selected']: activeModifiers.selected,\n    tabIndex: isFocused || isFocusTarget ? 0 : -1,\n    ...eventHandlers\n  };\n\n  const dayRender: DayRender = {\n    isButton,\n    isHidden,\n    activeModifiers: activeModifiers,\n    selectedDays,\n    buttonProps,\n    divProps\n  };\n\n  return dayRender;\n}\n", "import { useRef } from 'react';\n\nimport { useDayRender } from 'hooks/useDayRender';\n\nimport { Button } from '../Button';\n\n/** Represent the props used by the {@link Day} component. */\nexport interface DayProps {\n  /** The month where the date is displayed. */\n  displayMonth: Date;\n  /** The date to render. */\n  date: Date;\n}\n\n/**\n * The content of a day cell \u2013 as a button or span element according to its\n * modifiers.\n */\nexport function Day(props: DayProps): JSX.Element {\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const dayRender = useDayRender(props.date, props.displayMonth, buttonRef);\n\n  if (dayRender.isHidden) {\n    return <div role=\"gridcell\"></div>;\n  }\n  if (!dayRender.isButton) {\n    return <div {...dayRender.divProps} />;\n  }\n  return <Button name=\"day\" ref={buttonRef} {...dayRender.buttonProps} />;\n}\n", "import { MouseEventHandler } from 'react';\n\nimport { useDayPicker } from 'contexts/DayPicker';\n\nimport { Button } from '../Button';\n\n/**\n * The props for the {@link WeekNumber} component.\n */\nexport interface WeekNumberProps {\n  /** The number of the week. */\n  number: number;\n  /** The dates in the week. */\n  dates: Date[];\n}\n\n/**\n * Render the week number element. If `onWeekNumberClick` is passed to DayPicker, it\n * renders a button, otherwise a span element.\n */\nexport function WeekNumber(props: WeekNumberProps): JSX.Element {\n  const { number: weekNumber, dates } = props;\n  const {\n    onWeekNumberClick,\n    styles,\n    classNames,\n    locale,\n    labels: { labelWeekNumber },\n    formatters: { formatWeekNumber }\n  } = useDayPicker();\n\n  const content = formatWeekNumber(Number(weekNumber), { locale });\n\n  if (!onWeekNumberClick) {\n    return (\n      <span className={classNames.weeknumber} style={styles.weeknumber}>\n        {content}\n      </span>\n    );\n  }\n\n  const label = labelWeekNumber(Number(weekNumber), { locale });\n\n  const handleClick: MouseEventHandler = function (e) {\n    onWeekNumberClick(weekNumber, dates, e);\n  };\n\n  return (\n    <Button\n      name=\"week-number\"\n      aria-label={label}\n      className={classNames.weeknumber}\n      style={styles.weeknumber}\n      onClick={handleClick}\n    >\n      {content}\n    </Button>\n  );\n}\n", "import { getUnixTime } from 'date-fns';\n\nimport { Day } from 'components/Day';\nimport { WeekNumber } from 'components/WeekNumber';\nimport { useDayPicker } from 'contexts/DayPicker';\n\n/**\n * The props for the {@link Row} component.\n */\nexport interface RowProps {\n  /** The month where the row is displayed. */\n  displayMonth: Date;\n  /** The number of the week to render. */\n  weekNumber: number;\n  /** The days contained in the week. */\n  dates: Date[];\n}\n\n/** Render a row in the calendar, with the days and the week number. */\nexport function Row(props: RowProps): JSX.Element {\n  const { styles, classNames, showWeekNumber, components } = useDayPicker();\n\n  const DayComponent = components?.Day ?? Day;\n  const WeeknumberComponent = components?.WeekNumber ?? WeekNumber;\n\n  let weekNumberCell;\n  if (showWeekNumber) {\n    weekNumberCell = (\n      <td className={classNames.cell} style={styles.cell}>\n        <WeeknumberComponent number={props.weekNumber} dates={props.dates} />\n      </td>\n    );\n  }\n\n  return (\n    <tr className={classNames.row} style={styles.row}>\n      {weekNumberCell}\n      {props.dates.map((date) => (\n        <td\n          className={classNames.cell}\n          style={styles.cell}\n          key={getUnixTime(date)}\n          role=\"presentation\"\n        >\n          <DayComponent displayMonth={props.displayMonth} date={date} />\n        </td>\n      ))}\n    </tr>\n  );\n}\n", "import {\n  addDays,\n  differenceInCalendarDays,\n  endOfISOWeek,\n  endOfWeek,\n  getISOWeek,\n  getWeek,\n  Locale,\n  startOfISOWeek,\n  startOfWeek\n} from 'date-fns';\n\nimport { MonthWeek } from './getMonthWeeks';\n\n/** Return the weeks between two dates.  */\nexport function daysToMonthWeeks(\n  fromDate: Date,\n  toDate: Date,\n  options?: {\n    ISOWeek?: boolean;\n    locale?: Locale;\n    weekStartsOn?: 0 | 1 | 2 | 3 | 4 | 5 | 6;\n    firstWeekContainsDate?: 1 | 4;\n  }\n): MonthWeek[] {\n  const toWeek = options?.ISOWeek\n    ? endOfISOWeek(toDate)\n    : endOfWeek(toDate, options);\n  const fromWeek = options?.ISOWeek\n    ? startOfISOWeek(fromDate)\n    : startOfWeek(fromDate, options);\n\n  const nOfDays = differenceInCalendarDays(toWeek, fromWeek);\n  const days: Date[] = [];\n\n  for (let i = 0; i <= nOfDays; i++) {\n    days.push(addDays(fromWeek, i));\n  }\n\n  const weeksInMonth = days.reduce((result: MonthWeek[], date) => {\n    const weekNumber = options?.ISOWeek\n      ? getISOWeek(date)\n      : getWeek(date, options);\n\n    const existingWeek = result.find(\n      (value) => value.weekNumber === weekNumber\n    );\n    if (existingWeek) {\n      existingWeek.dates.push(date);\n      return result;\n    }\n    result.push({\n      weekNumber,\n      dates: [date]\n    });\n    return result;\n  }, []);\n\n  return weeksInMonth;\n}\n", "import {\n  addWeeks,\n  endOfMonth,\n  getWeeksInMonth,\n  Locale,\n  startOfMonth\n} from 'date-fns';\n\nimport { daysToMonthWeeks } from './daysToMonthWeeks';\n\n/** Represents a week in the month.*/\nexport type MonthWeek = {\n  /** The week number from the start of the year. */\n  weekNumber: number;\n  /** The dates in the week. */\n  dates: Date[];\n};\n\n/**\n * Return the weeks belonging to the given month, adding the \"outside days\" to\n * the first and last week.\n */\nexport function getMonthWeeks(\n  month: Date,\n  options: {\n    locale: Locale;\n    useFixedWeeks?: boolean;\n    weekStartsOn?: 0 | 1 | 2 | 3 | 4 | 5 | 6;\n    firstWeekContainsDate?: 1 | 4;\n    ISOWeek?: boolean;\n  }\n): MonthWeek[] {\n  const weeksInMonth: MonthWeek[] = daysToMonthWeeks(\n    startOfMonth(month),\n    endOfMonth(month),\n    options\n  );\n\n  if (options?.useFixedWeeks) {\n    // Add extra weeks to the month, up to 6 weeks\n    const nrOfMonthWeeks = getWeeksInMonth(month, options);\n    if (nrOfMonthWeeks < 6) {\n      const lastWeek = weeksInMonth[weeksInMonth.length - 1];\n      const lastDate = lastWeek.dates[lastWeek.dates.length - 1];\n      const toDate = addWeeks(lastDate, 6 - nrOfMonthWeeks);\n      const extraWeeks = daysToMonthWeeks(\n        addWeeks(lastDate, 1),\n        toDate,\n        options\n      );\n      weeksInMonth.push(...extraWeeks);\n    }\n  }\n  return weeksInMonth;\n}\n", "import { Footer } from 'components/Footer';\nimport { Head } from 'components/Head';\nimport { Row } from 'components/Row';\nimport { useDayPicker } from 'contexts/DayPicker';\n\nimport { getMonthWeeks } from './utils/getMonthWeeks';\n\n/** The props for the {@link Table} component. */\nexport interface TableProps {\n  /** ID of table element */\n  id?: string;\n  /** The ID of the label of the table (the same given to the Caption). */\n  ['aria-labelledby']?: string;\n  /** The month where the table is displayed. */\n  displayMonth: Date;\n}\n\n/** Render the table with the calendar. */\nexport function Table(props: TableProps): JSX.Element {\n  const {\n    locale,\n    classNames,\n    styles,\n    hideHead,\n    fixedWeeks,\n    components,\n    weekStartsOn,\n    firstWeekContainsDate,\n    ISOWeek\n  } = useDayPicker();\n\n  const weeks = getMonthWeeks(props.displayMonth, {\n    useFixedWeeks: Boolean(fixedWeeks),\n    ISOWeek,\n    locale,\n    weekStartsOn,\n    firstWeekContainsDate\n  });\n\n  const HeadComponent = components?.Head ?? Head;\n  const RowComponent = components?.Row ?? Row;\n  const FooterComponent = components?.Footer ?? Footer;\n  return (\n    <table\n      id={props.id}\n      className={classNames.table}\n      style={styles.table}\n      role=\"grid\"\n      aria-labelledby={props['aria-labelledby']}\n    >\n      {!hideHead && <HeadComponent />}\n      <tbody className={classNames.tbody} style={styles.tbody}>\n        {weeks.map((week) => (\n          <RowComponent\n            displayMonth={props.displayMonth}\n            key={week.weekNumber}\n            dates={week.dates}\n            weekNumber={week.weekNumber}\n          />\n        ))}\n      </tbody>\n      <FooterComponent displayMonth={props.displayMonth} />\n    </table>\n  );\n}\n", "/*\nThe MIT License (MIT)\n\nCopyright (c) 2018-present, React Training LLC\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/* eslint-disable prefer-const */\n/* eslint-disable @typescript-eslint/ban-ts-comment */\n/*\n * Welcome to @reach/auto-id!\n * Let's see if we can make sense of why this hook exists and its\n * implementation.\n *\n * Some background:\n *   1. Accessibility APIs rely heavily on element IDs\n *   2. Requiring developers to put IDs on every element in Reach UI is both\n *      cumbersome and error-prone\n *   3. With a component model, we can generate IDs for them!\n *\n * Solution 1: Generate random IDs.\n *\n * This works great as long as you don't server render your app. When React (in\n * the client) tries to reuse the markup from the server, the IDs won't match\n * and React will then recreate the entire DOM tree.\n *\n * Solution 2: Increment an integer\n *\n * This sounds great. Since we're rendering the exact same tree on the server\n * and client, we can increment a counter and get a deterministic result between\n * client and server. Also, JS integers can go up to nine-quadrillion. I'm\n * pretty sure the tab will be closed before an app never needs\n * 10 quadrillion IDs!\n *\n * Problem solved, right?\n *\n * Ah, but there's a catch! React's concurrent rendering makes this approach\n * non-deterministic. While the client and server will end up with the same\n * elements in the end, depending on suspense boundaries (and possibly some user\n * input during the initial render) the incrementing integers won't always match\n * up.\n *\n * Solution 3: Don't use IDs at all on the server; patch after first render.\n *\n * What we've done here is solution 2 with some tricks. With this approach, the\n * ID returned is an empty string on the first render. This way the server and\n * client have the same markup no matter how wild the concurrent rendering may\n * have gotten.\n *\n * After the render, we patch up the components with an incremented ID. This\n * causes a double render on any components with `useId`. Shouldn't be a problem\n * since the components using this hook should be small, and we're only updating\n * the ID attribute on the DOM, nothing big is happening.\n *\n * It doesn't have to be an incremented number, though--we could do generate\n * random strings instead, but incrementing a number is probably the cheapest\n * thing we can do.\n *\n * Additionally, we only do this patchup on the very first client render ever.\n * Any calls to `useId` that happen dynamically in the client will be\n * populated immediately with a value. So, we only get the double render after\n * server hydration and never again, SO BACK OFF ALRIGHT?\n */\n\nimport { useEffect, useLayoutEffect, useState } from 'react';\n\nfunction canUseDOM() {\n  return !!(\n    typeof window !== 'undefined' &&\n    window.document &&\n    window.document.createElement\n  );\n}\n/**\n * React currently throws a warning when using useLayoutEffect on the server. To\n * get around it, we can conditionally useEffect on the server (no-op) and\n * useLayoutEffect in the browser. We occasionally need useLayoutEffect to\n * ensure we don't get a render flash for certain operations, but we may also\n * need affected components to render on the server. One example is when setting\n * a component's descendants to retrieve their index values.\n *\n * Important to note that using this hook as an escape hatch will break the\n * eslint dependency warnings unless you rename the import to `useLayoutEffect`.\n * Use sparingly only when the effect won't effect the rendered HTML to avoid\n * any server/client mismatch.\n *\n * If a useLayoutEffect is needed and the result would create a mismatch, it's\n * likely that the component in question shouldn't be rendered on the server at\n * all, so a better approach would be to lazily render those in a parent\n * component after client-side hydration.\n *\n * https://gist.github.com/gaearon/e7d97cdf38a2907924ea12e4ebdf3c85\n * https://github.com/reduxjs/react-redux/blob/master/src/utils/useIsomorphicLayoutEffect.js\n *\n * @param effect\n * @param deps\n */\nconst useIsomorphicLayoutEffect = canUseDOM() ? useLayoutEffect : useEffect;\n\nlet serverHandoffComplete = false;\nlet id = 0;\nfunction genId() {\n  return `react-day-picker-${++id}`;\n}\n\n/* eslint-disable react-hooks/rules-of-hooks */\n\n/**\n * useId\n *\n * Autogenerate IDs to facilitate WAI-ARIA and server rendering.\n *\n * Note: The returned ID will initially be `null` and will update after a\n * component mounts. Users may need to supply their own ID if they need\n * consistent values for SSR.\n *\n * @see Docs https://reach.tech/auto-id\n */\nfunction useId(idFromProps: string): string;\nfunction useId(idFromProps: number): number;\nfunction useId(idFromProps: string | number): string | number;\nfunction useId(idFromProps: string | undefined | null): string | undefined;\nfunction useId(idFromProps: number | undefined | null): number | undefined;\nfunction useId(\n  idFromProps: string | number | undefined | null\n): string | number | undefined;\nfunction useId(): string | undefined;\n\nfunction useId(providedId?: number | string | undefined | null) {\n  // TODO: Remove error flag when updating internal deps to React 18. None of\n  // our tricks will play well with concurrent rendering anyway.\n\n  // If this instance isn't part of the initial render, we don't have to do the\n  // double render/patch-up dance. We can just generate the ID and return it.\n  let initialId = providedId ?? (serverHandoffComplete ? genId() : null);\n  let [id, setId] = useState(initialId);\n\n  useIsomorphicLayoutEffect(() => {\n    if (id === null) {\n      // Patch the ID after render. We do this in `useLayoutEffect` to avoid any\n      // rendering flicker, though it'll make the first render slower (unlikely\n      // to matter, but you're welcome to measure your app and let us know if\n      // it's a problem).\n      setId(genId());\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (serverHandoffComplete === false) {\n      // Flag all future uses of `useId` to skip the update dance. This is in\n      // `useEffect` because it goes after `useLayoutEffect`, ensuring we don't\n      // accidentally bail out of the patch-up dance prematurely.\n      serverHandoffComplete = true;\n    }\n  }, []);\n\n  return providedId ?? id ?? undefined;\n}\n\nexport { useId, canUseDOM };\n", "import { Caption } from 'components/Caption';\nimport { Table } from 'components/Table';\nimport { useDayPicker } from 'contexts/DayPicker';\nimport { useNavigation } from 'contexts/Navigation';\nimport { useId } from 'hooks/useId';\n\n/** The props for the {@link Month} component. */\nexport interface MonthProps {\n  displayIndex: number;\n  displayMonth: Date;\n}\n\n/** Render a month. */\nexport function Month(props: MonthProps) {\n  const dayPicker = useDayPicker();\n  const { dir, classNames, styles, components } = dayPicker;\n  const { displayMonths } = useNavigation();\n\n  const captionId = useId(\n    dayPicker.id ? `${dayPicker.id}-${props.displayIndex}` : undefined\n  );\n\n  const tableId = dayPicker.id\n    ? `${dayPicker.id}-grid-${props.displayIndex}`\n    : undefined;\n\n  const className = [classNames.month];\n  let style = styles.month;\n\n  let isStart = props.displayIndex === 0;\n  let isEnd = props.displayIndex === displayMonths.length - 1;\n  const isCenter = !isStart && !isEnd;\n  if (dir === 'rtl') {\n    [isEnd, isStart] = [isStart, isEnd];\n  }\n\n  if (isStart) {\n    className.push(classNames.caption_start);\n    style = { ...style, ...styles.caption_start };\n  }\n  if (isEnd) {\n    className.push(classNames.caption_end);\n    style = { ...style, ...styles.caption_end };\n  }\n  if (isCenter) {\n    className.push(classNames.caption_between);\n    style = { ...style, ...styles.caption_between };\n  }\n\n  const CaptionComponent = components?.Caption ?? Caption;\n\n  return (\n    <div key={props.displayIndex} className={className.join(' ')} style={style}>\n      <CaptionComponent\n        id={captionId}\n        displayMonth={props.displayMonth}\n        displayIndex={props.displayIndex}\n      />\n      <Table\n        id={tableId}\n        aria-labelledby={captionId}\n        displayMonth={props.displayMonth}\n      />\n    </div>\n  );\n}\n", "import { ReactNode } from 'react';\n\nimport { useDayPicker } from 'contexts/DayPicker';\n\n/** The props for the {@link Months} component. */\nexport type MonthsProps = { children: ReactNode };\n\n/**\n * Render the wrapper for the month grids.\n */\nexport function Months(props: MonthsProps): JSX.Element {\n  const { classNames, styles } = useDayPicker();\n\n  return (\n    <div className={classNames.months} style={styles.months}>\n      {props.children}\n    </div>\n  );\n}\n", "import { useEffect, useState } from 'react';\n\nimport { DayPickerProps } from 'DayPicker';\n\nimport { Month } from 'components/Month';\nimport { Months } from 'components/Months';\nimport { useDayPicker } from 'contexts/DayPicker';\nimport { useFocusContext } from 'contexts/Focus';\nimport { useNavigation } from 'contexts/Navigation';\n\nfunction isDataAttributes(attrs: DayPickerProps): attrs is {\n  [key: string]: string | boolean | number | undefined;\n} {\n  return true;\n}\n\nexport interface RootProps {\n  initialProps: DayPickerProps;\n}\n\n/** Render the container with the months according to the number of months to display. */\nexport function Root({ initialProps }: RootProps): JSX.Element {\n  const dayPicker = useDayPicker();\n  const focusContext = useFocusContext();\n  const navigation = useNavigation();\n\n  const [hasInitialFocus, setHasInitialFocus] = useState(false);\n\n  // Focus the focus target when initialFocus is passed in\n  useEffect(() => {\n    if (!dayPicker.initialFocus) return;\n    if (!focusContext.focusTarget) return;\n    if (hasInitialFocus) return;\n\n    focusContext.focus(focusContext.focusTarget);\n    setHasInitialFocus(true);\n  }, [\n    dayPicker.initialFocus,\n    hasInitialFocus,\n    focusContext.focus,\n    focusContext.focusTarget,\n    focusContext\n  ]);\n\n  // Apply classnames according to props\n  const classNames = [dayPicker.classNames.root, dayPicker.className];\n  if (dayPicker.numberOfMonths > 1) {\n    classNames.push(dayPicker.classNames.multiple_months);\n  }\n  if (dayPicker.showWeekNumber) {\n    classNames.push(dayPicker.classNames.with_weeknumber);\n  }\n\n  const style = {\n    ...dayPicker.styles.root,\n    ...dayPicker.style\n  };\n\n  const dataAttributes = Object.keys(initialProps)\n    .filter((key) => key.startsWith('data-'))\n    .reduce((attrs, key) => {\n      if (!isDataAttributes(initialProps)) return attrs;\n      return {\n        ...attrs,\n        [key]: initialProps[key]\n      };\n    }, {});\n\n  const MonthsComponent = initialProps.components?.Months ?? Months;\n\n  return (\n    <div\n      className={classNames.join(' ')}\n      style={style}\n      dir={dayPicker.dir}\n      id={dayPicker.id}\n      nonce={initialProps.nonce}\n      title={initialProps.title}\n      lang={initialProps.lang}\n      {...dataAttributes}\n    >\n      <MonthsComponent>\n        {navigation.displayMonths.map((month, i) => (\n          <Month key={i} displayIndex={i} displayMonth={month} />\n        ))}\n      </MonthsComponent>\n    </div>\n  );\n}\n", "import { ReactNode } from 'react';\n\nimport { ModifiersProvider } from 'contexts/Modifiers/ModifiersContext';\n\nimport { DayPickerProvider } from './DayPicker';\nimport { FocusProvider } from './Focus';\nimport { NavigationProvider } from './Navigation';\nimport { SelectMultipleProvider } from './SelectMultiple';\nimport { SelectRangeProvider } from './SelectRange';\nimport { SelectSingleProvider } from './SelectSingle';\nimport { DayPickerDefaultProps } from 'types/DayPickerDefault';\nimport { DayPickerSingleProps } from 'types/DayPickerSingle';\nimport { DayPickerMultipleProps } from 'types/DayPickerMultiple';\nimport { DayPickerRangeProps } from 'types/DayPickerRange';\n\ntype RootContextProps =\n  | Partial<DayPickerDefaultProps>\n  | Partial<DayPickerSingleProps>\n  | Partial<DayPickerMultipleProps>\n  | Partial<DayPickerRangeProps>;\n\n/** The props of {@link RootProvider}. */\nexport type RootContext = RootContextProps & {\n  children?: ReactNode;\n};\n\n/** Provide the value for all the context providers. */\nexport function RootProvider(props: RootContext): JSX.Element {\n  const { children, ...initialProps } = props;\n\n  return (\n    <DayPickerProvider initialProps={initialProps}>\n      <NavigationProvider>\n        <SelectSingleProvider initialProps={initialProps}>\n          <SelectMultipleProvider initialProps={initialProps}>\n            <SelectRangeProvider initialProps={initialProps}>\n              <ModifiersProvider>\n                <FocusProvider>{children}</FocusProvider>\n              </ModifiersProvider>\n            </SelectRangeProvider>\n          </SelectMultipleProvider>\n        </SelectSingleProvider>\n      </NavigationProvider>\n    </DayPickerProvider>\n  );\n}\n", "import { DayPickerDefaultProps } from 'types/DayPickerDefault';\nimport { DayPickerMultipleProps } from 'types/DayPickerMultiple';\nimport { DayPickerRangeProps } from 'types/DayPickerRange';\nimport { DayPickerSingleProps } from 'types/DayPickerSingle';\n\nimport { Root } from './components/Root';\nimport { RootProvider } from './contexts/RootProvider';\n\nexport type DayPickerProps =\n  | DayPickerDefaultProps\n  | DayPickerSingleProps\n  | DayPickerMultipleProps\n  | DayPickerRangeProps;\n\n/**\n * DayPicker render a date picker component to let users pick dates from a\n * calendar. See http://react-day-picker.js.org for updated documentation and\n * examples.\n *\n * ### Customization\n *\n * DayPicker offers different customization props. For example,\n *\n * - show multiple months using `numberOfMonths`\n * - display a dropdown to navigate the months via `captionLayout`\n * - display the week numbers with `showWeekNumbers`\n * - disable or hide days with `disabled` or `hidden`\n *\n * ### Controlling the months\n *\n * Change the initially displayed month using the `defaultMonth` prop. The\n * displayed months are controlled by DayPicker and stored in its internal\n * state. To control the months yourself, use `month` instead of `defaultMonth`\n * and use the `onMonthChange` event to set it.\n *\n * To limit the months the user can navigate to, use\n * `fromDate`/`fromMonth`/`fromYear` or `toDate`/`toMonth`/`toYear`.\n *\n * ### Selection modes\n *\n * DayPicker supports different selection mode that can be toggled using the\n * `mode` prop:\n *\n * - `mode=\"single\"`: only one day can be selected. Use `required` to make the\n *   selection required. Use the `onSelect` event handler to get the selected\n *   days.\n * - `mode=\"multiple\"`: users can select one or more days. Limit the amount of\n *   days that can be selected with the `min` or the `max` props.\n * - `mode=\"range\"`: users can select a range of days. Limit the amount of days\n *   in the range with the `min` or the `max` props.\n * - `mode=\"default\"` (default): the built-in selections are disabled. Implement\n *   your own selection mode with `onDayClick`.\n *\n * The selection modes should cover the most common use cases. In case you\n * need a more refined way of selecting days, use `mode=\"default\"`. Use the\n * `selected` props and add the day event handlers to add/remove days from the\n * selection.\n *\n * ### Modifiers\n *\n * A _modifier_ represents different styles or states for the days displayed in\n * the calendar (like \"selected\" or \"disabled\"). Define custom modifiers using\n * the `modifiers` prop.\n *\n * ### Formatters and custom component\n *\n * You can customize how the content is displayed in the date picker by using\n * either the formatters or replacing the internal components.\n *\n * For the most common cases you want to use the `formatters` prop to change how\n * the content is formatted in the calendar. Use the `components` prop to\n * replace the internal components, like the navigation icons.\n *\n * ### Styling\n *\n * DayPicker comes with a default, basic style in `react-day-picker/style` \u2013 use\n * it as template for your own style.\n *\n * If you are using CSS modules, pass the imported styles object the\n * `classNames` props.\n *\n * You can also style the elements via inline styles using the `styles` prop.\n *\n * ### Form fields\n *\n * If you need to bind the date picker to a form field, you can use the\n * `useInput` hooks for a basic behavior. See the `useInput` source as an\n * example to bind the date picker with form fields.\n *\n * ### Localization\n *\n * To localize DayPicker, import the locale from `date-fns` package and use the\n * `locale` prop.\n *\n * For example, to use Spanish locale:\n *\n * ```\n * import { es } from 'date-fns/locale';\n * <DayPicker locale={es} />\n * ```\n */\nexport function DayPicker(\n  props:\n    | DayPickerDefaultProps\n    | DayPickerSingleProps\n    | DayPickerMultipleProps\n    | DayPickerRangeProps\n): JSX.Element {\n  return (\n    <RootProvider {...props}>\n      <Root initialProps={props} />\n    </RootProvider>\n  );\n}\n", "/** @private */\nexport function isValidDate(day: Date): boolean {\n  return !isNaN(day.getTime());\n}\n", "import {\n  ChangeEventHandler,\n  FocusEventHandler,\n  InputHTMLAttributes,\n  useState\n} from 'react';\n\nimport { differenceInCalendarDays, format as _format, parse } from 'date-fns';\nimport { enUS } from 'date-fns/locale';\n\nimport { parseFromToProps } from 'contexts/DayPicker/utils';\nimport { DayPickerBase } from 'types/DayPickerBase';\nimport { DayPickerSingleProps } from 'types/DayPickerSingle';\nimport {\n  DayClickEventHandler,\n  MonthChangeEventHandler\n} from 'types/EventHandlers';\n\nimport { isValidDate } from './utils/isValidDate';\n\n/** The props to attach to the input field when using {@link useInput}. */\nexport type InputProps = Pick<\n  InputHTMLAttributes<HTMLInputElement>,\n  'onBlur' | 'onChange' | 'onFocus' | 'value' | 'placeholder'\n>;\n\n/** The props to attach to the DayPicker component when using {@link useInput}. */\nexport type InputDayPickerProps = Pick<\n  DayPickerSingleProps,\n  | 'fromDate'\n  | 'toDate'\n  | 'locale'\n  | 'month'\n  | 'onDayClick'\n  | 'onMonthChange'\n  | 'selected'\n  | 'today'\n>;\n\nexport interface UseInputOptions\n  extends Pick<\n    DayPickerBase,\n    | 'locale'\n    | 'fromDate'\n    | 'toDate'\n    | 'fromMonth'\n    | 'toMonth'\n    | 'fromYear'\n    | 'toYear'\n    | 'today'\n  > {\n  /** The initially selected date */\n  defaultSelected?: Date;\n  /**\n   * The format string for formatting the input field. See\n   * https://date-fns.org/docs/format for a list of format strings.\n   *\n   * @defaultValue PP\n   */\n  format?: string;\n  /** Make the selection required. */\n  required?: boolean;\n}\n\n/** Represent the value returned by {@link useInput}. */\nexport interface UseInputValue {\n  /** The props to pass to a DayPicker component. */\n  dayPickerProps: InputDayPickerProps;\n  /** The props to pass to an input field. */\n  inputProps: InputProps;\n  /** A function to reset to the initial state. */\n  reset: () => void;\n  /** A function to set the selected day. */\n  setSelected: (day: Date | undefined) => void;\n}\n\n/** Return props and setters for binding an input field to DayPicker. */\nexport function useInput(options: UseInputOptions = {}): UseInputValue {\n  const {\n    locale = enUS,\n    required,\n    format = 'PP',\n    defaultSelected,\n    today = new Date()\n  } = options;\n  const { fromDate, toDate } = parseFromToProps(options);\n\n  // Shortcut to the DateFns functions\n  const parseValue = (value: string) => parse(value, format, today, { locale });\n\n  // Initialize states\n  const [month, setMonth] = useState(defaultSelected ?? today);\n  const [selectedDay, setSelectedDay] = useState(defaultSelected);\n  const defaultInputValue = defaultSelected\n    ? _format(defaultSelected, format, { locale })\n    : '';\n  const [inputValue, setInputValue] = useState(defaultInputValue);\n\n  const reset = () => {\n    setSelectedDay(defaultSelected);\n    setMonth(defaultSelected ?? today);\n    setInputValue(defaultInputValue ?? '');\n  };\n\n  const setSelected = (date: Date | undefined) => {\n    setSelectedDay(date);\n    setMonth(date ?? today);\n    setInputValue(date ? _format(date, format, { locale }) : '');\n  };\n\n  const handleDayClick: DayClickEventHandler = (day, { selected }) => {\n    if (!required && selected) {\n      setSelectedDay(undefined);\n      setInputValue('');\n      return;\n    }\n    setSelectedDay(day);\n    setInputValue(day ? _format(day, format, { locale }) : '');\n  };\n\n  const handleMonthChange: MonthChangeEventHandler = (month) => {\n    setMonth(month);\n  };\n\n  // When changing the input field, save its value in state and check if the\n  // string is a valid date. If it is a valid day, set it as selected and update\n  // the calendar\u2019s month.\n  const handleChange: ChangeEventHandler<HTMLInputElement> = (e) => {\n    setInputValue(e.target.value);\n    const day = parseValue(e.target.value);\n    const isBefore = fromDate && differenceInCalendarDays(fromDate, day) > 0;\n    const isAfter = toDate && differenceInCalendarDays(day, toDate) > 0;\n    if (!isValidDate(day) || isBefore || isAfter) {\n      setSelectedDay(undefined);\n      return;\n    }\n    setSelectedDay(day);\n    setMonth(day);\n  };\n\n  // Special case for _required_ fields: on blur, if the value of the input is not\n  // a valid date, reset the calendar and the input value.\n  const handleBlur: FocusEventHandler<HTMLInputElement> = (e) => {\n    const day = parseValue(e.target.value);\n    if (!isValidDate(day)) {\n      reset();\n    }\n  };\n\n  // When focusing, make sure DayPicker visualizes the month of the date in the\n  // input field.\n  const handleFocus: FocusEventHandler<HTMLInputElement> = (e) => {\n    if (!e.target.value) {\n      reset();\n      return;\n    }\n    const day = parseValue(e.target.value);\n    if (isValidDate(day)) {\n      setMonth(day);\n    }\n  };\n\n  const dayPickerProps: InputDayPickerProps = {\n    month: month,\n    onDayClick: handleDayClick,\n    onMonthChange: handleMonthChange,\n    selected: selectedDay,\n    locale,\n    fromDate,\n    toDate,\n    today\n  };\n\n  const inputProps: InputProps = {\n    onBlur: handleBlur,\n    onChange: handleChange,\n    onFocus: handleFocus,\n    value: inputValue,\n    placeholder: _format(new Date(), format, { locale })\n  };\n\n  return { dayPickerProps, inputProps, reset, setSelected };\n}\n", "import { DayPickerProps } from 'DayPicker';\n\nimport { DayPickerBase } from './DayPickerBase';\n\n/** The props for the {@link DayPicker} component when using `mode=\"default\"` or `undefined`. */\nexport interface DayPickerDefaultProps extends DayPickerBase {\n  mode?: undefined | 'default';\n}\n\n/** Returns true when the props are of type {@link DayPickerDefaultProps}. */\nexport function isDayPickerDefault(\n  props: DayPickerProps\n): props is DayPickerDefaultProps {\n  return props.mode === undefined || props.mode === 'default';\n}\n", "\"use client\"\n\nimport * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: cn(\n          \"relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md\",\n          props.mode === \"range\"\n            ? \"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md\"\n            : \"[&:has([aria-selected])]:rounded-md\"\n        ),\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-8 w-8 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_start: \"day-range-start\",\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n", "import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n", "import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { DismissableLayer } from '@radix-ui/react-dismissable-layer';\nimport { useFocusGuards } from '@radix-ui/react-focus-guards';\nimport { FocusScope } from '@radix-ui/react-focus-scope';\nimport { useId } from '@radix-ui/react-id';\nimport * as PopperPrimitive from '@radix-ui/react-popper';\nimport { createPopperScope } from '@radix-ui/react-popper';\nimport { Portal as PortalPrimitive } from '@radix-ui/react-portal';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { createSlot } from '@radix-ui/react-slot';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { hideOthers } from 'aria-hidden';\nimport { RemoveScroll } from 'react-remove-scroll';\n\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * Popover\n * -----------------------------------------------------------------------------------------------*/\n\nconst POPOVER_NAME = 'Popover';\n\ntype ScopedProps<P> = P & { __scopePopover?: Scope };\nconst [createPopoverContext, createPopoverScope] = createContextScope(POPOVER_NAME, [\n  createPopperScope,\n]);\nconst usePopperScope = createPopperScope();\n\ntype PopoverContextValue = {\n  triggerRef: React.RefObject<HTMLButtonElement | null>;\n  contentId: string;\n  open: boolean;\n  onOpenChange(open: boolean): void;\n  onOpenToggle(): void;\n  hasCustomAnchor: boolean;\n  onCustomAnchorAdd(): void;\n  onCustomAnchorRemove(): void;\n  modal: boolean;\n};\n\nconst [PopoverProvider, usePopoverContext] =\n  createPopoverContext<PopoverContextValue>(POPOVER_NAME);\n\ninterface PopoverProps {\n  children?: React.ReactNode;\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  modal?: boolean;\n}\n\nconst Popover: React.FC<PopoverProps> = (props: ScopedProps<PopoverProps>) => {\n  const {\n    __scopePopover,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = false,\n  } = props;\n  const popperScope = usePopperScope(__scopePopover);\n  const triggerRef = React.useRef<HTMLButtonElement>(null);\n  const [hasCustomAnchor, setHasCustomAnchor] = React.useState(false);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: POPOVER_NAME,\n  });\n\n  return (\n    <PopperPrimitive.Root {...popperScope}>\n      <PopoverProvider\n        scope={__scopePopover}\n        contentId={useId()}\n        triggerRef={triggerRef}\n        open={open}\n        onOpenChange={setOpen}\n        onOpenToggle={React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen])}\n        hasCustomAnchor={hasCustomAnchor}\n        onCustomAnchorAdd={React.useCallback(() => setHasCustomAnchor(true), [])}\n        onCustomAnchorRemove={React.useCallback(() => setHasCustomAnchor(false), [])}\n        modal={modal}\n      >\n        {children}\n      </PopoverProvider>\n    </PopperPrimitive.Root>\n  );\n};\n\nPopover.displayName = POPOVER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverAnchor\n * -----------------------------------------------------------------------------------------------*/\n\nconst ANCHOR_NAME = 'PopoverAnchor';\n\ntype PopoverAnchorElement = React.ComponentRef<typeof PopperPrimitive.Anchor>;\ntype PopperAnchorProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Anchor>;\ninterface PopoverAnchorProps extends PopperAnchorProps {}\n\nconst PopoverAnchor = React.forwardRef<PopoverAnchorElement, PopoverAnchorProps>(\n  (props: ScopedProps<PopoverAnchorProps>, forwardedRef) => {\n    const { __scopePopover, ...anchorProps } = props;\n    const context = usePopoverContext(ANCHOR_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const { onCustomAnchorAdd, onCustomAnchorRemove } = context;\n\n    React.useEffect(() => {\n      onCustomAnchorAdd();\n      return () => onCustomAnchorRemove();\n    }, [onCustomAnchorAdd, onCustomAnchorRemove]);\n\n    return <PopperPrimitive.Anchor {...popperScope} {...anchorProps} ref={forwardedRef} />;\n  }\n);\n\nPopoverAnchor.displayName = ANCHOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'PopoverTrigger';\n\ntype PopoverTriggerElement = React.ComponentRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface PopoverTriggerProps extends PrimitiveButtonProps {}\n\nconst PopoverTrigger = React.forwardRef<PopoverTriggerElement, PopoverTriggerProps>(\n  (props: ScopedProps<PopoverTriggerProps>, forwardedRef) => {\n    const { __scopePopover, ...triggerProps } = props;\n    const context = usePopoverContext(TRIGGER_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const composedTriggerRef = useComposedRefs(forwardedRef, context.triggerRef);\n\n    const trigger = (\n      <Primitive.button\n        type=\"button\"\n        aria-haspopup=\"dialog\"\n        aria-expanded={context.open}\n        aria-controls={context.contentId}\n        data-state={getState(context.open)}\n        {...triggerProps}\n        ref={composedTriggerRef}\n        onClick={composeEventHandlers(props.onClick, context.onOpenToggle)}\n      />\n    );\n\n    return context.hasCustomAnchor ? (\n      trigger\n    ) : (\n      <PopperPrimitive.Anchor asChild {...popperScope}>\n        {trigger}\n      </PopperPrimitive.Anchor>\n    );\n  }\n);\n\nPopoverTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverPortal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'PopoverPortal';\n\ntype PortalContextValue = { forceMount?: true };\nconst [PortalProvider, usePortalContext] = createPopoverContext<PortalContextValue>(PORTAL_NAME, {\n  forceMount: undefined,\n});\n\ntype PortalProps = React.ComponentPropsWithoutRef<typeof PortalPrimitive>;\ninterface PopoverPortalProps {\n  children?: React.ReactNode;\n  /**\n   * Specify a container element to portal the content into.\n   */\n  container?: PortalProps['container'];\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst PopoverPortal: React.FC<PopoverPortalProps> = (props: ScopedProps<PopoverPortalProps>) => {\n  const { __scopePopover, forceMount, children, container } = props;\n  const context = usePopoverContext(PORTAL_NAME, __scopePopover);\n  return (\n    <PortalProvider scope={__scopePopover} forceMount={forceMount}>\n      <Presence present={forceMount || context.open}>\n        <PortalPrimitive asChild container={container}>\n          {children}\n        </PortalPrimitive>\n      </Presence>\n    </PortalProvider>\n  );\n};\n\nPopoverPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'PopoverContent';\n\ninterface PopoverContentProps extends PopoverContentTypeProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst PopoverContent = React.forwardRef<PopoverContentTypeElement, PopoverContentProps>(\n  (props: ScopedProps<PopoverContentProps>, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopePopover);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    return (\n      <Presence present={forceMount || context.open}>\n        {context.modal ? (\n          <PopoverContentModal {...contentProps} ref={forwardedRef} />\n        ) : (\n          <PopoverContentNonModal {...contentProps} ref={forwardedRef} />\n        )}\n      </Presence>\n    );\n  }\n);\n\nPopoverContent.displayName = CONTENT_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Slot = createSlot('PopoverContent.RemoveScroll');\n\ntype PopoverContentTypeElement = PopoverContentImplElement;\ninterface PopoverContentTypeProps\n  extends Omit<PopoverContentImplProps, 'trapFocus' | 'disableOutsidePointerEvents'> {}\n\nconst PopoverContentModal = React.forwardRef<PopoverContentTypeElement, PopoverContentTypeProps>(\n  (props: ScopedProps<PopoverContentTypeProps>, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const contentRef = React.useRef<HTMLDivElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    const isRightClickOutsideRef = React.useRef(false);\n\n    // aria-hide everything except the content (better supported equivalent to setting aria-modal)\n    React.useEffect(() => {\n      const content = contentRef.current;\n      if (content) return hideOthers(content);\n    }, []);\n\n    return (\n      <RemoveScroll as={Slot} allowPinchZoom>\n        <PopoverContentImpl\n          {...props}\n          ref={composedRefs}\n          // we make sure we're not trapping once it's been closed\n          // (closed !== unmounted when animating out)\n          trapFocus={context.open}\n          disableOutsidePointerEvents\n          onCloseAutoFocus={composeEventHandlers(props.onCloseAutoFocus, (event) => {\n            event.preventDefault();\n            if (!isRightClickOutsideRef.current) context.triggerRef.current?.focus();\n          })}\n          onPointerDownOutside={composeEventHandlers(\n            props.onPointerDownOutside,\n            (event) => {\n              const originalEvent = event.detail.originalEvent;\n              const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n              const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n\n              isRightClickOutsideRef.current = isRightClick;\n            },\n            { checkForDefaultPrevented: false }\n          )}\n          // When focus is trapped, a `focusout` event may still happen.\n          // We make sure we don't trigger our `onDismiss` in such case.\n          onFocusOutside={composeEventHandlers(\n            props.onFocusOutside,\n            (event) => event.preventDefault(),\n            { checkForDefaultPrevented: false }\n          )}\n        />\n      </RemoveScroll>\n    );\n  }\n);\n\nconst PopoverContentNonModal = React.forwardRef<PopoverContentTypeElement, PopoverContentTypeProps>(\n  (props: ScopedProps<PopoverContentTypeProps>, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const hasInteractedOutsideRef = React.useRef(false);\n    const hasPointerDownOutsideRef = React.useRef(false);\n\n    return (\n      <PopoverContentImpl\n        {...props}\n        ref={forwardedRef}\n        trapFocus={false}\n        disableOutsidePointerEvents={false}\n        onCloseAutoFocus={(event) => {\n          props.onCloseAutoFocus?.(event);\n\n          if (!event.defaultPrevented) {\n            if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n            // Always prevent auto focus because we either focus manually or want user agent focus\n            event.preventDefault();\n          }\n\n          hasInteractedOutsideRef.current = false;\n          hasPointerDownOutsideRef.current = false;\n        }}\n        onInteractOutside={(event) => {\n          props.onInteractOutside?.(event);\n\n          if (!event.defaultPrevented) {\n            hasInteractedOutsideRef.current = true;\n            if (event.detail.originalEvent.type === 'pointerdown') {\n              hasPointerDownOutsideRef.current = true;\n            }\n          }\n\n          // Prevent dismissing when clicking the trigger.\n          // As the trigger is already setup to close, without doing so would\n          // cause it to close and immediately open.\n          const target = event.target as HTMLElement;\n          const targetIsTrigger = context.triggerRef.current?.contains(target);\n          if (targetIsTrigger) event.preventDefault();\n\n          // On Safari if the trigger is inside a container with tabIndex={0}, when clicked\n          // we will get the pointer down outside event on the trigger, but then a subsequent\n          // focus outside event on the container, we ignore any focus outside event when we've\n          // already had a pointer down outside event.\n          if (event.detail.originalEvent.type === 'focusin' && hasPointerDownOutsideRef.current) {\n            event.preventDefault();\n          }\n        }}\n      />\n    );\n  }\n);\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype PopoverContentImplElement = React.ComponentRef<typeof PopperPrimitive.Content>;\ntype FocusScopeProps = React.ComponentPropsWithoutRef<typeof FocusScope>;\ntype DismissableLayerProps = React.ComponentPropsWithoutRef<typeof DismissableLayer>;\ntype PopperContentProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Content>;\ninterface PopoverContentImplProps\n  extends Omit<PopperContentProps, 'onPlaced'>,\n    Omit<DismissableLayerProps, 'onDismiss'> {\n  /**\n   * Whether focus should be trapped within the `Popover`\n   * (default: false)\n   */\n  trapFocus?: FocusScopeProps['trapped'];\n\n  /**\n   * Event handler called when auto-focusing on open.\n   * Can be prevented.\n   */\n  onOpenAutoFocus?: FocusScopeProps['onMountAutoFocus'];\n\n  /**\n   * Event handler called when auto-focusing on close.\n   * Can be prevented.\n   */\n  onCloseAutoFocus?: FocusScopeProps['onUnmountAutoFocus'];\n}\n\nconst PopoverContentImpl = React.forwardRef<PopoverContentImplElement, PopoverContentImplProps>(\n  (props: ScopedProps<PopoverContentImplProps>, forwardedRef) => {\n    const {\n      __scopePopover,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      ...contentProps\n    } = props;\n    const context = usePopoverContext(CONTENT_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n\n    // Make sure the whole tree has focus guards as our `Popover` may be\n    // the last element in the DOM (because of the `Portal`)\n    useFocusGuards();\n\n    return (\n      <FocusScope\n        asChild\n        loop\n        trapped={trapFocus}\n        onMountAutoFocus={onOpenAutoFocus}\n        onUnmountAutoFocus={onCloseAutoFocus}\n      >\n        <DismissableLayer\n          asChild\n          disableOutsidePointerEvents={disableOutsidePointerEvents}\n          onInteractOutside={onInteractOutside}\n          onEscapeKeyDown={onEscapeKeyDown}\n          onPointerDownOutside={onPointerDownOutside}\n          onFocusOutside={onFocusOutside}\n          onDismiss={() => context.onOpenChange(false)}\n        >\n          <PopperPrimitive.Content\n            data-state={getState(context.open)}\n            role=\"dialog\"\n            id={context.contentId}\n            {...popperScope}\n            {...contentProps}\n            ref={forwardedRef}\n            style={{\n              ...contentProps.style,\n              // re-namespace exposed content custom properties\n              ...{\n                '--radix-popover-content-transform-origin': 'var(--radix-popper-transform-origin)',\n                '--radix-popover-content-available-width': 'var(--radix-popper-available-width)',\n                '--radix-popover-content-available-height': 'var(--radix-popper-available-height)',\n                '--radix-popover-trigger-width': 'var(--radix-popper-anchor-width)',\n                '--radix-popover-trigger-height': 'var(--radix-popper-anchor-height)',\n              },\n            }}\n          />\n        </DismissableLayer>\n      </FocusScope>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverClose\n * -----------------------------------------------------------------------------------------------*/\n\nconst CLOSE_NAME = 'PopoverClose';\n\ntype PopoverCloseElement = React.ComponentRef<typeof Primitive.button>;\ninterface PopoverCloseProps extends PrimitiveButtonProps {}\n\nconst PopoverClose = React.forwardRef<PopoverCloseElement, PopoverCloseProps>(\n  (props: ScopedProps<PopoverCloseProps>, forwardedRef) => {\n    const { __scopePopover, ...closeProps } = props;\n    const context = usePopoverContext(CLOSE_NAME, __scopePopover);\n    return (\n      <Primitive.button\n        type=\"button\"\n        {...closeProps}\n        ref={forwardedRef}\n        onClick={composeEventHandlers(props.onClick, () => context.onOpenChange(false))}\n      />\n    );\n  }\n);\n\nPopoverClose.displayName = CLOSE_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverArrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst ARROW_NAME = 'PopoverArrow';\n\ntype PopoverArrowElement = React.ComponentRef<typeof PopperPrimitive.Arrow>;\ntype PopperArrowProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Arrow>;\ninterface PopoverArrowProps extends PopperArrowProps {}\n\nconst PopoverArrow = React.forwardRef<PopoverArrowElement, PopoverArrowProps>(\n  (props: ScopedProps<PopoverArrowProps>, forwardedRef) => {\n    const { __scopePopover, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopePopover);\n    return <PopperPrimitive.Arrow {...popperScope} {...arrowProps} ref={forwardedRef} />;\n  }\n);\n\nPopoverArrow.displayName = ARROW_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction getState(open: boolean) {\n  return open ? 'open' : 'closed';\n}\n\nconst Root = Popover;\nconst Anchor = PopoverAnchor;\nconst Trigger = PopoverTrigger;\nconst Portal = PopoverPortal;\nconst Content = PopoverContent;\nconst Close = PopoverClose;\nconst Arrow = PopoverArrow;\n\nexport {\n  createPopoverScope,\n  //\n  Popover,\n  PopoverAnchor,\n  PopoverTrigger,\n  PopoverPortal,\n  PopoverContent,\n  PopoverClose,\n  PopoverArrow,\n  //\n  Root,\n  Anchor,\n  Trigger,\n  Portal,\n  Content,\n  Close,\n  Arrow,\n};\nexport type {\n  PopoverProps,\n  PopoverAnchorProps,\n  PopoverTriggerProps,\n  PopoverPortalProps,\n  PopoverContentProps,\n  PopoverCloseProps,\n  PopoverArrowProps,\n};\n", "import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n", "import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { usePrevious } from '@radix-ui/react-use-previous';\nimport { useSize } from '@radix-ui/react-use-size';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * Switch\n * -----------------------------------------------------------------------------------------------*/\n\nconst SWITCH_NAME = 'Switch';\n\ntype ScopedProps<P> = P & { __scopeSwitch?: Scope };\nconst [createSwitchContext, createSwitchScope] = createContextScope(SWITCH_NAME);\n\ntype SwitchContextValue = { checked: boolean; disabled?: boolean };\nconst [SwitchProvider, useSwitchContext] = createSwitchContext<SwitchContextValue>(SWITCH_NAME);\n\ntype SwitchElement = React.ComponentRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface SwitchProps extends PrimitiveButtonProps {\n  checked?: boolean;\n  defaultChecked?: boolean;\n  required?: boolean;\n  onCheckedChange?(checked: boolean): void;\n}\n\nconst Switch = React.forwardRef<SwitchElement, SwitchProps>(\n  (props: ScopedProps<SwitchProps>, forwardedRef) => {\n    const {\n      __scopeSwitch,\n      name,\n      checked: checkedProp,\n      defaultChecked,\n      required,\n      disabled,\n      value = 'on',\n      onCheckedChange,\n      form,\n      ...switchProps\n    } = props;\n    const [button, setButton] = React.useState<HTMLButtonElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setButton(node));\n    const hasConsumerStoppedPropagationRef = React.useRef(false);\n    // We set this to true by default so that events bubble to forms without JS (SSR)\n    const isFormControl = button ? form || !!button.closest('form') : true;\n    const [checked, setChecked] = useControllableState({\n      prop: checkedProp,\n      defaultProp: defaultChecked ?? false,\n      onChange: onCheckedChange,\n      caller: SWITCH_NAME,\n    });\n\n    return (\n      <SwitchProvider scope={__scopeSwitch} checked={checked} disabled={disabled}>\n        <Primitive.button\n          type=\"button\"\n          role=\"switch\"\n          aria-checked={checked}\n          aria-required={required}\n          data-state={getState(checked)}\n          data-disabled={disabled ? '' : undefined}\n          disabled={disabled}\n          value={value}\n          {...switchProps}\n          ref={composedRefs}\n          onClick={composeEventHandlers(props.onClick, (event) => {\n            setChecked((prevChecked) => !prevChecked);\n            if (isFormControl) {\n              hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n              // if switch is in a form, stop propagation from the button so that we only propagate\n              // one click event (from the input). We propagate changes from an input so that native\n              // form validation works and form events reflect switch updates.\n              if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n            }\n          })}\n        />\n        {isFormControl && (\n          <SwitchBubbleInput\n            control={button}\n            bubbles={!hasConsumerStoppedPropagationRef.current}\n            name={name}\n            value={value}\n            checked={checked}\n            required={required}\n            disabled={disabled}\n            form={form}\n            // We transform because the input is absolutely positioned but we have\n            // rendered it **after** the button. This pulls it back to sit on top\n            // of the button.\n            style={{ transform: 'translateX(-100%)' }}\n          />\n        )}\n      </SwitchProvider>\n    );\n  }\n);\n\nSwitch.displayName = SWITCH_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SwitchThumb\n * -----------------------------------------------------------------------------------------------*/\n\nconst THUMB_NAME = 'SwitchThumb';\n\ntype SwitchThumbElement = React.ComponentRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = React.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface SwitchThumbProps extends PrimitiveSpanProps {}\n\nconst SwitchThumb = React.forwardRef<SwitchThumbElement, SwitchThumbProps>(\n  (props: ScopedProps<SwitchThumbProps>, forwardedRef) => {\n    const { __scopeSwitch, ...thumbProps } = props;\n    const context = useSwitchContext(THUMB_NAME, __scopeSwitch);\n    return (\n      <Primitive.span\n        data-state={getState(context.checked)}\n        data-disabled={context.disabled ? '' : undefined}\n        {...thumbProps}\n        ref={forwardedRef}\n      />\n    );\n  }\n);\n\nSwitchThumb.displayName = THUMB_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SwitchBubbleInput\n * -----------------------------------------------------------------------------------------------*/\n\nconst BUBBLE_INPUT_NAME = 'SwitchBubbleInput';\n\ntype InputProps = React.ComponentPropsWithoutRef<typeof Primitive.input>;\ninterface SwitchBubbleInputProps extends Omit<InputProps, 'checked'> {\n  checked: boolean;\n  control: HTMLElement | null;\n  bubbles: boolean;\n}\n\nconst SwitchBubbleInput = React.forwardRef<HTMLInputElement, SwitchBubbleInputProps>(\n  (\n    {\n      __scopeSwitch,\n      control,\n      checked,\n      bubbles = true,\n      ...props\n    }: ScopedProps<SwitchBubbleInputProps>,\n    forwardedRef\n  ) => {\n    const ref = React.useRef<HTMLInputElement>(null);\n    const composedRefs = useComposedRefs(ref, forwardedRef);\n    const prevChecked = usePrevious(checked);\n    const controlSize = useSize(control);\n\n    // Bubble checked change to parents (e.g form change event)\n    React.useEffect(() => {\n      const input = ref.current;\n      if (!input) return;\n\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        inputProto,\n        'checked'\n      ) as PropertyDescriptor;\n      const setChecked = descriptor.set;\n      if (prevChecked !== checked && setChecked) {\n        const event = new Event('click', { bubbles });\n        setChecked.call(input, checked);\n        input.dispatchEvent(event);\n      }\n    }, [prevChecked, checked, bubbles]);\n\n    return (\n      <input\n        type=\"checkbox\"\n        aria-hidden\n        defaultChecked={checked}\n        {...props}\n        tabIndex={-1}\n        ref={composedRefs}\n        style={{\n          ...props.style,\n          ...controlSize,\n          position: 'absolute',\n          pointerEvents: 'none',\n          opacity: 0,\n          margin: 0,\n        }}\n      />\n    );\n  }\n);\n\nSwitchBubbleInput.displayName = BUBBLE_INPUT_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction getState(checked: boolean) {\n  return checked ? 'checked' : 'unchecked';\n}\n\nconst Root = Switch;\nconst Thumb = SwitchThumb;\n\nexport {\n  createSwitchScope,\n  //\n  Switch,\n  SwitchThumb,\n  //\n  Root,\n  Thumb,\n};\nexport type { SwitchProps, SwitchThumbProps };\n", "\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n", "import * as React from 'react';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { usePrevious } from '@radix-ui/react-use-previous';\nimport { useSize } from '@radix-ui/react-use-size';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type { Scope } from '@radix-ui/react-context';\n\nconst CHECKBOX_NAME = 'Checkbox';\n\ntype ScopedProps<P> = P & { __scopeCheckbox?: Scope };\nconst [createCheckboxContext, createCheckboxScope] = createContextScope(CHECKBOX_NAME);\n\ntype CheckedState = boolean | 'indeterminate';\n\ntype CheckboxContextValue<State extends CheckedState | boolean = CheckedState> = {\n  checked: State | boolean;\n  setChecked: React.Dispatch<React.SetStateAction<State | boolean>>;\n  disabled: boolean | undefined;\n  control: HTMLButtonElement | null;\n  setControl: React.Dispatch<React.SetStateAction<HTMLButtonElement | null>>;\n  name: string | undefined;\n  form: string | undefined;\n  value: string | number | readonly string[];\n  hasConsumerStoppedPropagationRef: React.RefObject<boolean>;\n  required: boolean | undefined;\n  defaultChecked: boolean | undefined;\n  isFormControl: boolean;\n  bubbleInput: HTMLInputElement | null;\n  setBubbleInput: React.Dispatch<React.SetStateAction<HTMLInputElement | null>>;\n};\n\nconst [CheckboxProviderImpl, useCheckboxContext] =\n  createCheckboxContext<CheckboxContextValue>(CHECKBOX_NAME);\n\n/* -------------------------------------------------------------------------------------------------\n * CheckboxProvider\n * -----------------------------------------------------------------------------------------------*/\n\ninterface CheckboxProviderProps<State extends CheckedState = CheckedState> {\n  checked?: State | boolean;\n  defaultChecked?: State | boolean;\n  required?: boolean;\n  onCheckedChange?(checked: State | boolean): void;\n  name?: string;\n  form?: string;\n  disabled?: boolean;\n  value?: string | number | readonly string[];\n  children?: React.ReactNode;\n}\n\nfunction CheckboxProvider<State extends CheckedState = CheckedState>(\n  props: ScopedProps<CheckboxProviderProps<State>>\n) {\n  const {\n    __scopeCheckbox,\n    checked: checkedProp,\n    children,\n    defaultChecked,\n    disabled,\n    form,\n    name,\n    onCheckedChange,\n    required,\n    value = 'on',\n    // @ts-expect-error\n    internal_do_not_use_render,\n  } = props;\n\n  const [checked, setChecked] = useControllableState({\n    prop: checkedProp,\n    defaultProp: defaultChecked ?? false,\n    onChange: onCheckedChange,\n    caller: CHECKBOX_NAME,\n  });\n  const [control, setControl] = React.useState<HTMLButtonElement | null>(null);\n  const [bubbleInput, setBubbleInput] = React.useState<HTMLInputElement | null>(null);\n  const hasConsumerStoppedPropagationRef = React.useRef(false);\n  const isFormControl = control\n    ? !!form || !!control.closest('form')\n    : // We set this to true by default so that events bubble to forms without JS (SSR)\n      true;\n\n  const context: CheckboxContextValue<State> = {\n    checked: checked,\n    disabled: disabled,\n    setChecked: setChecked,\n    control: control,\n    setControl: setControl,\n    name: name,\n    form: form,\n    value: value,\n    hasConsumerStoppedPropagationRef: hasConsumerStoppedPropagationRef,\n    required: required,\n    defaultChecked: isIndeterminate(defaultChecked) ? false : defaultChecked,\n    isFormControl: isFormControl,\n    bubbleInput,\n    setBubbleInput,\n  };\n\n  return (\n    <CheckboxProviderImpl\n      scope={__scopeCheckbox}\n      {...(context as unknown as CheckboxContextValue<CheckedState>)}\n    >\n      {isFunction(internal_do_not_use_render) ? internal_do_not_use_render(context) : children}\n    </CheckboxProviderImpl>\n  );\n}\n\n/* -------------------------------------------------------------------------------------------------\n * CheckboxTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'CheckboxTrigger';\n\ninterface CheckboxTriggerProps\n  extends Omit<\n    React.ComponentPropsWithoutRef<typeof Primitive.button>,\n    keyof CheckboxProviderProps\n  > {\n  children?: React.ReactNode;\n}\n\nconst CheckboxTrigger = React.forwardRef<HTMLButtonElement, CheckboxTriggerProps>(\n  (\n    { __scopeCheckbox, onKeyDown, onClick, ...checkboxProps }: ScopedProps<CheckboxTriggerProps>,\n    forwardedRef\n  ) => {\n    const {\n      control,\n      value,\n      disabled,\n      checked,\n      required,\n      setControl,\n      setChecked,\n      hasConsumerStoppedPropagationRef,\n      isFormControl,\n      bubbleInput,\n    } = useCheckboxContext(TRIGGER_NAME, __scopeCheckbox);\n    const composedRefs = useComposedRefs(forwardedRef, setControl);\n\n    const initialCheckedStateRef = React.useRef(checked);\n    React.useEffect(() => {\n      const form = control?.form;\n      if (form) {\n        const reset = () => setChecked(initialCheckedStateRef.current);\n        form.addEventListener('reset', reset);\n        return () => form.removeEventListener('reset', reset);\n      }\n    }, [control, setChecked]);\n\n    return (\n      <Primitive.button\n        type=\"button\"\n        role=\"checkbox\"\n        aria-checked={isIndeterminate(checked) ? 'mixed' : checked}\n        aria-required={required}\n        data-state={getState(checked)}\n        data-disabled={disabled ? '' : undefined}\n        disabled={disabled}\n        value={value}\n        {...checkboxProps}\n        ref={composedRefs}\n        onKeyDown={composeEventHandlers(onKeyDown, (event) => {\n          // According to WAI ARIA, Checkboxes don't activate on enter keypress\n          if (event.key === 'Enter') event.preventDefault();\n        })}\n        onClick={composeEventHandlers(onClick, (event) => {\n          setChecked((prevChecked) => (isIndeterminate(prevChecked) ? true : !prevChecked));\n          if (bubbleInput && isFormControl) {\n            hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n            // if checkbox has a bubble input and is a form control, stop\n            // propagation from the button so that we only propagate one click\n            // event (from the input). We propagate changes from an input so\n            // that native form validation works and form events reflect\n            // checkbox updates.\n            if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n          }\n        })}\n      />\n    );\n  }\n);\n\nCheckboxTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * Checkbox\n * -----------------------------------------------------------------------------------------------*/\n\ntype CheckboxElement = React.ComponentRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface CheckboxProps extends Omit<PrimitiveButtonProps, 'checked' | 'defaultChecked'> {\n  checked?: CheckedState;\n  defaultChecked?: CheckedState;\n  required?: boolean;\n  onCheckedChange?(checked: CheckedState): void;\n}\n\nconst Checkbox = React.forwardRef<CheckboxElement, CheckboxProps>(\n  (props: ScopedProps<CheckboxProps>, forwardedRef) => {\n    const {\n      __scopeCheckbox,\n      name,\n      checked,\n      defaultChecked,\n      required,\n      disabled,\n      value,\n      onCheckedChange,\n      form,\n      ...checkboxProps\n    } = props;\n\n    return (\n      <CheckboxProvider\n        __scopeCheckbox={__scopeCheckbox}\n        checked={checked}\n        defaultChecked={defaultChecked}\n        disabled={disabled}\n        required={required}\n        onCheckedChange={onCheckedChange}\n        name={name}\n        form={form}\n        value={value}\n        // @ts-expect-error\n        internal_do_not_use_render={({ isFormControl }: CheckboxContextValue) => (\n          <>\n            <CheckboxTrigger\n              {...checkboxProps}\n              ref={forwardedRef}\n              // @ts-expect-error\n              __scopeCheckbox={__scopeCheckbox}\n            />\n            {isFormControl && (\n              <CheckboxBubbleInput\n                // @ts-expect-error\n                __scopeCheckbox={__scopeCheckbox}\n              />\n            )}\n          </>\n        )}\n      />\n    );\n  }\n);\n\nCheckbox.displayName = CHECKBOX_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * CheckboxIndicator\n * -----------------------------------------------------------------------------------------------*/\n\nconst INDICATOR_NAME = 'CheckboxIndicator';\n\ntype CheckboxIndicatorElement = React.ComponentRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = React.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface CheckboxIndicatorProps extends PrimitiveSpanProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst CheckboxIndicator = React.forwardRef<CheckboxIndicatorElement, CheckboxIndicatorProps>(\n  (props: ScopedProps<CheckboxIndicatorProps>, forwardedRef) => {\n    const { __scopeCheckbox, forceMount, ...indicatorProps } = props;\n    const context = useCheckboxContext(INDICATOR_NAME, __scopeCheckbox);\n    return (\n      <Presence\n        present={forceMount || isIndeterminate(context.checked) || context.checked === true}\n      >\n        <Primitive.span\n          data-state={getState(context.checked)}\n          data-disabled={context.disabled ? '' : undefined}\n          {...indicatorProps}\n          ref={forwardedRef}\n          style={{ pointerEvents: 'none', ...props.style }}\n        />\n      </Presence>\n    );\n  }\n);\n\nCheckboxIndicator.displayName = INDICATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * CheckboxBubbleInput\n * -----------------------------------------------------------------------------------------------*/\n\nconst BUBBLE_INPUT_NAME = 'CheckboxBubbleInput';\n\ntype InputProps = React.ComponentPropsWithoutRef<typeof Primitive.input>;\ninterface CheckboxBubbleInputProps extends Omit<InputProps, 'checked'> {}\n\nconst CheckboxBubbleInput = React.forwardRef<HTMLInputElement, CheckboxBubbleInputProps>(\n  ({ __scopeCheckbox, ...props }: ScopedProps<CheckboxBubbleInputProps>, forwardedRef) => {\n    const {\n      control,\n      hasConsumerStoppedPropagationRef,\n      checked,\n      defaultChecked,\n      required,\n      disabled,\n      name,\n      value,\n      form,\n      bubbleInput,\n      setBubbleInput,\n    } = useCheckboxContext(BUBBLE_INPUT_NAME, __scopeCheckbox);\n\n    const composedRefs = useComposedRefs(forwardedRef, setBubbleInput);\n    const prevChecked = usePrevious(checked);\n    const controlSize = useSize(control);\n\n    // Bubble checked change to parents (e.g form change event)\n    React.useEffect(() => {\n      const input = bubbleInput;\n      if (!input) return;\n\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        inputProto,\n        'checked'\n      ) as PropertyDescriptor;\n      const setChecked = descriptor.set;\n\n      const bubbles = !hasConsumerStoppedPropagationRef.current;\n      if (prevChecked !== checked && setChecked) {\n        const event = new Event('click', { bubbles });\n        input.indeterminate = isIndeterminate(checked);\n        setChecked.call(input, isIndeterminate(checked) ? false : checked);\n        input.dispatchEvent(event);\n      }\n    }, [bubbleInput, prevChecked, checked, hasConsumerStoppedPropagationRef]);\n\n    const defaultCheckedRef = React.useRef(isIndeterminate(checked) ? false : checked);\n    return (\n      <Primitive.input\n        type=\"checkbox\"\n        aria-hidden\n        defaultChecked={defaultChecked ?? defaultCheckedRef.current}\n        required={required}\n        disabled={disabled}\n        name={name}\n        value={value}\n        form={form}\n        {...props}\n        tabIndex={-1}\n        ref={composedRefs}\n        style={{\n          ...props.style,\n          ...controlSize,\n          position: 'absolute',\n          pointerEvents: 'none',\n          opacity: 0,\n          margin: 0,\n          // We transform because the input is absolutely positioned but we have\n          // rendered it **after** the button. This pulls it back to sit on top\n          // of the button.\n          transform: 'translateX(-100%)',\n        }}\n      />\n    );\n  }\n);\n\nCheckboxBubbleInput.displayName = BUBBLE_INPUT_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\nfunction isFunction(value: unknown): value is (...args: any[]) => any {\n  return typeof value === 'function';\n}\n\nfunction isIndeterminate(checked?: CheckedState): checked is 'indeterminate' {\n  return checked === 'indeterminate';\n}\n\nfunction getState(checked: CheckedState) {\n  return isIndeterminate(checked) ? 'indeterminate' : checked ? 'checked' : 'unchecked';\n}\n\nexport {\n  createCheckboxScope,\n  //\n  Checkbox,\n  CheckboxProvider,\n  CheckboxTrigger,\n  CheckboxIndicator,\n  CheckboxBubbleInput,\n  //\n  Checkbox as Root,\n  CheckboxProvider as Provider,\n  CheckboxTrigger as Trigger,\n  CheckboxIndicator as Indicator,\n  CheckboxBubbleInput as BubbleInput,\n};\nexport type {\n  CheckboxProps,\n  CheckboxProviderProps,\n  CheckboxTriggerProps,\n  CheckboxIndicatorProps,\n  CheckboxBubbleInputProps,\n  CheckedState,\n};\n", "\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n", "import * as React from 'react';\nimport { Primitive } from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n *  Separator\n * -----------------------------------------------------------------------------------------------*/\n\nconst NAME = 'Separator';\nconst DEFAULT_ORIENTATION = 'horizontal';\nconst ORIENTATIONS = ['horizontal', 'vertical'] as const;\n\ntype Orientation = (typeof ORIENTATIONS)[number];\ntype SeparatorElement = React.ComponentRef<typeof Primitive.div>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface SeparatorProps extends PrimitiveDivProps {\n  /**\n   * Either `vertical` or `horizontal`. Defaults to `horizontal`.\n   */\n  orientation?: Orientation;\n  /**\n   * Whether or not the component is purely decorative. When true, accessibility-related attributes\n   * are updated so that that the rendered element is removed from the accessibility tree.\n   */\n  decorative?: boolean;\n}\n\nconst Separator = React.forwardRef<SeparatorElement, SeparatorProps>((props, forwardedRef) => {\n  const { decorative, orientation: orientationProp = DEFAULT_ORIENTATION, ...domProps } = props;\n  const orientation = isValidOrientation(orientationProp) ? orientationProp : DEFAULT_ORIENTATION;\n  // `aria-orientation` defaults to `horizontal` so we only need it if `orientation` is vertical\n  const ariaOrientation = orientation === 'vertical' ? orientation : undefined;\n  const semanticProps = decorative\n    ? { role: 'none' }\n    : { 'aria-orientation': ariaOrientation, role: 'separator' };\n\n  return (\n    <Primitive.div\n      data-orientation={orientation}\n      {...semanticProps}\n      {...domProps}\n      ref={forwardedRef}\n    />\n  );\n});\n\nSeparator.displayName = NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction isValidOrientation(orientation: any): orientation is Orientation {\n  return ORIENTATIONS.includes(orientation);\n}\n\nconst Root = Separator;\n\nexport {\n  Separator,\n  //\n  Root,\n};\nexport type { SeparatorProps };\n", "\nimport { Priority, TaskStatus } from './enums'\n\nexport enum ContentType {\n  TASK = 'TASK',\n  NOTE = 'NOTE', \n  CALENDAR_EVENT = 'CALENDAR_EVENT',\n  MIXED = 'MIXED' // Allows creating multiple content types at once\n}\n\nexport interface PriorityConfig {\n  level: Priority\n  dots: number // Number of filled priority dots (1-5)\n  color: string\n}\n\nexport interface FileAttachment {\n  id?: string\n  name: string\n  size: number\n  type: string\n  url?: string\n  file?: File // For new uploads\n}\n\nexport interface ChecklistItem {\n  id?: string\n  text: string\n  completed: boolean\n  order?: number\n}\n\nexport interface SubtaskReference {\n  id: string\n  title: string\n  priority: Priority\n  status: TaskStatus\n  tags: string[]\n}\n\nexport interface ReminderConfig {\n  enabled: boolean\n  timeBefore: string // e.g., \"1d\", \"1h\", \"30m\"\n  type: 'email' | 'notification' | 'both'\n}\n\nexport interface WorkflowConfig {\n  createVideoMeeting: boolean\n  createCall: boolean\n  kanbanTaskBoard: boolean\n  notes: boolean\n  ganttTimeline: boolean\n  ganttDependency: boolean\n  reminder: boolean\n  notifyTeam: boolean\n  changesNotifyTeam: boolean\n  reminders: ReminderConfig[]\n}\n\nexport interface RecurringConfig {\n  enabled: boolean\n  startDate?: Date\n  endDate?: Date\n  pattern?: 'daily' | 'weekly' | 'monthly' | 'yearly'\n  interval?: number\n  daysOfWeek?: number[]\n}\n\nexport interface TeamAssignment {\n  userId: string\n  name: string\n  avatar?: string\n  role?: string\n}\n\nexport interface UniversalFormData {\n  contentType: ContentType\n  id?: string // For editing existing content\n  \n  title: string\n  description: string\n  priority: Priority\n  tags: string[]\n  \n  allDay: boolean\n  startDate?: Date\n  startTime?: string\n  endDate?: Date\n  endTime?: string\n  duration?: string\n  \n  calendar?: string // Email or calendar identifier\n  recurring: RecurringConfig\n  \n  status: TaskStatus\n  assigneeId?: string\n  estimatedHours?: number\n  kanbanColumnId?: string\n  projectId?: string\n  \n  teamMembers: TeamAssignment[]\n  \n  checklist: ChecklistItem[]\n  subtasks: SubtaskReference[]\n  attachments: FileAttachment[]\n  \n  workflow: WorkflowConfig\n  \n  workspaceId: string\n  createdBy?: string\n  lastUpdatedBy?: string\n}\n\nexport interface UniversalFormProps {\n  open: boolean\n  onClose: () => void\n  onSuccess?: (data: UniversalFormData, contentType: ContentType) => void\n  \n  initialData?: Partial<UniversalFormData>\n  contentType?: ContentType\n  \n  workspaceId: string\n  projectId?: string\n  kanbanColumnId?: string\n  \n  showWorkflowToggles?: boolean\n  showFileUploads?: boolean\n  allowContentTypeSwitch?: boolean\n  compactMode?: boolean\n  \n  requiredFields?: string[]\n  maxTitleLength?: number\n  maxDescriptionLength?: number\n}\n\nexport interface FormValidation {\n  isValid: boolean\n  errors: Record<string, string>\n  warnings: Record<string, string>\n}\n\nexport interface FormSection {\n  id: string\n  title: string\n  visible: boolean\n  expanded: boolean\n  required: boolean\n  order: number\n}\n\nexport interface FormTemplate {\n  id: string\n  name: string\n  description: string\n  contentType: ContentType\n  defaultData: Partial<UniversalFormData>\n  sections: FormSection[]\n  workflowDefaults: Partial<WorkflowConfig>\n}\n\nexport type FormFieldUpdate<K extends keyof UniversalFormData> = {\n  field: K\n  value: UniversalFormData[K]\n}\n\nexport type {\n  ContentType,\n  PriorityConfig,\n  FileAttachment,\n  ChecklistItem,\n  SubtaskReference,\n  ReminderConfig,\n  WorkflowConfig,\n  RecurringConfig,\n  TeamAssignment,\n  UniversalFormData,\n  UniversalFormProps,\n  FormValidation,\n  FormSection,\n  FormTemplate,\n  FormFieldUpdate\n}", "\nimport React, { useState, useCallback, useMemo } from 'react'\nimport { format } from 'date-fns'\nimport { ChevronDownIcon, ChevronRightIcon, CalendarIcon, PlusIcon, XIcon, UploadIcon } from 'lucide-react'\n\nimport { Button } from '../ui/button'\nimport { FloatingInput } from '../ui/floating-input'\nimport { Textarea } from '../ui/textarea'\nimport { Label } from '../ui/label'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../ui/select'\nimport { Switch } from '../ui/switch'\nimport { Popover, PopoverContent, PopoverTrigger } from '../ui/popover'\nimport { Calendar } from '../ui/calendar'\nimport { Avatar, AvatarFallback, AvatarImage } from '../ui/avatar'\nimport { Badge } from '../ui/badge'\n\nimport { trpc } from '../../lib/trpc'\nimport { UniversalFormData, ContentType } from '../../types/universal-form'\nimport { Priority, TaskStatus } from '../../types/enums'\nimport { cn } from '../../lib/utils'\n\ninterface UniversalInputFormCompactProps {\n  contentType?: ContentType\n  workspaceId: string\n  initialData?: Partial<UniversalFormData>\n  onSuccess?: (data: UniversalFormData, type: ContentType) => void\n  onClose?: () => void\n  integrationMode?: 'modal' | 'panel' | 'inline'\n  maxHeight?: string\n  showHeader?: boolean\n}\n\nconst DEFAULT_FORM_DATA: UniversalFormData = {\n  contentType: ContentType.TASK,\n  title: '',\n  description: '',\n  priority: Priority.MEDIUM,\n  tags: [],\n  allDay: false,\n  status: TaskStatus.TODO,\n  teamMembers: [],\n  checklist: [],\n  subtasks: [],\n  attachments: [],\n  assigneeId: undefined,\n  workflow: {\n    createVideoMeeting: false,\n    createCall: false,\n    kanbanTaskBoard: false,\n    notes: false,\n    ganttTimeline: false,\n    ganttDependency: false,\n    reminder: false,\n    notifyTeam: false,\n    changesNotifyTeam: false,\n    reminders: []\n  },\n  recurring: {\n    enabled: false,\n    pattern: 'weekly',\n    endDate: undefined\n  },\n  workspaceId: ''\n}\n\nexport default function UniversalInputFormCompact({\n  contentType = ContentType.TASK,\n  workspaceId,\n  initialData = {},\n  onSuccess,\n  onClose,\n  integrationMode = 'panel',\n  maxHeight = '400px',\n  showHeader = true\n}: UniversalInputFormCompactProps) {\n  \n  const [formData, setFormData] = useState<UniversalFormData>({\n    ...DEFAULT_FORM_DATA,\n    contentType,\n    workspaceId,\n    ...initialData\n  })\n  \n  const [currentTag, setCurrentTag] = useState('')\n  const [expandedSections, setExpandedSections] = useState({\n    basic: true,\n    dates: false,\n    team: false,\n    workflow: false\n  })\n  \n  const updateField = useCallback(<K extends keyof UniversalFormData>(\n    field: K, \n    value: UniversalFormData[K]\n  ) => {\n    setFormData(prev => ({ ...prev, [field]: value }))\n  }, [])\n  \n  const createTaskMutation = trpc.task.create.useMutation({\n    onSuccess: (data) => {\n      onSuccess?.(formData, ContentType.TASK)\n      onClose?.()\n    }\n  })\n  \n  const createNoteMutation = trpc.notes?.create?.useMutation?.({\n    onSuccess: (data) => {\n      onSuccess?.(formData, ContentType.NOTE)\n      onClose?.()\n    }\n  }) || { mutate: () => {}, isLoading: false }\n  \n  const toggleSection = (section: keyof typeof expandedSections) => {\n    setExpandedSections(prev => ({ ...prev, [section]: !prev[section] }))\n  }\n  \n  const addTag = () => {\n    if (currentTag.trim() && !formData.tags.includes(currentTag.trim())) {\n      updateField('tags', [...formData.tags, currentTag.trim()])\n      setCurrentTag('')\n    }\n  }\n  \n  const removeTag = (tag: string) => {\n    updateField('tags', formData.tags.filter(t => t !== tag))\n  }\n  \n  const renderPriorityDots = (priority: Priority) => {\n    const colors = {\n      [Priority.LOW]: 'bg-krushr-priority-low',\n      [Priority.MEDIUM]: 'bg-krushr-priority-medium', \n      [Priority.HIGH]: 'bg-krushr-priority-high',\n      [Priority.CRITICAL]: 'bg-krushr-priority-critical'\n    }\n    \n    const count = {\n      [Priority.LOW]: 1,\n      [Priority.MEDIUM]: 2,\n      [Priority.HIGH]: 3,\n      [Priority.CRITICAL]: 4\n    }\n    \n    return (\n      <div className=\"flex gap-0.5\">\n        {Array.from({ length: count[priority] }).map((_, i) => (\n          <div key={i} className={cn('w-1.5 h-1.5 rounded-full', colors[priority])} />\n        ))}\n      </div>\n    )\n  }\n  \n  const handleSubmit = async () => {\n    if (!formData.title.trim()) return\n    \n    try {\n      switch (formData.contentType) {\n        case ContentType.TASK:\n          createTaskMutation.mutate({\n            title: formData.title,\n            description: formData.description,\n            priority: formData.priority,\n            status: formData.status,\n            workspaceId: formData.workspaceId,\n            tags: formData.tags,\n            startDate: formData.startDate,\n            endDate: formData.endDate,\n            assigneeId: formData.assigneeId\n          })\n          break\n        case ContentType.NOTE:\n          createNoteMutation.mutate({\n            title: formData.title,\n            content: formData.description,\n            workspaceId: formData.workspaceId,\n            tags: formData.tags\n          })\n          break\n        default:\n          console.log('Creating:', formData.contentType, formData)\n      }\n    } catch (error) {\n      console.error('Failed to create item:', error)\n    }\n  }\n  \n  const isLoading = createTaskMutation.isLoading || createNoteMutation.isLoading\n  \n  return (\n    <div className={cn(\n      'bg-white border rounded-lg overflow-hidden',\n      integrationMode === 'modal' && 'shadow-lg',\n      integrationMode === 'panel' && 'border-gray-200',\n      integrationMode === 'inline' && 'border-transparent'\n    )}>\n      \n      {/* Compact Header */}\n      {showHeader && (\n        <div className=\"flex items-center justify-between p-3 border-b bg-gray-50\">\n          <div className=\"flex items-center gap-2\">\n            <Select \n              value={formData.contentType} \n              onValueChange={(value: ContentType) => updateField('contentType', value)}\n            >\n              <SelectTrigger className=\"h-7 w-auto text-sm border-none bg-transparent p-1\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value={ContentType.TASK}>\uD83D\uDCCB Task</SelectItem>\n                <SelectItem value={ContentType.NOTE}>\uD83D\uDCDD Note</SelectItem>\n                <SelectItem value={ContentType.EVENT}>\uD83D\uDCC5 Event</SelectItem>\n                <SelectItem value={ContentType.CALENDAR_EVENT}>\uD83D\uDDD3\uFE0F Calendar</SelectItem>\n              </SelectContent>\n            </Select>\n            \n            <div className=\"flex items-center gap-1\">\n              {renderPriorityDots(formData.priority)}\n            </div>\n          </div>\n          \n          {onClose && (\n            <Button \n              variant=\"ghost\" \n              size=\"sm\" \n              onClick={onClose}\n              className=\"h-6 w-6 p-0\"\n            >\n              <XIcon className=\"h-3 w-3\" />\n            </Button>\n          )}\n        </div>\n      )}\n      \n      {/* Scrollable Content */}\n      <div \n        className=\"overflow-y-auto\"\n        style={{ maxHeight }}\n      >\n        <div className=\"p-3 space-y-3\">\n          \n          {/* Essential Fields */}\n          <div className=\"space-y-2\">\n            <FloatingInput\n              label=\"What needs to be done?\"\n              value={formData.title}\n              onChange={(e) => updateField('title', e.target.value)}\n              className=\"font-medium border-none shadow-none p-0 text-base focus-visible:ring-0\"\n              autoFocus\n            />\n            \n            <Textarea\n              placeholder=\"Add description...\"\n              value={formData.description}\n              onChange={(e) => updateField('description', e.target.value)}\n              className=\"min-h-[60px] resize-none border-none shadow-none p-0 text-base placeholder:text-gray-400 focus-visible:ring-0\"\n              rows={2}\n            />\n          </div>\n          \n          {/* Quick Settings Row - Simplified */}\n          <div className=\"flex items-center gap-2 text-sm\">\n            {/* Keep only non-priority/status fields here if needed */}\n          </div>\n          \n          {/* Tags */}\n          <div className=\"space-y-1\">\n            <div className=\"flex flex-wrap gap-1\">\n              {formData.tags.map((tag) => (\n                <Badge \n                  key={tag} \n                  variant=\"secondary\" \n                  className=\"text-sm h-5 px-1.5 gap-1\"\n                >\n                  {tag}\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={() => removeTag(tag)}\n                    className=\"h-3 w-3 p-0 hover:bg-transparent\"\n                  >\n                    <XIcon className=\"h-2 w-2\" />\n                  </Button>\n                </Badge>\n              ))}\n            </div>\n            \n            <div className=\"flex gap-1\">\n              <FloatingInput\n                label=\"Add tag\"\n                value={currentTag}\n                onChange={(e) => setCurrentTag(e.target.value)}\n                onKeyDown={(e) => e.key === 'Enter' && addTag()}\n                className=\"h-6 text-sm flex-1\"\n              />\n              <Button \n                variant=\"ghost\" \n                size=\"sm\" \n                onClick={addTag}\n                className=\"h-6 w-6 p-0\"\n              >\n                <PlusIcon className=\"h-3 w-3\" />\n              </Button>\n            </div>\n          </div>\n          \n          {/* Collapsible Sections */}\n          \n          {/* Dates Section */}\n          <div className=\"border border-gray-100 rounded\">\n            <button\n              type=\"button\"\n              onClick={() => toggleSection('dates')}\n              className=\"flex items-center justify-between w-full p-2 text-sm font-medium text-left hover:bg-gray-50\"\n            >\n              <span>\uD83D\uDCC5 Dates & Timing</span>\n              {expandedSections.dates ? (\n                <ChevronDownIcon className=\"h-3 w-3\" />\n              ) : (\n                <ChevronRightIcon className=\"h-3 w-3\" />\n              )}\n            </button>\n            \n            {expandedSections.dates && (\n              <div className=\"p-2 border-t border-gray-100 space-y-3\">\n                {/* Main Row: Controls on LEFT, Calendar on RIGHT */}\n                <div className=\"flex gap-4\">\n                  {/* LEFT: Priority, Column, Assignment controls */}\n                  <div className=\"flex-1 grid grid-cols-3 gap-2\">\n                    {/* Priority */}\n                    <div>\n                      <Label className=\"text-sm text-gray-500\">Priority</Label>\n                      <Select \n                        value={formData.priority} \n                        onValueChange={(value: Priority) => updateField('priority', value)}\n                      >\n                        <SelectTrigger className=\"h-7 w-full border border-gray-200 text-sm\">\n                          <div className=\"flex items-center gap-2\">\n                            {renderPriorityDots(formData.priority)}\n                            <span className=\"capitalize\">{formData.priority.toLowerCase()}</span>\n                          </div>\n                        </SelectTrigger>\n                        <SelectContent>\n                          {Object.values(Priority).map((priority) => (\n                            <SelectItem key={priority} value={priority}>\n                              <div className=\"flex items-center gap-2\">\n                                {renderPriorityDots(priority)}\n                                <span className=\"capitalize\">{priority.toLowerCase()}</span>\n                              </div>\n                            </SelectItem>\n                          ))}\n                        </SelectContent>\n                      </Select>\n                    </div>\n                    \n                    {/* Column (Status) */}\n                    {formData.contentType === ContentType.TASK && (\n                      <div>\n                        <Label className=\"text-sm text-gray-500\">Column</Label>\n                        <Select \n                          value={formData.status} \n                          onValueChange={(value: TaskStatus) => updateField('status', value)}\n                        >\n                          <SelectTrigger className=\"h-7 w-full border border-gray-200 text-sm\">\n                            <SelectValue />\n                          </SelectTrigger>\n                          <SelectContent>\n                            <SelectItem value={TaskStatus.TODO}>\n                              <div className=\"flex items-center gap-2\">\n                                <div className=\"w-2 h-2 rounded-full bg-krushr-task-todo\"></div>\n                                <span>To Do</span>\n                              </div>\n                            </SelectItem>\n                            <SelectItem value={TaskStatus.IN_PROGRESS}>\n                              <div className=\"flex items-center gap-2\">\n                                <div className=\"w-2 h-2 rounded-full bg-krushr-task-progress\"></div>\n                                <span>In Progress</span>\n                              </div>\n                            </SelectItem>\n                            <SelectItem value={TaskStatus.DONE}>\n                              <div className=\"flex items-center gap-2\">\n                                <div className=\"w-2 h-2 rounded-full bg-krushr-task-done\"></div>\n                                <span>Done</span>\n                              </div>\n                            </SelectItem>\n                          </SelectContent>\n                        </Select>\n                      </div>\n                    )}\n                    \n                    {/* Assignment */}\n                    <div>\n                      <Label className=\"text-sm text-gray-500\">Assign To</Label>\n                      <Select \n                        value={formData.assigneeId || ''} \n                        onValueChange={(value) => updateField('assigneeId', value)}\n                      >\n                        <SelectTrigger className=\"h-7 w-full border border-gray-200 text-sm\">\n                          <SelectValue placeholder=\"Unassigned\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"\">\n                            <div className=\"flex items-center gap-2\">\n                              <Avatar className=\"w-4 h-4\">\n                                <AvatarFallback className=\"text-xs bg-gray-200\">?</AvatarFallback>\n                              </Avatar>\n                              <span>Unassigned</span>\n                            </div>\n                          </SelectItem>\n                          <SelectItem value=\"user1\">\n                            <div className=\"flex items-center gap-2\">\n                              <Avatar className=\"w-4 h-4\">\n                                <AvatarFallback className=\"text-xs bg-krushr-primary text-white\">ME</AvatarFallback>\n                              </Avatar>\n                              <span>Assign to me</span>\n                            </div>\n                          </SelectItem>\n                          <SelectItem value=\"user2\">\n                            <div className=\"flex items-center gap-2\">\n                              <Avatar className=\"w-4 h-4\">\n                                <AvatarFallback className=\"text-xs bg-krushr-secondary text-white\">JS</AvatarFallback>\n                              </Avatar>\n                              <span>John Smith</span>\n                            </div>\n                          </SelectItem>\n                          <SelectItem value=\"user3\">\n                            <div className=\"flex items-center gap-2\">\n                              <Avatar className=\"w-4 h-4\">\n                                <AvatarFallback className=\"text-xs bg-krushr-success text-white\">AD</AvatarFallback>\n                              </Avatar>\n                              <span>Alice Davis</span>\n                            </div>\n                          </SelectItem>\n                        </SelectContent>\n                      </Select>\n                    </div>\n                  </div>\n                  \n                  {/* RIGHT: Calendar widget */}\n                  <div className=\"flex-shrink-0\">\n                    <Label className=\"text-xs text-gray-500\">Start Date</Label>\n                    <Popover>\n                      <PopoverTrigger asChild>\n                        <Button\n                          variant=\"outline\"\n                          className=\"w-full h-7 justify-start text-left text-sm\"\n                        >\n                          <CalendarIcon className=\"mr-1 h-3 w-3\" />\n                          {formData.startDate ? format(formData.startDate, \"MMM dd\") : \"Date\"}\n                        </Button>\n                      </PopoverTrigger>\n                      <PopoverContent className=\"w-auto p-0\">\n                        <Calendar\n                          mode=\"single\"\n                          selected={formData.startDate}\n                          onSelect={(date) => updateField('startDate', date)}\n                          initialFocus\n                        />\n                      </PopoverContent>\n                    </Popover>\n                  </div>\n                </div>\n\n                {/* Time Row (only when not all day) */}\n                {!formData.allDay && (\n                  <div className=\"flex gap-4\">\n                    <div className=\"flex-1\">\n                      {/* Empty space to align with controls above */}\n                    </div>\n                    <div className=\"flex-shrink-0\">\n                      <Label className=\"text-sm text-gray-500\">Start Time</Label>\n                      <FloatingInput\n                        type=\"time\"\n                        label=\"Time\"\n                        value={formData.startTime || ''}\n                        onChange={(e) => updateField('startTime', e.target.value)}\n                        className=\"h-7 text-sm\"\n                      />\n                    </div>\n                  </div>\n                )}\n                \n                {/* All Day Toggle */}\n                <div className=\"flex items-center justify-between\">\n                  <Label className=\"text-sm\">All Day</Label>\n                  <Switch \n                    checked={formData.allDay}\n                    onCheckedChange={(checked) => updateField('allDay', checked)}\n                  />\n                </div>\n              </div>\n            )}\n          </div>\n          \n          {/* Team Section */}\n          <div className=\"border border-gray-100 rounded\">\n            <button\n              type=\"button\"\n              onClick={() => toggleSection('team')}\n              className=\"flex items-center justify-between w-full p-2 text-sm font-medium text-left hover:bg-gray-50\"\n            >\n              <span>\uD83D\uDC65 Team & Assignment</span>\n              {expandedSections.team ? (\n                <ChevronDownIcon className=\"h-3 w-3\" />\n              ) : (\n                <ChevronRightIcon className=\"h-3 w-3\" />\n              )}\n            </button>\n            \n            {expandedSections.team && (\n              <div className=\"p-2 border-t border-gray-100\">\n                <div className=\"text-sm text-gray-500\">Team assignment features coming soon...</div>\n              </div>\n            )}\n          </div>\n          \n          {/* Workflow Section */}\n          <div className=\"border border-gray-100 rounded\">\n            <button\n              type=\"button\"\n              onClick={() => toggleSection('workflow')}\n              className=\"flex items-center justify-between w-full p-2 text-sm font-medium text-left hover:bg-gray-50\"\n            >\n              <span>\u26A1 Workflow & Automation</span>\n              {expandedSections.workflow ? (\n                <ChevronDownIcon className=\"h-3 w-3\" />\n              ) : (\n                <ChevronRightIcon className=\"h-3 w-3\" />\n              )}\n            </button>\n            \n            {expandedSections.workflow && (\n              <div className=\"p-2 border-t border-gray-100 space-y-2\">\n                <div className=\"flex items-center justify-between\">\n                  <Label className=\"text-sm\">Auto-assign to team</Label>\n                  <Switch \n                    checked={formData.workflow.autoAssign}\n                    onCheckedChange={(checked) => \n                      updateField('workflow', { ...formData.workflow, autoAssign: checked })\n                    }\n                  />\n                </div>\n                \n                <div className=\"flex items-center justify-between\">\n                  <Label className=\"text-sm\">Notify team members</Label>\n                  <Switch \n                    checked={formData.workflow.notifyTeam}\n                    onCheckedChange={(checked) => \n                      updateField('workflow', { ...formData.workflow, notifyTeam: checked })\n                    }\n                  />\n                </div>\n              </div>\n            )}\n          </div>\n          \n        </div>\n      </div>\n      \n      {/* Compact Footer */}\n      <div className=\"flex items-center justify-between p-3 border-t bg-gray-50\">\n        <div className=\"flex items-center gap-1\">\n          <Button variant=\"ghost\" size=\"sm\" className=\"h-6 w-6 p-0\">\n            <UploadIcon className=\"h-3 w-3\" />\n          </Button>\n          <span className=\"text-sm text-gray-500\">\n            {formData.attachments.length} files\n          </span>\n        </div>\n        \n        <div className=\"flex items-center gap-2\">\n          {onClose && (\n            <Button \n              variant=\"ghost\" \n              size=\"sm\" \n              onClick={onClose}\n              className=\"h-7 text-sm\"\n            >\n              Cancel\n            </Button>\n          )}\n          <Button \n            onClick={handleSubmit}\n            disabled={!formData.title.trim() || isLoading}\n            size=\"sm\"\n            className=\"h-7 text-xs\"\n          >\n            {isLoading ? 'Creating...' : 'Create'}\n          </Button>\n        </div>\n      </div>\n      \n    </div>\n  )\n}", "\nimport React, { useState } from 'react'\nimport { PlusIcon } from 'lucide-react'\nimport { Button } from '../ui/button'\nimport { Card } from '../ui/card'\nimport UniversalInputFormCompact from '../forms/UniversalInputFormCompact'\nimport { ContentType } from '../../types/universal-form'\nimport { Priority, TaskStatus } from '../../types/enums'\nimport { cn } from '../../lib/utils'\n\ninterface KanbanQuickCreateProps {\n  workspaceId: string\n  projectId?: string\n  columnId: string\n  columnStatus: TaskStatus\n  onTaskCreated?: (task: any) => void\n  className?: string\n}\n\nexport default function KanbanQuickCreate({\n  workspaceId,\n  projectId,\n  columnId,\n  columnStatus,\n  onTaskCreated,\n  className\n}: KanbanQuickCreateProps) {\n  \n  const [isOpen, setIsOpen] = useState(false)\n  \n  const contextualDefaults = {\n    status: columnStatus,\n    projectId,\n    kanbanColumnId: columnId,\n    priority: Priority.MEDIUM\n  }\n  \n  const handleSuccess = (data: any, type: ContentType) => {\n    onTaskCreated?.(data)\n    setIsOpen(false)\n  }\n  \n  const handleClose = () => {\n    setIsOpen(false)\n  }\n  \n  if (!isOpen) {\n    return (\n      <Button\n        variant=\"ghost\"\n        className={cn(\n          \"w-full h-8 justify-start text-base text-krushr-secondary hover:text-krushr-secondary\",\n          \"border-2 border-dashed border-krushr-secondary/30 hover:border-krushr-secondary/50 hover:bg-krushr-secondary/5\",\n          \"rounded-lg mb-2 font-medium\",\n          className\n        )}\n        onClick={() => setIsOpen(true)}\n      >\n        <PlusIcon className=\"h-4 w-4 mr-2\" />\n        Add a card\n      </Button>\n    )\n  }\n  \n  return (\n    <Card className={cn(\"mb-2\", className)}>\n      <UniversalInputFormCompact\n        workspaceId={workspaceId}\n        contentType={ContentType.TASK}\n        initialData={contextualDefaults}\n        onSuccess={handleSuccess}\n        onClose={handleClose}\n        integrationMode=\"inline\"\n        maxHeight=\"300px\"\n        showHeader={false}\n      />\n    </Card>\n  )\n}", "\nimport React, { useState } from 'react'\nimport { PlusIcon, SearchIcon, BellIcon, SettingsIcon } from 'lucide-react'\nimport { Button } from '../ui/button'\nimport { FloatingInput } from '../ui/floating-input'\nimport { Avatar, AvatarFallback, AvatarImage } from '../ui/avatar'\nimport { Badge } from '../ui/badge'\nimport QuickCreatePanel from './QuickCreatePanel'\nimport { useAuthStore } from '../../stores/auth-store'\n\ninterface WorkspaceHeaderProps {\n  workspaceName: string\n  workspaceId: string\n  currentPanel?: string\n  onPanelChange?: (panel: string) => void\n}\n\nexport default function WorkspaceHeader({\n  workspaceName,\n  workspaceId,\n  currentPanel,\n  onPanelChange\n}: WorkspaceHeaderProps) {\n  \n  const [isQuickCreateOpen, setIsQuickCreateOpen] = useState(false)\n  const { user } = useAuthStore()\n  \n  const handleQuickCreateToggle = () => {\n    setIsQuickCreateOpen(!isQuickCreateOpen)\n  }\n  \n  return (\n    <>\n      <header className=\"h-14 border-b bg-white px-4 flex items-center justify-between\">\n        {/* Left Section */}\n        <div className=\"flex items-center gap-4\">\n          <h1 className=\"text-lg font-semibold text-gray-900\">\n            {workspaceName}\n          </h1>\n          \n          {/* Quick Create Button */}\n          <Button\n            onClick={handleQuickCreateToggle}\n            className=\"h-8 gap-2 bg-krushr-coral-red hover:bg-krushr-coral-red/90 text-white\"\n          >\n            <PlusIcon className=\"h-4 w-4\" />\n            <span className=\"hidden sm:inline\">Create</span>\n          </Button>\n          \n          {/* Context Badge */}\n          {currentPanel && (\n            <Badge variant=\"secondary\" className=\"text-xs\">\n              {currentPanel === 'kanban' && '\uD83D\uDCCB'}\n              {currentPanel === 'calendar' && '\uD83D\uDCC5'}\n              {currentPanel === 'notes' && '\uD83D\uDCDD'}\n              {currentPanel === 'chat' && '\uD83D\uDCAC'}\n              {currentPanel?.charAt(0).toUpperCase() + currentPanel?.slice(1)}\n            </Badge>\n          )}\n        </div>\n        \n        {/* Center Section - Search */}\n        <div className=\"flex-1 max-w-md mx-8\">\n          <div className=\"relative\">\n            <SearchIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n            <FloatingInput\n              label=\"Search workspace\"\n              className=\"pl-10 h-8 bg-gray-50 border-gray-200\"\n            />\n          </div>\n        </div>\n        \n        {/* Right Section */}\n        <div className=\"flex items-center gap-3\">\n          {/* Notifications */}\n          <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0 relative\">\n            <BellIcon className=\"h-4 w-4\" />\n            <Badge className=\"absolute -top-1 -right-1 h-4 w-4 p-0 text-xs\">\n              3\n            </Badge>\n          </Button>\n          \n          {/* Settings */}\n          <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n            <SettingsIcon className=\"h-4 w-4\" />\n          </Button>\n          \n          {/* User Avatar */}\n          <Avatar className=\"h-8 w-8\">\n            <AvatarImage src={user?.avatar} />\n            <AvatarFallback className=\"text-xs\">\n              {user?.name?.charAt(0) || 'U'}\n            </AvatarFallback>\n          </Avatar>\n        </div>\n      </header>\n      \n      {/* Quick Create Panel */}\n      <QuickCreatePanel\n        workspaceId={workspaceId}\n        isOpen={isQuickCreateOpen}\n        onToggle={handleQuickCreateToggle}\n        position=\"modal\"\n      />\n    </>\n  )\n}", "\nimport React, { useState } from 'react'\nimport { PlusIcon, XIcon, MinimizeIcon, MaximizeIcon } from 'lucide-react'\nimport { Button } from '../ui/button'\nimport { Card } from '../ui/card'\nimport SimpleCreatePanel from '../forms/SimpleCreatePanel'\nimport { cn } from '../../lib/utils'\n\ninterface QuickCreatePanelProps {\n  workspaceId: string\n  isOpen?: boolean\n  onToggle?: () => void\n  position?: 'floating' | 'docked' | 'modal'\n}\n\nexport default function QuickCreatePanel({\n  workspaceId,\n  isOpen = false,\n  onToggle,\n  position = 'floating'\n}: QuickCreatePanelProps) {\n  \n  const [isMinimized, setIsMinimized] = useState(false)\n  const [isDragging, setIsDragging] = useState(false)\n  const [panelPosition, setPanelPosition] = useState({ x: 20, y: 20 })\n  \n  const handleSuccess = () => {\n    onToggle?.() // Close panel after creation\n  }\n  \n  const handleClose = () => {\n    onToggle?.()\n  }\n  \n  if (!isOpen) {\n    return (\n      <Button\n        onClick={onToggle}\n        className={cn(\n          \"fixed bottom-6 right-6 h-12 w-12 rounded-full shadow-lg z-50\",\n          \"bg-krushr-coral-red hover:bg-krushr-coral-red/90 text-white\",\n          \"flex items-center justify-center\"\n        )}\n      >\n        <PlusIcon className=\"h-6 w-6\" />\n      </Button>\n    )\n  }\n  \n  if (position === 'modal') {\n    return (\n      <SimpleCreatePanel\n        workspaceId={workspaceId}\n        open={isOpen}\n        onClose={handleClose}\n        onSuccess={handleSuccess}\n      />\n    )\n  }\n  \n  if (position === 'floating') {\n    return (\n      <Card \n        className={cn(\n          \"fixed z-50 shadow-xl border-2\",\n          \"w-80 max-h-96\",\n          isDragging && \"cursor-move\"\n        )}\n        style={{\n          left: panelPosition.x,\n          top: panelPosition.y\n        }}\n      >\n        {/* Draggable Header */}\n        <div \n          className=\"flex items-center justify-between p-2 bg-gray-50 border-b cursor-move\"\n          onMouseDown={(e) => {\n            setIsDragging(true)\n            const startX = e.clientX - panelPosition.x\n            const startY = e.clientY - panelPosition.y\n            \n            const handleMouseMove = (e: MouseEvent) => {\n              setPanelPosition({\n                x: e.clientX - startX,\n                y: e.clientY - startY\n              })\n            }\n            \n            const handleMouseUp = () => {\n              setIsDragging(false)\n              document.removeEventListener('mousemove', handleMouseMove)\n              document.removeEventListener('mouseup', handleMouseUp)\n            }\n            \n            document.addEventListener('mousemove', handleMouseMove)\n            document.addEventListener('mouseup', handleMouseUp)\n          }}\n        >\n          <span className=\"text-sm font-medium\">Quick Create</span>\n          <div className=\"flex items-center gap-1\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => setIsMinimized(!isMinimized)}\n              className=\"h-6 w-6 p-0\"\n            >\n              {isMinimized ? (\n                <MaximizeIcon className=\"h-3 w-3\" />\n              ) : (\n                <MinimizeIcon className=\"h-3 w-3\" />\n              )}\n            </Button>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={handleClose}\n              className=\"h-6 w-6 p-0\"\n            >\n              <XIcon className=\"h-3 w-3\" />\n            </Button>\n          </div>\n        </div>\n        \n        {/* Note: Floating mode simplified - will show modal instead */}\n        {!isMinimized && (\n          <div className=\"p-3 text-center text-sm text-gray-500\">\n            <p>Click to open task creator</p>\n            <Button onClick={() => {\n              setIsMinimized(true)\n              onToggle?.()\n            }} className=\"mt-2\" size=\"sm\">\n              Create Task\n            </Button>\n          </div>\n        )}\n      </Card>\n    )\n  }\n  \n  return (\n    <SimpleCreatePanel\n      workspaceId={workspaceId}\n      open={isOpen}\n      onClose={handleClose}\n      onSuccess={handleSuccess}\n    />\n  )\n}", "import React, { useState, useEffect, useRef } from 'react'\nimport { Sheet, SheetContent, SheetHeader, SheetTitle } from '../ui/sheet'\nimport { Button } from '../ui/button'\nimport { FloatingInput } from '../ui/floating-input'\nimport { Textarea } from '../ui/textarea'\nimport { Badge } from '../ui/badge'\nimport { Card, CardContent } from '../ui/card'\nimport {\n  Calendar,\n  Clock,\n  Flag,\n  Send,\n  X,\n  Circle,\n  CheckCircle2,\n  AlertCircle,\n  MessageSquare,\n  Paperclip,\n  Upload,\n  Trash2,\n  User,\n  ChevronDown,\n  Plus,\n  Check\n} from 'lucide-react'\nimport { cn } from '../../lib/utils'\nimport { trpc } from '../../lib/trpc'\nimport { Priority, TaskStatus } from '../../types/enums'\nimport AttachmentUploadSimple from '../common/AttachmentUpload-simple'\n\ninterface SimpleCreatePanelProps {\n  workspaceId: string\n  kanbanColumnId?: string\n  open: boolean\n  onClose: () => void\n  onSuccess?: () => void\n}\n\nexport default function SimpleCreatePanel({ \n  workspaceId, \n  kanbanColumnId,\n  open, \n  onClose, \n  onSuccess \n}: SimpleCreatePanelProps) {\n  const [title, setTitle] = useState('')\n  const [description, setDescription] = useState('')\n  const [priority, setPriority] = useState<Priority>(Priority.MEDIUM)\n  const [status, setStatus] = useState<TaskStatus>(TaskStatus.TODO)\n  const [comment, setComment] = useState('')\n  const [comments, setComments] = useState<any[]>([])\n  const [attachments, setAttachments] = useState<any[]>([])\n  const [checklistItems, setChecklistItems] = useState<Array<{id: string, text: string, completed: boolean}>>([])  \n  const [newChecklistItem, setNewChecklistItem] = useState('')\n  const [assigneeId, setAssigneeId] = useState<string | null>(null)\n  const [dueDate, setDueDate] = useState<string>('')\n  const [showAssigneeDropdown, setShowAssigneeDropdown] = useState(false)\n  const [showDatePicker, setShowDatePicker] = useState(false)\n\n  const workspaceMembersQuery = trpc.user.listWorkspaceMembers.useQuery({ workspaceId })\n  const workspaceMembers = workspaceMembersQuery.data || []\n\n  const assigneeRef = useRef<HTMLDivElement>(null)\n  const datePickerRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (assigneeRef.current && !assigneeRef.current.contains(event.target as Node)) {\n        setShowAssigneeDropdown(false)\n      }\n      if (datePickerRef.current && !datePickerRef.current.contains(event.target as Node)) {\n        setShowDatePicker(false)\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside)\n    return () => document.removeEventListener('mousedown', handleClickOutside)\n  }, [])\n\n  const resetForm = () => {\n    setTitle('')\n    setDescription('')\n    setPriority(Priority.MEDIUM)\n    setStatus(TaskStatus.TODO)\n    setComment('')\n    setComments([])\n    setAttachments([])\n    setChecklistItems([])\n    setNewChecklistItem('')\n    setAssigneeId(null)\n    setDueDate('')\n    setShowAssigneeDropdown(false)\n    setShowDatePicker(false)\n  }\n\n  const handleClose = () => {\n    resetForm()\n    onClose()\n  }\n\n  const createTaskMutation = trpc.task.create.useMutation({\n    onSuccess: async (newTask) => {\n      try {\n        for (const localComment of comments) {\n          await addCommentMutation.mutateAsync({\n            taskId: newTask.id,\n            content: localComment.content\n          })\n        }\n\n        for (const attachment of attachments) {\n          if (attachment.file) {\n            const formData = new FormData()\n            formData.append('file', attachment.file)\n            formData.append('taskId', newTask.id)\n            \n            try {\n              // Note: This would need the actual upload endpoint\n              await fetch('/api/upload', {\n                method: 'POST',\n                body: formData\n              })\n            } catch (uploadError) {\n              console.error('Failed to upload file:', attachment.name, uploadError)\n            }\n          }\n        }\n      } catch (error) {\n        console.error('Failed to process post-creation actions:', error)\n      }\n\n      resetForm()\n      onSuccess?.()\n      onClose()\n    },\n    onError: (error) => {\n      console.error('Failed to create task:', error)\n    }\n  })\n\n  const addCommentMutation = trpc.comment.create.useMutation({\n    onSuccess: () => {\n      setComment('')\n    }\n  })\n\n  const handleAddComment = () => {\n    if (comment.trim()) {\n      const newComment = {\n        id: Date.now().toString(),\n        content: comment.trim(),\n        user: { name: 'You' },\n        createdAt: new Date().toISOString(),\n        isLocal: true // Mark as local until task is created\n      }\n      setComments(prev => [...prev, newComment])\n      setComment('')\n    }\n  }\n\n  const handleSubmit = () => {\n    if (title.trim()) {\n      createTaskMutation.mutate({\n        title: title.trim(),\n        description: description.trim(),\n        priority,\n        status,\n        workspaceId,\n        kanbanColumnId,\n        assigneeId,\n        dueDate: dueDate || undefined,\n      })\n    }\n  }\n\n  const getPriorityColor = (priority: Priority) => {\n    const colors = {\n      [Priority.LOW]: 'text-green-500 bg-green-50 border-green-200',\n      [Priority.MEDIUM]: 'text-orange-500 bg-orange-50 border-orange-200',\n      [Priority.HIGH]: 'text-red-500 bg-red-50 border-red-200',\n    }\n    return colors[priority]\n  }\n\n  const getStatusIcon = (status: TaskStatus) => {\n    switch (status) {\n      case TaskStatus.DONE:\n        return <CheckCircle2 className=\"w-4 h-4 text-green-500\" />\n      case TaskStatus.IN_PROGRESS:\n        return <AlertCircle className=\"w-4 h-4 text-blue-500\" />\n      default:\n        return <Circle className=\"w-4 h-4 text-gray-400\" />\n    }\n  }\n\n  return (\n    <Sheet open={open} onOpenChange={handleClose}>\n      <SheetContent className=\"w-full sm:max-w-2xl overflow-y-auto\">\n        <SheetHeader className=\"space-y-0\">\n          <div className=\"flex items-center justify-between\">\n            <SheetTitle className=\"text-xl font-brand\">Create New Task</SheetTitle>\n            <div className=\"flex items-center gap-1\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"h-8 w-8 p-0 text-gray-500 hover:text-gray-700\"\n                onClick={handleClose}\n                title=\"Cancel creation\"\n              >\n                <Trash2 className=\"w-4 h-4\" />\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"h-8 w-8 p-0 text-gray-500 hover:text-gray-700\"\n                onClick={handleClose}\n                title=\"Close panel\"\n              >\n                <X className=\"w-4 h-4\" />\n              </Button>\n            </div>\n          </div>\n        </SheetHeader>\n\n        <div className=\"mt-4 space-y-6\">\n          {/* Task Title */}\n          <div>\n            <label className=\"text-sm font-medium text-gray-700 block mb-2 font-manrope\">Task Title</label>\n            <FloatingInput\n              label=\"Task Title\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              className=\"text-lg font-medium border border-gray-200 rounded-lg px-3 py-2 focus:border-krushr-blue focus:ring-2 focus:ring-krushr-blue/20\"\n              autoFocus\n            />\n          </div>\n\n          {/* Status + Priority Row */}\n          <div className=\"flex items-center justify-between\">\n            {/* Status Tags */}\n            <div className=\"flex gap-1\">\n              {[TaskStatus.TODO, TaskStatus.IN_PROGRESS, TaskStatus.REVIEW, TaskStatus.DONE].map((statusOption) => {\n                const labels = {\n                  [TaskStatus.TODO]: 'To Do',\n                  [TaskStatus.IN_PROGRESS]: 'In Progress', \n                  [TaskStatus.REVIEW]: 'Review',\n                  [TaskStatus.DONE]: 'Done'\n                }\n                const colors = {\n                  [TaskStatus.TODO]: status === statusOption ? 'bg-blue-50 text-krushr-blue border-krushr-blue/30' : 'bg-white text-gray-600 border-gray-200 hover:border-krushr-blue/30',\n                  [TaskStatus.IN_PROGRESS]: status === statusOption ? 'bg-orange-50 text-orange-700 border-orange-300' : 'bg-white text-gray-600 border-gray-200 hover:border-orange-300',\n                  [TaskStatus.REVIEW]: status === statusOption ? 'bg-purple-50 text-purple-700 border-purple-300' : 'bg-white text-gray-600 border-gray-200 hover:border-purple-300',\n                  [TaskStatus.DONE]: status === statusOption ? 'bg-green-50 text-green-700 border-green-300' : 'bg-white text-gray-600 border-gray-200 hover:border-green-300'\n                }\n                return (\n                  <button\n                    key={statusOption}\n                    onClick={() => setStatus(statusOption)}\n                    className={cn(\n                      \"px-3 py-1.5 text-sm font-medium rounded-md border transition-all duration-200\",\n                      colors[statusOption]\n                    )}\n                  >\n                    {labels[statusOption]}\n                  </button>\n                )\n              })}\n            </div>\n            \n            {/* Priority Dots */}\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-sm font-medium text-gray-700\">Priority:</span>\n              <div className=\"flex gap-1\">\n                {[1, 2, 3].map((level) => {\n                  const isActive = (\n                    (priority === Priority.LOW && level <= 1) ||\n                    (priority === Priority.MEDIUM && level <= 2) ||\n                    (priority === Priority.HIGH && level <= 3)\n                  )\n                  const targetPriority = level === 1 ? Priority.LOW : level === 2 ? Priority.MEDIUM : Priority.HIGH\n                  \n                  return (\n                    <button\n                      key={level}\n                      onClick={() => setPriority(targetPriority)}\n                      className={cn(\n                        \"w-3 h-3 rounded-full transition-colors border-2\",\n                        isActive ? \"bg-krushr-secondary border-krushr-secondary\" : \"bg-white border-gray-300 hover:border-krushr-secondary/50\"\n                      )}\n                      title={`${level === 1 ? 'Low' : level === 2 ? 'Medium' : 'High'} Priority`}\n                    />\n                  )\n                })}\n              </div>\n            </div>\n          </div>\n\n          {/* Description - Main Content Area */}\n          <div className=\"space-y-3\">\n            <label className=\"text-sm font-medium text-gray-700\">Description & Notes</label>\n            <Textarea\n              placeholder=\"Add a description...\"\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              className=\"min-h-[100px] resize-y text-sm border-gray-200 rounded-lg p-4 focus:border-krushr-blue focus:ring-2 focus:ring-krushr-blue/20\"\n              onKeyPress={(e) => {\n                if (e.key === 'Enter' && e.ctrlKey && !createTaskMutation.isLoading) {\n                  e.preventDefault()\n                  handleSubmit()\n                }\n              }}\n            />\n          </div>\n\n          {/* Metadata - Clean Grid */}\n          <div className=\"grid grid-cols-3 gap-4 py-3 border-t border-gray-100\">\n            {/* Assignee */}\n            <div className=\"relative\" ref={assigneeRef}>\n              <div \n                className=\"flex items-center gap-2 p-2 rounded-lg border border-gray-200 cursor-pointer hover:border-krushr-blue/50 transition-colors\" \n                onClick={() => setShowAssigneeDropdown(!showAssigneeDropdown)}\n              >\n                {assigneeId ? (\n                  <>\n                    {(() => {\n                      const assignee = workspaceMembers.find(m => m.id === assigneeId)\n                      return assignee ? (\n                        <>\n                          <div className=\"w-4 h-4 rounded-full bg-krushr-blue text-white text-xs flex items-center justify-center\">\n                            {assignee.name?.charAt(0)}\n                          </div>\n                          <span className=\"text-sm text-gray-900\">{assignee.name}</span>\n                        </>\n                      ) : (\n                        <>\n                          <User className=\"w-4 h-4 text-gray-500\" />\n                          <span className=\"text-sm text-gray-600\">Unassigned</span>\n                        </>\n                      )\n                    })()}\n                  </>\n                ) : (\n                  <>\n                    <User className=\"w-4 h-4 text-gray-500\" />\n                    <span className=\"text-sm text-gray-600\">Unassigned</span>\n                  </>\n                )}\n                <ChevronDown className=\"w-3 h-3 text-gray-400 ml-auto\" />\n              </div>\n              \n              {showAssigneeDropdown && (\n                <div className=\"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 max-h-40 overflow-y-auto\">\n                  <div \n                    className=\"p-2 hover:bg-gray-50 cursor-pointer text-sm\"\n                    onClick={() => {\n                      setAssigneeId(null)\n                      setShowAssigneeDropdown(false)\n                    }}\n                  >\n                    <div className=\"flex items-center gap-2\">\n                      <User className=\"w-4 h-4 text-gray-500\" />\n                      <span className=\"text-gray-600\">Unassigned</span>\n                    </div>\n                  </div>\n                  {workspaceMembers.map(member => (\n                    <div \n                      key={member.id}\n                      className=\"p-2 hover:bg-gray-50 cursor-pointer text-sm\"\n                      onClick={() => {\n                        setAssigneeId(member.id)\n                        setShowAssigneeDropdown(false)\n                      }}\n                    >\n                      <div className=\"flex items-center gap-2\">\n                        <div className=\"w-4 h-4 rounded-full bg-krushr-blue text-white text-xs flex items-center justify-center\">\n                          {member.name?.charAt(0)}\n                        </div>\n                        <span className=\"text-gray-900\">{member.name}</span>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n            \n            {/* Due Date */}\n            <div className=\"relative\" ref={datePickerRef}>\n              <div \n                className=\"flex items-center gap-2 p-2 rounded-lg border border-gray-200 cursor-pointer hover:border-krushr-blue/50 transition-colors\" \n                onClick={() => setShowDatePicker(!showDatePicker)}\n              >\n                <Calendar className=\"w-4 h-4 text-gray-500\" />\n                <span className=\"text-sm text-gray-600\">\n                  {dueDate ? new Date(dueDate).toLocaleDateString() : 'No date'}\n                </span>\n                <ChevronDown className=\"w-3 h-3 text-gray-400 ml-auto\" />\n              </div>\n              \n              {showDatePicker && (\n                <div className=\"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 p-3\">\n                  <input\n                    type=\"date\"\n                    value={dueDate}\n                    onChange={(e) => {\n                      setDueDate(e.target.value)\n                      setShowDatePicker(false)\n                    }}\n                    className=\"w-full p-2 border border-gray-200 rounded text-sm focus:ring-2 focus:ring-krushr-blue focus:border-krushr-blue\"\n                  />\n                  {dueDate && (\n                    <button\n                      onClick={() => {\n                        setDueDate('')\n                        setShowDatePicker(false)\n                      }}\n                      className=\"mt-2 text-xs text-red-500 hover:text-red-700\"\n                    >\n                      Clear date\n                    </button>\n                  )}\n                </div>\n              )}\n            </div>\n            \n            {/* Created */}\n            <div className=\"flex items-center gap-2 p-2 rounded-lg bg-gray-50\">\n              <Clock className=\"w-4 h-4 text-gray-400\" />\n              <span className=\"text-sm text-gray-500\">Just now</span>\n            </div>\n          </div>\n\n          {/* Unified Features - Streamlined */}\n          <div className=\"space-y-4\">\n            \n            {/* Comments Section */}\n            <div className=\"bg-gray-50 rounded-lg p-3 space-y-3\">\n              <div className=\"flex items-center gap-2\">\n                <MessageSquare className=\"w-4 h-4 text-krushr-blue\" />\n                <h4 className=\"text-sm font-medium text-gray-900\">Comments ({comments.length})</h4>\n              </div>\n              <div className=\"flex gap-2\">\n                <Textarea\n                  value={comment}\n                  onChange={(e) => setComment(e.target.value)}\n                  placeholder=\"Add a comment...\"\n                  className=\"flex-1 min-h-[60px] text-sm resize-none border-gray-200 focus:border-krushr-blue focus:ring-2 focus:ring-krushr-blue/20\"\n                  onKeyPress={(e) => {\n                    if (e.key === 'Enter' && !e.shiftKey) {\n                      e.preventDefault()\n                      handleAddComment()\n                    }\n                  }}\n                />\n                <Button\n                  size=\"sm\"\n                  onClick={handleAddComment}\n                  disabled={!comment.trim()}\n                  className=\"h-10 px-3 bg-krushr-blue hover:bg-krushr-blue/90\"\n                >\n                  <Send className=\"w-3 h-3\" />\n                </Button>\n              </div>\n              \n              {/* Show local comments */}\n              {comments.length > 0 && (\n                <div className=\"space-y-2 max-h-32 overflow-y-auto\">\n                  {comments.map((comment) => (\n                    <div key={comment.id} className=\"bg-white rounded p-2 border\">\n                      <div className=\"flex items-center justify-between mb-1\">\n                        <span className=\"text-xs font-medium text-gray-900\">\n                          {comment.user?.name}\n                        </span>\n                        <span className=\"text-xs text-gray-500\">\n                          {comment.isLocal ? 'Just now' : 'Unknown'}\n                        </span>\n                      </div>\n                      <p className=\"text-xs text-gray-600\">{comment.content}</p>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Files Section */}\n            <div className=\"space-y-2\">\n              <div className=\"flex items-center gap-2\">\n                <Paperclip className=\"w-4 h-4 text-gray-500\" />\n                <span className=\"text-sm font-medium text-gray-700\">Files ({attachments.length})</span>\n              </div>\n              \n              <div className=\"border border-dashed border-gray-200 rounded-lg p-2 text-center hover:border-krushr-blue/50 transition-colors\">\n                <Upload className=\"h-4 w-4 mx-auto text-gray-400 mb-1\" />\n                <input\n                  type=\"file\"\n                  multiple\n                  className=\"hidden\"\n                  id=\"file-upload\"\n                  onChange={(e) => {\n                    const files = Array.from(e.target.files || [])\n                    const newAttachments = files.map(file => ({\n                      id: Date.now() + Math.random(),\n                      name: file.name,\n                      size: file.size,\n                      type: file.type,\n                      file: file,\n                      isLocal: true\n                    }))\n                    setAttachments(prev => [...prev, ...newAttachments])\n                  }}\n                />\n                <Button \n                  variant=\"ghost\" \n                  size=\"sm\" \n                  className=\"text-xs text-gray-600 hover:text-gray-800 p-0\"\n                  onClick={() => document.getElementById('file-upload')?.click()}\n                >\n                  Drop files or click to upload\n                </Button>\n              </div>\n\n              {attachments.length > 0 && (\n                <div className=\"space-y-1 max-h-24 overflow-y-auto\">\n                  {attachments.map((attachment) => (\n                    <div key={attachment.id} className=\"flex items-center justify-between p-2 bg-gray-50 rounded text-sm\">\n                      <div className=\"flex items-center gap-2 flex-1 min-w-0\">\n                        <Paperclip className=\"w-3 h-3 text-gray-500 flex-shrink-0\" />\n                        <span className=\"truncate\">{attachment.name}</span>\n                        <span className=\"text-xs text-gray-400\">({(attachment.size / 1024).toFixed(1)} KB)</span>\n                      </div>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        className=\"h-5 w-5 p-0 text-red-500 hover:text-red-700 flex-shrink-0\"\n                        onClick={() => {\n                          setAttachments(prev => prev.filter(a => a.id !== attachment.id))\n                        }}\n                      >\n                        <X className=\"w-3 h-3\" />\n                      </Button>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Activity Summary - Only show if there's content */}\n            {(comments.length > 0 || attachments.length > 0) && (\n              <div className=\"bg-gray-50 rounded-lg p-3\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <Clock className=\"w-4 h-4 text-gray-500\" />\n                  <h4 className=\"text-sm font-medium text-gray-700\">Ready to Create</h4>\n                </div>\n                <div className=\"space-y-1 text-sm text-gray-600\">\n                  {comments.length > 0 && (\n                    <div>\n                      {comments.length} comment{comments.length > 1 ? 's' : ''} prepared\n                    </div>\n                  )}\n                  {attachments.length > 0 && (\n                    <div>\n                      {attachments.length} file{attachments.length > 1 ? 's' : ''} ready to upload\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Submit Actions */}\n          <div className=\"flex justify-end gap-3 pt-4 border-t border-gray-100\">\n            <Button\n              variant=\"ghost\"\n              onClick={onClose}\n              disabled={createTaskMutation.isLoading}\n              className=\"h-10 px-4 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-50\"\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={handleSubmit}\n              disabled={!title.trim() || createTaskMutation.isLoading}\n              className=\"h-10 px-6 text-sm gap-2 bg-krushr-secondary hover:bg-krushr-secondary/90 focus:ring-2 focus:ring-krushr-secondary/50 text-white font-medium\"\n            >\n              {createTaskMutation.isLoading ? (\n                <>Creating...</>\n              ) : (\n                <>\n                  <Send className=\"w-4 h-4\" />\n                  Create Task\n                </>\n              )}\n            </Button>\n          </div>\n        </div>\n      </SheetContent>\n    </Sheet>\n  )\n}\n", "/**\n * Login Page\n * User authentication interface\n */\n\nimport React, { useState } from 'react'\nimport { Link, useNavigate } from 'react-router'\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '../components/ui/card'\nimport { Button } from '../components/ui/button'\nimport { FloatingInput } from '../components/ui/floating-input'\nimport { Alert, AlertDescription } from '../components/ui/alert'\nimport { Loader2, Mail, Lock, AlertCircle } from 'lucide-react'\nimport { trpc } from '../lib/trpc'\nimport { useAuthStore } from '../stores/auth-store'\nimport KrushrLogo from '../components/common/KrushrLogo'\n\nexport default function Login() {\n  const navigate = useNavigate()\n  const { setUser, setToken } = useAuthStore()\n  \n  const [email, setEmail] = useState('alice@krushr.dev')\n  const [password, setPassword] = useState('password123')\n  const [error, setError] = useState('')\n\n  const loginMutation = trpc.auth.login.useMutation({\n    onSuccess: (data) => {\n      setUser(data.user)\n      setToken(data.token)\n      navigate('/board')\n    },\n    onError: (error) => {\n      setError(error.message || 'Invalid email or password')\n    }\n  })\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    setError('')\n    \n    if (!email || !password) {\n      setError('Please fill in all fields')\n      return\n    }\n\n    loginMutation.mutate({ email, password })\n  }\n\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div className=\"text-center\">\n          <div className=\"flex justify-center mb-4\">\n            <KrushrLogo size=\"xl\" />\n          </div>\n          <p className=\"text-muted-foreground\">Welcome back! Please sign in to continue.</p>\n        </div>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Sign in to your account</CardTitle>\n            <CardDescription>\n              Enter your email and password to access your workspace\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              {error && (\n                <Alert variant=\"destructive\">\n                  <AlertCircle className=\"h-4 w-4\" />\n                  <AlertDescription>{error}</AlertDescription>\n                </Alert>\n              )}\n\n              <div className=\"space-y-2\">\n                <div className=\"relative\">\n                  <Mail className=\"absolute left-3 top-3 h-4 w-4 text-gray-400 z-20\" />\n                  <FloatingInput\n                    id=\"email\"\n                    type=\"email\"\n                    label=\"Email address\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    className=\"pl-10\"\n                    autoComplete=\"email\"\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <div className=\"relative\">\n                  <Lock className=\"absolute left-3 top-3 h-4 w-4 text-gray-400 z-20\" />\n                  <FloatingInput\n                    id=\"password\"\n                    type=\"password\"\n                    label=\"Password\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    className=\"pl-10\"\n                    autoComplete=\"current-password\"\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex items-center justify-between\">\n                <label className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                  />\n                  <span className=\"ml-2 text-sm text-gray-600\">Remember me</span>\n                </label>\n                <Link\n                  to=\"/forgot-password\"\n                  className=\"text-sm text-blue-600 hover:text-blue-500\"\n                >\n                  Forgot password?\n                </Link>\n              </div>\n\n              <Button\n                type=\"submit\"\n                className=\"w-full\"\n                style={{ backgroundColor: '#143197', color: 'white' }}\n                disabled={loginMutation.isLoading}\n              >\n                {loginMutation.isLoading ? (\n                  <>\n                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                    Signing in...\n                  </>\n                ) : (\n                  'Sign in'\n                )}\n              </Button>\n\n              <div className=\"relative\">\n                <div className=\"absolute inset-0 flex items-center\">\n                  <span className=\"w-full border-t\" />\n                </div>\n                <div className=\"relative flex justify-center text-xs uppercase\">\n                  <span className=\"bg-white px-2 text-gray-500\">New to Krushr?</span>\n                </div>\n              </div>\n\n              <Link to=\"/register\">\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  className=\"w-full\"\n                  disabled={loginMutation.isLoading}\n                >\n                  Create Free Account\n                </Button>\n              </Link>\n\n              <div className=\"text-center text-sm\">\n                <span className=\"text-gray-600\">Don't have an account? </span>\n                <Link\n                  to=\"/register\"\n                  className=\"font-medium text-blue-600 hover:text-blue-500\"\n                >\n                  Sign up\n                </Link>\n              </div>\n            </form>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  )\n}", "import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n", "/**\n * Krushr Logo Component - Fast loading cached SVG\n */\n\nimport React from 'react'\nimport { cn } from '../../lib/utils'\n\ninterface KrushrLogoProps {\n  size?: 'sm' | 'md' | 'lg' | 'xl'\n  className?: string\n  showText?: boolean\n}\n\nexport default function KrushrLogo({ \n  size = 'md', \n  className, \n  showText = true \n}: KrushrLogoProps) {\n  const sizeClasses = {\n    sm: 'h-6',\n    md: 'h-8', \n    lg: 'h-12',\n    xl: 'h-16'\n  }\n\n  const textSizeClasses = {\n    sm: 'text-sm',\n    md: 'text-lg',\n    lg: 'text-xl',\n    xl: 'text-2xl'\n  }\n\n  return (\n    <div className={cn(\"flex items-center gap-2\", className)}>\n      <img \n        src=\"/krushr.svg\" \n        alt=\"Krushr\"\n        className={cn(\"object-contain\", sizeClasses[size])}\n      />\n      {showText && (\n        <span className={cn(\"font-bold text-krushr-primary\", textSizeClasses[size])}>\n          Krushr\n        </span>\n      )}\n    </div>\n  )\n}", "\nimport React, { useState } from 'react'\nimport { Link, useNavigate } from 'react-router'\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '../components/ui/card'\nimport { Button } from '../components/ui/button'\nimport { FloatingInput } from '../components/ui/floating-input'\nimport { Alert, AlertDescription } from '../components/ui/alert'\nimport { Loader2, Mail, Lock, User, AlertCircle } from 'lucide-react'\nimport { trpc } from '../lib/trpc'\nimport { useAuthStore } from '../stores/auth-store'\nimport KrushrLogo from '../components/common/KrushrLogo'\n\nexport default function Register() {\n  const navigate = useNavigate()\n  const { setUser, setToken } = useAuthStore()\n  \n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  })\n  const [error, setError] = useState('')\n\n  const registerMutation = trpc.auth.register.useMutation({\n    onSuccess: (data) => {\n      setUser(data.user)\n      setToken(data.token)\n      navigate('/board')\n    },\n    onError: (error) => {\n      setError(error.message || 'Registration failed')\n    }\n  })\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }))\n  }\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    setError('')\n    \n    if (!formData.name || !formData.email || !formData.password) {\n      setError('Please fill in all fields')\n      return\n    }\n\n    if (formData.password.length < 6) {\n      setError('Password must be at least 6 characters')\n      return\n    }\n\n    if (formData.password !== formData.confirmPassword) {\n      setError('Passwords do not match')\n      return\n    }\n\n    registerMutation.mutate({\n      name: formData.name,\n      email: formData.email,\n      password: formData.password\n    })\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div className=\"text-center\">\n          <div className=\"flex justify-center mb-4\">\n            <KrushrLogo size=\"xl\" />\n          </div>\n          <p className=\"text-muted-foreground\">Create your account to get started</p>\n        </div>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Sign up for an account</CardTitle>\n            <CardDescription>\n              Join Krushr to manage your projects and collaborate with your team\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              {error && (\n                <Alert variant=\"destructive\">\n                  <AlertCircle className=\"h-4 w-4\" />\n                  <AlertDescription>{error}</AlertDescription>\n                </Alert>\n              )}\n\n              <div className=\"space-y-2\">\n                <div className=\"relative\">\n                  <User className=\"absolute left-3 top-3 h-4 w-4 text-gray-400 z-20\" />\n                  <FloatingInput\n                    id=\"name\"\n                    name=\"name\"\n                    type=\"text\"\n                    label=\"Full name\"\n                    value={formData.name}\n                    onChange={handleChange}\n                    className=\"pl-10\"\n                    autoComplete=\"name\"\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <div className=\"relative\">\n                  <Mail className=\"absolute left-3 top-3 h-4 w-4 text-gray-400 z-20\" />\n                  <FloatingInput\n                    id=\"email\"\n                    name=\"email\"\n                    type=\"email\"\n                    label=\"Email address\"\n                    value={formData.email}\n                    onChange={handleChange}\n                    className=\"pl-10\"\n                    autoComplete=\"email\"\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <div className=\"relative\">\n                  <Lock className=\"absolute left-3 top-3 h-4 w-4 text-gray-400 z-20\" />\n                  <FloatingInput\n                    id=\"password\"\n                    name=\"password\"\n                    type=\"password\"\n                    label=\"Password\"\n                    value={formData.password}\n                    onChange={handleChange}\n                    className=\"pl-10\"\n                    autoComplete=\"new-password\"\n                    required\n                  />\n                </div>\n                <p className=\"text-xs text-gray-500\">\n                  Must be at least 6 characters long\n                </p>\n              </div>\n\n              <div className=\"space-y-2\">\n                <div className=\"relative\">\n                  <Lock className=\"absolute left-3 top-3 h-4 w-4 text-gray-400 z-20\" />\n                  <FloatingInput\n                    id=\"confirmPassword\"\n                    name=\"confirmPassword\"\n                    type=\"password\"\n                    label=\"Confirm password\"\n                    value={formData.confirmPassword}\n                    onChange={handleChange}\n                    className=\"pl-10\"\n                    autoComplete=\"new-password\"\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <label className=\"flex items-start\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5\"\n                    required\n                  />\n                  <span className=\"ml-2 text-sm text-gray-600\">\n                    I agree to the{' '}\n                    <Link to=\"/terms\" className=\"text-primary hover:text-primary/80\">\n                      Terms of Service\n                    </Link>{' '}\n                    and{' '}\n                    <Link to=\"/privacy\" className=\"text-primary hover:text-primary/80\">\n                      Privacy Policy\n                    </Link>\n                  </span>\n                </label>\n              </div>\n\n              <Button\n                type=\"submit\"\n                className=\"w-full bg-primary hover:bg-primary/90\"\n                disabled={registerMutation.isLoading}\n              >\n                {registerMutation.isLoading ? (\n                  <>\n                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                    Creating account...\n                  </>\n                ) : (\n                  'Create account'\n                )}\n              </Button>\n\n              <div className=\"text-center text-sm\">\n                <span className=\"text-gray-600\">Already have an account? </span>\n                <Link\n                  to=\"/login\"\n                  className=\"font-medium text-blue-600 hover:text-blue-500\"\n                >\n                  Sign in\n                </Link>\n              </div>\n            </form>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  )\n}", "import { useEffect, useState } from 'react'\nimport { useNavigate } from 'react-router'\nimport ResponsiveLayout from '../components/layout/ResponsiveLayout'\nimport ActivityFeed from '../components/dashboard/ActivityFeed'\nimport QuickActions from '../components/dashboard/QuickActions'\nimport TasksSummary from '../components/dashboard/TasksSummary'\nimport UniversalInputForm from '../components/forms/UniversalInputForm'\nimport { useAuthStore } from '../stores/auth-store'\nimport { trpc } from '../lib/trpc'\nimport { Card, CardContent, CardHeader, CardTitle } from '../components/ui/card'\nimport { Badge } from '../components/ui/badge'\nimport { Button } from '../components/ui/button'\nimport { ContentType } from '../types/universal-form'\nimport { \n  Calendar, \n  Users, \n  MessageCircle, \n  StickyNote, \n  Plus, \n  Bell,\n  Loader2,\n  ChevronRight,\n  BarChart3\n} from 'lucide-react'\n\nexport default function Home() {\n  const { user, isAuthenticated } = useAuthStore()\n  const navigate = useNavigate()\n  const [showUniversalForm, setShowUniversalForm] = useState(false)\n  \n  // Redirect to login if not authenticated\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate('/login')\n    }\n  }, [isAuthenticated, navigate])\n  \n  const { data: notificationData } = trpc.notification.list.useQuery({})\n  const { data: workspaces = [] } = trpc.workspace.list.useQuery()\n  const notifications = notificationData?.notifications || []\n  const activeWorkspace = workspaces[0] // Use first workspace for now\n\n  const unreadNotifications = notifications.filter(n => !n.isRead).length\n\n  const quickNavItems = [\n    { \n      title: 'Board', \n      icon: BarChart3, \n      href: '/board', \n      description: 'Manage your kanban boards',\n      color: 'text-blue-600 bg-blue-50'\n    },\n    { \n      title: 'Calendar', \n      icon: Calendar, \n      href: '/calendar', \n      description: 'View deadlines and schedule',\n      color: 'text-green-600 bg-green-50'\n    },\n    { \n      title: 'Chat', \n      icon: MessageCircle, \n      href: '/chat', \n      description: 'Team conversations',\n      color: 'text-purple-600 bg-purple-50'\n    },\n    { \n      title: 'Notes', \n      icon: StickyNote, \n      href: '/notes', \n      description: 'Capture ideas and knowledge',\n      color: 'text-orange-600 bg-orange-50'\n    },\n  ]\n\n  if (!isAuthenticated) {\n    return null // Will redirect to login\n  }\n\n  return (\n    <ResponsiveLayout>\n      <div className=\"h-full flex flex-col bg-gray-50\">\n        {/* Header */}\n        <div className=\"bg-white border-b border-gray-200 px-6 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">\n                Welcome back, {user?.name?.split(' ')[0] || 'User'}!\n              </h1>\n              <p className=\"text-gray-600 mt-1\">\n                {activeWorkspace ? `Working in ${activeWorkspace.name}` : 'Here\\'s what\\'s happening today'}\n              </p>\n            </div>\n            \n            <div className=\"flex items-center space-x-3\">\n\n              {/* Notifications */}\n              <Button variant=\"ghost\" size=\"sm\" className=\"relative\">\n                <Bell className=\"w-5 h-5\" />\n                {unreadNotifications > 0 && (\n                  <Badge className=\"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-xs bg-red-500\">\n                    {unreadNotifications > 9 ? '9+' : unreadNotifications}\n                  </Badge>\n                )}\n              </Button>\n\n              <Button onClick={() => setShowUniversalForm(true)}>\n                <Plus className=\"w-4 h-4 mr-2\" />\n                Create Item\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {/* Main Dashboard Grid */}\n        <div className=\"flex-1 p-6 overflow-auto\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full\">\n            {/* Left Column - Quick Navigation & Actions */}\n            <div className=\"space-y-6\">\n              {/* Quick Navigation */}\n              <Card>\n                <CardHeader className=\"pb-3\">\n                  <CardTitle className=\"text-lg font-semibold\">Quick Navigation</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-2\">\n                  {quickNavItems.map((item) => {\n                    const IconComponent = item.icon\n                    return (\n                      <Button\n                        key={item.title}\n                        variant=\"ghost\"\n                        className=\"w-full justify-between h-auto p-4 hover:bg-gray-50\"\n                        onClick={() => {\n                          console.log('Button clicked:', item.title, item.href);\n                          navigate(item.href);\n                        }}\n                      >\n                        <div className=\"flex items-center space-x-3\">\n                          <div className={`p-2 rounded-lg ${item.color}`}>\n                            <IconComponent className=\"w-4 h-4\" />\n                          </div>\n                          <div className=\"text-left\">\n                            <div className=\"font-medium text-gray-900\">{item.title}</div>\n                            <div className=\"text-xs text-gray-500\">{item.description}</div>\n                          </div>\n                        </div>\n                        <ChevronRight className=\"w-4 h-4 text-gray-400\" />\n                      </Button>\n                    )\n                  })}\n                </CardContent>\n              </Card>\n\n              {/* Quick Actions */}\n              <QuickActions />\n            </div>\n\n            {/* Middle Column - Tasks Summary */}\n            <div>\n              <TasksSummary />\n            </div>\n\n            {/* Right Column - Activity Feed */}\n            <div>\n              <ActivityFeed />\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Universal Input Form */}\n      <UniversalInputForm\n        open={showUniversalForm}\n        onClose={() => setShowUniversalForm(false)}\n        onSuccess={(data, type) => {\n          console.log('Created:', { data, type })\n          setShowUniversalForm(false)\n        }}\n        contentType={ContentType.MIXED}\n        workspaceId={activeWorkspace?.id || 'demo-workspace'}\n        allowContentTypeSwitch={true}\n        showWorkflowToggles={true}\n        showFileUploads={true}\n      />\n    </ResponsiveLayout>\n  )\n}\n", "\nimport React, { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router'\nimport { Button } from '../ui/button'\nimport { Badge } from '../ui/badge'\nimport { Avatar, AvatarFallback, AvatarImage } from '../ui/avatar'\nimport { Sheet, SheetContent, SheetTrigger } from '../ui/sheet'\nimport { \n  Menu, \n  Search,\n  Settings,\n  User,\n  LogOut,\n  ChevronDown\n} from 'lucide-react'\nimport { useAuthStore } from '../../stores/auth-store'\nimport Sidebar from '../project/Sidebar'\nimport MobileNavigation from './MobileNavigation'\nimport NotificationBell from '../notifications/NotificationBell'\nimport ToastContainer from '../notifications/ToastContainer'\nimport GlobalSearch from '../common/GlobalSearch'\nimport { cn } from '../../lib/utils'\nimport KrushrLogo from '../common/KrushrLogo'\n\ninterface ResponsiveLayoutProps {\n  children: React.ReactNode\n}\n\nexport default function ResponsiveLayout({ children }: ResponsiveLayoutProps) {\n  const navigate = useNavigate()\n  const [currentPage, setCurrentPage] = useState('home')\n  const [sidebarOpen, setSidebarOpen] = useState(false)\n  const [isMobile, setIsMobile] = useState(false)\n  const [showSearch, setShowSearch] = useState(false)\n\n  const { user } = useAuthStore()\n  const isConnected = true // Mock connected state for now\n  const activeWorkspace = null // Mock workspace for now\n\n  useEffect(() => {\n    const checkScreenSize = () => {\n      setIsMobile(window.innerWidth < 768)\n    }\n\n    checkScreenSize()\n    window.addEventListener('resize', checkScreenSize)\n    return () => window.removeEventListener('resize', checkScreenSize)\n  }, [])\n\n  useEffect(() => {\n    const path = window.location.pathname.slice(1) || 'home'\n    setCurrentPage(path)\n  }, [])\n\n  const handlePageChange = (page: string) => {\n    setCurrentPage(page)\n    const routes: Record<string, string> = {\n      home: '/home',\n      workspace: '/workspace',\n      board: '/board',\n      calendar: '/calendar',\n      chat: '/chat',\n      notes: '/notes',\n      teams: '/teams',\n      projects: '/projects',\n    }\n    if (routes[page]) {\n      navigate(routes[page])\n    }\n  }\n\n  return (\n    <div className=\"h-screen flex flex-col bg-gray-50\">\n      {/* Mobile Header */}\n      {isMobile && (\n        <header className=\"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between md:hidden\">\n          <div className=\"flex items-center space-x-3\">\n            {/* Mobile Menu */}\n            <Sheet open={sidebarOpen} onOpenChange={setSidebarOpen}>\n              <SheetTrigger asChild>\n                <Button variant=\"ghost\" size=\"sm\" className=\"p-2\">\n                  <Menu className=\"w-5 h-5\" />\n                </Button>\n              </SheetTrigger>\n              <SheetContent side=\"left\" className=\"w-80 p-0\">\n                <Sidebar currentPage={currentPage} onPageChange={handlePageChange} />\n              </SheetContent>\n            </Sheet>\n\n            {/* Logo */}\n            <KrushrLogo size=\"md\" />\n          </div>\n\n          <div className=\"flex items-center space-x-2\">\n            {/* Connection Status */}\n            <Badge \n              variant={isConnected ? \"default\" : \"outline\"} \n              className={cn(\n                'text-xs',\n                isConnected ? \"bg-emerald-100 text-emerald-700 border-emerald-200\" : \"bg-amber-100 text-amber-700 border-amber-300\"\n              )}\n            >\n              {isConnected ? 'Live' : 'Offline'}\n            </Badge>\n\n            {/* Search */}\n            <Button variant=\"ghost\" size=\"sm\" className=\"p-2\" onClick={() => setShowSearch(true)}>\n              <Search className=\"w-5 h-5\" />\n            </Button>\n\n            {/* Notifications */}\n            <NotificationBell variant=\"mobile\" />\n\n            {/* User Avatar */}\n            <Avatar className=\"w-8 h-8\">\n              <AvatarImage src={user?.avatar} />\n              <AvatarFallback className=\"text-xs bg-secondary text-secondary-foreground\">\n                {user?.name?.split(' ').map(n => n[0]).join('').toUpperCase() || 'U'}\n              </AvatarFallback>\n            </Avatar>\n          </div>\n        </header>\n      )}\n\n      {/* Desktop Header */}\n      {!isMobile && (\n        <header className=\"bg-white/95 backdrop-blur-sm border-b border-border px-6 py-4 hidden md:block\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex items-center space-x-3\">\n                <KrushrLogo size=\"sm\" showText={false} />\n                <h1 className=\"text-xl font-semibold text-foreground\">\n                  {activeWorkspace?.name || 'Workspace'}\n                </h1>\n              </div>\n              <Badge \n                variant={isConnected ? \"default\" : \"outline\"} \n                className={cn(\n                  'text-xs',\n                  isConnected ? \"bg-emerald-100 text-emerald-700 border-emerald-200\" : \"bg-amber-100 text-amber-700 border-amber-300\"\n                )}\n              >\n                {isConnected ? 'Live' : 'Connecting...'}\n              </Badge>\n            </div>\n\n            <div className=\"flex items-center space-x-4\">\n              {/* Search */}\n              <Button\n                variant=\"outline\"\n                className=\"w-64 justify-start text-muted-foreground hover:text-foreground\"\n                onClick={() => setShowSearch(true)}\n              >\n                <Search className=\"mr-2 h-4 w-4\" />\n                Search...\n              </Button>\n\n              {/* Notifications */}\n              <NotificationBell variant=\"desktop\" />\n\n              {/* User Menu */}\n              <div className=\"flex items-center space-x-3\">\n                <Avatar className=\"w-8 h-8\">\n                  <AvatarImage src={user?.avatar} />\n                  <AvatarFallback className=\"text-xs bg-secondary text-secondary-foreground\">\n                    {user?.name?.split(' ').map(n => n[0]).join('').toUpperCase() || 'U'}\n                  </AvatarFallback>\n                </Avatar>\n                <div className=\"hidden lg:block\">\n                  <div className=\"text-sm font-medium text-foreground\">\n                    {user?.name || 'User'}\n                  </div>\n                  <div className=\"text-xs text-gray-500\">\n                    {user?.email || 'user@example.com'}\n                  </div>\n                </div>\n                <Button variant=\"ghost\" size=\"sm\">\n                  <ChevronDown className=\"w-4 h-4\" />\n                </Button>\n              </div>\n            </div>\n          </div>\n        </header>\n      )}\n\n      {/* Main Content Area */}\n      <div className=\"flex-1 flex overflow-hidden\">\n        {/* Desktop Sidebar */}\n        {!isMobile && (\n          <div className=\"hidden md:block\">\n            <Sidebar currentPage={currentPage} onPageChange={handlePageChange} />\n          </div>\n        )}\n\n        {/* Main Content */}\n        <main className={cn(\n          'flex-1 overflow-auto',\n          isMobile && 'pb-16' // Add padding for mobile navigation\n        )}>\n          {children}\n        </main>\n      </div>\n\n      {/* Mobile Bottom Navigation */}\n      {isMobile && (\n        <MobileNavigation\n          currentPage={currentPage}\n          onPageChange={handlePageChange}\n        />\n      )}\n\n      {/* Footer - Full Width */}\n      <footer className=\"bg-gray-900 text-white w-full\">\n        <div className=\"w-full px-4 sm:px-6 lg:px-8 py-8\">\n          <div className=\"flex flex-col lg:flex-row lg:justify-between items-center gap-4\">\n            <div className=\"text-sm text-gray-400\">\n              Copyright \u00A9 krushr.io\n            </div>\n            <div className=\"flex items-center gap-4 text-sm text-gray-400\">\n              <a href=\"/privacy\" className=\"hover:text-white transition-colors\">Privacy</a>\n              <a href=\"/terms\" className=\"hover:text-white transition-colors\">Terms</a>\n              <a href=\"/contact\" className=\"hover:text-white transition-colors\">Contact</a>\n            </div>\n          </div>\n        </div>\n      </footer>\n\n      {/* Toast Notifications */}\n      <ToastContainer />\n\n      {/* Global Search */}\n      <GlobalSearch \n        open={showSearch}\n        onClose={() => setShowSearch(false)}\n      />\n    </div>\n  )\n}", "import { Home, Calendar, MessageCircle, StickyNote, Users, FolderOpen, Settings, User, Layout, LogOut, Menu, ChevronLeft, Palette, BookOpen, ChevronDown, ChevronRight } from 'lucide-react'\nimport { useState } from 'react'\nimport { useAuthStore } from '../../stores/auth-store'\nimport { trpc } from '../../lib/trpc'\nimport KrushrLogo from '../common/KrushrLogo'\nimport { useNavigate } from 'react-router'\nimport { Avatar, AvatarFallback, AvatarImage } from '../ui/avatar'\n\ninterface SidebarProps {\n  currentPage: string\n  onPageChange: (page: string) => void\n}\n\nexport default function Sidebar({ currentPage, onPageChange }: SidebarProps) {\n  const [isCollapsed, setIsCollapsed] = useState(false)\n  const [isBrandkitOpen, setIsBrandkitOpen] = useState(false)\n  const { user, logout } = useAuthStore()\n  const navigate = useNavigate()\n  const { data: workspaces = [] } = trpc.workspace.list.useQuery()\n  const activeWorkspace = workspaces[0]\n  \n  const { data: workspaceMembers = [], isLoading: membersLoading, error: membersError } = trpc.user.listWorkspaceMembers.useQuery(\n    { workspaceId: activeWorkspace?.id || '' },\n    { \n      enabled: !!activeWorkspace?.id,\n      staleTime: 5 * 60 * 1000, // Cache for 5 minutes\n      retry: 3,\n      refetchOnWindowFocus: false\n    }\n  )\n  \n  const displayMembers = workspaceMembers.length > 0 ? workspaceMembers : []\n  const shouldShowMembersList = activeWorkspace && !membersError\n  const navigation = [\n    { name: 'Dashboard', icon: Home, href: '/home', key: 'home' },\n    { name: 'Workspace', icon: Layout, href: '/workspace', key: 'workspace' },\n    { name: 'Board', icon: FolderOpen, href: '/board', key: 'board' },\n    { name: 'Calendar', icon: Calendar, href: '/calendar', key: 'calendar' },\n    { name: 'Chat', icon: MessageCircle, href: '/chat', key: 'chat' },\n    { name: 'Notes', icon: StickyNote, href: '/notes', key: 'notes' },\n    { name: 'Teams', icon: Users, href: '/teams', key: 'teams' },\n    { name: 'Projects', icon: FolderOpen, href: '/projects', key: 'projects' },\n    { name: 'Contacts', icon: User, href: '/contacts', key: 'contacts' },\n  ]\n\n  const brandkitItems = [\n    { name: 'Brandkit', icon: Palette, href: '/brandkit.html', key: 'brandkit' },\n    { name: 'Brandkit 2', icon: Palette, href: '/brandkit-2.html', key: 'brandkit2' },\n    { name: 'Landing Design System', icon: BookOpen, href: '/design-system-landing.html', key: 'landingkit' },\n  ]\n\n  const getInitials = (name: string) => {\n    return name\n      .split(' ')\n      .map(n => n[0])\n      .join('')\n      .toUpperCase()\n      .substring(0, 2)\n  }\n\n  const handleLogout = () => {\n    logout()\n    navigate('/login')\n  }\n\n  return (\n    <div className={`${isCollapsed ? 'w-16' : 'w-48'} bg-sidebar border-r border-sidebar-border flex flex-col h-full transition-all duration-300`}>\n      <div className=\"p-4 border-b border-sidebar-border\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex-1\">\n            <KrushrLogo size={isCollapsed ? \"sm\" : \"md\"} showText={!isCollapsed} />\n          </div>\n          <button\n            onClick={() => setIsCollapsed(!isCollapsed)}\n            className=\"p-1 hover:bg-sidebar-accent rounded transition-colors ml-2\"\n            title={isCollapsed ? \"Expand sidebar\" : \"Collapse sidebar\"}\n          >\n            {isCollapsed ? (\n              <Menu className=\"w-5 h-5 text-sidebar-foreground\" />\n            ) : (\n              <ChevronLeft className=\"w-5 h-5 text-sidebar-foreground\" />\n            )}\n          </button>\n        </div>\n      </div>\n\n      <div className=\"p-4 border-b border-sidebar-border\">\n        <nav className=\"space-y-1\">\n          {navigation.map((item) => {\n            const isActive = currentPage === item.key\n            \n            return (\n              <button\n                key={item.key}\n                onClick={(e) => {\n                  e.preventDefault()\n                  onPageChange(item.key)\n                }}\n                className={`w-full flex items-center ${isCollapsed ? 'justify-center px-2' : 'px-3'} py-2 text-sm font-light rounded-lg transition-colors ${\n                  isActive\n                    ? 'bg-krushr-primary text-white font-medium'\n                    : 'text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground'\n                }`}\n                title={isCollapsed ? item.name : undefined}\n              >\n                <item.icon className={`w-4 h-4 ${isCollapsed ? '' : 'mr-3'} ${isActive ? '' : 'text-sidebar-icon'}`} />\n                {!isCollapsed && item.name}\n              </button>\n            )\n          })}\n\n          <div>\n            <button\n              onClick={() => setIsBrandkitOpen(!isBrandkitOpen)}\n              className={`w-full flex items-center ${isCollapsed ? 'justify-center px-2' : 'px-3'} py-2 text-sm font-light rounded-lg transition-colors text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground`}\n              title={isCollapsed ? \"Design System\" : undefined}\n            >\n              <Palette className={`w-4 h-4 ${isCollapsed ? '' : 'mr-3'} text-sidebar-icon`} />\n              {!isCollapsed && (\n                <>\n                  <span className=\"flex-1 text-left\">Design System</span>\n                  {isBrandkitOpen ? (\n                    <ChevronDown className=\"w-4 h-4 text-sidebar-icon\" />\n                  ) : (\n                    <ChevronRight className=\"w-4 h-4 text-sidebar-icon\" />\n                  )}\n                </>\n              )}\n            </button>\n\n            {isBrandkitOpen && !isCollapsed && (\n              <div className=\"ml-6 mt-1 space-y-1\">\n                {brandkitItems.map((item) => (\n                  <a\n                    key={item.key}\n                    href={item.href}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"w-full flex items-center px-3 py-2 text-sm font-light rounded-lg transition-colors text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\"\n                  >\n                    <item.icon className=\"w-4 h-4 mr-3 text-sidebar-icon\" />\n                    {item.name}\n                  </a>\n                ))}\n              </div>\n            )}\n          </div>\n        </nav>\n      </div>\n\n      {shouldShowMembersList && (\n        <div className={`${isCollapsed ? 'p-2' : 'p-4'} border-t border-sidebar-border flex-1`}>\n          {!isCollapsed && (\n            <div className=\"flex items-center justify-between mb-3\">\n              <h3 className=\"text-xs font-semibold text-sidebar-foreground/70 uppercase tracking-wide\">\n                Team {membersLoading ? '...' : `(${displayMembers.length})`}\n              </h3>\n              {membersLoading && (\n                <div className=\"w-3 h-3 border border-sidebar-foreground/30 border-t-sidebar-foreground rounded-full animate-spin\"></div>\n              )}\n            </div>\n          )}\n          \n          <div className={`space-y-2 ${isCollapsed ? 'flex flex-col items-center' : ''}`}>\n            {membersLoading && displayMembers.length === 0 && (\n              <div className={`flex ${isCollapsed ? 'justify-center' : 'items-center space-x-3'} p-2`}>\n                <div className=\"w-8 h-8 rounded-full bg-sidebar-accent animate-pulse\"></div>\n                {!isCollapsed && (\n                  <div className=\"flex-1\">\n                    <div className=\"h-3 bg-sidebar-accent rounded animate-pulse mb-1\"></div>\n                    <div className=\"h-2 bg-sidebar-accent/60 rounded w-3/4 animate-pulse\"></div>\n                  </div>\n                )}\n              </div>\n            )}\n            \n            {displayMembers.slice(0, isCollapsed ? 6 : 5).map((member) => (\n              <div \n                key={member.id} \n                className={`group transition-colors cursor-pointer ${\n                  isCollapsed \n                    ? 'flex justify-center mb-1' \n                    : 'flex items-center space-x-3 p-2 rounded-lg hover:bg-sidebar-accent'\n                }`}\n                title={isCollapsed ? `${member.name} (${member.email})` : undefined}\n              >\n                <div className=\"relative\">\n                  <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-krushr-primary to-krushr-primary/80 flex items-center justify-center text-white text-xs font-medium group-hover:scale-105 transition-transform\">\n                    {getInitials(member.name || 'U')}\n                  </div>\n                  <div className=\"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-emerald-400 border-2 border-sidebar rounded-full\"></div>\n                </div>\n                \n                {!isCollapsed && (\n                  <div className=\"flex-1 min-w-0\">\n                    <p className=\"text-sm font-medium text-sidebar-foreground truncate\">\n                      {member.name}\n                    </p>\n                    <p className=\"text-xs text-sidebar-foreground/60 truncate\">\n                      {member.email.split('@')[0]}\n                    </p>\n                  </div>\n                )}\n              </div>\n            ))}\n            \n            {displayMembers.length > (isCollapsed ? 6 : 5) && (\n              <div className={`${isCollapsed ? 'flex justify-center' : 'text-center pt-2'}`}>\n                {isCollapsed ? (\n                  <div className=\"w-8 h-8 rounded-full bg-sidebar-accent flex items-center justify-center text-sidebar-foreground text-xs font-medium\" title={`+${displayMembers.length - 6} more members`}>\n                    +{displayMembers.length - 6}\n                  </div>\n                ) : (\n                  <button className=\"text-xs text-sidebar-foreground/60 hover:text-sidebar-foreground transition-colors\">\n                    +{displayMembers.length - 5} more members\n                  </button>\n                )}\n              </div>\n            )}\n            \n            {!membersLoading && displayMembers.length === 0 && !isCollapsed && (\n              <div className=\"text-xs text-sidebar-foreground/60 text-center py-2\">\n                No team members yet\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {!shouldShowMembersList && (\n        <div className=\"flex-1\"></div>\n      )}\n\n      {user && (\n        <div className=\"p-4 border-t border-sidebar-border\">\n          {!isCollapsed ? (\n            <div className=\"flex items-center space-x-3 p-2 rounded-lg hover:bg-sidebar-accent transition-colors\">\n              <Avatar className=\"w-8 h-8\">\n                <AvatarImage src={user.avatar} />\n                <AvatarFallback className=\"bg-gradient-to-br from-pink-400 to-red-500 text-white text-xs font-medium\">\n                  {getInitials(user.name || 'U')}\n                </AvatarFallback>\n              </Avatar>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium text-sidebar-foreground truncate\">{user.name}</p>\n                <p className=\"text-xs text-sidebar-foreground/60 truncate\">{user.email}</p>\n              </div>\n              <div className=\"flex space-x-1\">\n                <button\n                  onClick={() => navigate('/settings')}\n                  className=\"p-1 hover:bg-sidebar-accent rounded transition-colors\"\n                  title=\"Settings\"\n                >\n                  <Settings className=\"w-4 h-4 text-sidebar-foreground/60\" />\n                </button>\n                <button\n                  onClick={handleLogout}\n                  className=\"p-1 hover:bg-red-100 hover:text-red-600 rounded transition-colors\"\n                  title=\"Logout\"\n                >\n                  <LogOut className=\"w-4 h-4 text-sidebar-foreground/60\" />\n                </button>\n              </div>\n            </div>\n          ) : (\n            <div className=\"flex flex-col items-center space-y-2\">\n              <Avatar className=\"w-8 h-8\" title={user.name}>\n                <AvatarImage src={user.avatar} />\n                <AvatarFallback className=\"bg-gradient-to-br from-pink-400 to-red-500 text-white text-xs font-medium\">\n                  {getInitials(user.name || 'U')}\n                </AvatarFallback>\n              </Avatar>\n              <div className=\"flex flex-col space-y-1\">\n                <button\n                  onClick={() => navigate('/settings')}\n                  className=\"p-1 hover:bg-sidebar-accent rounded transition-colors\"\n                  title=\"Settings\"\n                >\n                  <Settings className=\"w-4 h-4 text-sidebar-foreground/60\" />\n                </button>\n                <button\n                  onClick={handleLogout}\n                  className=\"p-1 hover:bg-red-100 hover:text-red-600 rounded transition-colors\"\n                  title=\"Logout\"\n                >\n                  <LogOut className=\"w-4 h-4 text-sidebar-foreground/60\" />\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n", "\nimport React from 'react'\nimport { Button } from '../ui/button'\nimport { Badge } from '../ui/badge'\nimport { \n  Home, \n  BarChart3, \n  Calendar, \n  MessageCircle, \n  StickyNote,\n  Users,\n  Bell\n} from 'lucide-react'\nimport { useAppStore } from '../../stores/app-store'\nimport { cn } from '../../lib/utils'\n\ninterface MobileNavigationProps {\n  currentPage: string\n  onPageChange: (page: string) => void\n  className?: string\n}\n\nexport default function MobileNavigation({ \n  currentPage, \n  onPageChange, \n  className \n}: MobileNavigationProps) {\n  const { notifications } = useAppStore()\n  const unreadCount = notifications.filter(n => !n.is_read).length\n\n  const navigationItems = [\n    {\n      key: 'home',\n      label: 'Home',\n      icon: Home,\n      href: '/',\n      badge: null\n    },\n    {\n      key: 'board',\n      label: 'Board',\n      icon: BarChart3,\n      href: '/board',\n      badge: null\n    },\n    {\n      key: 'calendar',\n      label: 'Calendar',\n      icon: Calendar,\n      href: '/calendar',\n      badge: null\n    },\n    {\n      key: 'chat',\n      label: 'Chat',\n      icon: MessageCircle,\n      href: '/chat',\n      badge: unreadCount > 0 ? unreadCount : null\n    },\n    {\n      key: 'notes',\n      label: 'Notes',\n      icon: StickyNote,\n      href: '/notes',\n      badge: null\n    }\n  ]\n\n  return (\n    <nav className={cn(\n      'fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 md:hidden',\n      className\n    )}>\n      <div className=\"grid grid-cols-5 h-16\">\n        {navigationItems.map((item) => {\n          const IconComponent = item.icon\n          const isActive = currentPage === item.key\n          \n          return (\n            <Button\n              key={item.key}\n              variant=\"ghost\"\n              className={cn(\n                'h-full rounded-none flex flex-col items-center justify-center space-y-1 relative',\n                isActive && 'text-blue-600 bg-blue-50'\n              )}\n              onClick={() => onPageChange(item.key)}\n            >\n              <div className=\"relative\">\n                <IconComponent className={cn(\n                  'w-5 h-5',\n                  isActive ? 'text-blue-600' : 'text-gray-900/90'\n                )} />\n                {item.badge && (\n                  <Badge className=\"absolute -top-2 -right-2 h-4 w-4 p-0 flex items-center justify-center text-xs bg-red-500\">\n                    {item.badge > 9 ? '9+' : item.badge}\n                  </Badge>\n                )}\n              </div>\n              <span className={cn(\n                'text-xs font-light',\n                isActive ? 'text-blue-600' : 'text-gray-900/90'\n              )}>\n                {item.label}\n              </span>\n            </Button>\n          )\n        })}\n      </div>\n    </nav>\n  )\n}", "\nimport React, { useState } from 'react'\nimport { Button } from '../ui/button'\nimport { Badge } from '../ui/badge'\nimport { \n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '../ui/popover'\nimport { Bell } from 'lucide-react'\nimport { useAppStore } from '../../stores/app-store'\nimport NotificationCenter from './NotificationCenter'\nimport { cn } from '../../lib/utils'\n\ninterface NotificationBellProps {\n  className?: string\n  variant?: 'desktop' | 'mobile'\n}\n\nexport default function NotificationBell({ \n  className,\n  variant = 'desktop' \n}: NotificationBellProps) {\n  const [isOpen, setIsOpen] = useState(false)\n  const { notifications } = useAppStore()\n  \n  const unreadCount = notifications.filter(n => !n.is_read).length\n\n  return (\n    <Popover open={isOpen} onOpenChange={setIsOpen}>\n      <PopoverTrigger asChild>\n        <Button \n          variant=\"ghost\" \n          size={variant === 'mobile' ? 'sm' : 'default'}\n          className={cn(\n            'relative',\n            variant === 'mobile' && 'p-2',\n            className\n          )}\n        >\n          <Bell className={cn(\n            variant === 'mobile' ? 'w-5 h-5' : 'w-5 h-5'\n          )} />\n          {unreadCount > 0 && (\n            <Badge className={cn(\n              'absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-xs bg-red-500',\n              variant === 'mobile' && 'h-4 w-4'\n            )}>\n              {unreadCount > 9 ? '9+' : unreadCount}\n            </Badge>\n          )}\n        </Button>\n      </PopoverTrigger>\n      \n      <PopoverContent \n        className=\"w-96 p-0\" \n        align=\"end\"\n        side={variant === 'mobile' ? 'bottom' : 'bottom'}\n        sideOffset={8}\n      >\n        <NotificationCenter className=\"border-0 shadow-none\" />\n      </PopoverContent>\n    </Popover>\n  )\n}", "\nimport React, { useState } from 'react'\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card'\nimport { Button } from '../ui/button'\nimport { Badge } from '../ui/badge'\nimport { Avatar, AvatarFallback, AvatarImage } from '../ui/avatar'\nimport { ScrollArea } from '../ui/scroll-area'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../ui/tabs'\nimport { \n  Bell, \n  Check, \n  CheckCheck, \n  X, \n  Settings,\n  Filter,\n  Search,\n  MessageCircle,\n  Calendar,\n  UserPlus,\n  AlertTriangle,\n  CheckCircle2,\n  FileText,\n  ExternalLink\n} from 'lucide-react'\nimport { useAppStore } from '../../stores/app-store'\nimport { Notification } from '../../../../shared/types'\nimport { formatDateTime } from '../../../../shared/utils'\nimport { cn } from '../../lib/utils'\n\ninterface NotificationCenterProps {\n  className?: string\n}\n\nexport default function NotificationCenter({ className }: NotificationCenterProps) {\n  const [activeTab, setActiveTab] = useState('all')\n  const [searchTerm, setSearchTerm] = useState('')\n  \n  const { notifications, markNotificationRead } = useAppStore()\n\n  const filteredNotifications = notifications.filter(notification => {\n    const matchesSearch = !searchTerm || \n      notification.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      notification.message.toLowerCase().includes(searchTerm.toLowerCase())\n\n    const matchesTab = activeTab === 'all' || \n      (activeTab === 'unread' && !notification.is_read) ||\n      (activeTab === 'mentions' && notification.type.includes('mention')) ||\n      (activeTab === 'tasks' && notification.type.includes('task'))\n\n    return matchesSearch && matchesTab\n  })\n\n  const unreadCount = notifications.filter(n => !n.is_read).length\n\n  const getNotificationIcon = (type: string) => {\n    switch (type) {\n      case 'task_assigned':\n      case 'task_completed':\n      case 'task_updated':\n        return <CheckCircle2 className=\"w-4 h-4 text-blue-600\" />\n      case 'comment_added':\n      case 'mention':\n        return <MessageCircle className=\"w-4 h-4 text-purple-600\" />\n      case 'meeting_scheduled':\n      case 'deadline_reminder':\n        return <Calendar className=\"w-4 h-4 text-green-600\" />\n      case 'team_invitation':\n      case 'user_invited':\n        return <UserPlus className=\"w-4 h-4 text-indigo-600\" />\n      case 'file_shared':\n        return <FileText className=\"w-4 h-4 text-orange-600\" />\n      case 'system_alert':\n        return <AlertTriangle className=\"w-4 h-4 text-red-600\" />\n      default:\n        return <Bell className=\"w-4 h-4 text-gray-600\" />\n    }\n  }\n\n  const getNotificationColor = (type: string) => {\n    switch (type) {\n      case 'task_assigned':\n      case 'task_completed':\n      case 'task_updated':\n        return 'border-l-blue-500 bg-blue-50'\n      case 'comment_added':\n      case 'mention':\n        return 'border-l-purple-500 bg-purple-50'\n      case 'meeting_scheduled':\n      case 'deadline_reminder':\n        return 'border-l-green-500 bg-green-50'\n      case 'team_invitation':\n      case 'user_invited':\n        return 'border-l-indigo-500 bg-indigo-50'\n      case 'file_shared':\n        return 'border-l-orange-500 bg-orange-50'\n      case 'system_alert':\n        return 'border-l-red-500 bg-red-50'\n      default:\n        return 'border-l-gray-300 bg-white'\n    }\n  }\n\n  const handleMarkAsRead = (notificationId: string) => {\n    markNotificationRead(notificationId)\n  }\n\n  const handleMarkAllAsRead = () => {\n    notifications\n      .filter(n => !n.is_read)\n      .forEach(notification => markNotificationRead(notification.id))\n  }\n\n  const formatNotificationType = (type: string) => {\n    return type.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())\n  }\n\n  return (\n    <Card className={cn('h-full flex flex-col', className)}>\n      {/* Header */}\n      <CardHeader className=\"flex-shrink-0 pb-3\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-2\">\n            <CardTitle className=\"text-lg font-semibold\">Notifications</CardTitle>\n            {unreadCount > 0 && (\n              <Badge variant=\"secondary\" className=\"bg-red-100 text-red-700\">\n                {unreadCount} new\n              </Badge>\n            )}\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <Button variant=\"ghost\" size=\"sm\">\n              <Filter className=\"w-4 h-4\" />\n            </Button>\n            <Button variant=\"ghost\" size=\"sm\">\n              <Settings className=\"w-4 h-4\" />\n            </Button>\n          </div>\n        </div>\n\n        {/* Search */}\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search notifications...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n          />\n        </div>\n      </CardHeader>\n\n      {/* Tabs */}\n      <div className=\"flex-shrink-0 px-6\">\n        <Tabs value={activeTab} onValueChange={setActiveTab}>\n          <TabsList className=\"grid w-full grid-cols-4\">\n            <TabsTrigger value=\"all\" className=\"text-xs\">All</TabsTrigger>\n            <TabsTrigger value=\"unread\" className=\"text-xs\">\n              Unread\n              {unreadCount > 0 && (\n                <Badge variant=\"secondary\" className=\"ml-1 h-4 w-4 p-0 text-xs\">\n                  {unreadCount > 9 ? '9+' : unreadCount}\n                </Badge>\n              )}\n            </TabsTrigger>\n            <TabsTrigger value=\"mentions\" className=\"text-xs\">Mentions</TabsTrigger>\n            <TabsTrigger value=\"tasks\" className=\"text-xs\">Tasks</TabsTrigger>\n          </TabsList>\n\n          {/* Actions */}\n          {unreadCount > 0 && (\n            <div className=\"flex items-center justify-between mt-3\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={handleMarkAllAsRead}\n                className=\"text-blue-600 hover:text-blue-700\"\n              >\n                <CheckCheck className=\"w-4 h-4 mr-2\" />\n                Mark all as read\n              </Button>\n            </div>\n          )}\n        </Tabs>\n      </div>\n\n      {/* Notifications List */}\n      <ScrollArea className=\"flex-1\">\n        <div className=\"p-6 pt-4 space-y-3\">\n          {filteredNotifications.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <Bell className=\"w-12 h-12 mx-auto text-gray-400 mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                {searchTerm ? 'No matching notifications' : 'No notifications'}\n              </h3>\n              <p className=\"text-gray-500\">\n                {searchTerm \n                  ? 'Try adjusting your search terms'\n                  : 'You\\'re all caught up! New notifications will appear here.'\n                }\n              </p>\n            </div>\n          ) : (\n            filteredNotifications.map((notification) => (\n              <div\n                key={notification.id}\n                className={cn(\n                  'group p-4 rounded-lg border-l-4 transition-all duration-200 hover:shadow-sm cursor-pointer',\n                  notification.is_read ? 'bg-white' : getNotificationColor(notification.type),\n                  !notification.is_read && 'shadow-sm'\n                )}\n                onClick={() => !notification.is_read && handleMarkAsRead(notification.id)}\n              >\n                <div className=\"flex items-start space-x-3\">\n                  {/* Icon */}\n                  <div className=\"flex-shrink-0 mt-1\">\n                    {getNotificationIcon(notification.type)}\n                  </div>\n\n                  {/* Content */}\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"flex-1 pr-2\">\n                        <h4 className=\"font-medium text-gray-900 text-sm\">\n                          {notification.title}\n                        </h4>\n                        <p className=\"text-sm text-gray-600 mt-1\">\n                          {notification.message}\n                        </p>\n                        \n                        {/* Metadata */}\n                        <div className=\"flex items-center space-x-3 mt-2\">\n                          <span className=\"text-xs text-gray-500\">\n                            {formatDateTime(notification.created_at)}\n                          </span>\n                          <Badge variant=\"outline\" className=\"text-xs\">\n                            {formatNotificationType(notification.type)}\n                          </Badge>\n                          {notification.sender && (\n                            <div className=\"flex items-center space-x-1\">\n                              <Avatar className=\"w-4 h-4\">\n                                <AvatarImage src={notification.sender.avatar} />\n                                <AvatarFallback className=\"text-xs bg-gray-100\">\n                                  {notification.sender.name.split(' ').map(n => n[0]).join('').toUpperCase()}\n                                </AvatarFallback>\n                              </Avatar>\n                              <span className=\"text-xs text-gray-500\">\n                                {notification.sender.name}\n                              </span>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n\n                      {/* Actions */}\n                      <div className=\"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n                        {!notification.is_read && (\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            className=\"h-6 w-6 p-0\"\n                            onClick={(e) => {\n                              e.stopPropagation()\n                              handleMarkAsRead(notification.id)\n                            }}\n                            title=\"Mark as read\"\n                          >\n                            <Check className=\"w-3 h-3\" />\n                          </Button>\n                        )}\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          className=\"h-6 w-6 p-0\"\n                          title=\"Open\"\n                        >\n                          <ExternalLink className=\"w-3 h-3\" />\n                        </Button>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          className=\"h-6 w-6 p-0\"\n                          title=\"Dismiss\"\n                        >\n                          <X className=\"w-3 h-3\" />\n                        </Button>\n                      </div>\n                    </div>\n\n                    {/* Unread Indicator */}\n                    {!notification.is_read && (\n                      <div className=\"absolute left-2 top-1/2 transform -translate-y-1/2 w-2 h-2 bg-blue-600 rounded-full\" />\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </ScrollArea>\n    </Card>\n  )\n}", "import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n", "import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { createRovingFocusGroupScope } from '@radix-ui/react-roving-focus';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport * as RovingFocusGroup from '@radix-ui/react-roving-focus';\nimport { useDirection } from '@radix-ui/react-direction';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useId } from '@radix-ui/react-id';\n\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * Tabs\n * -----------------------------------------------------------------------------------------------*/\n\nconst TABS_NAME = 'Tabs';\n\ntype ScopedProps<P> = P & { __scopeTabs?: Scope };\nconst [createTabsContext, createTabsScope] = createContextScope(TABS_NAME, [\n  createRovingFocusGroupScope,\n]);\nconst useRovingFocusGroupScope = createRovingFocusGroupScope();\n\ntype TabsContextValue = {\n  baseId: string;\n  value: string;\n  onValueChange: (value: string) => void;\n  orientation?: TabsProps['orientation'];\n  dir?: TabsProps['dir'];\n  activationMode?: TabsProps['activationMode'];\n};\n\nconst [TabsProvider, useTabsContext] = createTabsContext<TabsContextValue>(TABS_NAME);\n\ntype TabsElement = React.ComponentRef<typeof Primitive.div>;\ntype RovingFocusGroupProps = React.ComponentPropsWithoutRef<typeof RovingFocusGroup.Root>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface TabsProps extends PrimitiveDivProps {\n  /** The value for the selected tab, if controlled */\n  value?: string;\n  /** The value of the tab to select by default, if uncontrolled */\n  defaultValue?: string;\n  /** A function called when a new tab is selected */\n  onValueChange?: (value: string) => void;\n  /**\n   * The orientation the tabs are layed out.\n   * Mainly so arrow navigation is done accordingly (left & right vs. up & down)\n   * @defaultValue horizontal\n   */\n  orientation?: RovingFocusGroupProps['orientation'];\n  /**\n   * The direction of navigation between toolbar items.\n   */\n  dir?: RovingFocusGroupProps['dir'];\n  /**\n   * Whether a tab is activated automatically or manually.\n   * @defaultValue automatic\n   * */\n  activationMode?: 'automatic' | 'manual';\n}\n\nconst Tabs = React.forwardRef<TabsElement, TabsProps>(\n  (props: ScopedProps<TabsProps>, forwardedRef) => {\n    const {\n      __scopeTabs,\n      value: valueProp,\n      onValueChange,\n      defaultValue,\n      orientation = 'horizontal',\n      dir,\n      activationMode = 'automatic',\n      ...tabsProps\n    } = props;\n    const direction = useDirection(dir);\n    const [value, setValue] = useControllableState({\n      prop: valueProp,\n      onChange: onValueChange,\n      defaultProp: defaultValue ?? '',\n      caller: TABS_NAME,\n    });\n\n    return (\n      <TabsProvider\n        scope={__scopeTabs}\n        baseId={useId()}\n        value={value}\n        onValueChange={setValue}\n        orientation={orientation}\n        dir={direction}\n        activationMode={activationMode}\n      >\n        <Primitive.div\n          dir={direction}\n          data-orientation={orientation}\n          {...tabsProps}\n          ref={forwardedRef}\n        />\n      </TabsProvider>\n    );\n  }\n);\n\nTabs.displayName = TABS_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TabsList\n * -----------------------------------------------------------------------------------------------*/\n\nconst TAB_LIST_NAME = 'TabsList';\n\ntype TabsListElement = React.ComponentRef<typeof Primitive.div>;\ninterface TabsListProps extends PrimitiveDivProps {\n  loop?: RovingFocusGroupProps['loop'];\n}\n\nconst TabsList = React.forwardRef<TabsListElement, TabsListProps>(\n  (props: ScopedProps<TabsListProps>, forwardedRef) => {\n    const { __scopeTabs, loop = true, ...listProps } = props;\n    const context = useTabsContext(TAB_LIST_NAME, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    return (\n      <RovingFocusGroup.Root\n        asChild\n        {...rovingFocusGroupScope}\n        orientation={context.orientation}\n        dir={context.dir}\n        loop={loop}\n      >\n        <Primitive.div\n          role=\"tablist\"\n          aria-orientation={context.orientation}\n          {...listProps}\n          ref={forwardedRef}\n        />\n      </RovingFocusGroup.Root>\n    );\n  }\n);\n\nTabsList.displayName = TAB_LIST_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TabsTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'TabsTrigger';\n\ntype TabsTriggerElement = React.ComponentRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface TabsTriggerProps extends PrimitiveButtonProps {\n  value: string;\n}\n\nconst TabsTrigger = React.forwardRef<TabsTriggerElement, TabsTriggerProps>(\n  (props: ScopedProps<TabsTriggerProps>, forwardedRef) => {\n    const { __scopeTabs, value, disabled = false, ...triggerProps } = props;\n    const context = useTabsContext(TRIGGER_NAME, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value);\n    const contentId = makeContentId(context.baseId, value);\n    const isSelected = value === context.value;\n    return (\n      <RovingFocusGroup.Item\n        asChild\n        {...rovingFocusGroupScope}\n        focusable={!disabled}\n        active={isSelected}\n      >\n        <Primitive.button\n          type=\"button\"\n          role=\"tab\"\n          aria-selected={isSelected}\n          aria-controls={contentId}\n          data-state={isSelected ? 'active' : 'inactive'}\n          data-disabled={disabled ? '' : undefined}\n          disabled={disabled}\n          id={triggerId}\n          {...triggerProps}\n          ref={forwardedRef}\n          onMouseDown={composeEventHandlers(props.onMouseDown, (event) => {\n            // only call handler if it's the left button (mousedown gets triggered by all mouse buttons)\n            // but not when the control key is pressed (avoiding MacOS right click)\n            if (!disabled && event.button === 0 && event.ctrlKey === false) {\n              context.onValueChange(value);\n            } else {\n              // prevent focus to avoid accidental activation\n              event.preventDefault();\n            }\n          })}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            if ([' ', 'Enter'].includes(event.key)) context.onValueChange(value);\n          })}\n          onFocus={composeEventHandlers(props.onFocus, () => {\n            // handle \"automatic\" activation if necessary\n            // ie. activate tab following focus\n            const isAutomaticActivation = context.activationMode !== 'manual';\n            if (!isSelected && !disabled && isAutomaticActivation) {\n              context.onValueChange(value);\n            }\n          })}\n        />\n      </RovingFocusGroup.Item>\n    );\n  }\n);\n\nTabsTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TabsContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'TabsContent';\n\ntype TabsContentElement = React.ComponentRef<typeof Primitive.div>;\ninterface TabsContentProps extends PrimitiveDivProps {\n  value: string;\n\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst TabsContent = React.forwardRef<TabsContentElement, TabsContentProps>(\n  (props: ScopedProps<TabsContentProps>, forwardedRef) => {\n    const { __scopeTabs, value, forceMount, children, ...contentProps } = props;\n    const context = useTabsContext(CONTENT_NAME, __scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value);\n    const contentId = makeContentId(context.baseId, value);\n    const isSelected = value === context.value;\n    const isMountAnimationPreventedRef = React.useRef(isSelected);\n\n    React.useEffect(() => {\n      const rAF = requestAnimationFrame(() => (isMountAnimationPreventedRef.current = false));\n      return () => cancelAnimationFrame(rAF);\n    }, []);\n\n    return (\n      <Presence present={forceMount || isSelected}>\n        {({ present }) => (\n          <Primitive.div\n            data-state={isSelected ? 'active' : 'inactive'}\n            data-orientation={context.orientation}\n            role=\"tabpanel\"\n            aria-labelledby={triggerId}\n            hidden={!present}\n            id={contentId}\n            tabIndex={0}\n            {...contentProps}\n            ref={forwardedRef}\n            style={{\n              ...props.style,\n              animationDuration: isMountAnimationPreventedRef.current ? '0s' : undefined,\n            }}\n          >\n            {present && children}\n          </Primitive.div>\n        )}\n      </Presence>\n    );\n  }\n);\n\nTabsContent.displayName = CONTENT_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\nfunction makeTriggerId(baseId: string, value: string) {\n  return `${baseId}-trigger-${value}`;\n}\n\nfunction makeContentId(baseId: string, value: string) {\n  return `${baseId}-content-${value}`;\n}\n\nconst Root = Tabs;\nconst List = TabsList;\nconst Trigger = TabsTrigger;\nconst Content = TabsContent;\n\nexport {\n  createTabsScope,\n  //\n  Tabs,\n  TabsList,\n  TabsTrigger,\n  TabsContent,\n  //\n  Root,\n  List,\n  Trigger,\n  Content,\n};\nexport type { TabsProps, TabsListProps, TabsTriggerProps, TabsContentProps };\n", "import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createCollection } from '@radix-ui/react-collection';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useId } from '@radix-ui/react-id';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useDirection } from '@radix-ui/react-direction';\n\nimport type { Scope } from '@radix-ui/react-context';\n\nconst ENTRY_FOCUS = 'rovingFocusGroup.onEntryFocus';\nconst EVENT_OPTIONS = { bubbles: false, cancelable: true };\n\n/* -------------------------------------------------------------------------------------------------\n * RovingFocusGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst GROUP_NAME = 'RovingFocusGroup';\n\ntype ItemData = { id: string; focusable: boolean; active: boolean };\nconst [Collection, useCollection, createCollectionScope] = createCollection<\n  HTMLSpanElement,\n  ItemData\n>(GROUP_NAME);\n\ntype ScopedProps<P> = P & { __scopeRovingFocusGroup?: Scope };\nconst [createRovingFocusGroupContext, createRovingFocusGroupScope] = createContextScope(\n  GROUP_NAME,\n  [createCollectionScope]\n);\n\ntype Orientation = React.AriaAttributes['aria-orientation'];\ntype Direction = 'ltr' | 'rtl';\n\ninterface RovingFocusGroupOptions {\n  /**\n   * The orientation of the group.\n   * Mainly so arrow navigation is done accordingly (left & right vs. up & down)\n   */\n  orientation?: Orientation;\n  /**\n   * The direction of navigation between items.\n   */\n  dir?: Direction;\n  /**\n   * Whether keyboard navigation should loop around\n   * @defaultValue false\n   */\n  loop?: boolean;\n}\n\ntype RovingContextValue = RovingFocusGroupOptions & {\n  currentTabStopId: string | null;\n  onItemFocus(tabStopId: string): void;\n  onItemShiftTab(): void;\n  onFocusableItemAdd(): void;\n  onFocusableItemRemove(): void;\n};\n\nconst [RovingFocusProvider, useRovingFocusContext] =\n  createRovingFocusGroupContext<RovingContextValue>(GROUP_NAME);\n\ntype RovingFocusGroupElement = RovingFocusGroupImplElement;\ninterface RovingFocusGroupProps extends RovingFocusGroupImplProps {}\n\nconst RovingFocusGroup = React.forwardRef<RovingFocusGroupElement, RovingFocusGroupProps>(\n  (props: ScopedProps<RovingFocusGroupProps>, forwardedRef) => {\n    return (\n      <Collection.Provider scope={props.__scopeRovingFocusGroup}>\n        <Collection.Slot scope={props.__scopeRovingFocusGroup}>\n          <RovingFocusGroupImpl {...props} ref={forwardedRef} />\n        </Collection.Slot>\n      </Collection.Provider>\n    );\n  }\n);\n\nRovingFocusGroup.displayName = GROUP_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype RovingFocusGroupImplElement = React.ComponentRef<typeof Primitive.div>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface RovingFocusGroupImplProps\n  extends Omit<PrimitiveDivProps, 'dir'>,\n    RovingFocusGroupOptions {\n  currentTabStopId?: string | null;\n  defaultCurrentTabStopId?: string;\n  onCurrentTabStopIdChange?: (tabStopId: string | null) => void;\n  onEntryFocus?: (event: Event) => void;\n  preventScrollOnEntryFocus?: boolean;\n}\n\nconst RovingFocusGroupImpl = React.forwardRef<\n  RovingFocusGroupImplElement,\n  RovingFocusGroupImplProps\n>((props: ScopedProps<RovingFocusGroupImplProps>, forwardedRef) => {\n  const {\n    __scopeRovingFocusGroup,\n    orientation,\n    loop = false,\n    dir,\n    currentTabStopId: currentTabStopIdProp,\n    defaultCurrentTabStopId,\n    onCurrentTabStopIdChange,\n    onEntryFocus,\n    preventScrollOnEntryFocus = false,\n    ...groupProps\n  } = props;\n  const ref = React.useRef<RovingFocusGroupImplElement>(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  const direction = useDirection(dir);\n  const [currentTabStopId, setCurrentTabStopId] = useControllableState({\n    prop: currentTabStopIdProp,\n    defaultProp: defaultCurrentTabStopId ?? null,\n    onChange: onCurrentTabStopIdChange,\n    caller: GROUP_NAME,\n  });\n  const [isTabbingBackOut, setIsTabbingBackOut] = React.useState(false);\n  const handleEntryFocus = useCallbackRef(onEntryFocus);\n  const getItems = useCollection(__scopeRovingFocusGroup);\n  const isClickFocusRef = React.useRef(false);\n  const [focusableItemsCount, setFocusableItemsCount] = React.useState(0);\n\n  React.useEffect(() => {\n    const node = ref.current;\n    if (node) {\n      node.addEventListener(ENTRY_FOCUS, handleEntryFocus);\n      return () => node.removeEventListener(ENTRY_FOCUS, handleEntryFocus);\n    }\n  }, [handleEntryFocus]);\n\n  return (\n    <RovingFocusProvider\n      scope={__scopeRovingFocusGroup}\n      orientation={orientation}\n      dir={direction}\n      loop={loop}\n      currentTabStopId={currentTabStopId}\n      onItemFocus={React.useCallback(\n        (tabStopId) => setCurrentTabStopId(tabStopId),\n        [setCurrentTabStopId]\n      )}\n      onItemShiftTab={React.useCallback(() => setIsTabbingBackOut(true), [])}\n      onFocusableItemAdd={React.useCallback(\n        () => setFocusableItemsCount((prevCount) => prevCount + 1),\n        []\n      )}\n      onFocusableItemRemove={React.useCallback(\n        () => setFocusableItemsCount((prevCount) => prevCount - 1),\n        []\n      )}\n    >\n      <Primitive.div\n        tabIndex={isTabbingBackOut || focusableItemsCount === 0 ? -1 : 0}\n        data-orientation={orientation}\n        {...groupProps}\n        ref={composedRefs}\n        style={{ outline: 'none', ...props.style }}\n        onMouseDown={composeEventHandlers(props.onMouseDown, () => {\n          isClickFocusRef.current = true;\n        })}\n        onFocus={composeEventHandlers(props.onFocus, (event) => {\n          // We normally wouldn't need this check, because we already check\n          // that the focus is on the current target and not bubbling to it.\n          // We do this because Safari doesn't focus buttons when clicked, and\n          // instead, the wrapper will get focused and not through a bubbling event.\n          const isKeyboardFocus = !isClickFocusRef.current;\n\n          if (event.target === event.currentTarget && isKeyboardFocus && !isTabbingBackOut) {\n            const entryFocusEvent = new CustomEvent(ENTRY_FOCUS, EVENT_OPTIONS);\n            event.currentTarget.dispatchEvent(entryFocusEvent);\n\n            if (!entryFocusEvent.defaultPrevented) {\n              const items = getItems().filter((item) => item.focusable);\n              const activeItem = items.find((item) => item.active);\n              const currentItem = items.find((item) => item.id === currentTabStopId);\n              const candidateItems = [activeItem, currentItem, ...items].filter(\n                Boolean\n              ) as typeof items;\n              const candidateNodes = candidateItems.map((item) => item.ref.current!);\n              focusFirst(candidateNodes, preventScrollOnEntryFocus);\n            }\n          }\n\n          isClickFocusRef.current = false;\n        })}\n        onBlur={composeEventHandlers(props.onBlur, () => setIsTabbingBackOut(false))}\n      />\n    </RovingFocusProvider>\n  );\n});\n\n/* -------------------------------------------------------------------------------------------------\n * RovingFocusGroupItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'RovingFocusGroupItem';\n\ntype RovingFocusItemElement = React.ComponentRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = React.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface RovingFocusItemProps extends Omit<PrimitiveSpanProps, 'children'> {\n  tabStopId?: string;\n  focusable?: boolean;\n  active?: boolean;\n  children?:\n    | React.ReactNode\n    | ((props: { hasTabStop: boolean; isCurrentTabStop: boolean }) => React.ReactNode);\n}\n\nconst RovingFocusGroupItem = React.forwardRef<RovingFocusItemElement, RovingFocusItemProps>(\n  (props: ScopedProps<RovingFocusItemProps>, forwardedRef) => {\n    const {\n      __scopeRovingFocusGroup,\n      focusable = true,\n      active = false,\n      tabStopId,\n      children,\n      ...itemProps\n    } = props;\n    const autoId = useId();\n    const id = tabStopId || autoId;\n    const context = useRovingFocusContext(ITEM_NAME, __scopeRovingFocusGroup);\n    const isCurrentTabStop = context.currentTabStopId === id;\n    const getItems = useCollection(__scopeRovingFocusGroup);\n\n    const { onFocusableItemAdd, onFocusableItemRemove, currentTabStopId } = context;\n\n    React.useEffect(() => {\n      if (focusable) {\n        onFocusableItemAdd();\n        return () => onFocusableItemRemove();\n      }\n    }, [focusable, onFocusableItemAdd, onFocusableItemRemove]);\n\n    return (\n      <Collection.ItemSlot\n        scope={__scopeRovingFocusGroup}\n        id={id}\n        focusable={focusable}\n        active={active}\n      >\n        <Primitive.span\n          tabIndex={isCurrentTabStop ? 0 : -1}\n          data-orientation={context.orientation}\n          {...itemProps}\n          ref={forwardedRef}\n          onMouseDown={composeEventHandlers(props.onMouseDown, (event) => {\n            // We prevent focusing non-focusable items on `mousedown`.\n            // Even though the item has tabIndex={-1}, that only means take it out of the tab order.\n            if (!focusable) event.preventDefault();\n            // Safari doesn't focus a button when clicked so we run our logic on mousedown also\n            else context.onItemFocus(id);\n          })}\n          onFocus={composeEventHandlers(props.onFocus, () => context.onItemFocus(id))}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            if (event.key === 'Tab' && event.shiftKey) {\n              context.onItemShiftTab();\n              return;\n            }\n\n            if (event.target !== event.currentTarget) return;\n\n            const focusIntent = getFocusIntent(event, context.orientation, context.dir);\n\n            if (focusIntent !== undefined) {\n              if (event.metaKey || event.ctrlKey || event.altKey || event.shiftKey) return;\n              event.preventDefault();\n              const items = getItems().filter((item) => item.focusable);\n              let candidateNodes = items.map((item) => item.ref.current!);\n\n              if (focusIntent === 'last') candidateNodes.reverse();\n              else if (focusIntent === 'prev' || focusIntent === 'next') {\n                if (focusIntent === 'prev') candidateNodes.reverse();\n                const currentIndex = candidateNodes.indexOf(event.currentTarget);\n                candidateNodes = context.loop\n                  ? wrapArray(candidateNodes, currentIndex + 1)\n                  : candidateNodes.slice(currentIndex + 1);\n              }\n\n              /**\n               * Imperative focus during keydown is risky so we prevent React's batching updates\n               * to avoid potential bugs. See: https://github.com/facebook/react/issues/20332\n               */\n              setTimeout(() => focusFirst(candidateNodes));\n            }\n          })}\n        >\n          {typeof children === 'function'\n            ? children({ isCurrentTabStop, hasTabStop: currentTabStopId != null })\n            : children}\n        </Primitive.span>\n      </Collection.ItemSlot>\n    );\n  }\n);\n\nRovingFocusGroupItem.displayName = ITEM_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\n// prettier-ignore\nconst MAP_KEY_TO_FOCUS_INTENT: Record<string, FocusIntent> = {\n  ArrowLeft: 'prev', ArrowUp: 'prev',\n  ArrowRight: 'next', ArrowDown: 'next',\n  PageUp: 'first', Home: 'first',\n  PageDown: 'last', End: 'last',\n};\n\nfunction getDirectionAwareKey(key: string, dir?: Direction) {\n  if (dir !== 'rtl') return key;\n  return key === 'ArrowLeft' ? 'ArrowRight' : key === 'ArrowRight' ? 'ArrowLeft' : key;\n}\n\ntype FocusIntent = 'first' | 'last' | 'prev' | 'next';\n\nfunction getFocusIntent(event: React.KeyboardEvent, orientation?: Orientation, dir?: Direction) {\n  const key = getDirectionAwareKey(event.key, dir);\n  if (orientation === 'vertical' && ['ArrowLeft', 'ArrowRight'].includes(key)) return undefined;\n  if (orientation === 'horizontal' && ['ArrowUp', 'ArrowDown'].includes(key)) return undefined;\n  return MAP_KEY_TO_FOCUS_INTENT[key];\n}\n\nfunction focusFirst(candidates: HTMLElement[], preventScroll = false) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n  for (const candidate of candidates) {\n    // if focus is already where we want to go, we don't want to keep going through the candidates\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n    candidate.focus({ preventScroll });\n    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n  }\n}\n\n/**\n * Wraps an array around itself at a given start index\n * Example: `wrapArray(['a', 'b', 'c', 'd'], 2) === ['c', 'd', 'a', 'b']`\n */\nfunction wrapArray<T>(array: T[], startIndex: number) {\n  return array.map<T>((_, index) => array[(startIndex + index) % array.length]!);\n}\n\nconst Root = RovingFocusGroup;\nconst Item = RovingFocusGroupItem;\n\nexport {\n  createRovingFocusGroupScope,\n  //\n  RovingFocusGroup,\n  RovingFocusGroupItem,\n  //\n  Root,\n  Item,\n};\nexport type { RovingFocusGroupProps, RovingFocusItemProps };\n", "\nimport React, { useEffect, useState } from 'react'\nimport { useAppStore } from '../../stores/app-store'\nimport { Notification } from '../../../../shared/types'\nimport NotificationToast from './NotificationToast'\n\ninterface ToastNotification extends Notification {\n  toastId: string\n  timestamp: number\n}\n\nexport default function ToastContainer() {\n  const [toasts, setToasts] = useState<ToastNotification[]>([])\n  const { notifications, markNotificationRead } = useAppStore()\n\n  useEffect(() => {\n    const newNotifications = notifications\n      .filter(n => !n.is_read)\n      .filter(n => !toasts.some(t => t.id === n.id))\n      .slice(0, 3) // Limit to 3 toasts at a time\n\n    if (newNotifications.length > 0) {\n      const newToasts = newNotifications.map(notification => ({\n        ...notification,\n        toastId: `toast-${notification.id}-${Date.now()}`,\n        timestamp: Date.now()\n      }))\n\n      setToasts(prev => [...prev, ...newToasts])\n    }\n  }, [notifications, toasts])\n\n  useEffect(() => {\n    toasts.forEach(toast => {\n      const timer = setTimeout(() => {\n        handleDismissToast(toast.toastId)\n      }, 5000)\n\n      return () => clearTimeout(timer)\n    })\n  }, [toasts])\n\n  const handleDismissToast = (toastId: string) => {\n    setToasts(prev => prev.filter(t => t.toastId !== toastId))\n  }\n\n  const handleToastAction = (notification: ToastNotification) => {\n    markNotificationRead(notification.id)\n    handleDismissToast(notification.toastId)\n    \n    // TODO: Navigate to relevant page based on notification type\n    console.log('Navigate to:', notification.type, notification.id)\n  }\n\n  const handleToastClose = (notification: ToastNotification) => {\n    markNotificationRead(notification.id)\n    handleDismissToast(notification.toastId)\n  }\n\n  return (\n    <div className=\"fixed top-0 right-0 z-50 p-4 space-y-3 pointer-events-none\">\n      {toasts.map((toast, index) => (\n        <div\n          key={toast.toastId}\n          className=\"pointer-events-auto\"\n          style={{\n            transform: `translateY(${index * 10}px)`,\n            zIndex: 1000 - index\n          }}\n        >\n          <NotificationToast\n            notification={toast}\n            onClose={() => handleToastClose(toast)}\n            onAction={() => handleToastAction(toast)}\n          />\n        </div>\n      ))}\n    </div>\n  )\n}", "\nimport React, { useEffect, useState } from 'react'\nimport { Card } from '../ui/card'\nimport { Button } from '../ui/button'\nimport { Avatar, AvatarFallback, AvatarImage } from '../ui/avatar'\nimport { \n  X, \n  Bell, \n  CheckCircle2, \n  MessageCircle, \n  Calendar, \n  UserPlus, \n  AlertTriangle, \n  FileText,\n  ExternalLink\n} from 'lucide-react'\nimport { Notification } from '../../../../shared/types'\nimport { formatDateTime } from '../../../../shared/utils'\nimport { cn } from '../../lib/utils'\n\ninterface NotificationToastProps {\n  notification: Notification\n  onClose: () => void\n  onAction?: () => void\n  className?: string\n}\n\nexport default function NotificationToast({ \n  notification, \n  onClose, \n  onAction,\n  className \n}: NotificationToastProps) {\n  const [isVisible, setIsVisible] = useState(false)\n  const [isClosing, setIsClosing] = useState(false)\n\n  useEffect(() => {\n    const timer = setTimeout(() => setIsVisible(true), 100)\n    return () => clearTimeout(timer)\n  }, [])\n\n  const handleClose = () => {\n    setIsClosing(true)\n    setTimeout(() => {\n      onClose()\n    }, 200)\n  }\n\n  const getNotificationIcon = (type: string) => {\n    switch (type) {\n      case 'task_assigned':\n      case 'task_completed':\n      case 'task_updated':\n        return <CheckCircle2 className=\"w-5 h-5 text-blue-600\" />\n      case 'comment_added':\n      case 'mention':\n        return <MessageCircle className=\"w-5 h-5 text-purple-600\" />\n      case 'meeting_scheduled':\n      case 'deadline_reminder':\n        return <Calendar className=\"w-5 h-5 text-green-600\" />\n      case 'team_invitation':\n      case 'user_invited':\n        return <UserPlus className=\"w-5 h-5 text-indigo-600\" />\n      case 'file_shared':\n        return <FileText className=\"w-5 h-5 text-orange-600\" />\n      case 'system_alert':\n        return <AlertTriangle className=\"w-5 h-5 text-red-600\" />\n      default:\n        return <Bell className=\"w-5 h-5 text-gray-600\" />\n    }\n  }\n\n  const getNotificationColor = (type: string) => {\n    switch (type) {\n      case 'task_assigned':\n      case 'task_completed':\n      case 'task_updated':\n        return 'border-l-blue-500 bg-blue-50'\n      case 'comment_added':\n      case 'mention':\n        return 'border-l-purple-500 bg-purple-50'\n      case 'meeting_scheduled':\n      case 'deadline_reminder':\n        return 'border-l-green-500 bg-green-50'\n      case 'team_invitation':\n      case 'user_invited':\n        return 'border-l-indigo-500 bg-indigo-50'\n      case 'file_shared':\n        return 'border-l-orange-500 bg-orange-50'\n      case 'system_alert':\n        return 'border-l-red-500 bg-red-50'\n      default:\n        return 'border-l-gray-300 bg-white'\n    }\n  }\n\n  return (\n    <Card className={cn(\n      'fixed top-4 right-4 w-96 max-w-[calc(100vw-2rem)] shadow-lg border-l-4 z-50 transition-all duration-200',\n      getNotificationColor(notification.type),\n      isVisible && !isClosing ? 'translate-x-0 opacity-100' : 'translate-x-full opacity-0',\n      className\n    )}>\n      <div className=\"p-4\">\n        <div className=\"flex items-start space-x-3\">\n          {/* Icon */}\n          <div className=\"flex-shrink-0 mt-0.5\">\n            {getNotificationIcon(notification.type)}\n          </div>\n\n          {/* Content */}\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-start justify-between\">\n              <div className=\"flex-1 pr-2\">\n                <h4 className=\"font-medium text-gray-900 text-sm\">\n                  {notification.title}\n                </h4>\n                <p className=\"text-sm text-gray-600 mt-1 line-clamp-2\">\n                  {notification.message}\n                </p>\n                \n                {/* Metadata */}\n                <div className=\"flex items-center justify-between mt-2\">\n                  <div className=\"flex items-center space-x-2\">\n                    <span className=\"text-xs text-gray-500\">\n                      {formatDateTime(notification.created_at)}\n                    </span>\n                    {notification.sender && (\n                      <div className=\"flex items-center space-x-1\">\n                        <Avatar className=\"w-4 h-4\">\n                          <AvatarImage src={notification.sender.avatar} />\n                          <AvatarFallback className=\"text-xs bg-gray-100\">\n                            {notification.sender.name.split(' ').map(n => n[0]).join('').toUpperCase()}\n                          </AvatarFallback>\n                        </Avatar>\n                        <span className=\"text-xs text-gray-500\">\n                          {notification.sender.name}\n                        </span>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              {/* Close Button */}\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"h-6 w-6 p-0 text-gray-400 hover:text-gray-600\"\n                onClick={handleClose}\n              >\n                <X className=\"w-4 h-4\" />\n              </Button>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex items-center space-x-2 mt-3\">\n              {onAction && (\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"h-7 text-xs\"\n                  onClick={onAction}\n                >\n                  <ExternalLink className=\"w-3 h-3 mr-1\" />\n                  View\n                </Button>\n              )}\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"h-7 text-xs text-gray-500 hover:text-gray-700\"\n                onClick={handleClose}\n              >\n                Dismiss\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Card>\n  )\n}", "\nimport React, { useState, useRef, useEffect } from 'react'\nimport { useNavigate } from 'react-router'\nimport { \n  Search, \n  X, \n  Loader2,\n  FileText,\n  CheckSquare,\n  Users,\n  Folder,\n  Calendar,\n  MessageSquare,\n  Hash\n} from 'lucide-react'\nimport { \n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle \n} from '../ui/dialog'\nimport { FloatingInput } from '../ui/floating-input'\nimport { Button } from '../ui/button'\nimport { Badge } from '../ui/badge'\nimport { ScrollArea } from '../ui/scroll-area'\nimport { cn } from '../../lib/utils'\nimport { trpc } from '../../lib/trpc'\nimport { Command } from 'cmdk'\n\ninterface GlobalSearchProps {\n  open: boolean\n  onClose: () => void\n}\n\nexport default function GlobalSearch({ open, onClose }: GlobalSearchProps) {\n  const navigate = useNavigate()\n  const inputRef = useRef<HTMLInputElement>(null)\n  const [query, setQuery] = useState('')\n  const [selectedIndex, setSelectedIndex] = useState(0)\n\n  const { data: searchResults, isLoading } = trpc.search.global.useQuery(\n    { query },\n    { \n      enabled: query.length > 2,\n      debounceMs: 300 \n    }\n  )\n\n  useEffect(() => {\n    if (!open) {\n      setQuery('')\n      setSelectedIndex(0)\n    }\n  }, [open])\n\n  useEffect(() => {\n    if (open && inputRef.current) {\n      inputRef.current.focus()\n    }\n  }, [open])\n\n  const getIcon = (type: string) => {\n    switch (type) {\n      case 'task': return <CheckSquare className=\"w-4 h-4\" />\n      case 'project': return <Folder className=\"w-4 h-4\" />\n      case 'team': return <Users className=\"w-4 h-4\" />\n      case 'workspace': return <Hash className=\"w-4 h-4\" />\n      case 'document': return <FileText className=\"w-4 h-4\" />\n      case 'event': return <Calendar className=\"w-4 h-4\" />\n      case 'message': return <MessageSquare className=\"w-4 h-4\" />\n      default: return <FileText className=\"w-4 h-4\" />\n    }\n  }\n\n  const getTypeColor = (type: string) => {\n    switch (type) {\n      case 'task': return 'bg-blue-100 text-blue-700'\n      case 'project': return 'bg-purple-100 text-purple-700'\n      case 'team': return 'bg-green-100 text-green-700'\n      case 'workspace': return 'bg-gray-100 text-gray-700'\n      case 'document': return 'bg-orange-100 text-orange-700'\n      case 'event': return 'bg-red-100 text-red-700'\n      case 'message': return 'bg-indigo-100 text-indigo-700'\n      default: return 'bg-gray-100 text-gray-700'\n    }\n  }\n\n  const handleSelect = (result: any) => {\n    switch (result.type) {\n      case 'task':\n        navigate(`/board?task=${result.id}`)\n        break\n      case 'project':\n        navigate(`/projects/${result.id}`)\n        break\n      case 'team':\n        navigate(`/teams/${result.id}`)\n        break\n      case 'workspace':\n        navigate(`/workspaces/${result.id}`)\n        break\n      default:\n        break\n    }\n    onClose()\n  }\n\n  const allResults = [\n    ...(searchResults?.tasks || []).map(t => ({ ...t, type: 'task' })),\n    ...(searchResults?.projects || []).map(p => ({ ...p, type: 'project' })),\n    ...(searchResults?.teams || []).map(t => ({ ...t, type: 'team' })),\n    ...(searchResults?.workspaces || []).map(w => ({ ...w, type: 'workspace' })),\n  ]\n\n  return (\n    <Dialog open={open} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-2xl p-0\">\n        <Command className=\"rounded-lg shadow-md\">\n          <div className=\"flex items-center border-b px-3\">\n            <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n            <FloatingInput\n              ref={inputRef}\n              label=\"Search everything\"\n              value={query}\n              onChange={(e) => setQuery(e.target.value)}\n              className=\"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none disabled:cursor-not-allowed disabled:opacity-50 border-0 focus:ring-0\"\n            />\n            {query && (\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setQuery('')}\n                className=\"h-6 w-6 p-0\"\n              >\n                <X className=\"h-4 w-4\" />\n              </Button>\n            )}\n          </div>\n\n          <Command.List className=\"max-h-[400px] overflow-y-auto p-2\">\n            {isLoading && (\n              <div className=\"flex items-center justify-center py-6\">\n                <Loader2 className=\"h-6 w-6 animate-spin text-gray-400\" />\n              </div>\n            )}\n\n            {!isLoading && query.length > 2 && allResults.length === 0 && (\n              <div className=\"py-6 text-center text-sm text-gray-500\">\n                No results found for \"{query}\"\n              </div>\n            )}\n\n            {!isLoading && query.length <= 2 && (\n              <div className=\"py-6 text-center text-sm text-gray-500\">\n                Type at least 3 characters to search\n              </div>\n            )}\n\n            {!isLoading && allResults.length > 0 && (\n              <>\n                {/* Tasks */}\n                {searchResults?.tasks && searchResults.tasks.length > 0 && (\n                  <Command.Group heading=\"Tasks\">\n                    {searchResults.tasks.map((task, index) => (\n                      <Command.Item\n                        key={task.id}\n                        value={task.id}\n                        onSelect={() => handleSelect({ ...task, type: 'task' })}\n                        className={cn(\n                          \"flex items-center gap-3 rounded-md px-3 py-2 text-sm cursor-pointer\",\n                          \"hover:bg-gray-100\",\n                          selectedIndex === index && \"bg-gray-100\"\n                        )}\n                      >\n                        <div className={cn(\"p-1 rounded\", getTypeColor('task'))}>\n                          {getIcon('task')}\n                        </div>\n                        <div className=\"flex-1\">\n                          <p className=\"font-medium\">{task.title}</p>\n                          {task.project && (\n                            <p className=\"text-xs text-gray-500\">\n                              in {task.project.name}\n                            </p>\n                          )}\n                        </div>\n                        {task.status && (\n                          <Badge variant=\"outline\" className=\"text-xs\">\n                            {task.status}\n                          </Badge>\n                        )}\n                      </Command.Item>\n                    ))}\n                  </Command.Group>\n                )}\n\n                {/* Projects */}\n                {searchResults?.projects && searchResults.projects.length > 0 && (\n                  <Command.Group heading=\"Projects\">\n                    {searchResults.projects.map((project) => (\n                      <Command.Item\n                        key={project.id}\n                        value={project.id}\n                        onSelect={() => handleSelect({ ...project, type: 'project' })}\n                        className={cn(\n                          \"flex items-center gap-3 rounded-md px-3 py-2 text-sm cursor-pointer\",\n                          \"hover:bg-gray-100\"\n                        )}\n                      >\n                        <div className={cn(\"p-1 rounded\", getTypeColor('project'))}>\n                          {getIcon('project')}\n                        </div>\n                        <div className=\"flex-1\">\n                          <p className=\"font-medium\">{project.name}</p>\n                          {project.description && (\n                            <p className=\"text-xs text-gray-500\">\n                              {project.description}\n                            </p>\n                          )}\n                        </div>\n                      </Command.Item>\n                    ))}\n                  </Command.Group>\n                )}\n\n                {/* Teams */}\n                {searchResults?.teams && searchResults.teams.length > 0 && (\n                  <Command.Group heading=\"Teams\">\n                    {searchResults.teams.map((team) => (\n                      <Command.Item\n                        key={team.id}\n                        value={team.id}\n                        onSelect={() => handleSelect({ ...team, type: 'team' })}\n                        className={cn(\n                          \"flex items-center gap-3 rounded-md px-3 py-2 text-sm cursor-pointer\",\n                          \"hover:bg-gray-100\"\n                        )}\n                      >\n                        <div className={cn(\"p-1 rounded\", getTypeColor('team'))}>\n                          {getIcon('team')}\n                        </div>\n                        <div className=\"flex-1\">\n                          <p className=\"font-medium\">{team.name}</p>\n                          {team._count?.members && (\n                            <p className=\"text-xs text-gray-500\">\n                              {team._count.members} members\n                            </p>\n                          )}\n                        </div>\n                      </Command.Item>\n                    ))}\n                  </Command.Group>\n                )}\n              </>\n            )}\n          </Command.List>\n\n          <div className=\"border-t px-3 py-2\">\n            <p className=\"text-xs text-gray-500\">\n              Press <kbd className=\"rounded bg-gray-100 px-1\">\u2191</kbd>{' '}\n              <kbd className=\"rounded bg-gray-100 px-1\">\u2193</kbd> to navigate,{' '}\n              <kbd className=\"rounded bg-gray-100 px-1\">Enter</kbd> to select,{' '}\n              <kbd className=\"rounded bg-gray-100 px-1\">Esc</kbd> to close\n            </p>\n          </div>\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}", "var U=1,Y=.9,H=.8,J=.17,p=.1,u=.999,$=.9999;var k=.99,m=/[\\\\\\/_+.#\"@\\[\\(\\{&]/,B=/[\\\\\\/_+.#\"@\\[\\(\\{&]/g,K=/[\\s-]/,X=/[\\s-]/g;function G(_,C,h,P,A,f,O){if(f===C.length)return A===_.length?U:k;var T=`${A},${f}`;if(O[T]!==void 0)return O[T];for(var L=P.charAt(f),c=h.indexOf(L,A),S=0,E,N,R,M;c>=0;)E=G(_,C,h,P,c+1,f+1,O),E>S&&(c===A?E*=U:m.test(_.charAt(c-1))?(E*=H,R=_.slice(A,c-1).match(B),R&&A>0&&(E*=Math.pow(u,R.length))):K.test(_.charAt(c-1))?(E*=Y,M=_.slice(A,c-1).match(X),M&&A>0&&(E*=Math.pow(u,M.length))):(E*=J,A>0&&(E*=Math.pow(u,c-A))),_.charAt(c)!==C.charAt(f)&&(E*=$)),(E<p&&h.charAt(c-1)===P.charAt(f+1)||P.charAt(f+1)===P.charAt(f)&&h.charAt(c-1)!==P.charAt(f))&&(N=G(_,C,h,P,c+1,f+2,O),N*p>E&&(E=N*p)),E>S&&(S=E),c=h.indexOf(L,c+1);return O[T]=S,S}function D(_){return _.toLowerCase().replace(X,\" \")}function W(_,C,h){return _=h&&h.length>0?`${_+\" \"+h.join(\" \")}`:_,G(_,C,D(_),D(C),0,0,{})}export{W as a};\n", "\"use client\";import{a as ae}from\"./chunk-NZJY6EH4.mjs\";import*as w from\"@radix-ui/react-dialog\";import*as t from\"react\";import{Primitive as D}from\"@radix-ui/react-primitive\";import{useId as H}from\"@radix-ui/react-id\";import{composeRefs as G}from\"@radix-ui/react-compose-refs\";var N='[cmdk-group=\"\"]',Y='[cmdk-group-items=\"\"]',be='[cmdk-group-heading=\"\"]',le='[cmdk-item=\"\"]',ce=`${le}:not([aria-disabled=\"true\"])`,Z=\"cmdk-item-select\",T=\"data-value\",Re=(r,o,n)=>ae(r,o,n),ue=t.createContext(void 0),K=()=>t.useContext(ue),de=t.createContext(void 0),ee=()=>t.useContext(de),fe=t.createContext(void 0),me=t.forwardRef((r,o)=>{let n=L(()=>{var e,a;return{search:\"\",value:(a=(e=r.value)!=null?e:r.defaultValue)!=null?a:\"\",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),u=L(()=>new Set),c=L(()=>new Map),d=L(()=>new Map),f=L(()=>new Set),p=pe(r),{label:b,children:m,value:R,onValueChange:x,filter:C,shouldFilter:S,loop:A,disablePointerSelection:ge=!1,vimBindings:j=!0,...O}=r,$=H(),q=H(),_=H(),I=t.useRef(null),v=ke();k(()=>{if(R!==void 0){let e=R.trim();n.current.value=e,E.emit()}},[R]),k(()=>{v(6,ne)},[]);let E=t.useMemo(()=>({subscribe:e=>(f.current.add(e),()=>f.current.delete(e)),snapshot:()=>n.current,setState:(e,a,s)=>{var i,l,g,y;if(!Object.is(n.current[e],a)){if(n.current[e]=a,e===\"search\")J(),z(),v(1,W);else if(e===\"value\"){if(document.activeElement.hasAttribute(\"cmdk-input\")||document.activeElement.hasAttribute(\"cmdk-root\")){let h=document.getElementById(_);h?h.focus():(i=document.getElementById($))==null||i.focus()}if(v(7,()=>{var h;n.current.selectedItemId=(h=M())==null?void 0:h.id,E.emit()}),s||v(5,ne),((l=p.current)==null?void 0:l.value)!==void 0){let h=a!=null?a:\"\";(y=(g=p.current).onValueChange)==null||y.call(g,h);return}}E.emit()}},emit:()=>{f.current.forEach(e=>e())}}),[]),U=t.useMemo(()=>({value:(e,a,s)=>{var i;a!==((i=d.current.get(e))==null?void 0:i.value)&&(d.current.set(e,{value:a,keywords:s}),n.current.filtered.items.set(e,te(a,s)),v(2,()=>{z(),E.emit()}))},item:(e,a)=>(u.current.add(e),a&&(c.current.has(a)?c.current.get(a).add(e):c.current.set(a,new Set([e]))),v(3,()=>{J(),z(),n.current.value||W(),E.emit()}),()=>{d.current.delete(e),u.current.delete(e),n.current.filtered.items.delete(e);let s=M();v(4,()=>{J(),(s==null?void 0:s.getAttribute(\"id\"))===e&&W(),E.emit()})}),group:e=>(c.current.has(e)||c.current.set(e,new Set),()=>{d.current.delete(e),c.current.delete(e)}),filter:()=>p.current.shouldFilter,label:b||r[\"aria-label\"],getDisablePointerSelection:()=>p.current.disablePointerSelection,listId:$,inputId:_,labelId:q,listInnerRef:I}),[]);function te(e,a){var i,l;let s=(l=(i=p.current)==null?void 0:i.filter)!=null?l:Re;return e?s(e,n.current.search,a):0}function z(){if(!n.current.search||p.current.shouldFilter===!1)return;let e=n.current.filtered.items,a=[];n.current.filtered.groups.forEach(i=>{let l=c.current.get(i),g=0;l.forEach(y=>{let h=e.get(y);g=Math.max(h,g)}),a.push([i,g])});let s=I.current;V().sort((i,l)=>{var h,F;let g=i.getAttribute(\"id\"),y=l.getAttribute(\"id\");return((h=e.get(y))!=null?h:0)-((F=e.get(g))!=null?F:0)}).forEach(i=>{let l=i.closest(Y);l?l.appendChild(i.parentElement===l?i:i.closest(`${Y} > *`)):s.appendChild(i.parentElement===s?i:i.closest(`${Y} > *`))}),a.sort((i,l)=>l[1]-i[1]).forEach(i=>{var g;let l=(g=I.current)==null?void 0:g.querySelector(`${N}[${T}=\"${encodeURIComponent(i[0])}\"]`);l==null||l.parentElement.appendChild(l)})}function W(){let e=V().find(s=>s.getAttribute(\"aria-disabled\")!==\"true\"),a=e==null?void 0:e.getAttribute(T);E.setState(\"value\",a||void 0)}function J(){var a,s,i,l;if(!n.current.search||p.current.shouldFilter===!1){n.current.filtered.count=u.current.size;return}n.current.filtered.groups=new Set;let e=0;for(let g of u.current){let y=(s=(a=d.current.get(g))==null?void 0:a.value)!=null?s:\"\",h=(l=(i=d.current.get(g))==null?void 0:i.keywords)!=null?l:[],F=te(y,h);n.current.filtered.items.set(g,F),F>0&&e++}for(let[g,y]of c.current)for(let h of y)if(n.current.filtered.items.get(h)>0){n.current.filtered.groups.add(g);break}n.current.filtered.count=e}function ne(){var a,s,i;let e=M();e&&(((a=e.parentElement)==null?void 0:a.firstChild)===e&&((i=(s=e.closest(N))==null?void 0:s.querySelector(be))==null||i.scrollIntoView({block:\"nearest\"})),e.scrollIntoView({block:\"nearest\"}))}function M(){var e;return(e=I.current)==null?void 0:e.querySelector(`${le}[aria-selected=\"true\"]`)}function V(){var e;return Array.from(((e=I.current)==null?void 0:e.querySelectorAll(ce))||[])}function X(e){let s=V()[e];s&&E.setState(\"value\",s.getAttribute(T))}function Q(e){var g;let a=M(),s=V(),i=s.findIndex(y=>y===a),l=s[i+e];(g=p.current)!=null&&g.loop&&(l=i+e<0?s[s.length-1]:i+e===s.length?s[0]:s[i+e]),l&&E.setState(\"value\",l.getAttribute(T))}function re(e){let a=M(),s=a==null?void 0:a.closest(N),i;for(;s&&!i;)s=e>0?we(s,N):De(s,N),i=s==null?void 0:s.querySelector(ce);i?E.setState(\"value\",i.getAttribute(T)):Q(e)}let oe=()=>X(V().length-1),ie=e=>{e.preventDefault(),e.metaKey?oe():e.altKey?re(1):Q(1)},se=e=>{e.preventDefault(),e.metaKey?X(0):e.altKey?re(-1):Q(-1)};return t.createElement(D.div,{ref:o,tabIndex:-1,...O,\"cmdk-root\":\"\",onKeyDown:e=>{var s;(s=O.onKeyDown)==null||s.call(O,e);let a=e.nativeEvent.isComposing||e.keyCode===229;if(!(e.defaultPrevented||a))switch(e.key){case\"n\":case\"j\":{j&&e.ctrlKey&&ie(e);break}case\"ArrowDown\":{ie(e);break}case\"p\":case\"k\":{j&&e.ctrlKey&&se(e);break}case\"ArrowUp\":{se(e);break}case\"Home\":{e.preventDefault(),X(0);break}case\"End\":{e.preventDefault(),oe();break}case\"Enter\":{e.preventDefault();let i=M();if(i){let l=new Event(Z);i.dispatchEvent(l)}}}}},t.createElement(\"label\",{\"cmdk-label\":\"\",htmlFor:U.inputId,id:U.labelId,style:Te},b),B(r,e=>t.createElement(de.Provider,{value:E},t.createElement(ue.Provider,{value:U},e))))}),he=t.forwardRef((r,o)=>{var _,I;let n=H(),u=t.useRef(null),c=t.useContext(fe),d=K(),f=pe(r),p=(I=(_=f.current)==null?void 0:_.forceMount)!=null?I:c==null?void 0:c.forceMount;k(()=>{if(!p)return d.item(n,c==null?void 0:c.id)},[p]);let b=ve(n,u,[r.value,r.children,u],r.keywords),m=ee(),R=P(v=>v.value&&v.value===b.current),x=P(v=>p||d.filter()===!1?!0:v.search?v.filtered.items.get(n)>0:!0);t.useEffect(()=>{let v=u.current;if(!(!v||r.disabled))return v.addEventListener(Z,C),()=>v.removeEventListener(Z,C)},[x,r.onSelect,r.disabled]);function C(){var v,E;S(),(E=(v=f.current).onSelect)==null||E.call(v,b.current)}function S(){m.setState(\"value\",b.current,!0)}if(!x)return null;let{disabled:A,value:ge,onSelect:j,forceMount:O,keywords:$,...q}=r;return t.createElement(D.div,{ref:G(u,o),...q,id:n,\"cmdk-item\":\"\",role:\"option\",\"aria-disabled\":!!A,\"aria-selected\":!!R,\"data-disabled\":!!A,\"data-selected\":!!R,onPointerMove:A||d.getDisablePointerSelection()?void 0:S,onClick:A?void 0:C},r.children)}),Ee=t.forwardRef((r,o)=>{let{heading:n,children:u,forceMount:c,...d}=r,f=H(),p=t.useRef(null),b=t.useRef(null),m=H(),R=K(),x=P(S=>c||R.filter()===!1?!0:S.search?S.filtered.groups.has(f):!0);k(()=>R.group(f),[]),ve(f,p,[r.value,r.heading,b]);let C=t.useMemo(()=>({id:f,forceMount:c}),[c]);return t.createElement(D.div,{ref:G(p,o),...d,\"cmdk-group\":\"\",role:\"presentation\",hidden:x?void 0:!0},n&&t.createElement(\"div\",{ref:b,\"cmdk-group-heading\":\"\",\"aria-hidden\":!0,id:m},n),B(r,S=>t.createElement(\"div\",{\"cmdk-group-items\":\"\",role:\"group\",\"aria-labelledby\":n?m:void 0},t.createElement(fe.Provider,{value:C},S))))}),ye=t.forwardRef((r,o)=>{let{alwaysRender:n,...u}=r,c=t.useRef(null),d=P(f=>!f.search);return!n&&!d?null:t.createElement(D.div,{ref:G(c,o),...u,\"cmdk-separator\":\"\",role:\"separator\"})}),Se=t.forwardRef((r,o)=>{let{onValueChange:n,...u}=r,c=r.value!=null,d=ee(),f=P(m=>m.search),p=P(m=>m.selectedItemId),b=K();return t.useEffect(()=>{r.value!=null&&d.setState(\"search\",r.value)},[r.value]),t.createElement(D.input,{ref:o,...u,\"cmdk-input\":\"\",autoComplete:\"off\",autoCorrect:\"off\",spellCheck:!1,\"aria-autocomplete\":\"list\",role:\"combobox\",\"aria-expanded\":!0,\"aria-controls\":b.listId,\"aria-labelledby\":b.labelId,\"aria-activedescendant\":p,id:b.inputId,type:\"text\",value:c?r.value:f,onChange:m=>{c||d.setState(\"search\",m.target.value),n==null||n(m.target.value)}})}),Ce=t.forwardRef((r,o)=>{let{children:n,label:u=\"Suggestions\",...c}=r,d=t.useRef(null),f=t.useRef(null),p=P(m=>m.selectedItemId),b=K();return t.useEffect(()=>{if(f.current&&d.current){let m=f.current,R=d.current,x,C=new ResizeObserver(()=>{x=requestAnimationFrame(()=>{let S=m.offsetHeight;R.style.setProperty(\"--cmdk-list-height\",S.toFixed(1)+\"px\")})});return C.observe(m),()=>{cancelAnimationFrame(x),C.unobserve(m)}}},[]),t.createElement(D.div,{ref:G(d,o),...c,\"cmdk-list\":\"\",role:\"listbox\",tabIndex:-1,\"aria-activedescendant\":p,\"aria-label\":u,id:b.listId},B(r,m=>t.createElement(\"div\",{ref:G(f,b.listInnerRef),\"cmdk-list-sizer\":\"\"},m)))}),xe=t.forwardRef((r,o)=>{let{open:n,onOpenChange:u,overlayClassName:c,contentClassName:d,container:f,...p}=r;return t.createElement(w.Root,{open:n,onOpenChange:u},t.createElement(w.Portal,{container:f},t.createElement(w.Overlay,{\"cmdk-overlay\":\"\",className:c}),t.createElement(w.Content,{\"aria-label\":r.label,\"cmdk-dialog\":\"\",className:d},t.createElement(me,{ref:o,...p}))))}),Ie=t.forwardRef((r,o)=>P(u=>u.filtered.count===0)?t.createElement(D.div,{ref:o,...r,\"cmdk-empty\":\"\",role:\"presentation\"}):null),Pe=t.forwardRef((r,o)=>{let{progress:n,children:u,label:c=\"Loading...\",...d}=r;return t.createElement(D.div,{ref:o,...d,\"cmdk-loading\":\"\",role:\"progressbar\",\"aria-valuenow\":n,\"aria-valuemin\":0,\"aria-valuemax\":100,\"aria-label\":c},B(r,f=>t.createElement(\"div\",{\"aria-hidden\":!0},f)))}),_e=Object.assign(me,{List:Ce,Item:he,Input:Se,Group:Ee,Separator:ye,Dialog:xe,Empty:Ie,Loading:Pe});function we(r,o){let n=r.nextElementSibling;for(;n;){if(n.matches(o))return n;n=n.nextElementSibling}}function De(r,o){let n=r.previousElementSibling;for(;n;){if(n.matches(o))return n;n=n.previousElementSibling}}function pe(r){let o=t.useRef(r);return k(()=>{o.current=r}),o}var k=typeof window==\"undefined\"?t.useEffect:t.useLayoutEffect;function L(r){let o=t.useRef();return o.current===void 0&&(o.current=r()),o}function P(r){let o=ee(),n=()=>r(o.snapshot());return t.useSyncExternalStore(o.subscribe,n,n)}function ve(r,o,n,u=[]){let c=t.useRef(),d=K();return k(()=>{var b;let f=(()=>{var m;for(let R of n){if(typeof R==\"string\")return R.trim();if(typeof R==\"object\"&&\"current\"in R)return R.current?(m=R.current.textContent)==null?void 0:m.trim():c.current}})(),p=u.map(m=>m.trim());d.value(r,f,p),(b=o.current)==null||b.setAttribute(T,f),c.current=f}),c}var ke=()=>{let[r,o]=t.useState(),n=L(()=>new Map);return k(()=>{n.current.forEach(u=>u()),n.current=new Map},[r]),(u,c)=>{n.current.set(u,c),o({})}};function Me(r){let o=r.type;return typeof o==\"function\"?o(r.props):\"render\"in o?o.render(r.props):r}function B({asChild:r,children:o},n){return r&&t.isValidElement(o)?t.cloneElement(Me(o),{ref:o.ref},n(o.props.children)):n(o)}var Te={position:\"absolute\",width:\"1px\",height:\"1px\",padding:\"0\",margin:\"-1px\",overflow:\"hidden\",clip:\"rect(0, 0, 0, 0)\",whiteSpace:\"nowrap\",borderWidth:\"0\"};export{_e as Command,xe as CommandDialog,Ie as CommandEmpty,Ee as CommandGroup,Se as CommandInput,he as CommandItem,Ce as CommandList,Pe as CommandLoading,me as CommandRoot,ye as CommandSeparator,Re as defaultFilter,P as useCommandState};\n", "\nimport React from 'react'\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card'\nimport { Avatar, AvatarFallback, AvatarImage } from '../ui/avatar'\nimport { Badge } from '../ui/badge'\nimport { Button } from '../ui/button'\nimport { \n  CheckCircle2, \n  MessageCircle, \n  Plus, \n  Calendar, \n  FileText,\n  Users,\n  Clock,\n  RefreshCw\n} from 'lucide-react'\nimport { cn } from '../../lib/utils'\n\ninterface ActivityItem {\n  id: string\n  type: 'task_created' | 'task_completed' | 'task_assigned' | 'comment_added' | 'file_uploaded' | 'meeting_scheduled'\n  user: {\n    id: string\n    name: string\n    avatar?: string\n  }\n  description: string\n  target?: {\n    type: 'task' | 'project' | 'team'\n    id: string\n    name: string\n  }\n  timestamp: string\n  priority?: 'high' | 'medium' | 'low'\n}\n\ninterface ActivityFeedProps {\n  className?: string\n}\n\nexport default function ActivityFeed({ className }: ActivityFeedProps) {\n  const activities: ActivityItem[] = [\n    {\n      id: '1',\n      type: 'task_completed',\n      user: { id: '1', name: 'Sarah Chen', avatar: '' },\n      description: 'completed task',\n      target: { type: 'task', id: '1', name: 'Database Migration' },\n      timestamp: new Date(Date.now() - 5 * 60 * 1000).toISOString(),\n      priority: 'high'\n    },\n    {\n      id: '2',\n      type: 'comment_added',\n      user: { id: '2', name: 'Mike Johnson', avatar: '' },\n      description: 'added a comment to',\n      target: { type: 'task', id: '2', name: 'API Documentation' },\n      timestamp: new Date(Date.now() - 15 * 60 * 1000).toISOString()\n    },\n    {\n      id: '3',\n      type: 'task_created',\n      user: { id: '3', name: 'Emma Davis', avatar: '' },\n      description: 'created new task',\n      target: { type: 'task', id: '3', name: 'User Interface Design' },\n      timestamp: new Date(Date.now() - 30 * 60 * 1000).toISOString(),\n      priority: 'medium'\n    },\n    {\n      id: '4',\n      type: 'task_assigned',\n      user: { id: '1', name: 'Sarah Chen', avatar: '' },\n      description: 'assigned task to Alex Kim',\n      target: { type: 'task', id: '4', name: 'Code Review' },\n      timestamp: new Date(Date.now() - 45 * 60 * 1000).toISOString()\n    },\n    {\n      id: '5',\n      type: 'meeting_scheduled',\n      user: { id: '4', name: 'Alex Kim', avatar: '' },\n      description: 'scheduled a meeting for',\n      target: { type: 'project', id: '1', name: 'Q1 Planning' },\n      timestamp: new Date(Date.now() - 60 * 60 * 1000).toISOString()\n    }\n  ]\n\n  const getActivityIcon = (type: ActivityItem['type']) => {\n    switch (type) {\n      case 'task_completed':\n        return <CheckCircle2 className=\"w-4 h-4 text-green-600\" />\n      case 'task_created':\n        return <Plus className=\"w-4 h-4 text-blue-600\" />\n      case 'task_assigned':\n        return <Users className=\"w-4 h-4 text-purple-600\" />\n      case 'comment_added':\n        return <MessageCircle className=\"w-4 h-4 text-orange-600\" />\n      case 'file_uploaded':\n        return <FileText className=\"w-4 h-4 text-gray-600\" />\n      case 'meeting_scheduled':\n        return <Calendar className=\"w-4 h-4 text-indigo-600\" />\n      default:\n        return <Clock className=\"w-4 h-4 text-gray-400\" />\n    }\n  }\n\n  const getActivityColor = (type: ActivityItem['type']) => {\n    switch (type) {\n      case 'task_completed':\n        return 'bg-green-50 border-green-200'\n      case 'task_created':\n        return 'bg-blue-50 border-blue-200'\n      case 'task_assigned':\n        return 'bg-purple-50 border-purple-200'\n      case 'comment_added':\n        return 'bg-orange-50 border-orange-200'\n      case 'file_uploaded':\n        return 'bg-gray-50 border-gray-200'\n      case 'meeting_scheduled':\n        return 'bg-indigo-50 border-indigo-200'\n      default:\n        return 'bg-gray-50 border-gray-200'\n    }\n  }\n\n  const formatTimeAgo = (timestamp: string) => {\n    const now = new Date()\n    const time = new Date(timestamp)\n    const diffInMinutes = Math.floor((now.getTime() - time.getTime()) / (1000 * 60))\n\n    if (diffInMinutes < 1) return 'Just now'\n    if (diffInMinutes < 60) return `${diffInMinutes}m ago`\n    if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)}h ago`\n    return `${Math.floor(diffInMinutes / 1440)}d ago`\n  }\n\n  return (\n    <Card className={cn('h-full flex flex-col', className)}>\n      <CardHeader className=\"flex-shrink-0 pb-3\">\n        <div className=\"flex items-center justify-between\">\n          <CardTitle className=\"text-lg font-semibold\">Recent Activity</CardTitle>\n          <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n            <RefreshCw className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </CardHeader>\n      \n      <CardContent className=\"flex-1 p-0 overflow-y-auto\">\n        <div className=\"space-y-1\">\n          {activities.map((activity, index) => (\n            <div\n              key={activity.id}\n              className={cn(\n                'p-4 border-l-4 hover:bg-gray-50 transition-colors cursor-pointer',\n                getActivityColor(activity.type),\n                index === 0 && 'bg-opacity-50'\n              )}\n            >\n              <div className=\"flex items-start space-x-3\">\n                {/* User Avatar */}\n                <Avatar className=\"w-8 h-8 flex-shrink-0\">\n                  <AvatarImage src={activity.user.avatar} />\n                  <AvatarFallback className=\"text-xs bg-gray-100\">\n                    {activity.user.name.split(' ').map(n => n[0]).join('').toUpperCase()}\n                  </AvatarFallback>\n                </Avatar>\n\n                {/* Activity Content */}\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-center space-x-2 mb-1\">\n                    {getActivityIcon(activity.type)}\n                    <span className=\"text-sm font-medium text-gray-900 truncate\">\n                      {activity.user.name}\n                    </span>\n                    <span className=\"text-xs text-gray-500 flex-shrink-0\">\n                      {formatTimeAgo(activity.timestamp)}\n                    </span>\n                  </div>\n                  \n                  <p className=\"text-sm text-gray-600 leading-relaxed\">\n                    {activity.description}{' '}\n                    {activity.target && (\n                      <span className=\"font-medium text-gray-900\">\n                        {activity.target.name}\n                      </span>\n                    )}\n                  </p>\n\n                  {/* Priority Badge */}\n                  {activity.priority && (\n                    <div className=\"mt-2\">\n                      <Badge \n                        variant=\"outline\" \n                        className={cn(\n                          'text-xs',\n                          activity.priority === 'high' && 'border-red-200 text-red-700 bg-red-50',\n                          activity.priority === 'medium' && 'border-orange-200 text-orange-700 bg-orange-50',\n                          activity.priority === 'low' && 'border-green-200 text-green-700 bg-green-50'\n                        )}\n                      >\n                        {activity.priority} priority\n                      </Badge>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {/* Load More */}\n        <div className=\"p-4 text-center border-t\">\n          <Button \n            variant=\"ghost\" \n            size=\"sm\" \n            className=\"text-gray-600 hover:text-gray-900\"\n            onClick={() => console.log('Loading more activity...')}\n          >\n            Load more activity\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}", "\nimport React from 'react'\nimport { useNavigate } from 'react-router'\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card'\nimport { Button } from '../ui/button'\nimport { \n  Plus, \n  Calendar, \n  MessageCircle, \n  FileText, \n  Users, \n  Video,\n  Clock,\n  Target\n} from 'lucide-react'\nimport { cn } from '../../lib/utils'\n\ninterface QuickAction {\n  id: string\n  title: string\n  description: string\n  icon: React.ComponentType<{ className?: string }>\n  color: string\n  action: () => void\n}\n\ninterface QuickActionsProps {\n  className?: string\n}\n\nexport default function QuickActions({ className }: QuickActionsProps) {\n  const navigate = useNavigate()\n  \n  const actions: QuickAction[] = [\n    {\n      id: 'create-task',\n      title: 'Create Task',\n      description: 'Add a new task to your board',\n      icon: Plus,\n      color: 'text-blue-600 bg-blue-50 hover:bg-blue-100',\n      action: () => {\n        navigate('/board')\n      }\n    },\n    {\n      id: 'schedule-meeting',\n      title: 'Schedule Meeting',\n      description: 'Set up a team meeting',\n      icon: Calendar,\n      color: 'text-green-600 bg-green-50 hover:bg-green-100',\n      action: () => {\n        navigate('/calendar')\n      }\n    },\n    {\n      id: 'start-chat',\n      title: 'Start Chat',\n      description: 'Begin a team conversation',\n      icon: MessageCircle,\n      color: 'text-purple-600 bg-purple-50 hover:bg-purple-100',\n      action: () => {\n        navigate('/chat')\n      }\n    },\n    {\n      id: 'create-note',\n      title: 'Quick Note',\n      description: 'Capture an idea or note',\n      icon: FileText,\n      color: 'text-orange-600 bg-orange-50 hover:bg-orange-100',\n      action: () => {\n        navigate('/notes')\n      }\n    },\n    {\n      id: 'invite-member',\n      title: 'Invite Member',\n      description: 'Add someone to your team',\n      icon: Users,\n      color: 'text-indigo-600 bg-indigo-50 hover:bg-indigo-100',\n      action: () => {\n        navigate('/teams')\n      }\n    },\n    {\n      id: 'start-call',\n      title: 'Start Call',\n      description: 'Begin a video call',\n      icon: Video,\n      color: 'text-red-600 bg-red-50 hover:bg-red-100',\n      action: () => {\n        navigate('/chat')\n      }\n    },\n    {\n      id: 'track-time',\n      title: 'Track Time',\n      description: 'Start time tracking',\n      icon: Clock,\n      color: 'text-teal-600 bg-teal-50 hover:bg-teal-100',\n      action: () => {\n        navigate('/board')\n      }\n    },\n    {\n      id: 'set-goal',\n      title: 'Set Goal',\n      description: 'Define a new objective',\n      icon: Target,\n      color: 'text-pink-600 bg-pink-50 hover:bg-pink-100',\n      action: () => {\n        navigate('/projects')\n      }\n    }\n  ]\n\n  return (\n    <Card className={cn('h-full', className)}>\n      <CardHeader className=\"pb-3\">\n        <CardTitle className=\"text-lg font-semibold\">Quick Actions</CardTitle>\n      </CardHeader>\n      \n      <CardContent className=\"grid grid-cols-2 gap-3\">\n        {actions.map((action) => {\n          const IconComponent = action.icon\n          \n          return (\n            <Button\n              key={action.id}\n              variant=\"ghost\"\n              className={cn(\n                'h-auto p-4 flex flex-col items-center text-center space-y-2 hover:scale-105 transition-all duration-200',\n                action.color\n              )}\n              onClick={action.action}\n            >\n              <IconComponent className=\"w-6 h-6\" />\n              <div>\n                <div className=\"font-medium text-sm\">{action.title}</div>\n                <div className=\"text-xs opacity-75\">{action.description}</div>\n              </div>\n            </Button>\n          )\n        })}\n      </CardContent>\n    </Card>\n  )\n}", "\nimport React from 'react'\nimport { useNavigate } from 'react-router'\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card'\nimport { Badge } from '../ui/badge'\nimport { Progress } from '../ui/progress'\nimport { Button } from '../ui/button'\nimport { \n  CheckCircle2, \n  Clock, \n  AlertTriangle, \n  User,\n  Calendar,\n  ArrowRight,\n  TrendingUp\n} from 'lucide-react'\nimport { cn } from '../../lib/utils'\n\ninterface TasksSummaryProps {\n  className?: string\n}\n\nexport default function TasksSummary({ className }: TasksSummaryProps) {\n  const navigate = useNavigate()\n  \n  const tasks = [\n    { id: '1', title: 'Complete Dashboard', due_date: '2025-06-27', priority: 'high', kanban_column_id: 'in-progress' },\n    { id: '2', title: 'Review Code', due_date: '2025-06-28', priority: 'medium', kanban_column_id: 'done' },\n    { id: '3', title: 'Update Documentation', due_date: '2025-06-25', priority: 'low', kanban_column_id: 'todo' },\n    { id: '4', title: 'Fix Bug #123', due_date: '2025-06-24', priority: 'high', kanban_column_id: 'done' },\n  ]\n\n  const totalTasks = tasks.length\n  const completedTasks = tasks.filter(task => \n    task.kanban_column_id.includes('done') || task.kanban_column_id.includes('complete')\n  ).length\n  const inProgressTasks = tasks.filter(task => \n    task.kanban_column_id.includes('progress') || task.kanban_column_id.includes('review')\n  ).length\n  const overdueTasks = tasks.filter(task => {\n    if (!task.due_date) return false\n    return new Date(task.due_date) < new Date()\n  }).length\n  const dueSoonTasks = tasks.filter(task => {\n    if (!task.due_date) return false\n    const dueDate = new Date(task.due_date)\n    const now = new Date()\n    const oneDayFromNow = new Date(now.getTime() + 24 * 60 * 60 * 1000)\n    return dueDate > now && dueDate <= oneDayFromNow\n  }).length\n\n  const completionRate = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0\n\n  const stats = [\n    {\n      label: 'Total Tasks',\n      value: totalTasks,\n      icon: CheckCircle2,\n      color: 'text-gray-600',\n      bgColor: 'bg-gray-50'\n    },\n    {\n      label: 'In Progress',\n      value: inProgressTasks,\n      icon: Clock,\n      color: 'text-blue-600',\n      bgColor: 'bg-blue-50'\n    },\n    {\n      label: 'Completed',\n      value: completedTasks,\n      icon: CheckCircle2,\n      color: 'text-green-600',\n      bgColor: 'bg-green-50'\n    },\n    {\n      label: 'Overdue',\n      value: overdueTasks,\n      icon: AlertTriangle,\n      color: 'text-red-600',\n      bgColor: 'bg-red-50'\n    }\n  ]\n\n  const upcomingTasks = tasks\n    .filter(task => task.due_date && new Date(task.due_date) > new Date())\n    .sort((a, b) => new Date(a.due_date!).getTime() - new Date(b.due_date!).getTime())\n    .slice(0, 3)\n\n  const formatDueDate = (dateString: string) => {\n    const date = new Date(dateString)\n    const now = new Date()\n    const diffTime = date.getTime() - now.getTime()\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n\n    if (diffDays === 0) return 'Today'\n    if (diffDays === 1) return 'Tomorrow'\n    if (diffDays < 7) return `${diffDays} days`\n    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })\n  }\n\n  return (\n    <Card className={cn('h-full flex flex-col', className)}>\n      <CardHeader className=\"flex-shrink-0 pb-3\">\n        <div className=\"flex items-center justify-between\">\n          <CardTitle className=\"text-lg font-semibold\">Tasks Overview</CardTitle>\n          <Badge variant=\"outline\" className=\"text-green-700 border-green-200 bg-green-50\">\n            <TrendingUp className=\"w-3 h-3 mr-1\" />\n            {completionRate}% Complete\n          </Badge>\n        </div>\n      </CardHeader>\n      \n      <CardContent className=\"flex-1 space-y-6\">\n        {/* Statistics Grid */}\n        <div className=\"grid grid-cols-2 gap-4\">\n          {stats.map((stat) => {\n            const IconComponent = stat.icon\n            \n            return (\n              <div\n                key={stat.label}\n                className={cn(\n                  'p-4 rounded-lg border transition-colors hover:shadow-sm',\n                  stat.bgColor\n                )}\n              >\n                <div className=\"flex items-center justify-between mb-2\">\n                  <IconComponent className={cn('w-5 h-5', stat.color)} />\n                  <span className={cn('text-2xl font-bold', stat.color)}>\n                    {stat.value}\n                  </span>\n                </div>\n                <div className=\"text-sm text-gray-600 font-medium\">\n                  {stat.label}\n                </div>\n              </div>\n            )\n          })}\n        </div>\n\n        {/* Progress Bar */}\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center justify-between text-sm\">\n            <span className=\"text-gray-600\">Overall Progress</span>\n            <span className=\"font-medium\">{completedTasks}/{totalTasks}</span>\n          </div>\n          <Progress value={completionRate} className=\"h-2\" />\n        </div>\n\n        {/* Due Soon Alert */}\n        {dueSoonTasks > 0 && (\n          <div className=\"p-3 bg-orange-50 border border-orange-200 rounded-lg\">\n            <div className=\"flex items-center space-x-2\">\n              <AlertTriangle className=\"w-4 h-4 text-orange-600\" />\n              <span className=\"text-sm font-medium text-orange-800\">\n                {dueSoonTasks} task{dueSoonTasks > 1 ? 's' : ''} due within 24 hours\n              </span>\n            </div>\n          </div>\n        )}\n\n        {/* Upcoming Tasks */}\n        <div className=\"space-y-3\">\n          <h4 className=\"text-sm font-semibold text-gray-900\">Upcoming Deadlines</h4>\n          \n          {upcomingTasks.length === 0 ? (\n            <div className=\"text-center py-4 text-gray-500\">\n              <Calendar className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\n              <p className=\"text-sm\">No upcoming deadlines</p>\n            </div>\n          ) : (\n            <div className=\"space-y-2\">\n              {upcomingTasks.map((task) => (\n                <div\n                  key={task.id}\n                  className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer\"\n                >\n                  <div className=\"flex-1 min-w-0\">\n                    <p className=\"text-sm font-medium text-gray-900 truncate\">\n                      {task.title}\n                    </p>\n                    <div className=\"flex items-center space-x-2 mt-1\">\n                      <Badge \n                        variant=\"outline\" \n                        className={cn(\n                          'text-xs',\n                          task.priority === 'high' && 'border-red-200 text-red-700',\n                          task.priority === 'medium' && 'border-orange-200 text-orange-700',\n                          task.priority === 'low' && 'border-green-200 text-green-700'\n                        )}\n                      >\n                        {task.priority}\n                      </Badge>\n                      <div className=\"flex items-center space-x-1 text-xs text-gray-500\">\n                        <User className=\"w-3 h-3\" />\n                        <span>Assigned</span>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center space-x-2 text-xs text-gray-500\">\n                    <Calendar className=\"w-3 h-3\" />\n                    <span className=\"font-medium\">\n                      {formatDueDate(task.due_date!)}\n                    </span>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* View All Tasks Button */}\n        <div className=\"pt-2 border-t\">\n          <Button \n            variant=\"ghost\" \n            className=\"w-full justify-between text-gray-600 hover:text-gray-900\"\n            onClick={() => navigate('/board')}\n          >\n            View all tasks\n            <ArrowRight className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}", "import { useEffect, useState } from 'react'\nimport Layout from '../components/project/Layout'\nimport KanbanBoard from '../components/kanban/KanbanBoard'\nimport { useAuthStore } from '../stores/auth-store'\nimport { trpc } from '../lib/trpc'\nimport { Card, CardContent } from '../components/ui/card'\nimport { Badge } from '../components/ui/badge'\nimport { Button } from '../components/ui/button'\nimport { Plus, Loader2 } from 'lucide-react'\nimport KrushrLoader from '../components/common/KrushrLoader'\nimport KrushrLogo from '../components/common/KrushrLogo'\nimport FloatingActionButton from '../components/ui/floating-action-button'\nimport SimpleCreatePanel from '../components/forms/SimpleCreatePanel'\n\nexport default function Board() {\n  const { isAuthenticated } = useAuthStore()\n  const [selectedKanban, setSelectedKanban] = useState<string | null>(null)\n  const [showQuickTaskModal, setShowQuickTaskModal] = useState(false)\n  \n  const { data: workspaces = [] } = trpc.workspace.list.useQuery()\n  const activeWorkspace = workspaces[0]\n  \n  const { data: kanbans = [], isLoading, error } = trpc.kanban.list.useQuery(\n    { workspaceId: activeWorkspace?.id || '' },\n    { enabled: !!activeWorkspace?.id }\n  )\n\n  useEffect(() => {\n    if (kanbans.length > 0 && !selectedKanban) {\n      setSelectedKanban(kanbans[0].id)\n    }\n  }, [kanbans, selectedKanban])\n  \n  // Redirect if not authenticated\n  if (!isAuthenticated) {\n    return null\n  }\n\n  const currentKanban = kanbans.find(k => k.id === selectedKanban)\n\n  if (isLoading) {\n    return (\n      <Layout>\n        <div className=\"flex items-center justify-center h-full\">\n          <KrushrLoader text=\"Loading your kanban boards...\" />\n        </div>\n      </Layout>\n    )\n  }\n\n  if (error) {\n    return (\n      <Layout>\n        <div className=\"flex items-center justify-center h-full\">\n          <Card className=\"w-full max-w-md\">\n            <CardContent className=\"p-6 text-center\">\n              <div className=\"flex justify-center mb-4\">\n                <KrushrLogo size=\"md\" showText={false} />\n              </div>\n              <p className=\"text-destructive mb-4\">{error?.message || 'An error occurred'}</p>\n              <Button onClick={() => window.location.reload()} className=\"bg-primary\">\n                Reload Page\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n      </Layout>\n    )\n  }\n\n  if (kanbans.length === 0) {\n    return (\n      <Layout>\n        <div className=\"flex items-center justify-center h-full\">\n          <Card className=\"w-full max-w-md\">\n            <CardContent className=\"p-8 text-center\">\n              <div className=\"flex justify-center mb-6\">\n                <KrushrLogo size=\"lg\" />\n              </div>\n              <h3 className=\"text-xl font-semibold mb-3 text-foreground\">Welcome to Krushr!</h3>\n              <p className=\"text-muted-foreground mb-6\">\n                Create your first kanban board to start organizing tasks and boosting productivity.\n              </p>\n              <Button className=\"bg-primary hover:bg-primary/90\">\n                <Plus className=\"w-4 h-4 mr-2\" />\n                Create Your First Board\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n      </Layout>\n    )\n  }\n\n  return (\n    <Layout>\n      <div className=\"h-full flex flex-col\">\n\n        {/* Board Selector */}\n        {kanbans.length > 1 && (\n          <div className=\"bg-white border-b border-gray-200 px-6 py-3\">\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-sm font-medium text-gray-700\">Board:</span>\n              <div className=\"flex space-x-2\">\n                {kanbans.map((kanban) => (\n                  <Button\n                    key={kanban.id}\n                    variant={selectedKanban === kanban.id ? \"default\" : \"outline\"}\n                    size=\"sm\"\n                    onClick={() => setSelectedKanban(kanban.id)}\n                  >\n                    {kanban.title}\n                  </Button>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Main Board */}\n        <div className=\"flex-1\">\n          {currentKanban && activeWorkspace?.id ? (\n            <KanbanBoard kanban={{ ...currentKanban, workspaceId: activeWorkspace.id }} />\n          ) : (\n            <div className=\"flex items-center justify-center h-full\">\n              <Card className=\"w-full max-w-md\">\n                <CardContent className=\"p-6 text-center\">\n                  <p className=\"text-gray-600\">\n                    {!currentKanban ? 'Select a kanban board to view tasks.' : 'Loading workspace...'}\n                  </p>\n                </CardContent>\n              </Card>\n            </div>\n          )}\n        </div>\n\n        {/* Floating Action Button for Quick Task Creation */}\n        <FloatingActionButton\n          icon=\"plus\"\n          tooltip=\"Create New Task\"\n          onClick={() => setShowQuickTaskModal(true)}\n        />\n      </div>\n\n      {/* Quick Task Creation Panel */}\n      {showQuickTaskModal && activeWorkspace && (\n        <SimpleCreatePanel\n          workspaceId={activeWorkspace.id}\n          open={showQuickTaskModal}\n          onClose={() => setShowQuickTaskModal(false)}\n          onSuccess={() => {\n            setShowQuickTaskModal(false)\n          }}\n        />\n      )}\n    </Layout>\n  )\n}", "import { ReactNode, useState, useEffect } from 'react'\nimport { useNavigate, useLocation } from 'react-router'\nimport Sidebar from './Sidebar'\n\ninterface LayoutProps {\n  children: ReactNode\n}\n\nexport default function Layout({ children }: LayoutProps) {\n  const navigate = useNavigate()\n  const location = useLocation()\n  const [currentPage, setCurrentPage] = useState('home')\n\n  useEffect(() => {\n    const pathToPageMap: Record<string, string> = {\n      '/': 'home',\n      '/home': 'home',\n      '/workspace': 'workspace',\n      '/board': 'board',\n      '/calendar': 'calendar',\n      '/chat': 'chat',\n      '/notes': 'notes',\n      '/teams': 'teams',\n      '/projects': 'projects',\n    }\n    \n    const currentPath = location.pathname\n    const page = pathToPageMap[currentPath] || 'home'\n    setCurrentPage(page)\n  }, [location.pathname])\n\n  const handlePageChange = (page: string) => {\n    console.log('Navigation clicked:', page)\n    setCurrentPage(page)\n    const routes: Record<string, string> = {\n      home: '/home',\n      workspace: '/workspace',\n      board: '/board',\n      calendar: '/calendar',\n      chat: '/chat',\n      notes: '/notes',\n      teams: '/teams',\n      projects: '/projects',\n    }\n    console.log('Will navigate to:', routes[page])\n    if (routes[page]) {\n      console.log('Navigating to:', routes[page])\n      navigate(routes[page])\n    } else {\n      console.log('No route found for page:', page)\n    }\n  }\n\n  return (\n    <div className=\"flex h-screen bg-gray-50\">\n      <Sidebar currentPage={currentPage} onPageChange={handlePageChange} />\n      <main className=\"flex-1 overflow-x-visible overflow-y-auto\">\n        {children}\n      </main>\n    </div>\n  )\n}", "\nimport React from 'react'\nimport { cn } from '../../lib/utils'\nimport KrushrLogo from './KrushrLogo'\n\ninterface KrushrLoaderProps {\n  size?: 'sm' | 'md' | 'lg'\n  text?: string\n  className?: string\n}\n\nexport default function KrushrLoader({ \n  size = 'md', \n  text = 'Loading...', \n  className \n}: KrushrLoaderProps) {\n  const sizeClasses = {\n    sm: 'w-16 h-16',\n    md: 'w-20 h-20', \n    lg: 'w-24 h-24'\n  }\n\n  const textSizeClasses = {\n    sm: 'text-sm',\n    md: 'text-base',\n    lg: 'text-lg'\n  }\n\n  return (\n    <div className={cn(\"flex flex-col items-center justify-center space-y-4\", className)}>\n      {/* Animated Logo */}\n      <div className={cn(\n        \"relative\",\n        sizeClasses[size]\n      )}>\n        {/* Spinning Ring */}\n        <div className=\"absolute inset-0 border-4 border-muted rounded-full border-t-primary animate-spin\"></div>\n        \n        {/* Logo in Center */}\n        <div className=\"absolute inset-0 flex items-center justify-center\">\n          <div className=\"font-bold text-blue-600 text-sm\">\n            K\n          </div>\n        </div>\n      </div>\n\n      {/* Loading Text */}\n      <div className={cn(\n        \"text-muted-foreground font-medium\",\n        textSizeClasses[size]\n      )}>\n        {text}\n      </div>\n    </div>\n  )\n}", "\nimport React from 'react'\nimport { Button } from './button'\nimport { Plus, MessageCircle, Calendar, FileText, Users } from 'lucide-react'\nimport { cn } from '../../lib/utils'\n\ninterface FloatingActionButtonProps {\n  onClick?: () => void\n  className?: string\n  variant?: 'primary' | 'secondary'\n  size?: 'sm' | 'md' | 'lg'\n  icon?: 'plus' | 'message' | 'calendar' | 'note' | 'team'\n  tooltip?: string\n}\n\nconst iconMap = {\n  plus: Plus,\n  message: MessageCircle,\n  calendar: Calendar,\n  note: FileText,\n  team: Users,\n}\n\nexport default function FloatingActionButton({\n  onClick,\n  className,\n  variant = 'primary',\n  size = 'md',\n  icon = 'plus',\n  tooltip\n}: FloatingActionButtonProps) {\n  const IconComponent = iconMap[icon]\n  \n  const sizeClasses = {\n    sm: 'w-12 h-12',\n    md: 'w-14 h-14',\n    lg: 'w-16 h-16'\n  }\n  \n  const iconSizes = {\n    sm: 'w-5 h-5',\n    md: 'w-6 h-6', \n    lg: 'w-7 h-7'\n  }\n  \n  const variantClasses = {\n    primary: 'bg-krushr-secondary hover:bg-krushr-secondary/90 text-white shadow-lg hover:shadow-xl',\n    secondary: 'bg-krushr-blue hover:bg-krushr-blue/90 text-white shadow-lg hover:shadow-xl'\n  }\n\n  return (\n    <Button\n      onClick={onClick}\n      className={cn(\n        'fixed bottom-6 right-6 rounded-full transition-all duration-200 hover:scale-105 active:scale-95 z-50',\n        sizeClasses[size],\n        variantClasses[variant],\n        className\n      )}\n      title={tooltip}\n    >\n      <IconComponent className={iconSizes[size]} />\n    </Button>\n  )\n}", "\nimport React, { useState, useMemo } from 'react'\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card'\nimport { Button } from '../ui/button'\nimport { Badge } from '../ui/badge'\nimport { Avatar, AvatarFallback, AvatarImage } from '../ui/avatar'\nimport { \n  ChevronLeft, \n  ChevronRight, \n  Plus, \n  Calendar as CalendarIcon,\n  Clock,\n  Users,\n  AlertTriangle,\n  CheckCircle2,\n  MoreHorizontal,\n  Filter,\n  Download\n} from 'lucide-react'\nimport { useAppStore } from '../../stores/app-store'\nimport { Task } from '../../../../shared/types'\nimport { formatDate, formatDateShort } from '../../../../shared/utils'\nimport { cn } from '../../lib/utils'\n\ninterface CalendarEvent {\n  id: string\n  title: string\n  type: 'task' | 'meeting' | 'deadline' | 'milestone'\n  date: Date\n  time?: string\n  priority?: 'high' | 'medium' | 'low'\n  assignees?: Array<{ id: string; name: string; avatar?: string }>\n  project?: string\n  color: string\n}\n\ninterface CalendarViewProps {\n  className?: string\n}\n\nexport default function CalendarView({ className }: CalendarViewProps) {\n  const [currentDate, setCurrentDate] = useState(new Date())\n  const [view, setView] = useState<'month' | 'week' | 'day'>('month')\n  const [selectedDate, setSelectedDate] = useState<Date | null>(null)\n  const [showFilters, setShowFilters] = useState(false)\n\n  const { tasks } = useAppStore()\n\n  const calendarEvents = useMemo(() => {\n    const events: CalendarEvent[] = []\n\n    tasks.forEach(task => {\n      if (task.due_date) {\n        events.push({\n          id: `task-${task.id}`,\n          title: task.title,\n          type: 'task',\n          date: new Date(task.due_date),\n          priority: task.priority,\n          assignees: task.assignees,\n          color: task.priority === 'high' ? 'bg-red-500' : \n                 task.priority === 'medium' ? 'bg-orange-500' : 'bg-green-500'\n        })\n      }\n    })\n\n    const now = new Date()\n    events.push(\n      {\n        id: 'meeting-1',\n        title: 'Team Standup',\n        type: 'meeting',\n        date: new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, 9, 0),\n        time: '9:00 AM',\n        assignees: [\n          { id: '1', name: 'Team Lead', avatar: '' },\n          { id: '2', name: 'Developer', avatar: '' }\n        ],\n        color: 'bg-blue-500'\n      },\n      {\n        id: 'milestone-1',\n        title: 'Sprint Review',\n        type: 'milestone',\n        date: new Date(now.getFullYear(), now.getMonth(), now.getDate() + 7),\n        project: 'Q1 Development',\n        color: 'bg-purple-500'\n      }\n    )\n\n    return events\n  }, [tasks])\n\n  const getMonthCalendar = () => {\n    const year = currentDate.getFullYear()\n    const month = currentDate.getMonth()\n    \n    const firstDay = new Date(year, month, 1)\n    const lastDay = new Date(year, month + 1, 0)\n    const startDate = new Date(firstDay)\n    startDate.setDate(startDate.getDate() - firstDay.getDay())\n    \n    const calendar = []\n    const current = new Date(startDate)\n    \n    for (let week = 0; week < 6; week++) {\n      const weekDays = []\n      for (let day = 0; day < 7; day++) {\n        const date = new Date(current)\n        const dayEvents = calendarEvents.filter(event => \n          event.date.toDateString() === date.toDateString()\n        )\n        \n        weekDays.push({\n          date: new Date(date),\n          isCurrentMonth: date.getMonth() === month,\n          isToday: date.toDateString() === new Date().toDateString(),\n          events: dayEvents\n        })\n        \n        current.setDate(current.getDate() + 1)\n      }\n      calendar.push(weekDays)\n    }\n    \n    return calendar\n  }\n\n  const monthCalendar = getMonthCalendar()\n\n  const navigateMonth = (direction: 'prev' | 'next') => {\n    const newDate = new Date(currentDate)\n    newDate.setMonth(currentDate.getMonth() + (direction === 'next' ? 1 : -1))\n    setCurrentDate(newDate)\n  }\n\n  const getEventIcon = (type: CalendarEvent['type']) => {\n    switch (type) {\n      case 'task':\n        return <CheckCircle2 className=\"w-3 h-3\" />\n      case 'meeting':\n        return <Users className=\"w-3 h-3\" />\n      case 'deadline':\n        return <AlertTriangle className=\"w-3 h-3\" />\n      case 'milestone':\n        return <CalendarIcon className=\"w-3 h-3\" />\n      default:\n        return <Clock className=\"w-3 h-3\" />\n    }\n  }\n\n  const monthNames = [\n    'January', 'February', 'March', 'April', 'May', 'June',\n    'July', 'August', 'September', 'October', 'November', 'December'\n  ]\n\n  const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\n\n  return (\n    <Card className={cn('h-full flex flex-col', className)}>\n      {/* Calendar Header */}\n      <CardHeader className=\"flex-shrink-0 pb-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <CardTitle className=\"text-xl font-bold\">\n              {monthNames[currentDate.getMonth()]} {currentDate.getFullYear()}\n            </CardTitle>\n            <div className=\"flex items-center space-x-1\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => navigateMonth('prev')}\n              >\n                <ChevronLeft className=\"w-4 h-4\" />\n              </Button>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => setCurrentDate(new Date())}\n              >\n                Today\n              </Button>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => navigateMonth('next')}\n              >\n                <ChevronRight className=\"w-4 h-4\" />\n              </Button>\n            </div>\n          </div>\n\n          <div className=\"flex items-center space-x-2\">\n            {/* View Toggle */}\n            <div className=\"flex border rounded-lg overflow-hidden\">\n              {(['month', 'week', 'day'] as const).map((viewType) => (\n                <Button\n                  key={viewType}\n                  variant={view === viewType ? 'default' : 'ghost'}\n                  size=\"sm\"\n                  className=\"rounded-none\"\n                  onClick={() => setView(viewType)}\n                >\n                  {viewType.charAt(0).toUpperCase() + viewType.slice(1)}\n                </Button>\n              ))}\n            </div>\n\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => setShowFilters(!showFilters)}\n            >\n              <Filter className=\"w-4 h-4 mr-2\" />\n              Filter\n            </Button>\n\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n            >\n              <Download className=\"w-4 h-4 mr-2\" />\n              Export\n            </Button>\n\n            <Button size=\"sm\">\n              <Plus className=\"w-4 h-4 mr-2\" />\n              Add Event\n            </Button>\n          </div>\n        </div>\n\n        {/* Filters */}\n        {showFilters && (\n          <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex items-center space-x-2\">\n                <span className=\"text-sm font-medium\">Show:</span>\n                <Badge variant=\"outline\" className=\"cursor-pointer\">Tasks</Badge>\n                <Badge variant=\"outline\" className=\"cursor-pointer\">Meetings</Badge>\n                <Badge variant=\"outline\" className=\"cursor-pointer\">Deadlines</Badge>\n                <Badge variant=\"outline\" className=\"cursor-pointer\">Milestones</Badge>\n              </div>\n            </div>\n          </div>\n        )}\n      </CardHeader>\n\n      {/* Calendar Grid */}\n      <CardContent className=\"flex-1 p-0 overflow-hidden\">\n        <div className=\"h-full flex flex-col\">\n          {/* Day Headers */}\n          <div className=\"grid grid-cols-7 border-b bg-gray-50\">\n            {dayNames.map((day) => (\n              <div key={day} className=\"p-3 text-center text-sm font-medium text-gray-600\">\n                {day}\n              </div>\n            ))}\n          </div>\n\n          {/* Calendar Body */}\n          <div className=\"flex-1 overflow-y-auto\">\n            {monthCalendar.map((week, weekIndex) => (\n              <div key={weekIndex} className=\"grid grid-cols-7 border-b min-h-[120px]\">\n                {week.map((day, dayIndex) => (\n                  <div\n                    key={dayIndex}\n                    className={cn(\n                      'border-r p-2 cursor-pointer hover:bg-gray-50 transition-colors',\n                      !day.isCurrentMonth && 'bg-gray-25 text-gray-400',\n                      day.isToday && 'bg-blue-50 border-blue-200',\n                      selectedDate?.toDateString() === day.date.toDateString() && 'bg-blue-100'\n                    )}\n                    onClick={() => setSelectedDate(day.date)}\n                  >\n                    {/* Date Number */}\n                    <div className=\"flex items-center justify-between mb-1\">\n                      <span className={cn(\n                        'text-sm font-medium',\n                        day.isToday && 'text-blue-600',\n                        !day.isCurrentMonth && 'text-gray-400'\n                      )}>\n                        {day.date.getDate()}\n                      </span>\n                      {day.events.length > 3 && (\n                        <span className=\"text-xs text-gray-500\">\n                          +{day.events.length - 3}\n                        </span>\n                      )}\n                    </div>\n\n                    {/* Events */}\n                    <div className=\"space-y-1\">\n                      {day.events.slice(0, 3).map((event) => (\n                        <div\n                          key={event.id}\n                          className={cn(\n                            'text-xs p-1 rounded text-white truncate flex items-center space-x-1',\n                            event.color\n                          )}\n                          title={event.title}\n                        >\n                          {getEventIcon(event.type)}\n                          <span className=\"truncate\">{event.title}</span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ))}\n          </div>\n        </div>\n      </CardContent>\n\n      {/* Selected Date Details */}\n      {selectedDate && (\n        <div className=\"flex-shrink-0 border-t bg-red-100 p-4\">\n          <h4 className=\"font-medium text-gray-900 mb-2\">\n            SELECTED: {formatDateShort(selectedDate.toISOString())}\n          </h4>\n          <div className=\"space-y-2\">\n            {calendarEvents\n              .filter(event => event.date.toDateString() === selectedDate.toDateString())\n              .map(event => (\n                <div key={event.id} className=\"flex items-center space-x-3 p-2 bg-white rounded border\">\n                  <div className={cn('w-3 h-3 rounded-full', event.color)} />\n                  <div className=\"flex-1\">\n                    <div className=\"font-medium text-sm\">{event.title}</div>\n                    {event.time && (\n                      <div className=\"text-xs text-gray-500\">{event.time}</div>\n                    )}\n                  </div>\n                  {event.assignees && (\n                    <div className=\"flex -space-x-1\">\n                      {event.assignees.slice(0, 2).map((assignee) => (\n                        <Avatar key={assignee.id} className=\"w-6 h-6 border-2 border-white\">\n                          <AvatarImage src={assignee.avatar} />\n                          <AvatarFallback className=\"text-xs\">\n                            {assignee.name.split(' ').map(n => n[0]).join('').toUpperCase()}\n                          </AvatarFallback>\n                        </Avatar>\n                      ))}\n                    </div>\n                  )}\n                  <Button variant=\"ghost\" size=\"sm\" className=\"h-6 w-6 p-0\">\n                    <MoreHorizontal className=\"w-3 h-3\" />\n                  </Button>\n                </div>\n              ))}\n          </div>\n        </div>\n      )}\n    </Card>\n  )\n}", "\nimport { useEffect, useCallback } from 'react'\nimport { useAppStore } from '../stores/app-store'\nimport { api } from '../lib/api'\n\nexport function useRealtimeConnection() {\n  const {\n    user,\n    isAuthenticated,\n    connectWebSocket,\n    disconnectWebSocket,\n    setWorkspaces,\n    setKanbans,\n    setTasks,\n    setNotifications,\n    setLoading,\n    setError,\n  } = useAppStore()\n\n  const initializeData = useCallback(async () => {\n    if (!isAuthenticated) return\n\n    setLoading(true)\n    setError(null)\n\n    try {\n      const [workspacesRes, kanbansRes, tasksRes, notificationsRes] = await Promise.all([\n        api.getWorkspaces(),\n        api.getKanbans(),\n        api.getTasks(),\n        api.getNotifications(),\n      ])\n\n      if (workspacesRes.success && workspacesRes.data) {\n        setWorkspaces(workspacesRes.data)\n      }\n\n      if (kanbansRes.success && kanbansRes.data) {\n        setKanbans(kanbansRes.data)\n      }\n\n      if (tasksRes.success && tasksRes.data) {\n        setTasks(tasksRes.data)\n      }\n\n      if (notificationsRes.success && notificationsRes.data) {\n        setNotifications(notificationsRes.data)\n      }\n\n    } catch (error) {\n      console.error('Failed to load initial data:', error)\n      setError('Failed to load application data')\n    } finally {\n      setLoading(false)\n    }\n  }, [isAuthenticated, setWorkspaces, setKanbans, setTasks, setNotifications, setLoading, setError])\n\n  // Connect WebSocket when authenticated\n  useEffect(() => {\n    if (isAuthenticated && user) {\n      connectWebSocket()\n      initializeData()\n    } else {\n      disconnectWebSocket()\n    }\n\n    return () => {\n      disconnectWebSocket()\n    }\n  }, [isAuthenticated, user, connectWebSocket, disconnectWebSocket, initializeData])\n\n  return {\n    isConnected: useAppStore((state) => state.websocket.connected),\n    isLoading: useAppStore((state) => state.loading),\n    error: useAppStore((state) => state.error),\n  }\n}\n\nexport function useRealtimeActions() {\n  const { sendMessage } = useAppStore()\n\n  const broadcastTaskUpdate = useCallback((task: any) => {\n    sendMessage('task-updated', task)\n  }, [sendMessage])\n\n  const broadcastKanbanUpdate = useCallback((kanban: any) => {\n    sendMessage('kanban-updated', kanban)\n  }, [sendMessage])\n\n  const broadcastPresence = useCallback((status: 'online' | 'offline') => {\n    sendMessage('user-presence', { status, timestamp: new Date().toISOString() })\n  }, [sendMessage])\n\n  return {\n    broadcastTaskUpdate,\n    broadcastKanbanUpdate,\n    broadcastPresence,\n  }\n}\n\nexport function useOptimisticUpdates() {\n  const { updateTask, addTask, deleteTask } = useAppStore()\n  const { broadcastTaskUpdate } = useRealtimeActions()\n\n  const optimisticUpdateTask = useCallback(async (\n    taskId: string,\n    updates: any,\n    apiCall: () => Promise<any>\n  ) => {\n    updateTask(taskId, updates)\n    broadcastTaskUpdate({ id: taskId, ...updates })\n\n    try {\n      const result = await apiCall()\n      if (result.success && result.data) {\n        updateTask(taskId, result.data)\n      }\n      return result\n    } catch (error) {\n      console.error('Failed to sync task update:', error)\n      throw error\n    }\n  }, [updateTask, broadcastTaskUpdate])\n\n  const optimisticCreateTask = useCallback(async (\n    tempTask: any,\n    apiCall: () => Promise<any>\n  ) => {\n    // Add temporary task immediately\n    const tempId = `temp-${Date.now()}`\n    const optimisticTask = { ...tempTask, id: tempId }\n    addTask(optimisticTask)\n\n    try {\n      const result = await apiCall()\n      if (result.success && result.data) {\n        deleteTask(tempId)\n        addTask(result.data)\n        broadcastTaskUpdate(result.data)\n      }\n      return result\n    } catch (error) {\n      deleteTask(tempId)\n      throw error\n    }\n  }, [addTask, deleteTask, broadcastTaskUpdate])\n\n  return {\n    optimisticUpdateTask,\n    optimisticCreateTask,\n  }\n}", "\nimport { ApiResponse, PaginatedResponse, User, Kanban, Task, Team, Workspace, Notification } from '../../../shared/types'\nimport { API_ENDPOINTS, HTTP_STATUS } from '../../../shared/constants'\n\nconst API_BASE_URL = process.env.NODE_ENV === 'production' \n  ? 'https://api.krushr.app' \n  : 'http://localhost:8000/api'\n\nclass ApiClient {\n  private baseURL: string\n  private token: string | null = null\n\n  constructor(baseURL: string) {\n    this.baseURL = baseURL\n    this.token = localStorage.getItem('auth_token')\n  }\n\n  private async request<T>(\n    endpoint: string, \n    options: RequestInit = {}\n  ): Promise<ApiResponse<T>> {\n    const url = `${this.baseURL}${endpoint}`\n    \n    const config: RequestInit = {\n      headers: {\n        'Content-Type': 'application/json',\n        ...(this.token && { Authorization: `Bearer ${this.token}` }),\n        ...options.headers,\n      },\n      ...options,\n    }\n\n    try {\n      const response = await fetch(url, config)\n      const data = await response.json()\n\n      if (!response.ok) {\n        throw new Error(data.message || 'API request failed')\n      }\n\n      return data\n    } catch (error) {\n      console.error('API Error:', error)\n      throw error\n    }\n  }\n\n  // Auth methods\n  async login(email: string, password: string): Promise<ApiResponse<{ user: User; token: string }>> {\n    const response = await this.request<{ user: User; token: string }>(API_ENDPOINTS.LOGIN, {\n      method: 'POST',\n      body: JSON.stringify({ email, password }),\n    })\n    \n    if (response.success && response.data?.token) {\n      this.token = response.data.token\n      localStorage.setItem('auth_token', this.token)\n    }\n    \n    return response\n  }\n\n  async logout(): Promise<void> {\n    await this.request(API_ENDPOINTS.LOGOUT, { method: 'POST' })\n    this.token = null\n    localStorage.removeItem('auth_token')\n  }\n\n  async me(): Promise<ApiResponse<User>> {\n    return this.request<User>(API_ENDPOINTS.ME)\n  }\n\n  async getWorkspaces(): Promise<ApiResponse<Workspace[]>> {\n    return this.request<Workspace[]>(API_ENDPOINTS.WORKSPACES)\n  }\n\n  async createWorkspace(data: Partial<Workspace>): Promise<ApiResponse<Workspace>> {\n    return this.request<Workspace>(API_ENDPOINTS.WORKSPACES, {\n      method: 'POST',\n      body: JSON.stringify(data),\n    })\n  }\n\n  async getTeams(): Promise<ApiResponse<Team[]>> {\n    return this.request<Team[]>(API_ENDPOINTS.TEAMS)\n  }\n\n  async createTeam(data: Partial<Team>): Promise<ApiResponse<Team>> {\n    return this.request<Team>(API_ENDPOINTS.TEAMS, {\n      method: 'POST',\n      body: JSON.stringify(data),\n    })\n  }\n\n  async getKanbans(): Promise<ApiResponse<Kanban[]>> {\n    return this.request<Kanban[]>(API_ENDPOINTS.KANBANS)\n  }\n\n  async getKanban(id: string): Promise<ApiResponse<Kanban>> {\n    return this.request<Kanban>(`${API_ENDPOINTS.KANBANS}/${id}`)\n  }\n\n  async createKanban(data: Partial<Kanban>): Promise<ApiResponse<Kanban>> {\n    return this.request<Kanban>(API_ENDPOINTS.KANBANS, {\n      method: 'POST',\n      body: JSON.stringify(data),\n    })\n  }\n\n  async updateKanban(id: string, data: Partial<Kanban>): Promise<ApiResponse<Kanban>> {\n    return this.request<Kanban>(`${API_ENDPOINTS.KANBANS}/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(data),\n    })\n  }\n\n  async getTasks(kanbanId?: string): Promise<ApiResponse<Task[]>> {\n    const endpoint = kanbanId \n      ? `${API_ENDPOINTS.TASKS}?kanban_id=${kanbanId}`\n      : API_ENDPOINTS.TASKS\n    return this.request<Task[]>(endpoint)\n  }\n\n  async createTask(data: Partial<Task>): Promise<ApiResponse<Task>> {\n    return this.request<Task>(API_ENDPOINTS.TASKS, {\n      method: 'POST',\n      body: JSON.stringify(data),\n    })\n  }\n\n  async updateTask(id: string, data: Partial<Task>): Promise<ApiResponse<Task>> {\n    return this.request<Task>(`${API_ENDPOINTS.TASKS}/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(data),\n    })\n  }\n\n  async deleteTask(id: string): Promise<ApiResponse<void>> {\n    return this.request<void>(`${API_ENDPOINTS.TASKS}/${id}`, {\n      method: 'DELETE',\n    })\n  }\n\n  async getNotifications(): Promise<ApiResponse<Notification[]>> {\n    return this.request<Notification[]>(API_ENDPOINTS.NOTIFICATIONS)\n  }\n\n  async markNotificationRead(id: string): Promise<ApiResponse<void>> {\n    return this.request<void>(`${API_ENDPOINTS.NOTIFICATIONS}/${id}/read`, {\n      method: 'PUT',\n    })\n  }\n}\n\nexport const api = new ApiClient(API_BASE_URL)\n\nexport const auth = {\n  login: api.login.bind(api),\n  logout: api.logout.bind(api),\n  me: api.me.bind(api),\n}\n\nexport const workspaces = {\n  list: api.getWorkspaces.bind(api),\n  create: api.createWorkspace.bind(api),\n}\n\nexport const teams = {\n  list: api.getTeams.bind(api),\n  create: api.createTeam.bind(api),\n}\n\nexport const kanbans = {\n  list: api.getKanbans.bind(api),\n  get: api.getKanban.bind(api),\n  create: api.createKanban.bind(api),\n  update: api.updateKanban.bind(api),\n}\n\nexport const tasks = {\n  list: api.getTasks.bind(api),\n  create: api.createTask.bind(api),\n  update: api.updateTask.bind(api),\n  delete: api.deleteTask.bind(api),\n}\n\nexport const notifications = {\n  list: api.getNotifications.bind(api),\n  markRead: api.markNotificationRead.bind(api),\n}", "import Layout from '../components/project/Layout'\nimport CalendarView from '../components/calendar/CalendarView'\nimport { useRealtimeConnection } from '../hooks/use-realtime'\nimport { Loader2 } from 'lucide-react'\n\nexport default function Calendar() {\n  const { isLoading } = useRealtimeConnection()\n\n  if (isLoading) {\n    return (\n      <Layout>\n        <div className=\"flex items-center justify-center h-full\">\n          <div className=\"text-center\">\n            <Loader2 className=\"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600\" />\n            <p className=\"text-gray-600\">Loading calendar...</p>\n          </div>\n        </div>\n      </Layout>\n    )\n  }\n\n  return (\n    <Layout>\n      <div className=\"h-full\">\n        <CalendarView />\n      </div>\n    </Layout>\n  )\n}\n", "import React, { Component, ErrorInfo, ReactNode } from 'react'\nimport { AlertTriangle, RefreshCw, Home } from 'lucide-react'\n\ninterface Props {\n  children: ReactNode\n  fallback?: ReactNode\n  level?: 'page' | 'component' | 'critical'\n  onError?: (error: Error, errorInfo: ErrorInfo) => void\n}\n\ninterface State {\n  hasError: boolean\n  error?: Error\n  errorInfo?: ErrorInfo\n}\n\nclass ErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error }\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    console.error('ErrorBoundary caught an error:', error, errorInfo)\n    \n    this.setState({\n      error,\n      errorInfo\n    })\n\n    this.props.onError?.(error, errorInfo)\n\n    if (process.env.NODE_ENV === 'production') {\n      // TODO: Add error reporting service (Sentry, LogRocket, etc.)\n      console.error('Production error:', {\n        message: error.message,\n        stack: error.stack,\n        componentStack: errorInfo.componentStack\n      })\n    }\n  }\n\n  handleRetry = () => {\n    this.setState({ hasError: false, error: undefined, errorInfo: undefined })\n  }\n\n  handleGoHome = () => {\n    window.location.href = '/#/workspace'\n  }\n\n  render() {\n    if (this.state.hasError) {\n      if (this.props.fallback) {\n        return this.props.fallback\n      }\n\n      const { level = 'component' } = this.props\n\n      if (level === 'critical') {\n        return (\n          <div className=\"min-h-screen flex items-center justify-center bg-krushr-gray-50 p-6\">\n            <div className=\"text-center max-w-lg\">\n              <div className=\"w-20 h-20 bg-krushr-danger-50 rounded-full flex items-center justify-center mx-auto mb-6\">\n                <AlertTriangle className=\"w-10 h-10 text-krushr-danger\" />\n              </div>\n              <h1 className=\"text-2xl font-brand font-bold text-krushr-gray-900 mb-4\">\n                Critical Error\n              </h1>\n              <p className=\"text-base font-brand text-krushr-gray-600 mb-6\">\n                The application encountered a critical error and needs to be restarted. Your work may not be saved.\n              </p>\n              <div className=\"space-y-3\">\n                <button\n                  onClick={() => window.location.reload()}\n                  className=\"w-full bg-krushr-danger text-white px-6 py-3 rounded-button font-medium hover:bg-krushr-danger-600 transition-colors flex items-center justify-center gap-2\"\n                >\n                  <RefreshCw className=\"w-5 h-5\" />\n                  Restart Application\n                </button>\n                <button\n                  onClick={this.handleGoHome}\n                  className=\"w-full border border-krushr-gray-300 text-krushr-gray-700 px-6 py-3 rounded-button font-medium hover:bg-krushr-gray-50 transition-colors flex items-center justify-center gap-2\"\n                >\n                  <Home className=\"w-5 h-5\" />\n                  Go to Dashboard\n                </button>\n              </div>\n            </div>\n          </div>\n        )\n      }\n\n      if (level === 'page') {\n        return (\n          <div className=\"min-h-[60vh] flex items-center justify-center p-6\">\n            <div className=\"text-center max-w-md\">\n              <div className=\"w-16 h-16 bg-krushr-warning-50 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <AlertTriangle className=\"w-8 h-8 text-krushr-warning\" />\n              </div>\n              <h2 className=\"text-xl font-brand font-semibold text-krushr-gray-800 mb-3\">\n                Page Error\n              </h2>\n              <p className=\"text-sm font-brand text-krushr-gray-600 mb-4\">\n                This page encountered an error, but the rest of the application is still working.\n              </p>\n              <div className=\"space-y-2\">\n                <button\n                  onClick={this.handleRetry}\n                  className=\"w-full bg-krushr-primary text-white px-4 py-2 rounded-button font-medium hover:bg-krushr-primary-700 transition-colors flex items-center justify-center gap-2\"\n                >\n                  <RefreshCw className=\"w-4 h-4\" />\n                  Retry Page\n                </button>\n                <button\n                  onClick={this.handleGoHome}\n                  className=\"w-full border border-krushr-gray-300 text-krushr-gray-700 px-4 py-2 rounded-button font-medium hover:bg-krushr-gray-50 transition-colors flex items-center justify-center gap-2\"\n                >\n                  <Home className=\"w-4 h-4\" />\n                  Go to Dashboard\n                </button>\n              </div>\n            </div>\n          </div>\n        )\n      }\n\n      return (\n        <div className=\"flex items-center justify-center min-h-[200px] p-4 bg-krushr-gray-50 rounded-lg border border-krushr-gray-200\">\n          <div className=\"text-center max-w-sm\">\n            <div className=\"w-12 h-12 bg-krushr-info-50 rounded-full flex items-center justify-center mx-auto mb-3\">\n              <AlertTriangle className=\"w-6 h-6 text-krushr-info\" />\n            </div>\n            <h3 className=\"text-base font-brand font-medium text-krushr-gray-800 mb-2\">\n              Component Error\n            </h3>\n            <p className=\"text-sm font-brand text-krushr-gray-600 mb-3\">\n              This component failed to load, but other features are still available.\n            </p>\n            <button\n              onClick={this.handleRetry}\n              className=\"bg-krushr-primary text-white px-3 py-1.5 rounded-button text-sm font-medium hover:bg-krushr-primary-700 transition-colors flex items-center justify-center gap-1.5 mx-auto\"\n            >\n              <RefreshCw className=\"w-3 h-3\" />\n              Retry\n            </button>\n            {process.env.NODE_ENV === 'development' && this.state.error && (\n              <details className=\"mt-3 text-left\">\n                <summary className=\"text-xs text-krushr-gray-500 cursor-pointer hover:text-krushr-gray-700\">\n                  Error Details\n                </summary>\n                <pre className=\"text-xs text-krushr-gray-600 mt-2 p-2 bg-white rounded border overflow-auto max-h-32\">\n                  {this.state.error.toString()}\n                </pre>\n              </details>\n            )}\n          </div>\n        </div>\n      )\n    }\n\n    return this.props.children\n  }\n}\n\nexport default ErrorBoundary\n\nexport const ComponentErrorBoundary: React.FC<{ children: ReactNode }> = ({ children }) => (\n  <ErrorBoundary level=\"component\">{children}</ErrorBoundary>\n)\n\nexport const PageErrorBoundary: React.FC<{ children: ReactNode }> = ({ children }) => (\n  <ErrorBoundary level=\"page\">{children}</ErrorBoundary>\n)\n\nexport const CriticalErrorBoundary: React.FC<{ children: ReactNode }> = ({ children }) => (\n  <ErrorBoundary level=\"critical\">{children}</ErrorBoundary>\n)", "import NotesPanel from '../components/notes/NotesPanel'\nimport { PageErrorBoundary } from '../components/ErrorBoundary'\nimport { useAuthStore } from '../stores/auth-store'\n\nexport default function Notes() {\n  const { currentWorkspace } = useAuthStore()\n  \n  if (!currentWorkspace) {\n    return <div>Loading...</div>\n  }\n  \n  return (\n    <div className=\"h-screen\">\n      <PageErrorBoundary>\n        <NotesPanel workspaceId={currentWorkspace.id} />\n      </PageErrorBoundary>\n    </div>\n  )\n}", "\nimport React, { useState, useRef, useEffect } from 'react'\nimport { Card, CardContent, CardHeader } from '../ui/card'\nimport { Button } from '../ui/button'\nimport { Input } from '../ui/input'\nimport { FloatingInput } from '../ui/floating-input'\nimport { Avatar, AvatarFallback, AvatarImage } from '../ui/avatar'\nimport { Badge } from '../ui/badge'\nimport { ScrollArea } from '../ui/scroll-area'\nimport { \n  Send, \n  Paperclip, \n  Smile, \n  Hash, \n  Users, \n  Search,\n  Phone,\n  Video,\n  MoreHorizontal,\n  Pin,\n  Reply,\n  Edit,\n  Trash2,\n  Download,\n  ExternalLink\n} from 'lucide-react'\nimport { useAppStore } from '../../stores/app-store'\nimport { useWebSocket } from '../../stores/app-store'\nimport { formatDateTime } from '../../../../shared/utils'\nimport { cn } from '../../lib/utils'\nimport AttachmentUpload from '../common/AttachmentUpload'\nimport AttachmentList from '../common/AttachmentList'\n\ninterface ChatMessage {\n  id: string\n  content: string\n  type: 'text' | 'file' | 'system' | 'task_reference'\n  sender: {\n    id: string\n    name: string\n    avatar?: string\n  }\n  timestamp: string\n  attachments?: Array<{\n    id: string\n    filename: string\n    size: number\n    mimeType: string\n    downloadUrl: string\n    uploadedAt: string\n  }>\n  reactions?: Array<{\n    emoji: string\n    users: string[]\n    count: number\n  }>\n  replyTo?: string\n  editedAt?: string\n  taskReference?: {\n    id: string\n    title: string\n    status: string\n  }\n}\n\ninterface ChatChannel {\n  id: string\n  name: string\n  type: 'project' | 'team' | 'direct'\n  description?: string\n  members: number\n  isPrivate: boolean\n  projectId?: string\n}\n\ninterface ChatInterfaceProps {\n  className?: string\n}\n\nexport default function ChatInterface({ className }: ChatInterfaceProps) {\n  const [selectedChannel, setSelectedChannel] = useState<string | null>(null)\n  const [message, setMessage] = useState('')\n  const [searchTerm, setSearchTerm] = useState('')\n  const [replyingTo, setReplyingTo] = useState<string | null>(null)\n  const [showEmojiPicker, setShowEmojiPicker] = useState(false)\n  const [showAttachmentUpload, setShowAttachmentUpload] = useState(false)\n  \n  const messageInputRef = useRef<HTMLInputElement>(null)\n  const messagesEndRef = useRef<HTMLDivElement>(null)\n  const fileInputRef = useRef<HTMLInputElement>(null)\n\n  const { user } = useAppStore()\n  const { connected, sendMessage } = useWebSocket()\n\n  const channels: ChatChannel[] = [\n    {\n      id: 'general',\n      name: 'general',\n      type: 'team',\n      description: 'General team discussion',\n      members: 12,\n      isPrivate: false\n    },\n    {\n      id: 'project-alpha',\n      name: 'project-alpha',\n      type: 'project',\n      description: 'Alpha project coordination',\n      members: 5,\n      isPrivate: false,\n      projectId: 'alpha-123'\n    },\n    {\n      id: 'design-team',\n      name: 'design-team',\n      type: 'team',\n      description: 'Design team collaboration',\n      members: 4,\n      isPrivate: false\n    }\n  ]\n\n  const messages: ChatMessage[] = [\n    {\n      id: '1',\n      content: 'Hey team! Just finished the design mockups for the new dashboard',\n      type: 'text',\n      sender: { id: '1', name: 'Sarah Chen', avatar: '' },\n      timestamp: new Date(Date.now() - 30 * 60 * 1000).toISOString(),\n      reactions: [\n        { emoji: '\uD83D\uDC4D', users: ['2', '3'], count: 2 },\n        { emoji: '\uD83C\uDF89', users: ['4'], count: 1 }\n      ]\n    },\n    {\n      id: '2',\n      content: 'Awesome work! Could you share the files?',\n      type: 'text',\n      sender: { id: '2', name: 'Mike Johnson', avatar: '' },\n      timestamp: new Date(Date.now() - 25 * 60 * 1000).toISOString(),\n      replyTo: '1'\n    },\n    {\n      id: '3',\n      content: 'dashboard-mockups-v2.fig',\n      type: 'file',\n      sender: { id: '1', name: 'Sarah Chen', avatar: '' },\n      timestamp: new Date(Date.now() - 20 * 60 * 1000).toISOString(),\n      attachments: [\n        {\n          id: 'file-1',\n          name: 'dashboard-mockups-v2.fig',\n          size: 2458000,\n          type: 'application/figma',\n          url: '#'\n        }\n      ]\n    },\n    {\n      id: '4',\n      content: 'I\\'ve updated the API documentation task with the new endpoints',\n      type: 'task_reference',\n      sender: { id: '3', name: 'Emma Davis', avatar: '' },\n      timestamp: new Date(Date.now() - 10 * 60 * 1000).toISOString(),\n      taskReference: {\n        id: 'task-123',\n        title: 'Update API Documentation',\n        status: 'in_progress'\n      }\n    }\n  ]\n\n  const currentChannel = channels.find(c => c.id === selectedChannel) || channels[0]\n\n  useEffect(() => {\n    if (!selectedChannel && channels.length > 0) {\n      setSelectedChannel(channels[0].id)\n    }\n  }, [selectedChannel, channels])\n\n  useEffect(() => {\n    const scrollContainer = messagesEndRef.current?.closest('[data-radix-scroll-area-viewport]')\n    if (scrollContainer && messagesEndRef.current) {\n      scrollContainer.scrollTop = scrollContainer.scrollHeight\n    }\n  }, [messages])\n\n  const handleSendMessage = () => {\n    if (!message.trim() || !connected) return\n\n    const newMessage = {\n      content: message,\n      channelId: selectedChannel,\n      replyTo: replyingTo,\n      timestamp: new Date().toISOString()\n    }\n\n    sendMessage('chat-message', newMessage)\n    setMessage('')\n    setReplyingTo(null)\n  }\n\n  const handleFileUpload = () => {\n    setShowAttachmentUpload(!showAttachmentUpload)\n  }\n\n  const handleKeyPress = (event: React.KeyboardEvent) => {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault()\n      handleSendMessage()\n    }\n  }\n\n  const addReaction = (messageId: string, emoji: string) => {\n    // TODO: Send reaction to backend\n    console.log('Adding reaction:', messageId, emoji)\n  }\n\n  const formatFileSize = (bytes: number) => {\n    if (bytes === 0) return '0 Bytes'\n    const k = 1024\n    const sizes = ['Bytes', 'KB', 'MB', 'GB']\n    const i = Math.floor(Math.log(bytes) / Math.log(k))\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n  }\n\n  const getChannelIcon = (type: ChatChannel['type']) => {\n    switch (type) {\n      case 'project':\n        return <Hash className=\"w-4 h-4\" />\n      case 'team':\n        return <Users className=\"w-4 h-4\" />\n      case 'direct':\n        return <Avatar className=\"w-4 h-4\" />\n      default:\n        return <Hash className=\"w-4 h-4\" />\n    }\n  }\n\n  return (\n    <div className={cn('h-full flex bg-white', className)}>\n      {/* Sidebar - Channels */}\n      <div className=\"w-64 border-r border-gray-200 flex flex-col\">\n        {/* Sidebar Header */}\n        <div className=\"p-4 border-b border-gray-200\">\n          <div className=\"flex items-center justify-between\">\n            <h2 className=\"font-semibold text-gray-900\">Channels</h2>\n            <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n              <MoreHorizontal className=\"w-4 h-4\" />\n            </Button>\n          </div>\n          <div className=\"mt-3\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n              <Input\n                placeholder=\"Search channels...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"pl-10 h-8\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Channels List */}\n        <ScrollArea className=\"flex-1\">\n          <div className=\"p-2 space-y-1\">\n            {channels\n              .filter(channel => \n                channel.name.toLowerCase().includes(searchTerm.toLowerCase())\n              )\n              .map((channel) => (\n                <Button\n                  key={channel.id}\n                  variant={selectedChannel === channel.id ? 'secondary' : 'ghost'}\n                  className=\"w-full justify-start h-auto p-3\"\n                  onClick={() => setSelectedChannel(channel.id)}\n                >\n                  <div className=\"flex items-center space-x-3 w-full\">\n                    {getChannelIcon(channel.type)}\n                    <div className=\"flex-1 text-left\">\n                      <div className=\"font-medium text-sm\">#{channel.name}</div>\n                      <div className=\"text-xs text-gray-500 truncate\">\n                        {channel.members} members\n                      </div>\n                    </div>\n                    {channel.isPrivate && (\n                      <Badge variant=\"outline\" className=\"text-xs\">\n                        Private\n                      </Badge>\n                    )}\n                  </div>\n                </Button>\n              ))}\n          </div>\n        </ScrollArea>\n      </div>\n\n      {/* Main Chat Area */}\n      <div className=\"flex-1 flex flex-col\">\n        {/* Chat Header */}\n        <div className=\"p-4 border-b border-gray-200\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              {getChannelIcon(currentChannel.type)}\n              <div>\n                <h3 className=\"font-semibold text-gray-900\">#{currentChannel.name}</h3>\n                <p className=\"text-sm text-gray-500\">{currentChannel.description}</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <Badge variant=\"outline\" className=\"text-green-700 border-green-200\">\n                {connected ? 'Connected' : 'Disconnected'}\n              </Badge>\n              <Button variant=\"ghost\" size=\"sm\">\n                <Phone className=\"w-4 h-4\" />\n              </Button>\n              <Button variant=\"ghost\" size=\"sm\">\n                <Video className=\"w-4 h-4\" />\n              </Button>\n              <Button variant=\"ghost\" size=\"sm\">\n                <MoreHorizontal className=\"w-4 h-4\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {/* Messages */}\n        <ScrollArea className=\"flex-1 p-4\">\n          <div className=\"space-y-4\">\n            {messages.map((msg) => (\n              <div key={msg.id} className=\"group\">\n                {msg.replyTo && (\n                  <div className=\"ml-12 mb-1 text-xs text-gray-500 flex items-center space-x-1\">\n                    <Reply className=\"w-3 h-3\" />\n                    <span>Replying to previous message</span>\n                  </div>\n                )}\n                \n                <div className=\"flex items-start space-x-3\">\n                  <Avatar className=\"w-8 h-8\">\n                    <AvatarImage src={msg.sender.avatar} />\n                    <AvatarFallback className=\"text-xs\">\n                      {msg.sender.name.split(' ').map(n => n[0]).join('').toUpperCase()}\n                    </AvatarFallback>\n                  </Avatar>\n                  \n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center space-x-2 mb-1\">\n                      <span className=\"font-medium text-sm text-gray-900\">\n                        {msg.sender.name}\n                      </span>\n                      <span className=\"text-xs text-gray-500\">\n                        {formatDateTime(msg.timestamp)}\n                      </span>\n                      {msg.editedAt && (\n                        <Badge variant=\"outline\" className=\"text-xs\">\n                          edited\n                        </Badge>\n                      )}\n                    </div>\n\n                    {/* Message Content */}\n                    {msg.type === 'text' && (\n                      <p className=\"text-sm text-gray-900\">{msg.content}</p>\n                    )}\n\n                    {/* Show attachments for any message type */}\n                    {msg.attachments && msg.attachments.length > 0 && (\n                      <div className=\"mt-2\">\n                        <AttachmentList\n                          attachments={msg.attachments}\n                          compact={true}\n                          canDelete={false}\n                        />\n                      </div>\n                    )}\n\n                    {msg.type === 'task_reference' && msg.taskReference && (\n                      <div className=\"p-3 bg-blue-50 rounded-lg border border-blue-200\">\n                        <div className=\"flex items-center space-x-2\">\n                          <Badge variant=\"outline\" className=\"text-blue-700 border-blue-300\">\n                            Task\n                          </Badge>\n                          <span className=\"font-medium text-sm\">{msg.taskReference.title}</span>\n                          <Badge \n                            variant=\"outline\"\n                            className={cn(\n                              'text-xs',\n                              msg.taskReference.status === 'completed' && 'text-green-700 border-green-300',\n                              msg.taskReference.status === 'in_progress' && 'text-blue-700 border-blue-300',\n                              msg.taskReference.status === 'todo' && 'text-gray-700 border-gray-300'\n                            )}\n                          >\n                            {msg.taskReference.status.replace('_', ' ')}\n                          </Badge>\n                        </div>\n                        <p className=\"text-sm text-gray-600 mt-1\">{msg.content}</p>\n                      </div>\n                    )}\n\n                    {/* Reactions */}\n                    {msg.reactions && msg.reactions.length > 0 && (\n                      <div className=\"flex items-center space-x-1 mt-2\">\n                        {msg.reactions.map((reaction, index) => (\n                          <Button\n                            key={index}\n                            variant=\"outline\"\n                            size=\"sm\"\n                            className=\"h-6 px-2 text-xs\"\n                            onClick={() => addReaction(msg.id, reaction.emoji)}\n                          >\n                            {reaction.emoji} {reaction.count}\n                          </Button>\n                        ))}\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          className=\"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity\"\n                          onClick={() => setShowEmojiPicker(!showEmojiPicker)}\n                        >\n                          <Smile className=\"w-3 h-3\" />\n                        </Button>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Message Actions */}\n                  <div className=\"opacity-0 group-hover:opacity-100 transition-opacity flex items-center space-x-1\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-6 w-6 p-0\"\n                      onClick={() => setReplyingTo(msg.id)}\n                    >\n                      <Reply className=\"w-3 h-3\" />\n                    </Button>\n                    <Button variant=\"ghost\" size=\"sm\" className=\"h-6 w-6 p-0\">\n                      <Pin className=\"w-3 h-3\" />\n                    </Button>\n                    {msg.sender.id === user?.id && (\n                      <>\n                        <Button variant=\"ghost\" size=\"sm\" className=\"h-6 w-6 p-0\">\n                          <Edit className=\"w-3 h-3\" />\n                        </Button>\n                        <Button variant=\"ghost\" size=\"sm\" className=\"h-6 w-6 p-0\">\n                          <Trash2 className=\"w-3 h-3\" />\n                        </Button>\n                      </>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n            <div ref={messagesEndRef} />\n          </div>\n        </ScrollArea>\n\n        {/* Message Input */}\n        <div className=\"p-4 border-t border-gray-200\">\n          {replyingTo && (\n            <div className=\"mb-2 p-2 bg-gray-50 rounded text-sm text-gray-600 flex items-center justify-between\">\n              <span>Replying to message...</span>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"h-6 w-6 p-0\"\n                onClick={() => setReplyingTo(null)}\n              >\n                \u00D7\n              </Button>\n            </div>\n          )}\n          \n          <div className=\"flex items-center space-x-2\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={handleFileUpload}\n            >\n              <Paperclip className=\"w-4 h-4\" />\n            </Button>\n            \n            <div className=\"flex-1 relative\">\n              <FloatingInput\n                ref={messageInputRef}\n                label={`Message #${currentChannel.name}`}\n                value={message}\n                onChange={(e) => setMessage(e.target.value)}\n                onKeyPress={handleKeyPress}\n                disabled={!connected}\n              />\n            </div>\n            \n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => setShowEmojiPicker(!showEmojiPicker)}\n            >\n              <Smile className=\"w-4 h-4\" />\n            </Button>\n            \n            <Button\n              onClick={handleSendMessage}\n              disabled={!message.trim() || !connected}\n              size=\"sm\"\n            >\n              <Send className=\"w-4 h-4\" />\n            </Button>\n          </div>\n\n          {/* Attachment Upload Interface */}\n          {showAttachmentUpload && currentChannel && (\n            <div className=\"mt-4 p-4 bg-gray-50 rounded-lg border\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <h4 className=\"text-sm font-medium\">Upload Attachments</h4>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => setShowAttachmentUpload(false)}\n                  className=\"h-6 w-6 p-0\"\n                >\n                  \u00D7\n                </Button>\n              </div>\n              <AttachmentUpload\n                type=\"chat\"\n                targetId={currentChannel.id} // This would need to be a message ID in real implementation\n                onUploadComplete={(attachments) => {\n                  console.log('Chat attachments uploaded:', attachments)\n                  setShowAttachmentUpload(false)\n                  // TODO: Create message with attachments or add to existing message\n                }}\n                className=\"mt-2\"\n              />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}", "import React from 'react'\nimport { \n  File, \n  FileText, \n  FileImage, \n  FileVideo, \n  FileArchive,\n  Download,\n  Trash2,\n  Eye\n} from 'lucide-react'\nimport { Button } from '../ui/button'\nimport { Card } from '../ui/card'\nimport { Badge } from '../ui/badge'\nimport { cn } from '../../lib/utils'\nimport { trpc } from '../../lib/trpc'\nimport { toast } from 'sonner'\n\ninterface Attachment {\n  id: string\n  filename: string\n  size: number\n  mimeType: string\n  uploadedAt: string | Date\n  compressed?: boolean\n  downloadUrl: string\n  thumbnailUrl?: string | null\n}\n\ninterface AttachmentListProps {\n  attachments: Attachment[]\n  canDelete?: boolean\n  onDelete?: (attachmentId: string) => void\n  className?: string\n  compact?: boolean\n}\n\nconst getFileIcon = (mimeType: string | null | undefined) => {\n  if (!mimeType || typeof mimeType !== 'string') return File\n  if (mimeType.startsWith('image/')) return FileImage\n  if (mimeType.startsWith('video/')) return FileVideo\n  if (mimeType.includes('pdf') || mimeType.includes('document') || mimeType.includes('text')) return FileText\n  if (mimeType.includes('zip') || mimeType.includes('rar') || mimeType.includes('7z')) return FileArchive\n  return File\n}\n\nconst getFileTypeColor = (mimeType: string | null | undefined) => {\n  if (!mimeType || typeof mimeType !== 'string') return 'bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300'\n  if (mimeType.startsWith('image/')) return 'bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300'\n  if (mimeType.startsWith('video/')) return 'bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300'\n  if (mimeType.startsWith('audio/')) return 'bg-pink-100 text-pink-700 dark:bg-pink-900 dark:text-pink-300'\n  if (mimeType.includes('pdf')) return 'bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300'\n  if (mimeType.includes('document') || mimeType.includes('text')) return 'bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300'\n  if (mimeType.includes('zip') || mimeType.includes('rar')) return 'bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300'\n  return 'bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300'\n}\n\nconst formatFileSize = (bytes: number): string => {\n  if (bytes === 0) return '0 Bytes'\n  const k = 1024\n  const sizes = ['Bytes', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i]\n}\n\nconst formatDate = (date: string | Date): string => {\n  const d = new Date(date)\n  const now = new Date()\n  const diffTime = Math.abs(now.getTime() - d.getTime())\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n  \n  if (diffDays === 1) return 'Today'\n  if (diffDays === 2) return 'Yesterday'\n  if (diffDays <= 7) return `${diffDays} days ago`\n  \n  return d.toLocaleDateString()\n}\n\nexport const AttachmentList: React.FC<AttachmentListProps> = ({\n  attachments,\n  canDelete = false,\n  onDelete,\n  className,\n  compact = false\n}) => {\n  if (attachments.length === 0) {\n    return null\n  }\n\n  const handleDownload = (attachment: Attachment) => {\n    const link = document.createElement('a')\n    link.href = attachment.downloadUrl\n    link.download = attachment.filename\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n  }\n\n  const handleDelete = (attachment: Attachment) => {\n    if (onDelete) {\n      onDelete(attachment.id)\n    }\n  }\n\n  const handlePreview = (attachment: Attachment) => {\n    if (!attachment.mimeType) {\n      toast.info('Preview not available for this file type')\n      return\n    }\n    \n    if (attachment.mimeType.startsWith('image/')) {\n      window.open(attachment.downloadUrl, '_blank')\n    } else if (attachment.mimeType === 'application/pdf') {\n      window.open(attachment.downloadUrl, '_blank')\n    } else {\n      toast.info('Preview not available for this file type')\n    }\n  }\n\n  if (compact) {\n    return (\n      <div className={cn('flex flex-wrap gap-2', className)}>\n        {attachments.map((attachment) => {\n          const FileIcon = getFileIcon(attachment.mimeType)\n          const isImage = attachment.mimeType && attachment.mimeType.startsWith('image/')\n          \n          return (\n            <div\n              key={attachment.id}\n              className=\"flex items-center gap-2 px-3 py-2 bg-gray-50 dark:bg-gray-800 rounded-lg text-sm\"\n            >\n              {/* Show thumbnail for images, icon for other files */}\n              {isImage && attachment.thumbnailUrl ? (\n                <img \n                  src={attachment.thumbnailUrl}\n                  alt={attachment.filename}\n                  className=\"h-8 w-8 rounded object-cover\"\n                  onError={(e) => {\n                    e.currentTarget.style.display = 'none'\n                    e.currentTarget.parentElement?.querySelector('.fallback-icon')?.classList.remove('hidden')\n                  }}\n                />\n              ) : null}\n              <FileIcon className={cn(\"h-4 w-4 text-gray-500\", isImage && attachment.thumbnailUrl ? \"hidden fallback-icon\" : \"\")} />\n              <span className=\"font-medium truncate max-w-[150px]\">\n                {attachment.filename}\n              </span>\n              <span className=\"text-gray-500\">\n                {formatFileSize(attachment.size)}\n              </span>\n              {attachment.compressed && (\n                <Badge variant=\"secondary\" className=\"text-xs\">\n                  Compressed\n                </Badge>\n              )}\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"h-6 w-6 p-0\"\n                onClick={() => handleDownload(attachment)}\n                title=\"Download\"\n              >\n                <Download className=\"h-3 w-3\" />\n              </Button>\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n\n  return (\n    <div className={cn('space-y-3', className)}>\n      <h4 className=\"text-sm font-medium text-gray-900 dark:text-gray-100\">\n        Attachments ({attachments.length})\n      </h4>\n      \n      <div className=\"space-y-2\">\n        {attachments.map((attachment) => {\n          const FileIcon = getFileIcon(attachment.mimeType)\n          const typeColor = getFileTypeColor(attachment.mimeType)\n          \n          return (\n            <Card key={attachment.id} className=\"p-4\">\n              <div className=\"flex items-start gap-3\">\n                {/* Show thumbnail for images, icon for other files */}\n                {attachment.mimeType && attachment.mimeType.startsWith('image/') && attachment.thumbnailUrl ? (\n                  <div className=\"relative\">\n                    <img \n                      src={attachment.thumbnailUrl}\n                      alt={attachment.filename}\n                      className=\"w-16 h-16 rounded-lg object-cover\"\n                      onError={(e) => {\n                        e.currentTarget.style.display = 'none'\n                        const fallback = e.currentTarget.parentElement?.querySelector('.thumbnail-fallback')\n                        if (fallback) fallback.classList.remove('hidden')\n                      }}\n                    />\n                    <div className={cn('hidden p-2 rounded-lg w-16 h-16 flex items-center justify-center thumbnail-fallback', typeColor)}>\n                      <FileIcon className=\"h-5 w-5\" />\n                    </div>\n                  </div>\n                ) : (\n                  <div className={cn('p-2 rounded-lg', typeColor)}>\n                    <FileIcon className=\"h-5 w-5\" />\n                  </div>\n                )}\n                \n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"min-w-0 flex-1\">\n                      <p className=\"text-sm font-medium text-gray-900 dark:text-gray-100 truncate\">\n                        {attachment.filename}\n                        <span className=\"text-xs text-gray-500 font-normal ml-2\">\n                          \u2022 {formatFileSize(attachment.size)} \u2022 {formatDate(attachment.uploadedAt)}\n                          {attachment.compressed && (\n                            <>\n                              {' '}\u2022 <Badge variant=\"secondary\" className=\"text-xs inline\">Compressed</Badge>\n                            </>\n                          )}\n                        </span>\n                      </p>\n                    </div>\n                    \n                    <div className=\"flex items-center gap-1 ml-2\">\n                      {/* Preview button for images and PDFs */}\n                      {attachment.mimeType && (attachment.mimeType.startsWith('image/') || attachment.mimeType === 'application/pdf') && (\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          className=\"h-8 w-8 p-0\"\n                          onClick={() => handlePreview(attachment)}\n                          title=\"Preview\"\n                        >\n                          <Eye className=\"h-4 w-4\" />\n                        </Button>\n                      )}\n                      \n                      {/* Download button */}\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        className=\"h-8 w-8 p-0\"\n                        onClick={() => handleDownload(attachment)}\n                        title=\"Download\"\n                      >\n                        <Download className=\"h-4 w-4\" />\n                      </Button>\n                      \n                      {/* Delete button */}\n                      {canDelete && (\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          className=\"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50\"\n                          onClick={() => handleDelete(attachment)}\n                          title=\"Delete\"\n                        >\n                          <Trash2 className=\"h-4 w-4\" />\n                        </Button>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Card>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\nexport default AttachmentList", "import Layout from '../components/project/Layout'\nimport ChatInterface from '../components/chat/ChatInterface'\nimport { useAuthStore } from '../stores/auth-store'\nimport { trpc } from '../lib/trpc'\nimport { Loader2 } from 'lucide-react'\n\nexport default function Chat() {\n  const { isAuthenticated } = useAuthStore()\n  const { data: threads = [], isLoading } = trpc.chat.getThreads.useQuery()\n\n  // Redirect if not authenticated\n  if (!isAuthenticated) {\n    return null\n  }\n\n  if (isLoading) {\n    return (\n      <Layout>\n        <div className=\"flex items-center justify-center h-full\">\n          <div className=\"text-center\">\n            <Loader2 className=\"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600\" />\n            <p className=\"text-gray-600\">Loading chat...</p>\n          </div>\n        </div>\n      </Layout>\n    )\n  }\n\n  return (\n    <Layout>\n      <div className=\"h-full\">\n        <ChatInterface threads={threads} />\n      </div>\n    </Layout>\n  )\n}\n", "import { useState } from 'react'\nimport Layout from '../components/project/Layout'\nimport { useAuthStore } from '../stores/auth-store'\nimport { trpc } from '../lib/trpc'\nimport { FloatingInput } from '../components/ui/floating-input'\nimport { Plus, Search, Mail, MapPin, MoreVertical, Loader2 } from 'lucide-react'\n\nexport default function Teams() {\n  const { isAuthenticated, user } = useAuthStore()\n  const [searchTerm, setSearchTerm] = useState('')\n  const [teamFilter, setTeamFilter] = useState('all')\n  \n  const { data: teams = [], isLoading: teamsLoading } = trpc.team.getAll.useQuery()\n  const { data: workspaces = [] } = trpc.workspace.getAll.useQuery()\n  \n  // Redirect if not authenticated\n  if (!isAuthenticated) {\n    return null\n  }\n  \n  if (teamsLoading) {\n    return (\n      <Layout>\n        <div className=\"flex items-center justify-center h-full\">\n          <div className=\"text-center\">\n            <Loader2 className=\"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600\" />\n            <p className=\"text-gray-600\">Loading teams...</p>\n          </div>\n        </div>\n      </Layout>\n    )\n  }\n  \n  const allMembers = teams.flatMap(team => \n    team.members?.map(member => ({\n      ...member,\n      teamName: team.name,\n      teamId: team.id\n    })) || []\n  )\n  \n  const filteredMembers = allMembers.filter(member => {\n    const matchesSearch = member.user?.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         member.user?.email?.toLowerCase().includes(searchTerm.toLowerCase())\n    const matchesTeam = teamFilter === 'all' || member.teamId === teamFilter\n    return matchesSearch && matchesTeam\n  })\n  \n  const getTeamColor = (index: number) => {\n    const colors = ['bg-blue-500', 'bg-green-500', 'bg-purple-500', 'bg-orange-500', 'bg-pink-500', 'bg-indigo-500']\n    return colors[index % colors.length]\n  }\n  \n  const getMemberColor = (index: number) => {\n    const colors = ['bg-blue-500', 'bg-green-500', 'bg-purple-500', 'bg-orange-500', 'bg-pink-500', 'bg-indigo-500']\n    return colors[index % colors.length]\n  }\n\n  return (\n    <Layout>\n      <div className=\"h-full flex flex-col\">\n        {/* Header */}\n        <div className=\"bg-white border-b border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">Teams</h1>\n              <p className=\"text-gray-600 mt-1\">Manage your team members and collaboration</p>\n            </div>\n            <button className=\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\">\n              <Plus className=\"w-4 h-4 mr-2\" />\n              Add Member\n            </button>\n          </div>\n\n          {/* Search and Filter */}\n          <div className=\"mt-4 flex items-center space-x-4\">\n            <div className=\"relative flex-1 max-w-md\">\n              <Search className=\"w-4 h-4 absolute left-3 top-3 text-gray-400 z-20\" />\n              <FloatingInput\n                id=\"search\"\n                type=\"text\"\n                label=\"Search team members...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"pl-10\"\n              />\n            </div>\n            <select \n              value={teamFilter}\n              onChange={(e) => setTeamFilter(e.target.value)}\n              className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"all\">All Teams</option>\n              {teams.map(team => (\n                <option key={team.id} value={team.id}>{team.name}</option>\n              ))}\n            </select>\n          </div>\n        </div>\n\n        <div className=\"flex-1 p-6 overflow-auto\">\n          {/* Team Stats */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n            {teams.map((team, index) => (\n              <div key={team.id} className=\"bg-white rounded-lg border border-gray-200 p-6\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <div className={`w-12 h-12 rounded-lg ${getTeamColor(index)} flex items-center justify-center`}>\n                    <span className=\"text-white font-bold text-lg\">\n                      {team.name.split(' ').map(word => word[0]).join('')}\n                    </span>\n                  </div>\n                  <button className=\"text-gray-400 hover:text-gray-600\">\n                    <MoreVertical className=\"w-4 h-4\" />\n                  </button>\n                </div>\n                <h3 className=\"text-lg font-semibold text-gray-900\">{team.name}</h3>\n                <p className=\"text-gray-600 text-sm mb-4\">{team.description || 'No description available'}</p>\n                <div className=\"flex items-center justify-between text-sm\">\n                  <span className=\"text-gray-500\">{team.members?.length || 0} Members</span>\n                  <span className=\"text-gray-500\">{team.projects?.length || 0} Projects</span>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* Team Members */}\n          <div className=\"bg-white rounded-lg border border-gray-200\">\n            <div className=\"p-6 border-b border-gray-200\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">Team Members</h2>\n            </div>\n            <div className=\"divide-y divide-gray-200\">\n              {filteredMembers.length === 0 ? (\n                <div className=\"p-6 text-center text-gray-500\">\n                  No team members found matching your criteria.\n                </div>\n              ) : (\n                filteredMembers.map((member, index) => (\n                  <div key={`${member.teamId}-${member.user?.id}`} className=\"p-6 hover:bg-gray-50 transition-colors\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center space-x-4\">\n                        <div className={`w-12 h-12 rounded-full ${getMemberColor(index)} flex items-center justify-center relative`}>\n                          {member.user?.avatar ? (\n                            <img \n                              src={member.user.avatar} \n                              alt={member.user.name}\n                              className=\"w-full h-full rounded-full object-cover\"\n                            />\n                          ) : (\n                            <span className=\"text-white font-medium\">\n                              {member.user?.name?.split(' ').map(n => n[0]).join('').slice(0, 2) || 'U'}\n                            </span>\n                          )}\n                          <div className=\"absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white bg-green-500\" />\n                        </div>\n                        <div>\n                          <h3 className=\"font-semibold text-gray-900\">{member.user?.name || 'Unknown User'}</h3>\n                          <p className=\"text-gray-600 text-sm\">{member.role?.charAt(0).toUpperCase() + member.role?.slice(1) || 'Member'}</p>\n                          <div className=\"flex items-center space-x-4 mt-1\">\n                            <div className=\"flex items-center text-gray-500 text-sm\">\n                              <Mail className=\"w-3 h-3 mr-1\" />\n                              {member.user?.email || 'No email'}\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <span className=\"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full\">\n                          {member.teamName}\n                        </span>\n                        <button className=\"text-gray-400 hover:text-gray-600\">\n                          <MoreVertical className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                ))\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  )\n}", "import { useState } from 'react'\nimport Layout from '../components/project/Layout'\nimport { useAuthStore } from '../stores/auth-store'\nimport { trpc } from '../lib/trpc'\nimport { FloatingInput } from '../components/ui/floating-input'\nimport { Plus, Search, Calendar, Users, Activity, MoreVertical, Loader2 } from 'lucide-react'\n\nexport default function Projects() {\n  const { isAuthenticated } = useAuthStore()\n  const [searchTerm, setSearchTerm] = useState('')\n  const [statusFilter, setStatusFilter] = useState('all')\n  \n  const { data: projects = [], isLoading } = trpc.project.getAll.useQuery()\n  const { data: teams = [] } = trpc.team.getAll.useQuery()\n  \n  // Redirect if not authenticated\n  if (!isAuthenticated) {\n    return null\n  }\n  \n  if (isLoading) {\n    return (\n      <Layout>\n        <div className=\"flex items-center justify-center h-full\">\n          <div className=\"text-center\">\n            <Loader2 className=\"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600\" />\n            <p className=\"text-gray-600\">Loading projects...</p>\n          </div>\n        </div>\n      </Layout>\n    )\n  }\n  \n  const filteredProjects = projects.filter(project => {\n    const matchesSearch = project.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         project.description?.toLowerCase().includes(searchTerm.toLowerCase())\n    const matchesStatus = statusFilter === 'all' || project.status.toLowerCase() === statusFilter.toLowerCase()\n    return matchesSearch && matchesStatus\n  })\n\n  const getStatusColor = (status: string) => {\n    switch (status.toLowerCase()) {\n      case 'active':\n        return 'bg-green-100 text-green-800'\n      case 'planning':\n        return 'bg-orange-100 text-orange-800'\n      case 'completed':\n        return 'bg-gray-100 text-gray-800'\n      default:\n        return 'bg-blue-100 text-blue-800'\n    }\n  }\n  \n  const getProjectColor = (index: number) => {\n    const colors = ['bg-blue-500', 'bg-green-500', 'bg-purple-500', 'bg-orange-500', 'bg-pink-500', 'bg-indigo-500']\n    return colors[index % colors.length]\n  }\n  \n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric'\n    })\n  }\n\n  return (\n    <Layout>\n      <div className=\"h-full flex flex-col\">\n        {/* Header */}\n        <div className=\"bg-white border-b border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">Projects</h1>\n              <p className=\"text-gray-600 mt-1\">Manage and track all your projects</p>\n            </div>\n            <button className=\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\">\n              <Plus className=\"w-4 h-4 mr-2\" />\n              New Project\n            </button>\n          </div>\n\n          {/* Search and Filter */}\n          <div className=\"mt-4 flex items-center space-x-4\">\n            <div className=\"relative flex-1 max-w-md\">\n              <Search className=\"w-4 h-4 absolute left-3 top-3 text-gray-400 z-20\" />\n              <FloatingInput\n                id=\"search\"\n                type=\"text\"\n                label=\"Search projects...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"pl-10\"\n              />\n            </div>\n            <select \n              value={statusFilter}\n              onChange={(e) => setStatusFilter(e.target.value)}\n              className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"all\">All Status</option>\n              <option value=\"active\">Active</option>\n              <option value=\"planning\">Planning</option>\n              <option value=\"completed\">Completed</option>\n            </select>\n          </div>\n        </div>\n\n        <div className=\"flex-1 p-6 overflow-auto\">\n          {/* Project Stats */}\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-gray-600 text-sm\">Total Projects</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">{filteredProjects.length}</p>\n                </div>\n                <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\n                  <Activity className=\"w-6 h-6 text-blue-600\" />\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-gray-600 text-sm\">Active Projects</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">\n                    {projects.filter(p => p.status.toLowerCase() === 'active').length}\n                  </p>\n                </div>\n                <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\n                  <Activity className=\"w-6 h-6 text-green-600\" />\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-gray-600 text-sm\">Completed</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">\n                    {projects.filter(p => p.status.toLowerCase() === 'completed').length}\n                  </p>\n                </div>\n                <div className=\"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center\">\n                  <Activity className=\"w-6 h-6 text-gray-600\" />\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-gray-600 text-sm\">Team Members</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">{teams.reduce((total, team) => total + (team.members?.length || 0), 0)}</p>\n                </div>\n                <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\">\n                  <Users className=\"w-6 h-6 text-purple-600\" />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Projects Grid */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            {filteredProjects.length === 0 ? (\n              <div className=\"col-span-full text-center py-12\">\n                <p className=\"text-gray-500\">No projects found matching your criteria.</p>\n              </div>\n            ) : (\n              filteredProjects.map((project, index) => (\n              <div key={project.id} className=\"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow\">\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className=\"flex items-center space-x-3\">\n                    <div className={`w-10 h-10 rounded-lg ${getProjectColor(index)} flex items-center justify-center`}>\n                      <span className=\"text-white font-bold text-sm\">\n                        {project.name.split(' ').map(word => word[0]).join('').slice(0, 2)}\n                      </span>\n                    </div>\n                    <div>\n                      <h3 className=\"font-semibold text-gray-900\">{project.name}</h3>\n                      <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(project.status)}`}>\n                        {project.status.charAt(0).toUpperCase() + project.status.slice(1)}\n                      </span>\n                    </div>\n                  </div>\n                  <button className=\"text-gray-400 hover:text-gray-600\">\n                    <MoreVertical className=\"w-4 h-4\" />\n                  </button>\n                </div>\n\n                <p className=\"text-gray-600 text-sm mb-4\">{project.description}</p>\n\n                {/* Tasks and Team */}\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center space-x-4 text-sm text-gray-600\">\n                    <div className=\"flex items-center\">\n                      <Calendar className=\"w-4 h-4 mr-1\" />\n                      {project.endDate ? formatDate(project.endDate) : 'No due date'}\n                    </div>\n                  </div>\n                  <div className=\"flex -space-x-1\">\n                    {project.team?.members?.slice(0, 3).map((member, idx) => (\n                      <div\n                        key={idx}\n                        className=\"w-6 h-6 rounded-full bg-gray-400 border-2 border-white flex items-center justify-center\"\n                      >\n                        <span className=\"text-white text-xs font-medium\">\n                          {member.user?.name?.split(' ').map(n => n[0]).join('').slice(0, 2) || 'U'}\n                        </span>\n                      </div>\n                    )) || (\n                      <div className=\"w-6 h-6 rounded-full bg-gray-300 border-2 border-white flex items-center justify-center\">\n                        <span className=\"text-gray-600 text-xs\">No team</span>\n                      </div>\n                    )}\n                    {(project.team?.members?.length || 0) > 3 && (\n                      <div className=\"w-6 h-6 rounded-full bg-gray-300 border-2 border-white flex items-center justify-center\">\n                        <span className=\"text-gray-600 text-xs\">+{(project.team?.members?.length || 0) - 3}</span>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n              ))\n            )}\n          </div>\n        </div>\n      </div>\n    </Layout>\n  )\n}", "import Layout from '../components/project/Layout'\nimport { Edit3, Mail, MapPin, Calendar, Activity } from 'lucide-react'\n\nexport default function Profile() {\n  const userStats = [\n    { label: 'Tasks Completed', value: '147', color: 'bg-green-100 text-green-800' },\n    { label: 'Projects Active', value: '8', color: 'bg-blue-100 text-blue-800' },\n    { label: 'Team Members', value: '12', color: 'bg-purple-100 text-purple-800' },\n    { label: 'Hours Logged', value: '284', color: 'bg-orange-100 text-orange-800' }\n  ]\n\n  const recentActivity = [\n    {\n      id: 1,\n      action: 'Completed task',\n      target: 'Birthday Cake Planning',\n      time: '2 hours ago',\n      color: 'bg-green-500'\n    },\n    {\n      id: 2,\n      action: 'Added comment to',\n      target: 'New MVP Build',\n      time: '4 hours ago',\n      color: 'bg-blue-500'\n    },\n    {\n      id: 3,\n      action: 'Created new project',\n      target: 'Website Redesign',\n      time: '1 day ago',\n      color: 'bg-purple-500'\n    },\n    {\n      id: 4,\n      action: 'Assigned task to',\n      target: 'Blaine Cottrell',\n      time: '2 days ago',\n      color: 'bg-orange-500'\n    }\n  ]\n\n  return (\n    <Layout>\n      <div className=\"h-full overflow-auto\">\n        <div className=\"max-w-4xl mx-auto p-6\">\n          {/* Profile Header */}\n          <div className=\"bg-white rounded-lg border border-gray-200 p-6 mb-6\">\n            <div className=\"flex items-start justify-between\">\n              <div className=\"flex items-center space-x-6\">\n                <div className=\"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\n                  <span className=\"text-white text-2xl font-bold\">LJ</span>\n                </div>\n                <div>\n                  <h1 className=\"text-2xl font-bold text-gray-900\">Lisa Jackson</h1>\n                  <p className=\"text-gray-600 text-lg\">Team Lead & Project Manager</p>\n                  <div className=\"flex items-center space-x-4 mt-2 text-gray-500\">\n                    <div className=\"flex items-center\">\n                      <Mail className=\"w-4 h-4 mr-1\" />\n                      <span className=\"text-sm\">lisa.jackson@company.com</span>\n                    </div>\n                    <div className=\"flex items-center\">\n                      <MapPin className=\"w-4 h-4 mr-1\" />\n                      <span className=\"text-sm\">San Francisco, CA</span>\n                    </div>\n                    <div className=\"flex items-center\">\n                      <Calendar className=\"w-4 h-4 mr-1\" />\n                      <span className=\"text-sm\">Joined March 2021</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <button className=\"flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\">\n                <Edit3 className=\"w-4 h-4 mr-2\" />\n                Edit Profile\n              </button>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n            {/* Stats */}\n            <div className=\"lg:col-span-2\">\n              <div className=\"bg-white rounded-lg border border-gray-200 p-6 mb-6\">\n                <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Performance Overview</h2>\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                  {userStats.map((stat, index) => (\n                    <div key={index} className=\"text-center\">\n                      <div className={`mx-auto w-16 h-16 rounded-full ${stat.color} flex items-center justify-center mb-2`}>\n                        <span className=\"text-xl font-bold\">{stat.value}</span>\n                      </div>\n                      <p className=\"text-sm text-gray-600\">{stat.label}</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Recent Activity */}\n              <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h2 className=\"text-lg font-semibold text-gray-900\">Recent Activity</h2>\n                  <Activity className=\"w-5 h-5 text-gray-400\" />\n                </div>\n                <div className=\"space-y-4\">\n                  {recentActivity.map((activity) => (\n                    <div key={activity.id} className=\"flex items-start space-x-3\">\n                      <div className={`w-8 h-8 rounded-full ${activity.color} flex items-center justify-center`}>\n                        <div className=\"w-2 h-2 bg-white rounded-full\" />\n                      </div>\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm text-gray-900\">\n                          {activity.action} <span className=\"font-medium\">{activity.target}</span>\n                        </p>\n                        <p className=\"text-xs text-gray-500\">{activity.time}</p>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            {/* Sidebar */}\n            <div className=\"space-y-6\">\n              {/* Skills */}\n              <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Skills</h3>\n                <div className=\"space-y-3\">\n                  {[\n                    { name: 'Project Management', level: 95 },\n                    { name: 'Team Leadership', level: 90 },\n                    { name: 'Strategic Planning', level: 85 },\n                    { name: 'Communication', level: 92 }\n                  ].map((skill, index) => (\n                    <div key={index}>\n                      <div className=\"flex items-center justify-between mb-1\">\n                        <span className=\"text-sm font-medium text-gray-700\">{skill.name}</span>\n                        <span className=\"text-sm text-gray-500\">{skill.level}%</span>\n                      </div>\n                      <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                        <div\n                          className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                          style={{ width: `${skill.level}%` }}\n                        />\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Current Projects */}\n              <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Current Projects</h3>\n                <div className=\"space-y-3\">\n                  {[\n                    { name: 'Birthday Event Planning', progress: 75, color: 'bg-blue-500' },\n                    { name: 'New MVP Development', progress: 45, color: 'bg-green-500' },\n                    { name: 'Website Redesign', progress: 20, color: 'bg-purple-500' }\n                  ].map((project, index) => (\n                    <div key={index} className=\"flex items-center space-x-3\">\n                      <div className={`w-3 h-3 rounded-full ${project.color}`} />\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm font-medium text-gray-900\">{project.name}</p>\n                        <div className=\"w-full bg-gray-200 rounded-full h-1 mt-1\">\n                          <div\n                            className={`h-1 rounded-full ${project.color}`}\n                            style={{ width: `${project.progress}%` }}\n                          />\n                        </div>\n                      </div>\n                      <span className=\"text-xs text-gray-500\">{project.progress}%</span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  )\n}", "import Layout from '../components/project/Layout'\nimport { Bell, Shield, Palette, Globe, User, Moon, Sun, Download, Trash2, Eye, EyeOff } from 'lucide-react'\nimport { FloatingInput } from '../components/ui/floating-input'\nimport { trpc } from '../lib/trpc'\nimport { useState, useEffect } from 'react'\nimport { toast } from 'sonner'\n\n/**\n * Settings page component for application and user preferences\n * Provides configuration options for profile, notifications, appearance, security, and regional settings\n * Connected to tRPC backend for real-time updates\n */\nexport default function Settings() {\n  const [currentUser, setCurrentUser] = useState<any>(null)\n  const [preferences, setPreferences] = useState<any>(null)\n  const [activeSessions, setActiveSessions] = useState<any[]>([])\n  \n  const [profileForm, setProfileForm] = useState({\n    name: '',\n    avatar: '',\n    timezone: '',\n    dateFormat: '',\n    language: ''\n  })\n  \n  const [passwordForm, setPasswordForm] = useState({\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  })\n  const [showPasswords, setShowPasswords] = useState(false)\n  \n  const [showProfileModal, setShowProfileModal] = useState(false)\n  const [showPasswordModal, setShowPasswordModal] = useState(false)\n  const [showSessionsModal, setShowSessionsModal] = useState(false)\n  \n  const userQuery = trpc.user.me.useQuery()\n  const preferencesQuery = trpc.user.getPreferences.useQuery()\n  const sessionsQuery = trpc.user.getActiveSessions.useQuery()\n  \n  const updateProfileMutation = trpc.user.updateProfile.useMutation()\n  const updatePasswordMutation = trpc.user.updatePassword.useMutation()\n  const updatePreferencesMutation = trpc.user.updatePreferences.useMutation()\n  const exportDataMutation = trpc.user.exportData.useMutation()\n  const revokeSessionMutation = trpc.user.revokeSession.useMutation()\n  \n  useEffect(() => {\n    if (userQuery.data) {\n      setCurrentUser(userQuery.data)\n      setProfileForm({\n        name: userQuery.data.name || '',\n        avatar: userQuery.data.avatar || '',\n        timezone: userQuery.data.timezone || 'UTC',\n        dateFormat: userQuery.data.dateFormat || 'MM/DD/YYYY',\n        language: userQuery.data.language || 'en'\n      })\n    }\n  }, [userQuery.data])\n  \n  useEffect(() => {\n    if (preferencesQuery.data) {\n      setPreferences(preferencesQuery.data)\n    }\n  }, [preferencesQuery.data])\n  \n  useEffect(() => {\n    if (sessionsQuery.data) {\n      setActiveSessions(sessionsQuery.data)\n    }\n  }, [sessionsQuery.data])\n  \n  const handleProfileUpdate = async (e: React.FormEvent) => {\n    e.preventDefault()\n    try {\n      await updateProfileMutation.mutateAsync(profileForm)\n      toast.success('Profile updated successfully')\n      userQuery.refetch()\n    } catch (error) {\n      toast.error('Failed to update profile')\n    }\n  }\n  \n  const handlePasswordUpdate = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (passwordForm.newPassword !== passwordForm.confirmPassword) {\n      toast.error('New passwords do not match')\n      return\n    }\n    try {\n      await updatePasswordMutation.mutateAsync({\n        currentPassword: passwordForm.currentPassword,\n        newPassword: passwordForm.newPassword\n      })\n      toast.success('Password updated successfully')\n      setPasswordForm({ currentPassword: '', newPassword: '', confirmPassword: '' })\n    } catch (error: any) {\n      toast.error(error.message || 'Failed to update password')\n    }\n  }\n  \n  const handlePreferenceChange = async (key: string, value: any) => {\n    try {\n      await updatePreferencesMutation.mutateAsync({ [key]: value })\n      setPreferences({ ...preferences, [key]: value })\n      toast.success('Preference updated')\n    } catch (error) {\n      toast.error('Failed to update preference')\n    }\n  }\n  \n  const handleExportData = async () => {\n    try {\n      const result = await exportDataMutation.mutateAsync()\n      const dataStr = JSON.stringify(result.data, null, 2)\n      const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr)\n      const exportFileDefaultName = `krushr-data-${new Date().toISOString().split('T')[0]}.json`\n      \n      const linkElement = document.createElement('a')\n      linkElement.setAttribute('href', dataUri)\n      linkElement.setAttribute('download', exportFileDefaultName)\n      document.body.appendChild(linkElement)\n      linkElement.click()\n      document.body.removeChild(linkElement)\n      \n      toast.success('Data exported successfully')\n    } catch (error) {\n      toast.error('Failed to export data')\n    }\n  }\n  \n  const handleRevokeSession = async (sessionId: string) => {\n    try {\n      await revokeSessionMutation.mutateAsync({ sessionId })\n      toast.success('Session revoked')\n      sessionsQuery.refetch()\n    } catch (error) {\n      toast.error('Failed to revoke session')\n    }\n  }\n  \n  if (userQuery.isLoading || preferencesQuery.isLoading) {\n    return (\n      <Layout>\n        <div className=\"h-full flex items-center justify-center\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-krushr-coral-red mx-auto mb-4\"></div>\n            <p className=\"text-gray-600\">Loading settings...</p>\n          </div>\n        </div>\n      </Layout>\n    )\n  }\n  \n  const settingsGroups = [\n    {\n      title: 'Profile Settings',\n      icon: User,\n      settings: [\n        { name: 'Personal Information', description: 'Update your profile details', type: 'link', action: () => setShowProfileModal(true) },\n        { name: 'Change Password', description: 'Update your account password', type: 'link', action: () => setShowPasswordModal(true) },\n        { name: 'Active Sessions', description: 'Manage your active sessions', type: 'link', action: () => setShowSessionsModal(true) }\n      ]\n    },\n    {\n      title: 'Notifications',\n      icon: Bell,\n      settings: [\n        { \n          name: 'Desktop Notifications', \n          description: 'Get notified on your desktop', \n          type: 'toggle', \n          enabled: preferences?.desktopNotifications ?? true,\n          onChange: (value: boolean) => handlePreferenceChange('desktopNotifications', value)\n        },\n        { \n          name: 'Email Notifications', \n          description: 'Receive notifications via email', \n          type: 'toggle', \n          enabled: preferences?.emailNotifications ?? true,\n          onChange: (value: boolean) => handlePreferenceChange('emailNotifications', value)\n        },\n        { \n          name: 'Task Assignments', \n          description: 'Notify me about task assignments', \n          type: 'toggle', \n          enabled: preferences?.notifyTaskAssignments ?? true,\n          onChange: (value: boolean) => handlePreferenceChange('notifyTaskAssignments', value)\n        },\n        { \n          name: 'Comments & Mentions', \n          description: 'Notify me about comments and mentions', \n          type: 'toggle', \n          enabled: preferences?.notifyCommentsMentions ?? true,\n          onChange: (value: boolean) => handlePreferenceChange('notifyCommentsMentions', value)\n        },\n        { \n          name: 'Team Invitations', \n          description: 'Notify me about team invitations', \n          type: 'toggle', \n          enabled: preferences?.notifyTeamInvitations ?? true,\n          onChange: (value: boolean) => handlePreferenceChange('notifyTeamInvitations', value)\n        },\n        { \n          name: 'Project Deadlines', \n          description: 'Notify me about project deadlines', \n          type: 'toggle', \n          enabled: preferences?.notifyProjectDeadlines ?? true,\n          onChange: (value: boolean) => handlePreferenceChange('notifyProjectDeadlines', value)\n        },\n        { \n          name: 'File Uploads', \n          description: 'Notify me about file uploads', \n          type: 'toggle', \n          enabled: preferences?.notifyFileUploads ?? false,\n          onChange: (value: boolean) => handlePreferenceChange('notifyFileUploads', value)\n        }\n      ]\n    },\n    {\n      title: 'Appearance',\n      icon: Palette,\n      settings: [\n        { \n          name: 'Theme', \n          description: 'Choose your preferred theme', \n          type: 'select', \n          options: ['light', 'dark', 'system'],\n          value: preferences?.theme ?? 'system',\n          onChange: (value: string) => handlePreferenceChange('theme', value)\n        },\n        { \n          name: 'Color Scheme', \n          description: 'Customize your color preferences', \n          type: 'select', \n          options: ['blue', 'green', 'purple', 'orange'],\n          value: preferences?.colorScheme ?? 'blue',\n          onChange: (value: string) => handlePreferenceChange('colorScheme', value)\n        },\n        { \n          name: 'Compact Mode', \n          description: 'Use a more compact interface', \n          type: 'toggle', \n          enabled: preferences?.compactMode ?? false,\n          onChange: (value: boolean) => handlePreferenceChange('compactMode', value)\n        }\n      ]\n    },\n    {\n      title: 'Security',\n      icon: Shield,\n      settings: [\n        { name: 'Two-Factor Authentication', description: 'Add an extra layer of security (Coming Soon)', type: 'toggle', enabled: false, disabled: true },\n        { name: 'Session Management', description: 'Manage your active sessions', type: 'link', action: () => setShowSessionsModal(true) },\n        { name: 'Change Password', description: 'Update your account password', type: 'link', action: () => setShowPasswordModal(true) }\n      ]\n    },\n    {\n      title: 'Language & Region',\n      icon: Globe,\n      settings: [\n        { \n          name: 'Language', \n          description: 'Choose your preferred language', \n          type: 'select', \n          options: ['en', 'es', 'fr', 'de'],\n          optionLabels: ['English', 'Spanish', 'French', 'German'],\n          value: currentUser?.language ?? 'en',\n          onChange: (value: string) => setProfileForm({...profileForm, language: value})\n        },\n        { \n          name: 'Timezone', \n          description: 'Set your local timezone', \n          type: 'select', \n          options: ['UTC-8', 'UTC-5', 'UTC+0', 'UTC+1'],\n          optionLabels: ['UTC-8 (PST)', 'UTC-5 (EST)', 'UTC+0 (GMT)', 'UTC+1 (CET)'],\n          value: currentUser?.timezone ?? 'UTC',\n          onChange: (value: string) => setProfileForm({...profileForm, timezone: value})\n        },\n        { \n          name: 'Date Format', \n          description: 'Choose how dates are displayed', \n          type: 'select', \n          options: ['MM/DD/YYYY', 'DD/MM/YYYY', 'YYYY-MM-DD'],\n          value: currentUser?.dateFormat ?? 'MM/DD/YYYY',\n          onChange: (value: string) => setProfileForm({...profileForm, dateFormat: value})\n        }\n      ]\n    }\n  ]\n\n  return (\n    <Layout>\n      <div className=\"h-full overflow-auto\">\n        <div className=\"max-w-4xl mx-auto p-6\">\n          {/* Header */}\n          <div className=\"mb-8\">\n            <h1 className=\"text-2xl font-bold text-gray-900\">Settings</h1>\n            <p className=\"text-gray-600 mt-1\">Manage your account settings and preferences</p>\n          </div>\n\n          {/* Settings Groups */}\n          <div className=\"space-y-8\">\n            {settingsGroups.map((group, groupIndex) => (\n              <div key={groupIndex} className=\"bg-white rounded-lg border border-gray-200\">\n                {/* Group Header */}\n                <div className=\"p-6 border-b border-gray-200\">\n                  <div className=\"flex items-center space-x-3\">\n                    <div className=\"w-10 h-10 bg-red-50 rounded-lg flex items-center justify-center\">\n                      <group.icon className=\"w-5 h-5 text-krushr-coral-red\" />\n                    </div>\n                    <h2 className=\"text-lg font-semibold text-gray-900\">{group.title}</h2>\n                  </div>\n                </div>\n\n                {/* Settings List */}\n                <div className=\"divide-y divide-gray-200\">\n                  {group.settings.map((setting, settingIndex) => (\n                    <div key={settingIndex} className=\"p-6 flex items-center justify-between\">\n                      <div className=\"flex-1\">\n                        <h3 className=\"font-medium text-gray-900\">{setting.name}</h3>\n                        <p className=\"text-sm text-gray-600 mt-1\">{setting.description}</p>\n                      </div>\n                      <div className=\"ml-6\">\n                        {setting.type === 'toggle' && (\n                          <button\n                            disabled={(setting as any).disabled}\n                            onClick={() => (setting as any).onChange && (setting as any).onChange(!(setting as any).enabled)}\n                            className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n                              (setting as any).enabled ? 'bg-krushr-coral-red' : 'bg-gray-200'\n                            } ${(setting as any).disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}`}\n                          >\n                            <span\n                              className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                                (setting as any).enabled ? 'translate-x-6' : 'translate-x-1'\n                              }`}\n                            />\n                          </button>\n                        )}\n                        {setting.type === 'select' && (setting as any).options && (\n                          <select \n                            value={(setting as any).value || (setting as any).options[0]}\n                            onChange={(e) => (setting as any).onChange && (setting as any).onChange(e.target.value)}\n                            className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-krushr-coral-red focus:border-krushr-coral-red\"\n                          >\n                            {(setting as any).options.map((option: string, optionIndex: number) => (\n                              <option key={optionIndex} value={option}>\n                                {(setting as any).optionLabels ? (setting as any).optionLabels[optionIndex] : option.charAt(0).toUpperCase() + option.slice(1)}\n                              </option>\n                            ))}\n                          </select>\n                        )}\n                        {setting.type === 'link' && (\n                          <button \n                            onClick={() => (setting as any).action && (setting as any).action()}\n                            className=\"text-krushr-coral-red hover:text-krushr-coral-red/80 font-medium\"\n                          >\n                            Configure\n                          </button>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* Danger Zone */}\n          <div className=\"mt-8 bg-white rounded-lg border border-red-200\">\n            <div className=\"p-6 border-b border-red-200\">\n              <h2 className=\"text-lg font-semibold text-red-900\">Danger Zone</h2>\n              <p className=\"text-sm text-red-600 mt-1\">These actions are irreversible</p>\n            </div>\n            <div className=\"p-6 space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h3 className=\"font-medium text-gray-900\">Export Data</h3>\n                  <p className=\"text-sm text-gray-600\">Download a copy of all your data</p>\n                </div>\n                <button \n                  onClick={handleExportData}\n                  disabled={exportDataMutation.isLoading}\n                  className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 flex items-center space-x-2\"\n                >\n                  <Download className=\"w-4 h-4\" />\n                  <span>{exportDataMutation.isLoading ? 'Exporting...' : 'Export'}</span>\n                </button>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h3 className=\"font-medium text-gray-900\">Delete Account</h3>\n                  <p className=\"text-sm text-gray-600\">Permanently delete your account and all data</p>\n                </div>\n                <button className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\">\n                  Delete Account\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        {/* Profile Modal */}\n        {showProfileModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg max-w-md w-full p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">Update Profile</h3>\n              <form onSubmit={handleProfileUpdate} className=\"space-y-4\">\n                <div>\n                  <FloatingInput\n                    type=\"text\"\n                    value={profileForm.name}\n                    onChange={(e) => setProfileForm({...profileForm, name: e.target.value})}\n                    label=\"Name\"\n                    required\n                  />\n                </div>\n                <div>\n                  <FloatingInput\n                    type=\"url\"\n                    value={profileForm.avatar}\n                    onChange={(e) => setProfileForm({...profileForm, avatar: e.target.value})}\n                    label=\"Avatar URL (Optional)\"\n                  />\n                </div>\n                <div className=\"flex space-x-3 pt-4\">\n                  <button\n                    type=\"submit\"\n                    disabled={updateProfileMutation.isLoading}\n                    className=\"flex-1 bg-krushr-coral-red text-white py-2 px-4 rounded-lg hover:bg-krushr-coral-red/90 disabled:opacity-50\"\n                  >\n                    {updateProfileMutation.isLoading ? 'Saving...' : 'Save Changes'}\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowProfileModal(false)}\n                    className=\"flex-1 bg-gray-200 text-gray-900 py-2 px-4 rounded-lg hover:bg-gray-300\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n        \n        {/* Password Modal */}\n        {showPasswordModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg max-w-md w-full p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">Change Password</h3>\n              <form onSubmit={handlePasswordUpdate} className=\"space-y-4\">\n                <div>\n                  <div className=\"relative\">\n                    <FloatingInput\n                      type={showPasswords ? 'text' : 'password'}\n                      value={passwordForm.currentPassword}\n                      onChange={(e) => setPasswordForm({...passwordForm, currentPassword: e.target.value})}\n                      label=\"Current Password\"\n                      className=\"pr-10\"\n                      required\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowPasswords(!showPasswords)}\n                      className=\"absolute inset-y-0 right-0 pr-3 flex items-center z-20\"\n                    >\n                      {showPasswords ? <EyeOff className=\"h-4 w-4 text-gray-400\" /> : <Eye className=\"h-4 w-4 text-gray-400\" />}\n                    </button>\n                  </div>\n                </div>\n                <div>\n                  <FloatingInput\n                    type={showPasswords ? 'text' : 'password'}\n                    value={passwordForm.newPassword}\n                    onChange={(e) => setPasswordForm({...passwordForm, newPassword: e.target.value})}\n                    label=\"New Password\"\n                    minLength={6}\n                    required\n                  />\n                </div>\n                <div>\n                  <FloatingInput\n                    type={showPasswords ? 'text' : 'password'}\n                    value={passwordForm.confirmPassword}\n                    onChange={(e) => setPasswordForm({...passwordForm, confirmPassword: e.target.value})}\n                    label=\"Confirm New Password\"\n                    minLength={6}\n                    required\n                  />\n                </div>\n                <div className=\"flex space-x-3 pt-4\">\n                  <button\n                    type=\"submit\"\n                    disabled={updatePasswordMutation.isLoading}\n                    className=\"flex-1 bg-krushr-coral-red text-white py-2 px-4 rounded-lg hover:bg-krushr-coral-red/90 disabled:opacity-50\"\n                  >\n                    {updatePasswordMutation.isLoading ? 'Updating...' : 'Update Password'}\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setShowPasswordModal(false)\n                      setPasswordForm({ currentPassword: '', newPassword: '', confirmPassword: '' })\n                    }}\n                    className=\"flex-1 bg-gray-200 text-gray-900 py-2 px-4 rounded-lg hover:bg-gray-300\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n        \n        {/* Sessions Modal */}\n        {showSessionsModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg max-w-2xl w-full p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">Active Sessions</h3>\n              <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n                {activeSessions.map((session) => (\n                  <div key={session.id} className=\"flex items-center justify-between p-4 border border-gray-200 rounded-lg\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-2\">\n                        <p className=\"font-medium\">\n                          {session.isCurrent ? 'Current Session' : 'Session'}\n                        </p>\n                        {session.isCurrent && (\n                          <span className=\"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full\">\n                            Current\n                          </span>\n                        )}\n                      </div>\n                      <p className=\"text-sm text-gray-600\">Created: {new Date(session.createdAt).toLocaleString()}</p>\n                      <p className=\"text-sm text-gray-600\">Expires: {new Date(session.expiresAt).toLocaleString()}</p>\n                    </div>\n                    {!session.isCurrent && (\n                      <button\n                        onClick={() => handleRevokeSession(session.id)}\n                        className=\"px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm font-medium\"\n                      >\n                        Revoke\n                      </button>\n                    )}\n                  </div>\n                ))}\n                {activeSessions.length === 0 && (\n                  <p className=\"text-center text-gray-500 py-8\">No active sessions found</p>\n                )}\n              </div>\n              <div className=\"flex justify-end pt-4\">\n                <button\n                  onClick={() => setShowSessionsModal(false)}\n                  className=\"bg-gray-200 text-gray-900 py-2 px-4 rounded-lg hover:bg-gray-300\"\n                >\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </Layout>\n  )\n}", "import React from 'react';\nimport { Check, ArrowRight, Shield, Calendar, Zap } from 'lucide-react';\n\nconst Pricing: React.FC = () => {\n  const plans = [\n    {\n      name: 'Free',\n      description: 'Ideal for individuals, or a quick test drive',\n      price: '$0',\n      period: 'mo',\n      features: [\n        'Unlimited customizable panels',\n        'Basic ChatGPT integration',\n        'Google & Outlook calendars',\n        'Up to 3 workspaces',\n        'Basic task management'\n      ],\n      buttonText: 'Start Free',\n      buttonClass: 'bg-gray-100 text-gray-900 hover:bg-gray-200',\n      popular: false\n    },\n    {\n      name: 'Lite',\n      description: 'Put your full productivity stack on one page',\n      price: '$39',\n      originalPrice: '$49',\n      period: 'mo',\n      savings: 'Save $10/mo',\n      features: [\n        '250 Automations/month',\n        '1 Connected email & calendar account',\n        'Unlimited panels',\n        'Customizable layout',\n        'Unlimited contacts',\n        'Unlimited teams'\n      ],\n      buttonText: 'Start Now',\n      buttonClass: 'bg-figma-secondary text-white hover:bg-red-600',\n      popular: false\n    },\n    {\n      name: 'Full Suite',\n      description: \"Everything + your tailored o1 model, OpenAI's most advanced model\",\n      price: '$49',\n      originalPrice: '$99',\n      period: 'mo',\n      savings: 'Save $50/mo',\n      features: [\n        'ChatGPT o1 precise user style model',\n        '750 Automations/month',\n        '2 Connected email & calendar accounts',\n        'Unlimited panels',\n        'Customizable layout',\n        'Unlimited contacts',\n        'Unlimited teams',\n        '40% beta discount (through 2025)'\n      ],\n      buttonText: 'Start Now',\n      buttonClass: 'bg-figma-primary text-white hover:bg-blue-800',\n      popular: true\n    }\n  ];\n\n  const valueProps = [\n    {\n      icon: Zap,\n      title: 'Latest AI Technology',\n      description: \"Powered by OpenAI's most advanced o1 model, delivering human-like reasoning for your workflows.\"\n    },\n    {\n      icon: Shield,\n      title: 'Enterprise Security',\n      description: 'Bank-level encryption, SOC 2 compliance, and complete data privacy. Your information stays yours.'\n    },\n    {\n      icon: Calendar,\n      title: 'Massive Time Savings',\n      description: 'Save 15+ hours per week by consolidating all your work tools into one intelligent workspace.'\n    }\n  ];\n\n  const faqs = [\n    {\n      question: 'Can I upgrade or downgrade anytime?',\n      answer: 'Yes! You can change your plan at any time. Upgrades take effect immediately, and downgrades take effect at your next billing cycle.'\n    },\n    {\n      question: \"What's included in the free trial?\",\n      answer: 'The Free plan is completely free forever. The Full Suite plan includes a 14-day free trial with full access to all premium features.'\n    },\n    {\n      question: 'How does the early bird pricing work?',\n      answer: 'The Full Suite includes a special beta discount. This pricing is designed to provide maximum value as we continue to enhance our AI capabilities.'\n    },\n    {\n      question: 'Do you offer refunds?',\n      answer: \"Yes, we offer a 30-day money-back guarantee. If you're not satisfied, contact our support team for a full refund.\"\n    }\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-white font-manrope\">\n      {/* Hero Section */}\n      <div className=\"bg-figma-gray-bg-light py-20 px-4\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"text-center mb-16\">\n            <p className=\"text-figma-primary font-medium mb-4\">2025 Pricing</p>\n            <h1 className=\"text-5xl font-bold text-figma-black mb-6\">\n              Choose Your AI Productivity Plan\n            </h1>\n            <div className=\"max-w-3xl mx-auto\">\n              <p className=\"text-lg text-figma-gray mb-0\">\n                Start free and upgrade when you're ready to unlock the full power of AI-driven productivity. \n                No hidden fees, cancel anytime.\n              </p>\n            </div>\n          </div>\n\n          {/* Pricing Cards */}\n          <div className=\"max-w-6xl mx-auto\">\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n              {plans.map((plan, index) => (\n                <div\n                  key={index}\n                  className={`relative bg-white rounded-2xl shadow-lg p-8 ${\n                    plan.popular ? 'ring-2 ring-figma-primary transform scale-105' : ''\n                  }`}\n                >\n                  {plan.popular && (\n                    <div className=\"absolute -top-3 left-1/2 transform -translate-x-1/2\">\n                      <span className=\"bg-figma-primary text-white px-4 py-1 rounded-full text-sm font-medium\">\n                        Most Popular\n                      </span>\n                    </div>\n                  )}\n                  \n                  <div className=\"mb-6\">\n                    <h3 className=\"text-2xl font-bold text-figma-black mb-2\">{plan.name}</h3>\n                    <p className=\"text-figma-gray\">{plan.description}</p>\n                  </div>\n\n                  <div className=\"border-t border-figma-gray-border pt-6 mb-6\">\n                    <div className=\"flex flex-col mb-6\">\n                      {plan.features.map((feature, featureIndex) => (\n                        <div key={featureIndex} className=\"flex items-start mb-3\">\n                          <Check className=\"w-5 h-5 text-figma-success mr-3 mt-0.5 flex-shrink-0\" />\n                          <span className=\"text-figma-gray-dark font-medium\">{feature}</span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n\n                  <div className=\"mb-6\">\n                    <div className=\"flex items-baseline\">\n                      <span className=\"text-4xl font-bold text-figma-black\">{plan.price}</span>\n                      <span className=\"text-figma-gray ml-1\">/{plan.period}</span>\n                      {plan.originalPrice && (\n                        <span className=\"text-figma-gray ml-2 line-through text-lg\">\n                          {plan.originalPrice}/mo\n                        </span>\n                      )}\n                    </div>\n                    {plan.savings && (\n                      <p className=\"text-figma-success font-semibold mt-1\">{plan.savings}</p>\n                    )}\n                  </div>\n\n                  <button\n                    className={`w-full py-3 px-6 rounded-lg font-semibold transition-colors flex items-center justify-center ${plan.buttonClass}`}\n                    onClick={() => window.open('https://task.krushr.io/auth/register', '_blank')}\n                  >\n                    {plan.buttonText}\n                    <ArrowRight className=\"w-4 h-4 ml-2\" />\n                  </button>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Value Proposition Section */}\n      <div className=\"py-20 px-4\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"text-center mb-16\">\n            <h2 className=\"text-4xl font-bold text-figma-black mb-8\">Why Choose Krushr in 2025?</h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n              {valueProps.map((prop, index) => (\n                <div key={index} className=\"bg-white rounded-xl shadow-lg p-8\">\n                  <prop.icon className=\"w-12 h-12 text-figma-primary mb-6\" />\n                  <h3 className=\"text-xl font-bold text-figma-black mb-4\">{prop.title}</h3>\n                  <p className=\"text-figma-gray\">{prop.description}</p>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* FAQ Section */}\n      <div className=\"bg-figma-gray-bg-light py-20 px-4\">\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"text-center mb-16\">\n            <h2 className=\"text-4xl font-bold text-figma-black\">Frequently Asked Questions</h2>\n          </div>\n          \n          <div className=\"space-y-6\">\n            {faqs.map((faq, index) => (\n              <div key={index} className=\"bg-white rounded-xl shadow-lg p-8\">\n                <h3 className=\"text-xl font-bold text-figma-black mb-3\">{faq.question}</h3>\n                <p className=\"text-figma-gray\">{faq.answer}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* CTA Section */}\n      <div className=\"py-20 px-4\">\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"text-center\">\n            <div \n              className=\"bg-gradient-to-br from-figma-primary to-figma-purple rounded-2xl p-16 text-white\"\n            >\n              <h2 className=\"text-4xl font-bold mb-6\">Ready to 10x Your Productivity?</h2>\n              <p className=\"text-xl mb-8 opacity-90\">\n                Join thousands of professionals who've already transformed their workflow with Krushr's AI-powered platform.\n              </p>\n              <button\n                className=\"bg-white text-figma-primary px-8 py-4 rounded-lg font-semibold text-lg hover:bg-gray-100 transition-colors inline-flex items-center\"\n                onClick={() => window.open('https://task.krushr.io/auth/register', '_blank')}\n              >\n                Start Free Today\n                <ArrowRight className=\"w-5 h-5 ml-2\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Pricing;", "import React, { useMemo, useCallback, useEffect, useState } from 'react'\nimport GridLayout, { Responsive, WidthProvider, Layout } from 'react-grid-layout'\nimport 'react-grid-layout/css/styles.css'\nimport 'react-resizable/css/styles.css'\nimport { trpc } from '../../lib/trpc'\nimport PanelRenderer from './PanelRenderer'\nimport { cn, debounce } from '../../lib/utils'\nimport { useLayoutPersistence } from '../../hooks/use-layout-persistence'\n\nconst ResponsiveGridLayout = WidthProvider(Responsive)\nconst FixedGridLayout = WidthProvider(GridLayout)\n\ninterface PanelWorkspaceProps {\n  workspaceId: string\n  className?: string\n}\n\ninterface Panel {\n  id: string\n  type: string\n  title: string\n  position_x: number\n  position_y: number\n  width: number\n  height: number\n  is_minimized: boolean\n  is_locked: boolean\n  data?: any\n}\n\nexport default function PanelWorkspace({ workspaceId, className }: PanelWorkspaceProps) {\n  const [focusedPanelId, setFocusedPanelId] = useState<string | null>(null)\n\n  const { data: allPanels = [], refetch } = trpc.panel.list.useQuery(\n    { workspaceId },\n    { \n      staleTime: 0,\n      gcTime: 60000,\n      refetchOnWindowFocus: false,\n      refetchOnMount: 'always',\n    }\n  )\n\n  // Track hidden panels\n  const [hiddenPanelIds, setHiddenPanelIds] = useState<Set<string>>(new Set())\n\n  // Visible panels for layout\n  const panels = useMemo(() =>\n    allPanels.filter(panel => !hiddenPanelIds.has(panel.id)) as any[],\n    [allPanels, hiddenPanelIds]\n  )\n\n  const [containerWidth, setContainerWidth] = useState(() => {\n    if (typeof window !== 'undefined') {\n      return window.innerWidth // Use full width\n    }\n    return 1600\n  })\n  \n  useEffect(() => {\n    const updateWidth = () => {\n      const container = document.querySelector('.panel-workspace-container')\n      if (container) {\n        const width = container.clientWidth || window.innerWidth\n        setContainerWidth(width)\n      }\n    }\n    \n    updateWidth()\n    window.addEventListener('resize', updateWidth)\n    return () => window.removeEventListener('resize', updateWidth)\n  }, [])\n\n  const {\n    onLayoutChange: onLayoutPersistenceChange,\n    performAutoSave,\n    isAutoSaving\n  } = useLayoutPersistence({\n    workspaceId,\n    panels,\n    autoSaveInterval: 30000, // Auto-save every 30 seconds\n    enabled: false // Temporarily disable to prevent conflicts with real-time updates\n  })\n  \n  const fullscreenPanel = panels.find(panel => {\n    try {\n      const panelData = typeof panel.data === 'string' ? JSON.parse(panel.data) : panel.data\n      return panelData?.isFullscreen === true\n    } catch {\n      return false\n    }\n  })\n  const updatePositions = trpc.panel.updatePositions.useMutation({\n    onSuccess: () => {\n    }\n  })\n\n  const toggleFullscreen = trpc.panel.toggleFullscreen.useMutation({\n    onSuccess: () => {\n      refetch()\n    }\n  })\n\n  const toggleMinimize = trpc.panel.toggleMinimize.useMutation({\n    onSuccess: () => {\n      refetch()\n    }\n  })\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement) {\n        return\n      }\n\n      if (e.key === 'Escape' && fullscreenPanel) {\n        e.preventDefault()\n        toggleFullscreen.mutate({ id: fullscreenPanel.id })\n      }\n\n      if ((e.metaKey || e.ctrlKey) && e.key === 'm' && focusedPanelId) {\n        e.preventDefault()\n        toggleMinimize.mutate({ id: focusedPanelId })\n      }\n\n      if ((e.metaKey || e.ctrlKey) && e.key === 'f' && focusedPanelId) {\n        e.preventDefault()\n        toggleFullscreen.mutate({ id: focusedPanelId })\n      }\n    }\n\n    window.addEventListener('keydown', handleKeyDown)\n    return () => window.removeEventListener('keydown', handleKeyDown)\n  }, [fullscreenPanel, focusedPanelId, panels])\n\n  const handleFullscreen = useCallback((panelId: string, isFullscreen: boolean) => {\n    refetch()\n  }, [refetch])\n\n  const handleFocus = useCallback((panelId: string) => {\n    setFocusedPanelId(panelId)\n  }, [])\n\n  const debouncedUpdatePositions = useMemo(() => \n    debounce((updates: any[]) => {\n      if (updates.length > 0) {\n        updatePositions.mutate({\n          workspaceId,\n          updates\n        })\n      }\n    }, 100), // 100ms delay - very responsive for position stability\n    [workspaceId, updatePositions]\n  )\n\n  const handleLayoutChange = useCallback((newLayout: Layout[]) => {\n    if (panels.length === 0 || !newLayout) return\n    \n    console.log('\uD83D\uDD04 Layout Change Handler:', {\n      panelCount: panels.length,\n      newLayoutCount: newLayout.length,\n      newLayout: newLayout.map(item => ({ id: item.i, x: item.x, y: item.y, w: item.w, h: item.h }))\n    })\n\n    const optimizedLayout = newLayout.map(item => ({\n      ...item,\n      w: Math.max(2, Math.min(24, item.w)), // Ensure width between 2-24 grid units\n      h: Math.max(2, Math.min(50, item.h))  // Ensure height between 2-50 grid units\n    }))\n\n    const updates = optimizedLayout\n      .filter(item => {\n        const panel = allPanels.find(p => p.id === item.i)\n        const hasChanges = panel && (\n          panel.position_x !== item.x ||\n          panel.position_y !== item.y ||\n          panel.width !== item.w ||\n          panel.height !== item.h\n        )\n        \n        if (hasChanges && panel) {\n          console.log('\uD83D\uDD04 Panel dimension change detected:', {\n            panelId: panel.id,\n            oldDimensions: { x: panel.position_x, y: panel.position_y, w: panel.width, h: panel.height },\n            newDimensions: { x: item.x, y: item.y, w: item.w, h: item.h }\n          })\n        }\n        \n        return hasChanges\n      })\n      .map(item => ({\n        id: item.i,\n        position_x: item.x,\n        position_y: item.y,\n        width: item.w,\n        height: item.h\n      }))\n\n    if (updates.length > 0) {\n      console.log('\uD83D\uDCBE Applying layout updates:', updates.length, 'panels')\n      debouncedUpdatePositions(updates)\n    }\n\n    // Note: Removed onLayoutPersistenceChange call to prevent conflicts\n  }, [panels, debouncedUpdatePositions, onLayoutPersistenceChange, allPanels])\n\n  const [originalLayout, setOriginalLayout] = useState<Layout[] | null>(null)\n  const [isDragging, setIsDragging] = useState(false)\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && isDragging && originalLayout) {\n        console.log('\uD83D\uDD04 Escape pressed - snapping back to original layout')\n      }\n    }\n\n    if (isDragging) {\n      document.addEventListener('keydown', handleKeyDown)\n      return () => document.removeEventListener('keydown', handleKeyDown)\n    }\n  }, [isDragging, originalLayout])\n\n  const handlePanelDragStart = useCallback((layout: Layout[], oldItem: Layout, newItem: Layout, placeholder: Layout, e: MouseEvent, element: HTMLElement) => {\n    setOriginalLayout([...layout])\n    setIsDragging(true)\n    \n    element.style.zIndex = '9998' // Below fullscreen panels\n    element.style.opacity = '0.95'\n    element.style.transition = 'transform 0.15s ease-out, box-shadow 0.15s ease-out'\n    element.style.transform += ' scale(1.02)'\n    \n    element.style.boxShadow = '0 8px 20px rgba(20, 49, 151, 0.15), 0 4px 8px rgba(0,0,0,0.1)'\n    \n    element.style.border = '2px solid rgba(20, 49, 151, 0.4)'\n    \n    console.log('\uD83C\uDFAF Drag started - stored original layout:', {\n      originalCount: layout.length,\n      draggedPanel: oldItem.i\n    })\n  }, [])\n\n  const handlePanelDrag = useCallback((layout: Layout[], oldItem: Layout, newItem: Layout, placeholder: Layout, e: MouseEvent, element: HTMLElement) => {\n    element.style.transform = element.style.transform.replace(/scale\\([^)]*\\)/, 'scale(1.02)')\n  }, [])\n\n  const handlePanelDragStop = useCallback((layout: Layout[], oldItem: Layout, newItem: Layout, placeholder: Layout, e: MouseEvent, element: HTMLElement) => {\n    setIsDragging(false)\n    \n    const positionChanged = Math.abs(oldItem.x - newItem.x) > 0.1 || Math.abs(oldItem.y - newItem.y) > 0.1\n    const sizeChanged = Math.abs(oldItem.w - newItem.w) > 0.1 || Math.abs(oldItem.h - newItem.h) > 0.1\n    \n    console.log('\uD83C\uDFAF Drag stopped:', {\n      panelId: newItem.i,\n      positionChanged,\n      sizeChanged,\n      oldPos: { x: oldItem.x, y: oldItem.y },\n      newPos: { x: newItem.x, y: newItem.y }\n    })\n    \n    element.style.transition = 'all 0.3s ease-out'\n    element.style.zIndex = ''\n    element.style.opacity = ''\n    element.style.transform = element.style.transform\n      .replace(/scale\\([^)]*\\)/, '')\n      .trim()\n    element.style.boxShadow = ''\n    element.style.border = ''\n    \n    if (positionChanged || sizeChanged) {\n      console.log('\uD83D\uDCBE Saving layout change immediately')\n      handleLayoutChange(layout)\n    }\n    \n    setTimeout(() => {\n      element.style.transition = ''\n      setOriginalLayout(null)\n    }, 300)\n  }, [handleLayoutChange])\n\n  const handlePanelResizeStart = useCallback((layout: Layout[], oldItem: Layout, newItem: Layout, placeholder: Layout, e: MouseEvent, element: HTMLElement) => {\n    element.style.zIndex = '9997' // Below dragging panels\n    element.style.opacity = '0.98'\n    element.style.transition = 'border 0.15s ease-out'\n    element.style.border = '2px solid rgba(31, 187, 101, 0.5)' // Krushr success color\n  }, [])\n\n  const handlePanelResize = useCallback((layout: Layout[], oldItem: Layout, newItem: Layout, placeholder: Layout, e: MouseEvent, element: HTMLElement) => {}, [])\n\n  const handlePanelResizeStop = useCallback((layout: Layout[], oldItem: Layout, newItem: Layout, placeholder: Layout, e: MouseEvent, element: HTMLElement) => {\n    element.style.transition = 'all 0.2s ease-out'\n    element.style.zIndex = ''\n    element.style.opacity = ''\n    element.style.border = ''\n    \n    setTimeout(() => {\n      element.style.transition = ''\n    }, 200)\n    \n    handleLayoutChange(layout)\n  }, [handleLayoutChange])\n\n  const layout = useMemo(() => {\n    const gridLayout = panels.map(panel => ({\n      i: panel.id,\n      x: panel.position_x,\n      y: panel.position_y,\n      w: panel.width,\n      h: panel.height,\n      minW: 2,\n      minH: 2,\n      maxW: 24,\n      maxH: 50,\n      isDraggable: !panel.is_locked,\n      isResizable: !panel.is_locked\n    } as Layout))\n    \n    console.log('\uD83D\uDCCA Panel to Grid Layout Conversion:', {\n      panelCount: panels.length,\n      panelDimensions: panels.map(p => ({ id: p.id, w: p.width, h: p.height, x: p.position_x, y: p.position_y })),\n      gridLayout: gridLayout.map(l => ({ id: l.i, w: l.w, h: l.h, x: l.x, y: l.y, minW: l.minW, minH: l.minH, maxW: l.maxW, maxH: l.maxH }))\n    })\n    \n    gridLayout.forEach(item => {\n      if ((item.w || 0) < (item.minW || 2) || (item.h || 0) < (item.minH || 2)) {\n        console.warn('\u26A0\uFE0F Panel size below minimum:', item)\n      }\n    })\n    \n    return gridLayout\n  }, [panels])\n\n\n\n  const cols = 24\n\n  if (panels.length === 0) {\n    return (\n      <div className={cn('flex items-center justify-center h-full p-8', className)}>\n        <div className=\"text-center\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No panels yet</h3>\n          <p className=\"text-gray-600\">Add panels using the toolbar above to get started.</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className={cn('panel-workspace panel-workspace-container h-full flex-1', className)} style={{ overflowX: 'visible', overflowY: 'auto', scrollBehavior: 'auto' }}>\n      <style>{`\n        .react-grid-layout {\n          position: relative;\n          min-height: 100%;\n          overflow: visible;\n        }\n        \n        .react-grid-item {\n          transition: all 200ms cubic-bezier(0.23, 1, 0.32, 1);\n          transition-property: left, top, width, height, transform, box-shadow, border;\n          background: white;\n          border: 1px solid #e5e7eb;\n          border-radius: 12px;\n          box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.08), 0 1px 2px -1px rgb(0 0 0 / 0.06);\n          will-change: transform, box-shadow;\n          cursor: grab;\n        }\n        \n        .react-grid-item:hover {\n          box-shadow: 0 4px 12px 0 rgb(0 0 0 / 0.12), 0 2px 4px -2px rgb(0 0 0 / 0.08);\n          transform: translateY(-0.5px);\n          border-color: rgba(59, 130, 246, 0.3);\n          cursor: grab;\n        }\n        \n        .react-grid-item:active {\n          cursor: grabbing;\n        }\n        \n        .react-grid-item.react-grid-placeholder {\n          background: rgba(34, 197, 94, 0.1);\n          border: 2px dashed rgba(34, 197, 94, 0.4);\n          border-radius: 12px;\n          transition: all 150ms cubic-bezier(0.23, 1, 0.32, 1);\n          z-index: 2;\n          user-select: none;\n          backdrop-filter: blur(2px);\n        }\n        \n        .react-grid-item.react-draggable-dragging {\n          transition: none;\n          z-index: 9998;\n          opacity: 0.95;\n          transform: scale(1.02);\n          box-shadow: 0 8px 20px rgba(20, 49, 151, 0.15), 0 4px 8px rgba(0, 0, 0, 0.1);\n          border: 2px solid rgba(20, 49, 151, 0.4);\n          cursor: grabbing;\n        }\n        \n        .react-grid-item.resizing {\n          z-index: 9997;\n          opacity: 0.95;\n          border: 2px solid rgba(31, 187, 101, 0.4);\n          box-shadow: 0 8px 24px rgba(31, 187, 101, 0.2), 0 4px 8px rgba(0, 0, 0, 0.1);\n        }\n\n        .react-grid-item.snapping {\n          border: 2px solid rgba(20, 49, 151, 0.6);\n          box-shadow: 0 0 0 4px rgba(20, 49, 151, 0.1);\n        }\n\n        .react-grid-item.focusing {\n          animation: focusPulse 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n        }\n\n        @keyframes focusPulse {\n          0% { transform: scale(1); }\n          50% { transform: scale(1.02); }\n          100% { transform: scale(1); }\n        }\n\n        .react-grid-layout {\n          transition: height 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94);\n        }\n\n        .react-resizable-handle {\n          position: absolute;\n          background-color: transparent !important;\n          background-image: none !important;\n          background: none !important;\n        }\n\n        .react-resizable-handle::before,\n        .react-resizable-handle::after {\n          display: none !important;\n          content: none !important;\n          background: none !important;\n        }\n\n        .react-resizable-handle > * {\n          display: none !important;\n        }\n\n        .react-resizable-handle-se {\n          bottom: 0;\n          right: 0;\n          width: 20px;\n          height: 20px;\n          cursor: se-resize;\n        }\n\n        .react-resizable-handle-ne {\n          top: 0;\n          right: 0;\n          width: 20px;\n          height: 20px;\n          cursor: ne-resize;\n        }\n\n        .react-resizable-handle-sw {\n          bottom: 0;\n          left: 0;\n          width: 20px;\n          height: 20px;\n          cursor: sw-resize;\n        }\n\n        .react-resizable-handle-nw {\n          top: 0;\n          left: 0;\n          width: 20px;\n          height: 20px;\n          cursor: nw-resize;\n        }\n\n        .react-resizable-handle-e {\n          top: 0;\n          right: -6px;\n          bottom: 0;\n          width: 12px;\n          cursor: e-resize;\n        }\n\n        .react-resizable-handle-w {\n          top: 0;\n          left: -6px;\n          bottom: 0;\n          width: 12px;\n          cursor: w-resize;\n        }\n\n        .react-resizable-handle-n {\n          top: -6px;\n          left: 0;\n          right: 0;\n          height: 12px;\n          cursor: n-resize;\n        }\n\n        .react-resizable-handle-s {\n          bottom: -6px;\n          left: 0;\n          right: 0;\n          height: 12px;\n          cursor: s-resize;\n        }\n      `}</style>\n      \n      <FixedGridLayout\n        className=\"layout\"\n        layout={layout}\n        cols={cols}\n        onLayoutChange={handleLayoutChange}\n        isDraggable={true}\n        isResizable={true}\n        resizeHandles={['se', 'e', 's', 'w', 'n', 'nw', 'ne', 'sw']}\n        margin={[12, 12]}\n        containerPadding={[16, 16]}\n        rowHeight={25}\n        draggableHandle=\".panel-drag-handle\"\n        useCSSTransforms={true}\n        preventCollision={false}\n        compactType=\"vertical\"\n        autoSize={true}\n        draggableCancel=\"input,textarea,button,select,option,.panel-content\"\n        transformScale={1}\n        width={Math.max(containerWidth, 5000)}\n        onDrag={handlePanelDrag}\n        onDragStart={handlePanelDragStart}\n        onDragStop={handlePanelDragStop}\n        onResize={handlePanelResize}\n        onResizeStart={handlePanelResizeStart}\n        onResizeStop={handlePanelResizeStop}\n      >\n        {allPanels.map(panel => (\n          <div \n            key={panel.id} \n            className=\"panel-container\"\n            data-panel-type={panel.type}\n            style={{ display: hiddenPanelIds.has(panel.id) ? 'none' : 'block' }}\n          >\n                                      <PanelRenderer \n              panel={{ ...panel, data: panel.data || {} }}\n              workspaceId={workspaceId}\n              onRefresh={refetch}\n              onFullscreen={handleFullscreen}\n              onFocus={handleFocus}\n            />\n          </div>\n        ))}\n      </FixedGridLayout>\n\n      {/* No separate fullscreen overlay needed - PanelRenderer handles fullscreen with CSS classes */}\n    </div>\n  )\n}\n\n/**\n * PanelWorkspace - Modern drag-and-drop panel workspace\n * Replaces legacy Packery.js with React Grid Layout\n */", "import React, { useRef, lazy, Suspense, useState, useEffect, useMemo } from 'react'\nimport { useToast } from '../../hooks/use-toast'\nimport { Card, CardContent, CardHeader } from '../ui/card'\nimport { Button } from '../ui/button'\nimport { Input } from '../ui/input'\nimport { \n  Minimize2, \n  Maximize2, \n  X, \n  Lock, \n  Unlock, \n  GripVertical,\n  MessageCircle,\n  Calendar,\n  StickyNote,\n  Columns,\n  Mail,\n  Users,\n  MoreHorizontal,\n  Search,\n  Filter,\n  Plus,\n  Expand,\n  Shrink,\n  Focus,\n  Loader2,\n  AlertCircle,\n  FolderOpen,\n  Bot\n} from 'lucide-react'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '../ui/dropdown-menu'\nimport { trpc } from '../../lib/trpc'\nimport { cn } from '../../lib/utils'\n\nconst KanbanBoard = lazy(() => import('../kanban/KanbanBoard'))\nconst Chat = lazy(() => import('../chat/Chat'))  \nconst NotesPanel = lazy(() => import('../notes/NotesPanel'))\nconst NewCalendarPanel = lazy(() => import('../calendar/NewCalendarPanel'))\nconst Contacts = lazy(() => import('../contacts/Contacts'))\nconst WorkspaceAiChat = lazy(() => import('../ai/WorkspaceAiChat'))\n\nimport SimpleCreatePanel from '../forms/SimpleCreatePanel'\n\n\nconst PanelLoadingSpinner = () => (\n  <div className=\"flex items-center justify-center h-full\">\n    <Loader2 className=\"w-6 h-6 animate-spin text-krushr-primary\" />\n  </div>\n)\n\nclass PanelErrorBoundary extends React.Component<\n  { children: React.ReactNode; fallback?: React.ReactNode },\n  { hasError: boolean }\n> {\n  constructor(props: { children: React.ReactNode; fallback?: React.ReactNode }) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(_: Error) {\n    return { hasError: true }\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    console.error('Panel loading error:', error, errorInfo)\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return this.props.fallback || (\n        <div className=\"flex items-center justify-center h-full text-gray-500\">\n          <div className=\"text-center\">\n            <AlertCircle className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\n            <p className=\"text-sm\">Failed to load panel</p>\n            <p className=\"text-xs mt-1\">Try refreshing the page</p>\n          </div>\n        </div>\n      )\n    }\n\n    return this.props.children\n  }\n}\n\n// TODO: Import other components as they're created\n\ninterface Panel {\n  id: string\n  type: string\n  title: string\n  position_x: number\n  position_y: number\n  width: number\n  height: number\n  is_minimized: boolean\n  is_locked: boolean\n  data: Record<string, any>\n}\n\ninterface PanelRendererProps {\n  panel: Panel\n  workspaceId: string\n  onRefresh?: () => void\n  onFullscreen?: (panelId: string, isFullscreen: boolean) => void\n  onFocus?: (panelId: string) => void\n}\n\nexport default function PanelRenderer({ panel, workspaceId, onRefresh, onFullscreen, onFocus }: PanelRendererProps) {\n  const { toast } = useToast()\n  const utils = trpc.useUtils()\n  const [floatingPanels, setFloatingPanels] = useState<Set<string>>(() => new Set())\n  \n  const [showCreatePanel, setShowCreatePanel] = useState(false)\n  const [isEditingTitle, setIsEditingTitle] = useState(false)\n  const [editedTitle, setEditedTitle] = useState(panel.title)\n\n  // Update editedTitle when panel title changes from external updates\n  useEffect(() => {\n    if (!isEditingTitle) {\n      setEditedTitle(panel.title)\n    }\n  }, [panel.title, isEditingTitle])\n  \n  const toggleMinimize = trpc.panel.toggleMinimize.useMutation({\n    onSuccess: () => {\n      utils.panel.list.invalidate({ workspaceId })\n      onRefresh?.()\n    },\n    onError: (error) => {\n      console.error('Minimize toggle failed:', error)\n      toast({\n        title: \"Error\",\n        description: \"Failed to minimize/restore panel\",\n        variant: \"destructive\"\n      })\n    }\n  })\n  const toggleLock = trpc.panel.toggleLock.useMutation({\n    onSuccess: () => {\n      utils.panel.list.invalidate({ workspaceId })\n      onRefresh?.()\n    },\n    onError: (error) => {\n      console.error('Lock toggle failed:', error)\n      toast({\n        title: \"Error\",\n        description: \"Failed to lock/unlock panel\",\n        variant: \"destructive\"\n      })\n    }\n  })\n\n  // Handle floating mode toggle\n  const handleToggleFloating = () => {\n    setFloatingPanels(prev => {\n      const newFloatingPanels = new Set(prev)\n      if (newFloatingPanels.has(panel.id)) {\n        newFloatingPanels.delete(panel.id)\n      } else {\n        newFloatingPanels.add(panel.id)\n      }\n      return newFloatingPanels\n    })\n  }\n\n  const handleCloseFloating = () => {\n    setFloatingPanels(prev => {\n      const newFloatingPanels = new Set(prev)\n      newFloatingPanels.delete(panel.id)\n      return newFloatingPanels\n    })\n  }\n\n  const isFloating = useMemo(() => floatingPanels.has(panel.id), [floatingPanels, panel.id])\n  const toggleFullscreen = trpc.panel.toggleFullscreen.useMutation({\n    onSuccess: (updatedPanel) => {\n      try {\n        const panelData = JSON.parse(updatedPanel.data)\n        // Invalidate cache to ensure UI updates immediately\n        utils.panel.list.invalidate({ workspaceId })\n        onFullscreen?.(panel.id, panelData.isFullscreen || false)\n        onRefresh?.()\n      } catch (error) {\n        console.error('Error parsing panel data:', error, updatedPanel)\n        // Still invalidate cache even if parsing fails\n        utils.panel.list.invalidate({ workspaceId })\n        onRefresh?.()\n      }\n    },\n    onError: (error) => {\n      console.error('Fullscreen toggle failed:', error)\n      toast({\n        title: \"Error\",\n        description: \"Failed to toggle fullscreen mode\",\n        variant: \"destructive\"\n      })\n    }\n  })\n  const setFocus = trpc.panel.setFocus.useMutation({\n    onSuccess: () => {\n      utils.panel.list.invalidate({ workspaceId })\n      onRefresh?.()\n    }\n  })\n  const deletePanel = trpc.panel.delete.useMutation({\n    onSuccess: () => {\n      utils.panel.list.invalidate({ workspaceId })\n      onRefresh?.()\n    },\n    onError: (error) => {\n      console.error('Panel deletion failed:', error)\n      toast({\n        title: \"Error\",\n        description: \"Failed to delete panel\",\n        variant: \"destructive\"\n      })\n    }\n  })\n\n  const updatePanel = trpc.panel.update.useMutation({\n    onSuccess: () => {\n      utils.panel.list.invalidate({ workspaceId })\n      onRefresh?.()\n      setIsEditingTitle(false)\n      toast({\n        title: \"Success\",\n        description: \"Panel title updated\"\n      })\n    },\n    onError: (error) => {\n      console.error('Update failed:', error)\n      toast({\n        title: \"Error\", \n        description: \"Failed to update panel title\",\n        variant: \"destructive\"\n      })\n      setEditedTitle(panel.title) // Reset to original title\n      setIsEditingTitle(false)\n    }\n  })\n\n  const getPanelIcon = (type: string) => {\n    switch (type) {\n      case 'KANBAN':\n        return <FolderOpen className=\"w-4 h-4 text-krushr-coral-red\" />\n      case 'CHAT':\n        return <MessageCircle className=\"w-4 h-4 text-krushr-coral-red\" />\n      case 'AI_CHAT':\n        return <Bot className=\"w-4 h-4 text-krushr-primary\" />\n      case 'CALENDAR':\n        return <Calendar className=\"w-4 h-4 text-krushr-coral-red\" />\n      case 'NOTES':\n        return <StickyNote className=\"w-4 h-4 text-krushr-coral-red\" />\n      case 'EMAIL':\n        return <Mail className=\"w-4 h-4 text-krushr-coral-red\" />\n      case 'CONTACTS':\n        return <Users className=\"w-4 h-4 text-krushr-coral-red\" />\n      default:\n        return <GripVertical className=\"w-4 h-4 text-krushr-coral-red\" />\n    }\n  }\n\n  const renderPanelContent = () => {\n    if (panel.is_minimized) {\n      return null\n    }\n\n    switch (panel.type) {\n      case 'KANBAN':\n        const kanbanId = panel.data?.kanbanId\n        if (!kanbanId) {\n          return (\n            <div className=\"flex items-center justify-center h-full text-gray-500\">\n              <div className=\"text-center\">\n                <Columns className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\n                <p className=\"text-sm\">No Kanban board selected</p>\n                <p className=\"text-xs mt-1\">Create a Kanban board first, then edit this panel</p>\n              </div>\n            </div>\n          )\n        }\n        return (\n          <div className=\"h-full\">\n            <Suspense fallback={<PanelLoadingSpinner />}>\n              <KanbanBoard kanban={{ id: kanbanId, workspaceId }} className=\"h-full\" />\n            </Suspense>\n          </div>\n        )\n\n      case 'CHAT':\n        const chatId = panel.data?.chatId\n        return (\n          <PanelErrorBoundary>\n            <Suspense fallback={<PanelLoadingSpinner />}>\n              <Chat threadId={chatId} className=\"h-full\" />\n            </Suspense>\n          </PanelErrorBoundary>\n        )\n\n      case 'AI_CHAT':\n        return (\n          <PanelErrorBoundary>\n            <Suspense fallback={<PanelLoadingSpinner />}>\n              <WorkspaceAiChat \n                workspaceId={workspaceId} \n                className=\"h-full\" \n              />\n            </Suspense>\n          </PanelErrorBoundary>\n        )\n\n      case 'CALENDAR':\n        return (\n          <Suspense fallback={<PanelLoadingSpinner />}>\n            <NewCalendarPanel workspaceId={workspaceId} className=\"h-full\" />\n          </Suspense>\n        )\n\n      case 'NOTES':\n        return (\n          <Suspense fallback={<PanelLoadingSpinner />}>\n            <NotesPanel \n              workspaceId={workspaceId} \n              className=\"h-full\" \n            />\n          </Suspense>\n        )\n\n      case 'EMAIL':\n        return (\n          <div className=\"flex items-center justify-center h-full text-gray-500\">\n            <div className=\"text-center\">\n              <Mail className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\n              <p className=\"text-sm\">Email component coming soon</p>\n            </div>\n          </div>\n        )\n\n      case 'CONTACTS':\n        return (\n          <Suspense fallback={<PanelLoadingSpinner />}>\n            <Contacts workspaceId={workspaceId} className=\"h-full\" />\n          </Suspense>\n        )\n\n      default:\n        return (\n          <div className=\"flex items-center justify-center h-full text-gray-500\">\n            <div className=\"text-center\">\n              <GripVertical className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\n              <p className=\"text-sm\">Unknown panel type: {panel.type}</p>\n            </div>\n          </div>\n        )\n    }\n  }\n\n  const handleToggleMinimize = () => {\n    toggleMinimize.mutate({ id: panel.id })\n  }\n\n  const handleToggleLock = () => {\n    toggleLock.mutate({ id: panel.id })\n  }\n\n  const handleToggleFullscreen = () => {\n    toggleFullscreen.mutate({ id: panel.id })\n  }\n\n  const handleDelete = () => {\n    if (confirm(`Delete panel \"${panel.title}\"?`)) {\n      deletePanel.mutate({ id: panel.id })\n    }\n  }\n\n  const handleTitleClick = (e: React.MouseEvent) => {\n    e.stopPropagation()\n    if (!panel.is_locked) {\n      setIsEditingTitle(true)\n    }\n  }\n\n  const handleFocus = (e: React.MouseEvent) => {\n    // Don't trigger focus handling for floating panels\n    if (isFloating) return\n    \n    // Don't interfere with input/textarea focus\n    const target = e.target as HTMLElement\n    if (target.tagName === 'INPUT' || target.tagName === 'TEXTAREA' || target.closest('input') || target.closest('textarea')) {\n      return\n    }\n    \n    setFocus.mutate({ id: panel.id, focused: true })\n    onFocus?.(panel.id)\n  }\n\n  const handleTouchStart = (e: React.TouchEvent) => {\n    const target = e.target as HTMLElement\n    if (target.closest('.panel-drag-handle')) {\n      e.stopPropagation()\n    } else if (target.closest('.panel-content')) {\n      return\n    }\n  }\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    const target = e.target as HTMLElement\n    if (target.closest('.panel-drag-handle')) {\n      e.stopPropagation()\n    }\n  }\n\n  const handleTouchEnd = (e: React.TouchEvent) => {\n    const target = e.target as HTMLElement\n    if (target.closest('.panel-drag-handle')) {\n      e.stopPropagation()\n    }\n  }\n\n  const handleTitleSave = () => {\n    const trimmedTitle = editedTitle.trim()\n    if (trimmedTitle && trimmedTitle !== panel.title) {\n      updatePanel.mutate({\n        id: panel.id,\n        title: trimmedTitle\n      })\n    } else {\n      setIsEditingTitle(false)\n      setEditedTitle(panel.title)\n    }\n  }\n\n  const handleTitleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      e.preventDefault()\n      handleTitleSave()\n    } else if (e.key === 'Escape') {\n      setIsEditingTitle(false)\n      setEditedTitle(panel.title)\n    }\n  }\n\n  const handleTitleBlur = () => {\n    handleTitleSave()\n  }\n\n  const isFullscreen = panel.data?.isFullscreen || false\n  const isFocused = panel.data?.isFocused || false\n\n  return (\n    <Card \n      className={cn(\n        \"panel-card h-full flex flex-col\",\n        panel.is_locked && \"border-amber-200 bg-amber-50\",\n        panel.is_minimized && \"min-h-0\",\n        isFullscreen && \"fixed inset-0 z-[9999] m-0 rounded-none shadow-2xl bg-white\"\n      )}\n      onClick={handleFocus}\n      onTouchStart={handleTouchStart}\n      onTouchMove={handleTouchMove}\n      onTouchEnd={handleTouchEnd}\n    >\n      <CardHeader \n        className={cn(\n          \"panel-drag-handle flex-shrink-0 cursor-move\",\n          \"flex flex-row items-center justify-between space-y-0 p-0 px-3 py-1.5\",\n          panel.is_locked && \"cursor-not-allowed\"\n        )}\n      >\n        <div className=\"flex items-center gap-2 min-w-0 flex-1\">\n          <div className=\"text-krushr-coral-red\">\n            {getPanelIcon(panel.type)}\n          </div>\n          {isEditingTitle ? (\n            <Input\n              value={editedTitle}\n              onChange={(e) => setEditedTitle(e.target.value)}\n              onKeyDown={handleTitleKeyDown}\n              onBlur={handleTitleBlur}\n              className=\"h-6 px-1 py-0 text-sm font-medium border-krushr-primary focus:border-krushr-primary focus:ring-1 focus:ring-krushr-primary\"\n              autoFocus\n              onClick={(e) => e.stopPropagation()}\n            />\n          ) : (\n            <h3 \n              className={cn(\n                \"font-medium text-sm truncate\",\n                !panel.is_locked && \"cursor-pointer hover:text-krushr-primary transition-colors\"\n              )}\n              onClick={handleTitleClick}\n              title={panel.is_locked ? \"Panel is locked\" : \"Click to edit title\"}\n            >\n              {panel.title}\n            </h3>\n          )}\n          {panel.is_locked && (\n            <Lock className=\"w-3 h-3 text-amber-600 flex-shrink-0\" />\n          )}\n          \n        </div>\n        \n        <div className=\"flex items-center gap-0.5 flex-shrink-0\">\n          {/* Panel-specific actions dropdown */}\n          {(panel.type === 'KANBAN' || panel.type === 'CHAT' || panel.type === 'AI_CHAT' || panel.type === 'NOTES') && (\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button \n                  size=\"sm\" \n                  variant=\"ghost\" \n                  className=\"w-5 h-5 p-0 hover:bg-gray-100\"\n                  title=\"Panel actions\"\n                >\n                  <MoreHorizontal className=\"w-2.5 h-2.5\" />\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\" className=\"w-40\">\n                {panel.type === 'KANBAN' ? (\n                  <>\n                    <DropdownMenuItem className=\"text-xs\" onClick={() => setShowCreatePanel(true)}>\n                      <Plus className=\"w-3 h-3 mr-2\" />\n                      Add Task\n                    </DropdownMenuItem>\n                    <DropdownMenuSeparator />\n                    <DropdownMenuItem className=\"text-xs\">\n                      <Users className=\"w-3 h-3 mr-2\" />\n                      Members\n                    </DropdownMenuItem>\n                    <DropdownMenuItem className=\"text-xs\">\n                      <Calendar className=\"w-3 h-3 mr-2\" />\n                      Timeline\n                    </DropdownMenuItem>\n                    <DropdownMenuItem className=\"text-xs\">\n                      <Filter className=\"w-3 h-3 mr-2\" />\n                      Filters\n                    </DropdownMenuItem>\n                  </>\n                ) : panel.type === 'CHAT' ? (\n                  <>\n                    <DropdownMenuItem className=\"text-xs\">\n                      <MessageCircle className=\"w-3 h-3 mr-2\" />\n                      New Message\n                    </DropdownMenuItem>\n                    <DropdownMenuItem className=\"text-xs\">\n                      <Users className=\"w-3 h-3 mr-2\" />\n                      Participants\n                    </DropdownMenuItem>\n                    <DropdownMenuItem className=\"text-xs\">\n                      <Search className=\"w-3 h-3 mr-2\" />\n                      Search Chat\n                    </DropdownMenuItem>\n                  </>\n                ) : panel.type === 'AI_CHAT' ? (\n                  <>\n                    <DropdownMenuItem className=\"text-xs\">\n                      <Plus className=\"w-3 h-3 mr-2\" />\n                      New Conversation\n                    </DropdownMenuItem>\n                    <DropdownMenuItem className=\"text-xs\">\n                      <MessageCircle className=\"w-3 h-3 mr-2\" />\n                      Conversations\n                    </DropdownMenuItem>\n                    <DropdownMenuItem className=\"text-xs\">\n                      <Search className=\"w-3 h-3 mr-2\" />\n                      Search Messages\n                    </DropdownMenuItem>\n                  </>\n                ) : (\n                  <>\n                    <DropdownMenuItem className=\"text-xs\">\n                      <Search className=\"w-3 h-3 mr-2\" />\n                      Search Notes\n                    </DropdownMenuItem>\n                  </>\n                )}\n                <DropdownMenuSeparator />\n                <DropdownMenuItem className=\"text-xs text-gray-600\">\n                  Settings\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          )}\n          \n          <Button \n            size=\"sm\" \n            variant=\"ghost\" \n            className=\"w-5 h-5 p-0 hover:bg-gray-100\"\n            onClick={handleToggleLock}\n            disabled={toggleLock.isPending}\n            title={panel.is_locked ? \"Unlock panel\" : \"Lock panel\"}\n          >\n            {toggleLock.isPending ? (\n              <div className=\"w-2.5 h-2.5 border border-gray-400 border-t-transparent rounded-full animate-spin\" />\n            ) : panel.is_locked ? (\n              <Unlock className=\"w-2.5 h-2.5\" />\n            ) : (\n              <Lock className=\"w-2.5 h-2.5\" />\n            )}\n          </Button>\n\n          <Button \n            size=\"sm\" \n            variant=\"ghost\" \n            className=\"w-5 h-5 p-0 hover:bg-blue-100 hover:text-blue-600\"\n            onClick={handleToggleFullscreen}\n            disabled={toggleFullscreen.isPending}\n            title={isFullscreen ? \"Exit fullscreen\" : \"Fullscreen\"}\n          >\n            {toggleFullscreen.isPending ? (\n              <div className=\"w-2.5 h-2.5 border border-gray-400 border-t-transparent rounded-full animate-spin\" />\n            ) : isFullscreen ? (\n              <Shrink className=\"w-2.5 h-2.5\" />\n            ) : (\n              <Expand className=\"w-2.5 h-2.5\" />\n            )}\n          </Button>\n          \n          <Button \n            size=\"sm\" \n            variant=\"ghost\" \n            className=\"w-5 h-5 p-0 hover:bg-gray-100\"\n            onClick={handleToggleMinimize}\n            disabled={toggleMinimize.isPending}\n            title={panel.is_minimized ? \"Restore panel\" : \"Minimize panel\"}\n          >\n            {toggleMinimize.isPending ? (\n              <div className=\"w-2.5 h-2.5 border border-gray-400 border-t-transparent rounded-full animate-spin\" />\n            ) : panel.is_minimized ? (\n              <Maximize2 className=\"w-2.5 h-2.5\" />\n            ) : (\n              <Minimize2 className=\"w-2.5 h-2.5\" />\n            )}\n          </Button>\n          \n          <Button \n            size=\"sm\" \n            variant=\"ghost\" \n            className=\"w-5 h-5 p-0 hover:bg-red-100 hover:text-red-600\"\n            onClick={handleDelete}\n            title=\"Delete panel\"\n          >\n            <X className=\"w-2.5 h-2.5\" />\n          </Button>\n        </div>\n      </CardHeader>\n      \n      {!panel.is_minimized && (\n        <CardContent className=\"panel-content flex-1 p-1 pt-0 overflow-hidden\">\n          {renderPanelContent()}\n        </CardContent>\n      )}\n      \n      {/* Task Creation Panel */}\n      {showCreatePanel && (\n        <SimpleCreatePanel\n          workspaceId={workspaceId}\n          kanbanColumnId={panel.type === 'KANBAN' && panel.data?.kanbanId ? panel.data.kanbanId : undefined}\n          open={showCreatePanel}\n          onClose={() => setShowCreatePanel(false)}\n          onSuccess={() => {\n            setShowCreatePanel(false)\n            onRefresh?.()\n          }}\n        />\n      )}\n    </Card>\n  )\n}", "\"use client\"\n\nimport * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n", "import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n", "import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { composeRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport * as MenuPrimitive from '@radix-ui/react-menu';\nimport { createMenuScope } from '@radix-ui/react-menu';\nimport { useId } from '@radix-ui/react-id';\n\nimport type { Scope } from '@radix-ui/react-context';\n\ntype Direction = 'ltr' | 'rtl';\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenu\n * -----------------------------------------------------------------------------------------------*/\n\nconst DROPDOWN_MENU_NAME = 'DropdownMenu';\n\ntype ScopedProps<P> = P & { __scopeDropdownMenu?: Scope };\nconst [createDropdownMenuContext, createDropdownMenuScope] = createContextScope(\n  DROPDOWN_MENU_NAME,\n  [createMenuScope]\n);\nconst useMenuScope = createMenuScope();\n\ntype DropdownMenuContextValue = {\n  triggerId: string;\n  triggerRef: React.RefObject<HTMLButtonElement | null>;\n  contentId: string;\n  open: boolean;\n  onOpenChange(open: boolean): void;\n  onOpenToggle(): void;\n  modal: boolean;\n};\n\nconst [DropdownMenuProvider, useDropdownMenuContext] =\n  createDropdownMenuContext<DropdownMenuContextValue>(DROPDOWN_MENU_NAME);\n\ninterface DropdownMenuProps {\n  children?: React.ReactNode;\n  dir?: Direction;\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?(open: boolean): void;\n  modal?: boolean;\n}\n\nconst DropdownMenu: React.FC<DropdownMenuProps> = (props: ScopedProps<DropdownMenuProps>) => {\n  const {\n    __scopeDropdownMenu,\n    children,\n    dir,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = true,\n  } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const triggerRef = React.useRef<HTMLButtonElement>(null);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: DROPDOWN_MENU_NAME,\n  });\n\n  return (\n    <DropdownMenuProvider\n      scope={__scopeDropdownMenu}\n      triggerId={useId()}\n      triggerRef={triggerRef}\n      contentId={useId()}\n      open={open}\n      onOpenChange={setOpen}\n      onOpenToggle={React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen])}\n      modal={modal}\n    >\n      <MenuPrimitive.Root {...menuScope} open={open} onOpenChange={setOpen} dir={dir} modal={modal}>\n        {children}\n      </MenuPrimitive.Root>\n    </DropdownMenuProvider>\n  );\n};\n\nDropdownMenu.displayName = DROPDOWN_MENU_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'DropdownMenuTrigger';\n\ntype DropdownMenuTriggerElement = React.ComponentRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface DropdownMenuTriggerProps extends PrimitiveButtonProps {}\n\nconst DropdownMenuTrigger = React.forwardRef<DropdownMenuTriggerElement, DropdownMenuTriggerProps>(\n  (props: ScopedProps<DropdownMenuTriggerProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, disabled = false, ...triggerProps } = props;\n    const context = useDropdownMenuContext(TRIGGER_NAME, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return (\n      <MenuPrimitive.Anchor asChild {...menuScope}>\n        <Primitive.button\n          type=\"button\"\n          id={context.triggerId}\n          aria-haspopup=\"menu\"\n          aria-expanded={context.open}\n          aria-controls={context.open ? context.contentId : undefined}\n          data-state={context.open ? 'open' : 'closed'}\n          data-disabled={disabled ? '' : undefined}\n          disabled={disabled}\n          {...triggerProps}\n          ref={composeRefs(forwardedRef, context.triggerRef)}\n          onPointerDown={composeEventHandlers(props.onPointerDown, (event) => {\n            // only call handler if it's the left button (mousedown gets triggered by all mouse buttons)\n            // but not when the control key is pressed (avoiding MacOS right click)\n            if (!disabled && event.button === 0 && event.ctrlKey === false) {\n              context.onOpenToggle();\n              // prevent trigger focusing when opening\n              // this allows the content to be given focus without competition\n              if (!context.open) event.preventDefault();\n            }\n          })}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            if (disabled) return;\n            if (['Enter', ' '].includes(event.key)) context.onOpenToggle();\n            if (event.key === 'ArrowDown') context.onOpenChange(true);\n            // prevent keydown from scrolling window / first focused item to execute\n            // that keydown (inadvertently closing the menu)\n            if (['Enter', ' ', 'ArrowDown'].includes(event.key)) event.preventDefault();\n          })}\n        />\n      </MenuPrimitive.Anchor>\n    );\n  }\n);\n\nDropdownMenuTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuPortal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'DropdownMenuPortal';\n\ntype MenuPortalProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.Portal>;\ninterface DropdownMenuPortalProps extends MenuPortalProps {}\n\nconst DropdownMenuPortal: React.FC<DropdownMenuPortalProps> = (\n  props: ScopedProps<DropdownMenuPortalProps>\n) => {\n  const { __scopeDropdownMenu, ...portalProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.Portal {...menuScope} {...portalProps} />;\n};\n\nDropdownMenuPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'DropdownMenuContent';\n\ntype DropdownMenuContentElement = React.ComponentRef<typeof MenuPrimitive.Content>;\ntype MenuContentProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.Content>;\ninterface DropdownMenuContentProps extends Omit<MenuContentProps, 'onEntryFocus'> {}\n\nconst DropdownMenuContent = React.forwardRef<DropdownMenuContentElement, DropdownMenuContentProps>(\n  (props: ScopedProps<DropdownMenuContentProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...contentProps } = props;\n    const context = useDropdownMenuContext(CONTENT_NAME, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    const hasInteractedOutsideRef = React.useRef(false);\n\n    return (\n      <MenuPrimitive.Content\n        id={context.contentId}\n        aria-labelledby={context.triggerId}\n        {...menuScope}\n        {...contentProps}\n        ref={forwardedRef}\n        onCloseAutoFocus={composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n          hasInteractedOutsideRef.current = false;\n          // Always prevent auto focus because we either focus manually or want user agent focus\n          event.preventDefault();\n        })}\n        onInteractOutside={composeEventHandlers(props.onInteractOutside, (event) => {\n          const originalEvent = event.detail.originalEvent as PointerEvent;\n          const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n          const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n          if (!context.modal || isRightClick) hasInteractedOutsideRef.current = true;\n        })}\n        style={{\n          ...props.style,\n          // re-namespace exposed content custom properties\n          ...{\n            '--radix-dropdown-menu-content-transform-origin':\n              'var(--radix-popper-transform-origin)',\n            '--radix-dropdown-menu-content-available-width': 'var(--radix-popper-available-width)',\n            '--radix-dropdown-menu-content-available-height':\n              'var(--radix-popper-available-height)',\n            '--radix-dropdown-menu-trigger-width': 'var(--radix-popper-anchor-width)',\n            '--radix-dropdown-menu-trigger-height': 'var(--radix-popper-anchor-height)',\n          },\n        }}\n      />\n    );\n  }\n);\n\nDropdownMenuContent.displayName = CONTENT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst GROUP_NAME = 'DropdownMenuGroup';\n\ntype DropdownMenuGroupElement = React.ComponentRef<typeof MenuPrimitive.Group>;\ntype MenuGroupProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.Group>;\ninterface DropdownMenuGroupProps extends MenuGroupProps {}\n\nconst DropdownMenuGroup = React.forwardRef<DropdownMenuGroupElement, DropdownMenuGroupProps>(\n  (props: ScopedProps<DropdownMenuGroupProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...groupProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return <MenuPrimitive.Group {...menuScope} {...groupProps} ref={forwardedRef} />;\n  }\n);\n\nDropdownMenuGroup.displayName = GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuLabel\n * -----------------------------------------------------------------------------------------------*/\n\nconst LABEL_NAME = 'DropdownMenuLabel';\n\ntype DropdownMenuLabelElement = React.ComponentRef<typeof MenuPrimitive.Label>;\ntype MenuLabelProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.Label>;\ninterface DropdownMenuLabelProps extends MenuLabelProps {}\n\nconst DropdownMenuLabel = React.forwardRef<DropdownMenuLabelElement, DropdownMenuLabelProps>(\n  (props: ScopedProps<DropdownMenuLabelProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...labelProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return <MenuPrimitive.Label {...menuScope} {...labelProps} ref={forwardedRef} />;\n  }\n);\n\nDropdownMenuLabel.displayName = LABEL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'DropdownMenuItem';\n\ntype DropdownMenuItemElement = React.ComponentRef<typeof MenuPrimitive.Item>;\ntype MenuItemProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.Item>;\ninterface DropdownMenuItemProps extends MenuItemProps {}\n\nconst DropdownMenuItem = React.forwardRef<DropdownMenuItemElement, DropdownMenuItemProps>(\n  (props: ScopedProps<DropdownMenuItemProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...itemProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return <MenuPrimitive.Item {...menuScope} {...itemProps} ref={forwardedRef} />;\n  }\n);\n\nDropdownMenuItem.displayName = ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuCheckboxItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst CHECKBOX_ITEM_NAME = 'DropdownMenuCheckboxItem';\n\ntype DropdownMenuCheckboxItemElement = React.ComponentRef<typeof MenuPrimitive.CheckboxItem>;\ntype MenuCheckboxItemProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.CheckboxItem>;\ninterface DropdownMenuCheckboxItemProps extends MenuCheckboxItemProps {}\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  DropdownMenuCheckboxItemElement,\n  DropdownMenuCheckboxItemProps\n>((props: ScopedProps<DropdownMenuCheckboxItemProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...checkboxItemProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.CheckboxItem {...menuScope} {...checkboxItemProps} ref={forwardedRef} />;\n});\n\nDropdownMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuRadioGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst RADIO_GROUP_NAME = 'DropdownMenuRadioGroup';\n\ntype DropdownMenuRadioGroupElement = React.ComponentRef<typeof MenuPrimitive.RadioGroup>;\ntype MenuRadioGroupProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.RadioGroup>;\ninterface DropdownMenuRadioGroupProps extends MenuRadioGroupProps {}\n\nconst DropdownMenuRadioGroup = React.forwardRef<\n  DropdownMenuRadioGroupElement,\n  DropdownMenuRadioGroupProps\n>((props: ScopedProps<DropdownMenuRadioGroupProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...radioGroupProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.RadioGroup {...menuScope} {...radioGroupProps} ref={forwardedRef} />;\n});\n\nDropdownMenuRadioGroup.displayName = RADIO_GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuRadioItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst RADIO_ITEM_NAME = 'DropdownMenuRadioItem';\n\ntype DropdownMenuRadioItemElement = React.ComponentRef<typeof MenuPrimitive.RadioItem>;\ntype MenuRadioItemProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.RadioItem>;\ninterface DropdownMenuRadioItemProps extends MenuRadioItemProps {}\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  DropdownMenuRadioItemElement,\n  DropdownMenuRadioItemProps\n>((props: ScopedProps<DropdownMenuRadioItemProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...radioItemProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.RadioItem {...menuScope} {...radioItemProps} ref={forwardedRef} />;\n});\n\nDropdownMenuRadioItem.displayName = RADIO_ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuItemIndicator\n * -----------------------------------------------------------------------------------------------*/\n\nconst INDICATOR_NAME = 'DropdownMenuItemIndicator';\n\ntype DropdownMenuItemIndicatorElement = React.ComponentRef<typeof MenuPrimitive.ItemIndicator>;\ntype MenuItemIndicatorProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.ItemIndicator>;\ninterface DropdownMenuItemIndicatorProps extends MenuItemIndicatorProps {}\n\nconst DropdownMenuItemIndicator = React.forwardRef<\n  DropdownMenuItemIndicatorElement,\n  DropdownMenuItemIndicatorProps\n>((props: ScopedProps<DropdownMenuItemIndicatorProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...itemIndicatorProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.ItemIndicator {...menuScope} {...itemIndicatorProps} ref={forwardedRef} />;\n});\n\nDropdownMenuItemIndicator.displayName = INDICATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuSeparator\n * -----------------------------------------------------------------------------------------------*/\n\nconst SEPARATOR_NAME = 'DropdownMenuSeparator';\n\ntype DropdownMenuSeparatorElement = React.ComponentRef<typeof MenuPrimitive.Separator>;\ntype MenuSeparatorProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.Separator>;\ninterface DropdownMenuSeparatorProps extends MenuSeparatorProps {}\n\nconst DropdownMenuSeparator = React.forwardRef<\n  DropdownMenuSeparatorElement,\n  DropdownMenuSeparatorProps\n>((props: ScopedProps<DropdownMenuSeparatorProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...separatorProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.Separator {...menuScope} {...separatorProps} ref={forwardedRef} />;\n});\n\nDropdownMenuSeparator.displayName = SEPARATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuArrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst ARROW_NAME = 'DropdownMenuArrow';\n\ntype DropdownMenuArrowElement = React.ComponentRef<typeof MenuPrimitive.Arrow>;\ntype MenuArrowProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.Arrow>;\ninterface DropdownMenuArrowProps extends MenuArrowProps {}\n\nconst DropdownMenuArrow = React.forwardRef<DropdownMenuArrowElement, DropdownMenuArrowProps>(\n  (props: ScopedProps<DropdownMenuArrowProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...arrowProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return <MenuPrimitive.Arrow {...menuScope} {...arrowProps} ref={forwardedRef} />;\n  }\n);\n\nDropdownMenuArrow.displayName = ARROW_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuSub\n * -----------------------------------------------------------------------------------------------*/\n\ninterface DropdownMenuSubProps {\n  children?: React.ReactNode;\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?(open: boolean): void;\n}\n\nconst DropdownMenuSub: React.FC<DropdownMenuSubProps> = (\n  props: ScopedProps<DropdownMenuSubProps>\n) => {\n  const { __scopeDropdownMenu, children, open: openProp, onOpenChange, defaultOpen } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: 'DropdownMenuSub',\n  });\n\n  return (\n    <MenuPrimitive.Sub {...menuScope} open={open} onOpenChange={setOpen}>\n      {children}\n    </MenuPrimitive.Sub>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuSubTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst SUB_TRIGGER_NAME = 'DropdownMenuSubTrigger';\n\ntype DropdownMenuSubTriggerElement = React.ComponentRef<typeof MenuPrimitive.SubTrigger>;\ntype MenuSubTriggerProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.SubTrigger>;\ninterface DropdownMenuSubTriggerProps extends MenuSubTriggerProps {}\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  DropdownMenuSubTriggerElement,\n  DropdownMenuSubTriggerProps\n>((props: ScopedProps<DropdownMenuSubTriggerProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...subTriggerProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.SubTrigger {...menuScope} {...subTriggerProps} ref={forwardedRef} />;\n});\n\nDropdownMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuSubContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst SUB_CONTENT_NAME = 'DropdownMenuSubContent';\n\ntype DropdownMenuSubContentElement = React.ComponentRef<typeof MenuPrimitive.Content>;\ntype MenuSubContentProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.SubContent>;\ninterface DropdownMenuSubContentProps extends MenuSubContentProps {}\n\nconst DropdownMenuSubContent = React.forwardRef<\n  DropdownMenuSubContentElement,\n  DropdownMenuSubContentProps\n>((props: ScopedProps<DropdownMenuSubContentProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...subContentProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n\n  return (\n    <MenuPrimitive.SubContent\n      {...menuScope}\n      {...subContentProps}\n      ref={forwardedRef}\n      style={{\n        ...props.style,\n        // re-namespace exposed content custom properties\n        ...{\n          '--radix-dropdown-menu-content-transform-origin': 'var(--radix-popper-transform-origin)',\n          '--radix-dropdown-menu-content-available-width': 'var(--radix-popper-available-width)',\n          '--radix-dropdown-menu-content-available-height': 'var(--radix-popper-available-height)',\n          '--radix-dropdown-menu-trigger-width': 'var(--radix-popper-anchor-width)',\n          '--radix-dropdown-menu-trigger-height': 'var(--radix-popper-anchor-height)',\n        },\n      }}\n    />\n  );\n});\n\nDropdownMenuSubContent.displayName = SUB_CONTENT_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = DropdownMenu;\nconst Trigger = DropdownMenuTrigger;\nconst Portal = DropdownMenuPortal;\nconst Content = DropdownMenuContent;\nconst Group = DropdownMenuGroup;\nconst Label = DropdownMenuLabel;\nconst Item = DropdownMenuItem;\nconst CheckboxItem = DropdownMenuCheckboxItem;\nconst RadioGroup = DropdownMenuRadioGroup;\nconst RadioItem = DropdownMenuRadioItem;\nconst ItemIndicator = DropdownMenuItemIndicator;\nconst Separator = DropdownMenuSeparator;\nconst Arrow = DropdownMenuArrow;\nconst Sub = DropdownMenuSub;\nconst SubTrigger = DropdownMenuSubTrigger;\nconst SubContent = DropdownMenuSubContent;\n\nexport {\n  createDropdownMenuScope,\n  //\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuPortal,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuItemIndicator,\n  DropdownMenuSeparator,\n  DropdownMenuArrow,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n  //\n  Root,\n  Trigger,\n  Portal,\n  Content,\n  Group,\n  Label,\n  Item,\n  CheckboxItem,\n  RadioGroup,\n  RadioItem,\n  ItemIndicator,\n  Separator,\n  Arrow,\n  Sub,\n  SubTrigger,\n  SubContent,\n};\nexport type {\n  DropdownMenuProps,\n  DropdownMenuTriggerProps,\n  DropdownMenuPortalProps,\n  DropdownMenuContentProps,\n  DropdownMenuGroupProps,\n  DropdownMenuLabelProps,\n  DropdownMenuItemProps,\n  DropdownMenuCheckboxItemProps,\n  DropdownMenuRadioGroupProps,\n  DropdownMenuRadioItemProps,\n  DropdownMenuItemIndicatorProps,\n  DropdownMenuSeparatorProps,\n  DropdownMenuArrowProps,\n  DropdownMenuSubProps,\n  DropdownMenuSubTriggerProps,\n  DropdownMenuSubContentProps,\n};\n", "import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createCollection } from '@radix-ui/react-collection';\nimport { useComposedRefs, composeRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useDirection } from '@radix-ui/react-direction';\nimport { DismissableLayer } from '@radix-ui/react-dismissable-layer';\nimport { useFocusGuards } from '@radix-ui/react-focus-guards';\nimport { FocusScope } from '@radix-ui/react-focus-scope';\nimport { useId } from '@radix-ui/react-id';\nimport * as PopperPrimitive from '@radix-ui/react-popper';\nimport { createPopperScope } from '@radix-ui/react-popper';\nimport { Portal as PortalPrimitive } from '@radix-ui/react-portal';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive, dispatchDiscreteCustomEvent } from '@radix-ui/react-primitive';\nimport * as RovingFocusGroup from '@radix-ui/react-roving-focus';\nimport { createRovingFocusGroupScope } from '@radix-ui/react-roving-focus';\nimport { createSlot } from '@radix-ui/react-slot';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { hideOthers } from 'aria-hidden';\nimport { RemoveScroll } from 'react-remove-scroll';\n\nimport type { Scope } from '@radix-ui/react-context';\n\ntype Direction = 'ltr' | 'rtl';\n\nconst SELECTION_KEYS = ['Enter', ' '];\nconst FIRST_KEYS = ['ArrowDown', 'PageUp', 'Home'];\nconst LAST_KEYS = ['ArrowUp', 'PageDown', 'End'];\nconst FIRST_LAST_KEYS = [...FIRST_KEYS, ...LAST_KEYS];\nconst SUB_OPEN_KEYS: Record<Direction, string[]> = {\n  ltr: [...SELECTION_KEYS, 'ArrowRight'],\n  rtl: [...SELECTION_KEYS, 'ArrowLeft'],\n};\nconst SUB_CLOSE_KEYS: Record<Direction, string[]> = {\n  ltr: ['ArrowLeft'],\n  rtl: ['ArrowRight'],\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Menu\n * -----------------------------------------------------------------------------------------------*/\n\nconst MENU_NAME = 'Menu';\n\ntype ItemData = { disabled: boolean; textValue: string };\nconst [Collection, useCollection, createCollectionScope] = createCollection<\n  MenuItemElement,\n  ItemData\n>(MENU_NAME);\n\ntype ScopedProps<P> = P & { __scopeMenu?: Scope };\nconst [createMenuContext, createMenuScope] = createContextScope(MENU_NAME, [\n  createCollectionScope,\n  createPopperScope,\n  createRovingFocusGroupScope,\n]);\nconst usePopperScope = createPopperScope();\nconst useRovingFocusGroupScope = createRovingFocusGroupScope();\n\ntype MenuContextValue = {\n  open: boolean;\n  onOpenChange(open: boolean): void;\n  content: MenuContentElement | null;\n  onContentChange(content: MenuContentElement | null): void;\n};\n\nconst [MenuProvider, useMenuContext] = createMenuContext<MenuContextValue>(MENU_NAME);\n\ntype MenuRootContextValue = {\n  onClose(): void;\n  isUsingKeyboardRef: React.RefObject<boolean>;\n  dir: Direction;\n  modal: boolean;\n};\n\nconst [MenuRootProvider, useMenuRootContext] = createMenuContext<MenuRootContextValue>(MENU_NAME);\n\ninterface MenuProps {\n  children?: React.ReactNode;\n  open?: boolean;\n  onOpenChange?(open: boolean): void;\n  dir?: Direction;\n  modal?: boolean;\n}\n\nconst Menu: React.FC<MenuProps> = (props: ScopedProps<MenuProps>) => {\n  const { __scopeMenu, open = false, children, dir, onOpenChange, modal = true } = props;\n  const popperScope = usePopperScope(__scopeMenu);\n  const [content, setContent] = React.useState<MenuContentElement | null>(null);\n  const isUsingKeyboardRef = React.useRef(false);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n  const direction = useDirection(dir);\n\n  React.useEffect(() => {\n    // Capture phase ensures we set the boolean before any side effects execute\n    // in response to the key or pointer event as they might depend on this value.\n    const handleKeyDown = () => {\n      isUsingKeyboardRef.current = true;\n      document.addEventListener('pointerdown', handlePointer, { capture: true, once: true });\n      document.addEventListener('pointermove', handlePointer, { capture: true, once: true });\n    };\n    const handlePointer = () => (isUsingKeyboardRef.current = false);\n    document.addEventListener('keydown', handleKeyDown, { capture: true });\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown, { capture: true });\n      document.removeEventListener('pointerdown', handlePointer, { capture: true });\n      document.removeEventListener('pointermove', handlePointer, { capture: true });\n    };\n  }, []);\n\n  return (\n    <PopperPrimitive.Root {...popperScope}>\n      <MenuProvider\n        scope={__scopeMenu}\n        open={open}\n        onOpenChange={handleOpenChange}\n        content={content}\n        onContentChange={setContent}\n      >\n        <MenuRootProvider\n          scope={__scopeMenu}\n          onClose={React.useCallback(() => handleOpenChange(false), [handleOpenChange])}\n          isUsingKeyboardRef={isUsingKeyboardRef}\n          dir={direction}\n          modal={modal}\n        >\n          {children}\n        </MenuRootProvider>\n      </MenuProvider>\n    </PopperPrimitive.Root>\n  );\n};\n\nMenu.displayName = MENU_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuAnchor\n * -----------------------------------------------------------------------------------------------*/\n\nconst ANCHOR_NAME = 'MenuAnchor';\n\ntype MenuAnchorElement = React.ComponentRef<typeof PopperPrimitive.Anchor>;\ntype PopperAnchorProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Anchor>;\ninterface MenuAnchorProps extends PopperAnchorProps {}\n\nconst MenuAnchor = React.forwardRef<MenuAnchorElement, MenuAnchorProps>(\n  (props: ScopedProps<MenuAnchorProps>, forwardedRef) => {\n    const { __scopeMenu, ...anchorProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return <PopperPrimitive.Anchor {...popperScope} {...anchorProps} ref={forwardedRef} />;\n  }\n);\n\nMenuAnchor.displayName = ANCHOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuPortal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'MenuPortal';\n\ntype PortalContextValue = { forceMount?: true };\nconst [PortalProvider, usePortalContext] = createMenuContext<PortalContextValue>(PORTAL_NAME, {\n  forceMount: undefined,\n});\n\ntype PortalProps = React.ComponentPropsWithoutRef<typeof PortalPrimitive>;\ninterface MenuPortalProps {\n  children?: React.ReactNode;\n  /**\n   * Specify a container element to portal the content into.\n   */\n  container?: PortalProps['container'];\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst MenuPortal: React.FC<MenuPortalProps> = (props: ScopedProps<MenuPortalProps>) => {\n  const { __scopeMenu, forceMount, children, container } = props;\n  const context = useMenuContext(PORTAL_NAME, __scopeMenu);\n  return (\n    <PortalProvider scope={__scopeMenu} forceMount={forceMount}>\n      <Presence present={forceMount || context.open}>\n        <PortalPrimitive asChild container={container}>\n          {children}\n        </PortalPrimitive>\n      </Presence>\n    </PortalProvider>\n  );\n};\n\nMenuPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'MenuContent';\n\ntype MenuContentContextValue = {\n  onItemEnter(event: React.PointerEvent): void;\n  onItemLeave(event: React.PointerEvent): void;\n  onTriggerLeave(event: React.PointerEvent): void;\n  searchRef: React.RefObject<string>;\n  pointerGraceTimerRef: React.MutableRefObject<number>;\n  onPointerGraceIntentChange(intent: GraceIntent | null): void;\n};\nconst [MenuContentProvider, useMenuContentContext] =\n  createMenuContext<MenuContentContextValue>(CONTENT_NAME);\n\ntype MenuContentElement = MenuRootContentTypeElement;\n/**\n * We purposefully don't union MenuRootContent and MenuSubContent props here because\n * they have conflicting prop types. We agreed that we would allow MenuSubContent to\n * accept props that it would just ignore.\n */\ninterface MenuContentProps extends MenuRootContentTypeProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst MenuContent = React.forwardRef<MenuContentElement, MenuContentProps>(\n  (props: ScopedProps<MenuContentProps>, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n\n    return (\n      <Collection.Provider scope={props.__scopeMenu}>\n        <Presence present={forceMount || context.open}>\n          <Collection.Slot scope={props.__scopeMenu}>\n            {rootContext.modal ? (\n              <MenuRootContentModal {...contentProps} ref={forwardedRef} />\n            ) : (\n              <MenuRootContentNonModal {...contentProps} ref={forwardedRef} />\n            )}\n          </Collection.Slot>\n        </Presence>\n      </Collection.Provider>\n    );\n  }\n);\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype MenuRootContentTypeElement = MenuContentImplElement;\ninterface MenuRootContentTypeProps\n  extends Omit<MenuContentImplProps, keyof MenuContentImplPrivateProps> {}\n\nconst MenuRootContentModal = React.forwardRef<MenuRootContentTypeElement, MenuRootContentTypeProps>(\n  (props: ScopedProps<MenuRootContentTypeProps>, forwardedRef) => {\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const ref = React.useRef<MenuRootContentTypeElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n\n    // Hide everything from ARIA except the `MenuContent`\n    React.useEffect(() => {\n      const content = ref.current;\n      if (content) return hideOthers(content);\n    }, []);\n\n    return (\n      <MenuContentImpl\n        {...props}\n        ref={composedRefs}\n        // we make sure we're not trapping once it's been closed\n        // (closed !== unmounted when animating out)\n        trapFocus={context.open}\n        // make sure to only disable pointer events when open\n        // this avoids blocking interactions while animating out\n        disableOutsidePointerEvents={context.open}\n        disableOutsideScroll\n        // When focus is trapped, a `focusout` event may still happen.\n        // We make sure we don't trigger our `onDismiss` in such case.\n        onFocusOutside={composeEventHandlers(\n          props.onFocusOutside,\n          (event) => event.preventDefault(),\n          { checkForDefaultPrevented: false }\n        )}\n        onDismiss={() => context.onOpenChange(false)}\n      />\n    );\n  }\n);\n\nconst MenuRootContentNonModal = React.forwardRef<\n  MenuRootContentTypeElement,\n  MenuRootContentTypeProps\n>((props: ScopedProps<MenuRootContentTypeProps>, forwardedRef) => {\n  const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n  return (\n    <MenuContentImpl\n      {...props}\n      ref={forwardedRef}\n      trapFocus={false}\n      disableOutsidePointerEvents={false}\n      disableOutsideScroll={false}\n      onDismiss={() => context.onOpenChange(false)}\n    />\n  );\n});\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype MenuContentImplElement = React.ComponentRef<typeof PopperPrimitive.Content>;\ntype FocusScopeProps = React.ComponentPropsWithoutRef<typeof FocusScope>;\ntype DismissableLayerProps = React.ComponentPropsWithoutRef<typeof DismissableLayer>;\ntype RovingFocusGroupProps = React.ComponentPropsWithoutRef<typeof RovingFocusGroup.Root>;\ntype PopperContentProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Content>;\ntype MenuContentImplPrivateProps = {\n  onOpenAutoFocus?: FocusScopeProps['onMountAutoFocus'];\n  onDismiss?: DismissableLayerProps['onDismiss'];\n  disableOutsidePointerEvents?: DismissableLayerProps['disableOutsidePointerEvents'];\n\n  /**\n   * Whether scrolling outside the `MenuContent` should be prevented\n   * (default: `false`)\n   */\n  disableOutsideScroll?: boolean;\n\n  /**\n   * Whether focus should be trapped within the `MenuContent`\n   * (default: false)\n   */\n  trapFocus?: FocusScopeProps['trapped'];\n};\ninterface MenuContentImplProps\n  extends MenuContentImplPrivateProps,\n    Omit<PopperContentProps, 'dir' | 'onPlaced'> {\n  /**\n   * Event handler called when auto-focusing on close.\n   * Can be prevented.\n   */\n  onCloseAutoFocus?: FocusScopeProps['onUnmountAutoFocus'];\n\n  /**\n   * Whether keyboard navigation should loop around\n   * @defaultValue false\n   */\n  loop?: RovingFocusGroupProps['loop'];\n\n  onEntryFocus?: RovingFocusGroupProps['onEntryFocus'];\n  onEscapeKeyDown?: DismissableLayerProps['onEscapeKeyDown'];\n  onPointerDownOutside?: DismissableLayerProps['onPointerDownOutside'];\n  onFocusOutside?: DismissableLayerProps['onFocusOutside'];\n  onInteractOutside?: DismissableLayerProps['onInteractOutside'];\n}\n\nconst Slot = createSlot('MenuContent.ScrollLock');\n\nconst MenuContentImpl = React.forwardRef<MenuContentImplElement, MenuContentImplProps>(\n  (props: ScopedProps<MenuContentImplProps>, forwardedRef) => {\n    const {\n      __scopeMenu,\n      loop = false,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEntryFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      onDismiss,\n      disableOutsideScroll,\n      ...contentProps\n    } = props;\n    const context = useMenuContext(CONTENT_NAME, __scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, __scopeMenu);\n    const popperScope = usePopperScope(__scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const getItems = useCollection(__scopeMenu);\n    const [currentItemId, setCurrentItemId] = React.useState<string | null>(null);\n    const contentRef = React.useRef<HTMLDivElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef, context.onContentChange);\n    const timerRef = React.useRef(0);\n    const searchRef = React.useRef('');\n    const pointerGraceTimerRef = React.useRef(0);\n    const pointerGraceIntentRef = React.useRef<GraceIntent | null>(null);\n    const pointerDirRef = React.useRef<Side>('right');\n    const lastPointerXRef = React.useRef(0);\n\n    const ScrollLockWrapper = disableOutsideScroll ? RemoveScroll : React.Fragment;\n    const scrollLockWrapperProps = disableOutsideScroll\n      ? { as: Slot, allowPinchZoom: true }\n      : undefined;\n\n    const handleTypeaheadSearch = (key: string) => {\n      const search = searchRef.current + key;\n      const items = getItems().filter((item) => !item.disabled);\n      const currentItem = document.activeElement;\n      const currentMatch = items.find((item) => item.ref.current === currentItem)?.textValue;\n      const values = items.map((item) => item.textValue);\n      const nextMatch = getNextMatch(values, search, currentMatch);\n      const newItem = items.find((item) => item.textValue === nextMatch)?.ref.current;\n\n      // Reset `searchRef` 1 second after it was last updated\n      (function updateSearch(value: string) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        if (value !== '') timerRef.current = window.setTimeout(() => updateSearch(''), 1000);\n      })(search);\n\n      if (newItem) {\n        /**\n         * Imperative focus during keydown is risky so we prevent React's batching updates\n         * to avoid potential bugs. See: https://github.com/facebook/react/issues/20332\n         */\n        setTimeout(() => (newItem as HTMLElement).focus());\n      }\n    };\n\n    React.useEffect(() => {\n      return () => window.clearTimeout(timerRef.current);\n    }, []);\n\n    // Make sure the whole tree has focus guards as our `MenuContent` may be\n    // the last element in the DOM (because of the `Portal`)\n    useFocusGuards();\n\n    const isPointerMovingToSubmenu = React.useCallback((event: React.PointerEvent) => {\n      const isMovingTowards = pointerDirRef.current === pointerGraceIntentRef.current?.side;\n      return isMovingTowards && isPointerInGraceArea(event, pointerGraceIntentRef.current?.area);\n    }, []);\n\n    return (\n      <MenuContentProvider\n        scope={__scopeMenu}\n        searchRef={searchRef}\n        onItemEnter={React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        )}\n        onItemLeave={React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) return;\n            contentRef.current?.focus();\n            setCurrentItemId(null);\n          },\n          [isPointerMovingToSubmenu]\n        )}\n        onTriggerLeave={React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        )}\n        pointerGraceTimerRef={pointerGraceTimerRef}\n        onPointerGraceIntentChange={React.useCallback((intent) => {\n          pointerGraceIntentRef.current = intent;\n        }, [])}\n      >\n        <ScrollLockWrapper {...scrollLockWrapperProps}>\n          <FocusScope\n            asChild\n            trapped={trapFocus}\n            onMountAutoFocus={composeEventHandlers(onOpenAutoFocus, (event) => {\n              // when opening, explicitly focus the content area only and leave\n              // `onEntryFocus` in  control of focusing first item\n              event.preventDefault();\n              contentRef.current?.focus({ preventScroll: true });\n            })}\n            onUnmountAutoFocus={onCloseAutoFocus}\n          >\n            <DismissableLayer\n              asChild\n              disableOutsidePointerEvents={disableOutsidePointerEvents}\n              onEscapeKeyDown={onEscapeKeyDown}\n              onPointerDownOutside={onPointerDownOutside}\n              onFocusOutside={onFocusOutside}\n              onInteractOutside={onInteractOutside}\n              onDismiss={onDismiss}\n            >\n              <RovingFocusGroup.Root\n                asChild\n                {...rovingFocusGroupScope}\n                dir={rootContext.dir}\n                orientation=\"vertical\"\n                loop={loop}\n                currentTabStopId={currentItemId}\n                onCurrentTabStopIdChange={setCurrentItemId}\n                onEntryFocus={composeEventHandlers(onEntryFocus, (event) => {\n                  // only focus first item when using keyboard\n                  if (!rootContext.isUsingKeyboardRef.current) event.preventDefault();\n                })}\n                preventScrollOnEntryFocus\n              >\n                <PopperPrimitive.Content\n                  role=\"menu\"\n                  aria-orientation=\"vertical\"\n                  data-state={getOpenState(context.open)}\n                  data-radix-menu-content=\"\"\n                  dir={rootContext.dir}\n                  {...popperScope}\n                  {...contentProps}\n                  ref={composedRefs}\n                  style={{ outline: 'none', ...contentProps.style }}\n                  onKeyDown={composeEventHandlers(contentProps.onKeyDown, (event) => {\n                    // submenu key events bubble through portals. We only care about keys in this menu.\n                    const target = event.target as HTMLElement;\n                    const isKeyDownInside =\n                      target.closest('[data-radix-menu-content]') === event.currentTarget;\n                    const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                    const isCharacterKey = event.key.length === 1;\n                    if (isKeyDownInside) {\n                      // menus should not be navigated using tab key so we prevent it\n                      if (event.key === 'Tab') event.preventDefault();\n                      if (!isModifierKey && isCharacterKey) handleTypeaheadSearch(event.key);\n                    }\n                    // focus first/last item based on key pressed\n                    const content = contentRef.current;\n                    if (event.target !== content) return;\n                    if (!FIRST_LAST_KEYS.includes(event.key)) return;\n                    event.preventDefault();\n                    const items = getItems().filter((item) => !item.disabled);\n                    const candidateNodes = items.map((item) => item.ref.current!);\n                    if (LAST_KEYS.includes(event.key)) candidateNodes.reverse();\n                    focusFirst(candidateNodes);\n                  })}\n                  onBlur={composeEventHandlers(props.onBlur, (event) => {\n                    // clear search buffer when leaving the menu\n                    if (!event.currentTarget.contains(event.target)) {\n                      window.clearTimeout(timerRef.current);\n                      searchRef.current = '';\n                    }\n                  })}\n                  onPointerMove={composeEventHandlers(\n                    props.onPointerMove,\n                    whenMouse((event) => {\n                      const target = event.target as HTMLElement;\n                      const pointerXHasChanged = lastPointerXRef.current !== event.clientX;\n\n                      // We don't use `event.movementX` for this check because Safari will\n                      // always return `0` on a pointer event.\n                      if (event.currentTarget.contains(target) && pointerXHasChanged) {\n                        const newDir = event.clientX > lastPointerXRef.current ? 'right' : 'left';\n                        pointerDirRef.current = newDir;\n                        lastPointerXRef.current = event.clientX;\n                      }\n                    })\n                  )}\n                />\n              </RovingFocusGroup.Root>\n            </DismissableLayer>\n          </FocusScope>\n        </ScrollLockWrapper>\n      </MenuContentProvider>\n    );\n  }\n);\n\nMenuContent.displayName = CONTENT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst GROUP_NAME = 'MenuGroup';\n\ntype MenuGroupElement = React.ComponentRef<typeof Primitive.div>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface MenuGroupProps extends PrimitiveDivProps {}\n\nconst MenuGroup = React.forwardRef<MenuGroupElement, MenuGroupProps>(\n  (props: ScopedProps<MenuGroupProps>, forwardedRef) => {\n    const { __scopeMenu, ...groupProps } = props;\n    return <Primitive.div role=\"group\" {...groupProps} ref={forwardedRef} />;\n  }\n);\n\nMenuGroup.displayName = GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuLabel\n * -----------------------------------------------------------------------------------------------*/\n\nconst LABEL_NAME = 'MenuLabel';\n\ntype MenuLabelElement = React.ComponentRef<typeof Primitive.div>;\ninterface MenuLabelProps extends PrimitiveDivProps {}\n\nconst MenuLabel = React.forwardRef<MenuLabelElement, MenuLabelProps>(\n  (props: ScopedProps<MenuLabelProps>, forwardedRef) => {\n    const { __scopeMenu, ...labelProps } = props;\n    return <Primitive.div {...labelProps} ref={forwardedRef} />;\n  }\n);\n\nMenuLabel.displayName = LABEL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'MenuItem';\nconst ITEM_SELECT = 'menu.itemSelect';\n\ntype MenuItemElement = MenuItemImplElement;\ninterface MenuItemProps extends Omit<MenuItemImplProps, 'onSelect'> {\n  onSelect?: (event: Event) => void;\n}\n\nconst MenuItem = React.forwardRef<MenuItemElement, MenuItemProps>(\n  (props: ScopedProps<MenuItemProps>, forwardedRef) => {\n    const { disabled = false, onSelect, ...itemProps } = props;\n    const ref = React.useRef<HTMLDivElement>(null);\n    const rootContext = useMenuRootContext(ITEM_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(ITEM_NAME, props.__scopeMenu);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const isPointerDownRef = React.useRef(false);\n\n    const handleSelect = () => {\n      const menuItem = ref.current;\n      if (!disabled && menuItem) {\n        const itemSelectEvent = new CustomEvent(ITEM_SELECT, { bubbles: true, cancelable: true });\n        menuItem.addEventListener(ITEM_SELECT, (event) => onSelect?.(event), { once: true });\n        dispatchDiscreteCustomEvent(menuItem, itemSelectEvent);\n        if (itemSelectEvent.defaultPrevented) {\n          isPointerDownRef.current = false;\n        } else {\n          rootContext.onClose();\n        }\n      }\n    };\n\n    return (\n      <MenuItemImpl\n        {...itemProps}\n        ref={composedRefs}\n        disabled={disabled}\n        onClick={composeEventHandlers(props.onClick, handleSelect)}\n        onPointerDown={(event) => {\n          props.onPointerDown?.(event);\n          isPointerDownRef.current = true;\n        }}\n        onPointerUp={composeEventHandlers(props.onPointerUp, (event) => {\n          // Pointer down can move to a different menu item which should activate it on pointer up.\n          // We dispatch a click for selection to allow composition with click based triggers and to\n          // prevent Firefox from getting stuck in text selection mode when the menu closes.\n          if (!isPointerDownRef.current) event.currentTarget?.click();\n        })}\n        onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n          const isTypingAhead = contentContext.searchRef.current !== '';\n          if (disabled || (isTypingAhead && event.key === ' ')) return;\n          if (SELECTION_KEYS.includes(event.key)) {\n            event.currentTarget.click();\n            /**\n             * We prevent default browser behaviour for selection keys as they should trigger\n             * a selection only:\n             * - prevents space from scrolling the page.\n             * - if keydown causes focus to move, prevents keydown from firing on the new target.\n             */\n            event.preventDefault();\n          }\n        })}\n      />\n    );\n  }\n);\n\nMenuItem.displayName = ITEM_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype MenuItemImplElement = React.ComponentRef<typeof Primitive.div>;\ninterface MenuItemImplProps extends PrimitiveDivProps {\n  disabled?: boolean;\n  textValue?: string;\n}\n\nconst MenuItemImpl = React.forwardRef<MenuItemImplElement, MenuItemImplProps>(\n  (props: ScopedProps<MenuItemImplProps>, forwardedRef) => {\n    const { __scopeMenu, disabled = false, textValue, ...itemProps } = props;\n    const contentContext = useMenuContentContext(ITEM_NAME, __scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const ref = React.useRef<HTMLDivElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const [isFocused, setIsFocused] = React.useState(false);\n\n    // get the item's `.textContent` as default strategy for typeahead `textValue`\n    const [textContent, setTextContent] = React.useState('');\n    React.useEffect(() => {\n      const menuItem = ref.current;\n      if (menuItem) {\n        setTextContent((menuItem.textContent ?? '').trim());\n      }\n    }, [itemProps.children]);\n\n    return (\n      <Collection.ItemSlot\n        scope={__scopeMenu}\n        disabled={disabled}\n        textValue={textValue ?? textContent}\n      >\n        <RovingFocusGroup.Item asChild {...rovingFocusGroupScope} focusable={!disabled}>\n          <Primitive.div\n            role=\"menuitem\"\n            data-highlighted={isFocused ? '' : undefined}\n            aria-disabled={disabled || undefined}\n            data-disabled={disabled ? '' : undefined}\n            {...itemProps}\n            ref={composedRefs}\n            /**\n             * We focus items on `pointerMove` to achieve the following:\n             *\n             * - Mouse over an item (it focuses)\n             * - Leave mouse where it is and use keyboard to focus a different item\n             * - Wiggle mouse without it leaving previously focused item\n             * - Previously focused item should re-focus\n             *\n             * If we used `mouseOver`/`mouseEnter` it would not re-focus when the mouse\n             * wiggles. This is to match native menu implementation.\n             */\n            onPointerMove={composeEventHandlers(\n              props.onPointerMove,\n              whenMouse((event) => {\n                if (disabled) {\n                  contentContext.onItemLeave(event);\n                } else {\n                  contentContext.onItemEnter(event);\n                  if (!event.defaultPrevented) {\n                    const item = event.currentTarget;\n                    item.focus({ preventScroll: true });\n                  }\n                }\n              })\n            )}\n            onPointerLeave={composeEventHandlers(\n              props.onPointerLeave,\n              whenMouse((event) => contentContext.onItemLeave(event))\n            )}\n            onFocus={composeEventHandlers(props.onFocus, () => setIsFocused(true))}\n            onBlur={composeEventHandlers(props.onBlur, () => setIsFocused(false))}\n          />\n        </RovingFocusGroup.Item>\n      </Collection.ItemSlot>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * MenuCheckboxItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst CHECKBOX_ITEM_NAME = 'MenuCheckboxItem';\n\ntype MenuCheckboxItemElement = MenuItemElement;\n\ntype CheckedState = boolean | 'indeterminate';\n\ninterface MenuCheckboxItemProps extends MenuItemProps {\n  checked?: CheckedState;\n  // `onCheckedChange` can never be called with `\"indeterminate\"` from the inside\n  onCheckedChange?: (checked: boolean) => void;\n}\n\nconst MenuCheckboxItem = React.forwardRef<MenuCheckboxItemElement, MenuCheckboxItemProps>(\n  (props: ScopedProps<MenuCheckboxItemProps>, forwardedRef) => {\n    const { checked = false, onCheckedChange, ...checkboxItemProps } = props;\n    return (\n      <ItemIndicatorProvider scope={props.__scopeMenu} checked={checked}>\n        <MenuItem\n          role=\"menuitemcheckbox\"\n          aria-checked={isIndeterminate(checked) ? 'mixed' : checked}\n          {...checkboxItemProps}\n          ref={forwardedRef}\n          data-state={getCheckedState(checked)}\n          onSelect={composeEventHandlers(\n            checkboxItemProps.onSelect,\n            () => onCheckedChange?.(isIndeterminate(checked) ? true : !checked),\n            { checkForDefaultPrevented: false }\n          )}\n        />\n      </ItemIndicatorProvider>\n    );\n  }\n);\n\nMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuRadioGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst RADIO_GROUP_NAME = 'MenuRadioGroup';\n\nconst [RadioGroupProvider, useRadioGroupContext] = createMenuContext<MenuRadioGroupProps>(\n  RADIO_GROUP_NAME,\n  { value: undefined, onValueChange: () => {} }\n);\n\ntype MenuRadioGroupElement = React.ComponentRef<typeof MenuGroup>;\ninterface MenuRadioGroupProps extends MenuGroupProps {\n  value?: string;\n  onValueChange?: (value: string) => void;\n}\n\nconst MenuRadioGroup = React.forwardRef<MenuRadioGroupElement, MenuRadioGroupProps>(\n  (props: ScopedProps<MenuRadioGroupProps>, forwardedRef) => {\n    const { value, onValueChange, ...groupProps } = props;\n    const handleValueChange = useCallbackRef(onValueChange);\n    return (\n      <RadioGroupProvider scope={props.__scopeMenu} value={value} onValueChange={handleValueChange}>\n        <MenuGroup {...groupProps} ref={forwardedRef} />\n      </RadioGroupProvider>\n    );\n  }\n);\n\nMenuRadioGroup.displayName = RADIO_GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuRadioItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst RADIO_ITEM_NAME = 'MenuRadioItem';\n\ntype MenuRadioItemElement = React.ComponentRef<typeof MenuItem>;\ninterface MenuRadioItemProps extends MenuItemProps {\n  value: string;\n}\n\nconst MenuRadioItem = React.forwardRef<MenuRadioItemElement, MenuRadioItemProps>(\n  (props: ScopedProps<MenuRadioItemProps>, forwardedRef) => {\n    const { value, ...radioItemProps } = props;\n    const context = useRadioGroupContext(RADIO_ITEM_NAME, props.__scopeMenu);\n    const checked = value === context.value;\n    return (\n      <ItemIndicatorProvider scope={props.__scopeMenu} checked={checked}>\n        <MenuItem\n          role=\"menuitemradio\"\n          aria-checked={checked}\n          {...radioItemProps}\n          ref={forwardedRef}\n          data-state={getCheckedState(checked)}\n          onSelect={composeEventHandlers(\n            radioItemProps.onSelect,\n            () => context.onValueChange?.(value),\n            { checkForDefaultPrevented: false }\n          )}\n        />\n      </ItemIndicatorProvider>\n    );\n  }\n);\n\nMenuRadioItem.displayName = RADIO_ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuItemIndicator\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_INDICATOR_NAME = 'MenuItemIndicator';\n\ntype CheckboxContextValue = { checked: CheckedState };\n\nconst [ItemIndicatorProvider, useItemIndicatorContext] = createMenuContext<CheckboxContextValue>(\n  ITEM_INDICATOR_NAME,\n  { checked: false }\n);\n\ntype MenuItemIndicatorElement = React.ComponentRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = React.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface MenuItemIndicatorProps extends PrimitiveSpanProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst MenuItemIndicator = React.forwardRef<MenuItemIndicatorElement, MenuItemIndicatorProps>(\n  (props: ScopedProps<MenuItemIndicatorProps>, forwardedRef) => {\n    const { __scopeMenu, forceMount, ...itemIndicatorProps } = props;\n    const indicatorContext = useItemIndicatorContext(ITEM_INDICATOR_NAME, __scopeMenu);\n    return (\n      <Presence\n        present={\n          forceMount ||\n          isIndeterminate(indicatorContext.checked) ||\n          indicatorContext.checked === true\n        }\n      >\n        <Primitive.span\n          {...itemIndicatorProps}\n          ref={forwardedRef}\n          data-state={getCheckedState(indicatorContext.checked)}\n        />\n      </Presence>\n    );\n  }\n);\n\nMenuItemIndicator.displayName = ITEM_INDICATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuSeparator\n * -----------------------------------------------------------------------------------------------*/\n\nconst SEPARATOR_NAME = 'MenuSeparator';\n\ntype MenuSeparatorElement = React.ComponentRef<typeof Primitive.div>;\ninterface MenuSeparatorProps extends PrimitiveDivProps {}\n\nconst MenuSeparator = React.forwardRef<MenuSeparatorElement, MenuSeparatorProps>(\n  (props: ScopedProps<MenuSeparatorProps>, forwardedRef) => {\n    const { __scopeMenu, ...separatorProps } = props;\n    return (\n      <Primitive.div\n        role=\"separator\"\n        aria-orientation=\"horizontal\"\n        {...separatorProps}\n        ref={forwardedRef}\n      />\n    );\n  }\n);\n\nMenuSeparator.displayName = SEPARATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuArrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst ARROW_NAME = 'MenuArrow';\n\ntype MenuArrowElement = React.ComponentRef<typeof PopperPrimitive.Arrow>;\ntype PopperArrowProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Arrow>;\ninterface MenuArrowProps extends PopperArrowProps {}\n\nconst MenuArrow = React.forwardRef<MenuArrowElement, MenuArrowProps>(\n  (props: ScopedProps<MenuArrowProps>, forwardedRef) => {\n    const { __scopeMenu, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return <PopperPrimitive.Arrow {...popperScope} {...arrowProps} ref={forwardedRef} />;\n  }\n);\n\nMenuArrow.displayName = ARROW_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuSub\n * -----------------------------------------------------------------------------------------------*/\n\nconst SUB_NAME = 'MenuSub';\n\ntype MenuSubContextValue = {\n  contentId: string;\n  triggerId: string;\n  trigger: MenuSubTriggerElement | null;\n  onTriggerChange(trigger: MenuSubTriggerElement | null): void;\n};\n\nconst [MenuSubProvider, useMenuSubContext] = createMenuContext<MenuSubContextValue>(SUB_NAME);\n\ninterface MenuSubProps {\n  children?: React.ReactNode;\n  open?: boolean;\n  onOpenChange?(open: boolean): void;\n}\n\nconst MenuSub: React.FC<MenuSubProps> = (props: ScopedProps<MenuSubProps>) => {\n  const { __scopeMenu, children, open = false, onOpenChange } = props;\n  const parentMenuContext = useMenuContext(SUB_NAME, __scopeMenu);\n  const popperScope = usePopperScope(__scopeMenu);\n  const [trigger, setTrigger] = React.useState<MenuSubTriggerElement | null>(null);\n  const [content, setContent] = React.useState<MenuContentElement | null>(null);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n\n  // Prevent the parent menu from reopening with open submenus.\n  React.useEffect(() => {\n    if (parentMenuContext.open === false) handleOpenChange(false);\n    return () => handleOpenChange(false);\n  }, [parentMenuContext.open, handleOpenChange]);\n\n  return (\n    <PopperPrimitive.Root {...popperScope}>\n      <MenuProvider\n        scope={__scopeMenu}\n        open={open}\n        onOpenChange={handleOpenChange}\n        content={content}\n        onContentChange={setContent}\n      >\n        <MenuSubProvider\n          scope={__scopeMenu}\n          contentId={useId()}\n          triggerId={useId()}\n          trigger={trigger}\n          onTriggerChange={setTrigger}\n        >\n          {children}\n        </MenuSubProvider>\n      </MenuProvider>\n    </PopperPrimitive.Root>\n  );\n};\n\nMenuSub.displayName = SUB_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuSubTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst SUB_TRIGGER_NAME = 'MenuSubTrigger';\n\ntype MenuSubTriggerElement = MenuItemImplElement;\ninterface MenuSubTriggerProps extends MenuItemImplProps {}\n\nconst MenuSubTrigger = React.forwardRef<MenuSubTriggerElement, MenuSubTriggerProps>(\n  (props: ScopedProps<MenuSubTriggerProps>, forwardedRef) => {\n    const context = useMenuContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const openTimerRef = React.useRef<number | null>(null);\n    const { pointerGraceTimerRef, onPointerGraceIntentChange } = contentContext;\n    const scope = { __scopeMenu: props.__scopeMenu };\n\n    const clearOpenTimer = React.useCallback(() => {\n      if (openTimerRef.current) window.clearTimeout(openTimerRef.current);\n      openTimerRef.current = null;\n    }, []);\n\n    React.useEffect(() => clearOpenTimer, [clearOpenTimer]);\n\n    React.useEffect(() => {\n      const pointerGraceTimer = pointerGraceTimerRef.current;\n      return () => {\n        window.clearTimeout(pointerGraceTimer);\n        onPointerGraceIntentChange(null);\n      };\n    }, [pointerGraceTimerRef, onPointerGraceIntentChange]);\n\n    return (\n      <MenuAnchor asChild {...scope}>\n        <MenuItemImpl\n          id={subContext.triggerId}\n          aria-haspopup=\"menu\"\n          aria-expanded={context.open}\n          aria-controls={subContext.contentId}\n          data-state={getOpenState(context.open)}\n          {...props}\n          ref={composeRefs(forwardedRef, subContext.onTriggerChange)}\n          // This is redundant for mouse users but we cannot determine pointer type from\n          // click event and we cannot use pointerup event (see git history for reasons why)\n          onClick={(event) => {\n            props.onClick?.(event);\n            if (props.disabled || event.defaultPrevented) return;\n            /**\n             * We manually focus because iOS Safari doesn't always focus on click (e.g. buttons)\n             * and we rely heavily on `onFocusOutside` for submenus to close when switching\n             * between separate submenus.\n             */\n            event.currentTarget.focus();\n            if (!context.open) context.onOpenChange(true);\n          }}\n          onPointerMove={composeEventHandlers(\n            props.onPointerMove,\n            whenMouse((event) => {\n              contentContext.onItemEnter(event);\n              if (event.defaultPrevented) return;\n              if (!props.disabled && !context.open && !openTimerRef.current) {\n                contentContext.onPointerGraceIntentChange(null);\n                openTimerRef.current = window.setTimeout(() => {\n                  context.onOpenChange(true);\n                  clearOpenTimer();\n                }, 100);\n              }\n            })\n          )}\n          onPointerLeave={composeEventHandlers(\n            props.onPointerLeave,\n            whenMouse((event) => {\n              clearOpenTimer();\n\n              const contentRect = context.content?.getBoundingClientRect();\n              if (contentRect) {\n                // TODO: make sure to update this when we change positioning logic\n                const side = context.content?.dataset.side as Side;\n                const rightSide = side === 'right';\n                const bleed = rightSide ? -5 : +5;\n                const contentNearEdge = contentRect[rightSide ? 'left' : 'right'];\n                const contentFarEdge = contentRect[rightSide ? 'right' : 'left'];\n\n                contentContext.onPointerGraceIntentChange({\n                  area: [\n                    // Apply a bleed on clientX to ensure that our exit point is\n                    // consistently within polygon bounds\n                    { x: event.clientX + bleed, y: event.clientY },\n                    { x: contentNearEdge, y: contentRect.top },\n                    { x: contentFarEdge, y: contentRect.top },\n                    { x: contentFarEdge, y: contentRect.bottom },\n                    { x: contentNearEdge, y: contentRect.bottom },\n                  ],\n                  side,\n                });\n\n                window.clearTimeout(pointerGraceTimerRef.current);\n                pointerGraceTimerRef.current = window.setTimeout(\n                  () => contentContext.onPointerGraceIntentChange(null),\n                  300\n                );\n              } else {\n                contentContext.onTriggerLeave(event);\n                if (event.defaultPrevented) return;\n\n                // There's 100ms where the user may leave an item before the submenu was opened.\n                contentContext.onPointerGraceIntentChange(null);\n              }\n            })\n          )}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            const isTypingAhead = contentContext.searchRef.current !== '';\n            if (props.disabled || (isTypingAhead && event.key === ' ')) return;\n            if (SUB_OPEN_KEYS[rootContext.dir].includes(event.key)) {\n              context.onOpenChange(true);\n              // The trigger may hold focus if opened via pointer interaction\n              // so we ensure content is given focus again when switching to keyboard.\n              context.content?.focus();\n              // prevent window from scrolling\n              event.preventDefault();\n            }\n          })}\n        />\n      </MenuAnchor>\n    );\n  }\n);\n\nMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuSubContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst SUB_CONTENT_NAME = 'MenuSubContent';\n\ntype MenuSubContentElement = MenuContentImplElement;\ninterface MenuSubContentProps\n  extends Omit<\n    MenuContentImplProps,\n    keyof MenuContentImplPrivateProps | 'onCloseAutoFocus' | 'onEntryFocus' | 'side' | 'align'\n  > {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst MenuSubContent = React.forwardRef<MenuSubContentElement, MenuSubContentProps>(\n  (props: ScopedProps<MenuSubContentProps>, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...subContentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_CONTENT_NAME, props.__scopeMenu);\n    const ref = React.useRef<MenuSubContentElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    return (\n      <Collection.Provider scope={props.__scopeMenu}>\n        <Presence present={forceMount || context.open}>\n          <Collection.Slot scope={props.__scopeMenu}>\n            <MenuContentImpl\n              id={subContext.contentId}\n              aria-labelledby={subContext.triggerId}\n              {...subContentProps}\n              ref={composedRefs}\n              align=\"start\"\n              side={rootContext.dir === 'rtl' ? 'left' : 'right'}\n              disableOutsidePointerEvents={false}\n              disableOutsideScroll={false}\n              trapFocus={false}\n              onOpenAutoFocus={(event) => {\n                // when opening a submenu, focus content for keyboard users only\n                if (rootContext.isUsingKeyboardRef.current) ref.current?.focus();\n                event.preventDefault();\n              }}\n              // The menu might close because of focusing another menu item in the parent menu. We\n              // don't want it to refocus the trigger in that case so we handle trigger focus ourselves.\n              onCloseAutoFocus={(event) => event.preventDefault()}\n              onFocusOutside={composeEventHandlers(props.onFocusOutside, (event) => {\n                // We prevent closing when the trigger is focused to avoid triggering a re-open animation\n                // on pointer interaction.\n                if (event.target !== subContext.trigger) context.onOpenChange(false);\n              })}\n              onEscapeKeyDown={composeEventHandlers(props.onEscapeKeyDown, (event) => {\n                rootContext.onClose();\n                // ensure pressing escape in submenu doesn't escape full screen mode\n                event.preventDefault();\n              })}\n              onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n                // Submenu key events bubble through portals. We only care about keys in this menu.\n                const isKeyDownInside = event.currentTarget.contains(event.target as HTMLElement);\n                const isCloseKey = SUB_CLOSE_KEYS[rootContext.dir].includes(event.key);\n                if (isKeyDownInside && isCloseKey) {\n                  context.onOpenChange(false);\n                  // We focus manually because we prevented it in `onCloseAutoFocus`\n                  subContext.trigger?.focus();\n                  // prevent window from scrolling\n                  event.preventDefault();\n                }\n              })}\n            />\n          </Collection.Slot>\n        </Presence>\n      </Collection.Provider>\n    );\n  }\n);\n\nMenuSubContent.displayName = SUB_CONTENT_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction getOpenState(open: boolean) {\n  return open ? 'open' : 'closed';\n}\n\nfunction isIndeterminate(checked?: CheckedState): checked is 'indeterminate' {\n  return checked === 'indeterminate';\n}\n\nfunction getCheckedState(checked: CheckedState) {\n  return isIndeterminate(checked) ? 'indeterminate' : checked ? 'checked' : 'unchecked';\n}\n\nfunction focusFirst(candidates: HTMLElement[]) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n  for (const candidate of candidates) {\n    // if focus is already where we want to go, we don't want to keep going through the candidates\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n    candidate.focus();\n    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n  }\n}\n\n/**\n * Wraps an array around itself at a given start index\n * Example: `wrapArray(['a', 'b', 'c', 'd'], 2) === ['c', 'd', 'a', 'b']`\n */\nfunction wrapArray<T>(array: T[], startIndex: number) {\n  return array.map<T>((_, index) => array[(startIndex + index) % array.length]!);\n}\n\n/**\n * This is the \"meat\" of the typeahead matching logic. It takes in all the values,\n * the search and the current match, and returns the next match (or `undefined`).\n *\n * We normalize the search because if a user has repeatedly pressed a character,\n * we want the exact same behavior as if we only had that one character\n * (ie. cycle through options starting with that character)\n *\n * We also reorder the values by wrapping the array around the current match.\n * This is so we always look forward from the current match, and picking the first\n * match will always be the correct one.\n *\n * Finally, if the normalized search is exactly one character, we exclude the\n * current match from the values because otherwise it would be the first to match always\n * and focus would never move. This is as opposed to the regular case, where we\n * don't want focus to move if the current match still matches.\n */\nfunction getNextMatch(values: string[], search: string, currentMatch?: string) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0]! : search;\n  const currentMatchIndex = currentMatch ? values.indexOf(currentMatch) : -1;\n  let wrappedValues = wrapArray(values, Math.max(currentMatchIndex, 0));\n  const excludeCurrentMatch = normalizedSearch.length === 1;\n  if (excludeCurrentMatch) wrappedValues = wrappedValues.filter((v) => v !== currentMatch);\n  const nextMatch = wrappedValues.find((value) =>\n    value.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextMatch !== currentMatch ? nextMatch : undefined;\n}\n\ntype Point = { x: number; y: number };\ntype Polygon = Point[];\ntype Side = 'left' | 'right';\ntype GraceIntent = { area: Polygon; side: Side };\n\n// Determine if a point is inside of a polygon.\n// Based on https://github.com/substack/point-in-polygon\nfunction isPointInPolygon(point: Point, polygon: Polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const ii = polygon[i]!;\n    const jj = polygon[j]!;\n    const xi = ii.x;\n    const yi = ii.y;\n    const xj = jj.x;\n    const yj = jj.y;\n\n    // prettier-ignore\n    const intersect = ((yi > y) !== (yj > y)) && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n    if (intersect) inside = !inside;\n  }\n\n  return inside;\n}\n\nfunction isPointerInGraceArea(event: React.PointerEvent, area?: Polygon) {\n  if (!area) return false;\n  const cursorPos = { x: event.clientX, y: event.clientY };\n  return isPointInPolygon(cursorPos, area);\n}\n\nfunction whenMouse<E>(handler: React.PointerEventHandler<E>): React.PointerEventHandler<E> {\n  return (event) => (event.pointerType === 'mouse' ? handler(event) : undefined);\n}\n\nconst Root = Menu;\nconst Anchor = MenuAnchor;\nconst Portal = MenuPortal;\nconst Content = MenuContent;\nconst Group = MenuGroup;\nconst Label = MenuLabel;\nconst Item = MenuItem;\nconst CheckboxItem = MenuCheckboxItem;\nconst RadioGroup = MenuRadioGroup;\nconst RadioItem = MenuRadioItem;\nconst ItemIndicator = MenuItemIndicator;\nconst Separator = MenuSeparator;\nconst Arrow = MenuArrow;\nconst Sub = MenuSub;\nconst SubTrigger = MenuSubTrigger;\nconst SubContent = MenuSubContent;\n\nexport {\n  createMenuScope,\n  //\n  Menu,\n  MenuAnchor,\n  MenuPortal,\n  MenuContent,\n  MenuGroup,\n  MenuLabel,\n  MenuItem,\n  MenuCheckboxItem,\n  MenuRadioGroup,\n  MenuRadioItem,\n  MenuItemIndicator,\n  MenuSeparator,\n  MenuArrow,\n  MenuSub,\n  MenuSubTrigger,\n  MenuSubContent,\n  //\n  Root,\n  Anchor,\n  Portal,\n  Content,\n  Group,\n  Label,\n  Item,\n  CheckboxItem,\n  RadioGroup,\n  RadioItem,\n  ItemIndicator,\n  Separator,\n  Arrow,\n  Sub,\n  SubTrigger,\n  SubContent,\n};\nexport type {\n  MenuProps,\n  MenuAnchorProps,\n  MenuPortalProps,\n  MenuContentProps,\n  MenuGroupProps,\n  MenuLabelProps,\n  MenuItemProps,\n  MenuCheckboxItemProps,\n  MenuRadioGroupProps,\n  MenuRadioItemProps,\n  MenuItemIndicatorProps,\n  MenuSeparatorProps,\n  MenuArrowProps,\n  MenuSubProps,\n  MenuSubTriggerProps,\n  MenuSubContentProps,\n};\n", "\nimport { useCallback, useEffect, useRef } from 'react'\nimport { Layout, Layouts } from 'react-grid-layout'\nimport { trpc } from '../lib/trpc'\nimport { useToast } from './use-toast'\n\ninterface Panel {\n  id: string\n  type: string\n  title: string\n  position_x: number\n  position_y: number\n  width: number\n  height: number\n  is_minimized: boolean\n  is_locked: boolean\n  data: Record<string, any>\n}\n\ninterface LayoutData {\n  panels: Panel[]\n  gridLayout: {\n    lg: Layout[]\n    md?: Layout[]\n    sm?: Layout[]\n    xs?: Layout[]\n    xxs?: Layout[]\n  }\n}\n\ninterface UseLayoutPersistenceOptions {\n  workspaceId: string\n  panels: Panel[]\n  autoSaveInterval?: number // in milliseconds, default 30000 (30 seconds)\n  enabled?: boolean\n}\n\nexport function useLayoutPersistence({\n  workspaceId,\n  panels,\n  autoSaveInterval = 30000,\n  enabled = true\n}: UseLayoutPersistenceOptions) {\n  const { toast } = useToast()\n  const autoSaveTimeoutRef = useRef<NodeJS.Timeout>()\n  const lastSavedLayoutRef = useRef<string>('')\n\n  const savePresetMutation = trpc.layout.savePreset.useMutation({\n    onSuccess: (data) => {\n      toast({\n        title: 'Layout Saved',\n        description: `Layout preset \"${data.name}\" saved successfully`,\n      })\n    },\n    onError: (error) => {\n      toast({\n        title: 'Save Failed',\n        description: error.message,\n        variant: 'destructive',\n      })\n    }\n  })\n\n  const loadPresetMutation = trpc.layout.loadPreset.useMutation({\n    onSuccess: (data) => {\n      toast({\n        title: 'Layout Loaded',\n        description: data.message,\n      })\n      window.location.reload()\n    },\n    onError: (error) => {\n      toast({\n        title: 'Load Failed',\n        description: error.message,\n        variant: 'destructive',\n      })\n    }\n  })\n\n  const autoSaveMutation = trpc.layout.autoSave.useMutation({\n    onError: (error) => {\n      console.warn('Auto-save failed:', error.message)\n    }\n  })\n\n  const { data: presets = [], refetch: refetchPresets } = trpc.layout.listPresets.useQuery(\n    { workspaceId },\n    { enabled: enabled && !!workspaceId }\n  )\n\n  const deletePresetMutation = trpc.layout.deletePreset.useMutation({\n    onSuccess: () => {\n      toast({\n        title: 'Layout Deleted',\n        description: 'Layout preset deleted successfully',\n      })\n      refetchPresets()\n    },\n    onError: (error) => {\n      toast({\n        title: 'Delete Failed',\n        description: error.message,\n        variant: 'destructive',\n      })\n    }\n  })\n\n  const setDefaultMutation = trpc.layout.setDefaultPreset.useMutation({\n    onSuccess: () => {\n      toast({\n        title: 'Default Set',\n        description: 'Default layout preset updated',\n      })\n      refetchPresets()\n    },\n    onError: (error) => {\n      toast({\n        title: 'Update Failed',\n        description: error.message,\n        variant: 'destructive',\n      })\n    }\n  })\n\n  const generateLayoutData = useCallback((currentPanels: Panel[], layouts?: Layouts): LayoutData => {\n    const gridLayout = layouts || {\n      lg: currentPanels.map(panel => ({\n        i: panel.id,\n        x: panel.position_x,\n        y: panel.position_y,\n        w: panel.width,\n        h: panel.height,\n        minW: 2,\n        minH: 2,\n        maxW: 24,\n        maxH: 24,\n        isDraggable: !panel.is_locked,\n        isResizable: !panel.is_locked\n      }))\n    }\n\n    return {\n      panels: currentPanels,\n      gridLayout\n    }\n  }, [])\n\n  const savePreset = useCallback((name: string, description?: string, isDefault = false) => {\n    if (!enabled || !workspaceId || panels.length === 0) return\n\n    const layoutData = generateLayoutData(panels)\n    \n    savePresetMutation.mutate({\n      workspaceId,\n      name,\n      description,\n      isDefault,\n      layoutData\n    })\n  }, [enabled, workspaceId, panels, generateLayoutData, savePresetMutation])\n\n  const loadPreset = useCallback((presetId: string) => {\n    if (!enabled || !workspaceId) return\n\n    loadPresetMutation.mutate({\n      presetId,\n      workspaceId\n    })\n  }, [enabled, workspaceId, loadPresetMutation])\n\n  const deletePreset = useCallback((presetId: string) => {\n    if (!enabled || !workspaceId) return\n\n    deletePresetMutation.mutate({\n      presetId,\n      workspaceId\n    })\n  }, [enabled, workspaceId, deletePresetMutation])\n\n  const setDefaultPreset = useCallback((presetId: string) => {\n    if (!enabled || !workspaceId) return\n\n    setDefaultMutation.mutate({\n      presetId,\n      workspaceId\n    })\n  }, [enabled, workspaceId, setDefaultMutation])\n\n  const performAutoSave = useCallback(() => {\n    if (!enabled || !workspaceId || panels.length === 0) return\n\n    const layoutData = generateLayoutData(panels)\n    const layoutString = JSON.stringify(layoutData)\n\n    if (layoutString !== lastSavedLayoutRef.current) {\n      autoSaveMutation.mutate({\n        workspaceId,\n        layoutData\n      })\n      lastSavedLayoutRef.current = layoutString\n    }\n  }, [enabled, workspaceId, panels, generateLayoutData, autoSaveMutation])\n\n  const scheduleAutoSave = useCallback(() => {\n    if (!enabled || autoSaveInterval <= 0) return\n\n    if (autoSaveTimeoutRef.current) {\n      clearTimeout(autoSaveTimeoutRef.current)\n    }\n\n    autoSaveTimeoutRef.current = setTimeout(() => {\n      performAutoSave()\n      scheduleAutoSave() // Schedule next auto-save\n    }, autoSaveInterval)\n  }, [enabled, autoSaveInterval, performAutoSave])\n\n  const onLayoutChange = useCallback((layouts: Layouts) => {\n    if (!enabled) return\n\n    const layoutData = generateLayoutData(panels, layouts)\n    lastSavedLayoutRef.current = JSON.stringify(layoutData)\n\n    scheduleAutoSave()\n  }, [enabled, panels, generateLayoutData, scheduleAutoSave])\n\n  useEffect(() => {\n    if (enabled && panels.length > 0) {\n      scheduleAutoSave()\n    }\n\n    return () => {\n      if (autoSaveTimeoutRef.current) {\n        clearTimeout(autoSaveTimeoutRef.current)\n      }\n    }\n  }, [enabled, panels.length, scheduleAutoSave])\n\n  useEffect(() => {\n    if (enabled && panels.length > 0) {\n      const layoutData = generateLayoutData(panels)\n      const layoutString = JSON.stringify(layoutData)\n      \n      if (lastSavedLayoutRef.current && layoutString !== lastSavedLayoutRef.current) {\n        const lastData = JSON.parse(lastSavedLayoutRef.current)\n        const currentData = layoutData\n        \n        if (lastData.panels.length !== currentData.panels.length) {\n          performAutoSave()\n        }\n      }\n    }\n  }, [enabled, panels, generateLayoutData, performAutoSave])\n\n  return {\n    presets,\n    savePreset,\n    loadPreset,\n    deletePreset,\n    setDefaultPreset,\n    refetchPresets,\n\n    performAutoSave,\n    onLayoutChange,\n\n    isSaving: savePresetMutation.isLoading,\n    isLoading: loadPresetMutation.isLoading,\n    isDeleting: deletePresetMutation.isLoading,\n    isSettingDefault: setDefaultMutation.isLoading,\n\n    isAutoSaving: autoSaveMutation.isLoading,\n\n    generateLayoutData\n  }\n}", "import React, { useState, useEffect } from 'react'\nimport { \n  PlusIcon, \n  SearchIcon, \n  BellIcon, \n  SettingsIcon, \n  ChevronDownIcon,\n  ZapIcon,\n  CommandIcon,\n  FolderIcon,\n  UsersIcon,\n  RefreshCwIcon,\n  WifiIcon,\n  WifiOffIcon,\n  MoreHorizontalIcon,\n  KeyboardIcon,\n  Columns,\n  MessageCircle,\n  Calendar,\n  StickyNote,\n  Mail,\n  Users,\n  Settings2,\n  Minimize2,\n  Maximize2,\n  Lock,\n  Unlock,\n  Trash2,\n  Loader2,\n  Bot\n} from 'lucide-react'\nimport { Button } from '../ui/button'\nimport { Avatar, AvatarFallback, AvatarImage } from '../ui/avatar'\nimport { Badge } from '../ui/badge'\nimport { \n  DropdownMenu, \n  DropdownMenuContent, \n  DropdownMenuItem, \n  DropdownMenuTrigger,\n  DropdownMenuSeparator,\n  DropdownMenuLabel,\n  DropdownMenuShortcut\n} from '../ui/dropdown-menu'\nimport { Input } from '../ui/input'\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '../ui/tooltip'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from '../ui/dialog'\nimport { FloatingInput } from '../ui/floating-input'\nimport CommandPalette from './CommandPalette'\nimport KeyboardShortcuts from './KeyboardShortcuts'\nimport LayoutManager from './LayoutManager'\nimport { trpc } from '../../lib/trpc'\nimport { useAuthStore } from '../../stores/auth-store'\nimport { cn } from '../../lib/utils'\n\ninterface WorkspaceHeaderConsolidatedProps {\n  workspaceId: string\n  panels?: any[]\n  currentPanel?: {\n    type: string\n    id: string\n    title?: string\n  }\n  onNavigate?: (path: string) => void\n  onCreatePanel?: (type: string) => void\n  onAction?: (action: string) => void\n  className?: string\n}\n\nconst PANEL_TYPES = [\n  { \n    type: 'KANBAN', \n    icon: Columns, \n    label: 'Kanban',\n    description: 'Task management with drag-and-drop columns',\n    defaultTitle: 'New Kanban'\n  },\n  { \n    type: 'CHAT', \n    icon: MessageCircle, \n    label: 'Chat',\n    description: 'Team communication and messaging',\n    defaultTitle: 'Team Chat'\n  },\n  { \n    type: 'AI_CHAT', \n    icon: Bot, \n    label: 'AI Assistant',\n    description: 'Gemini 2.5 Flash AI-powered assistant',\n    defaultTitle: 'AI Assistant'\n  },\n  { \n    type: 'CALENDAR', \n    icon: Calendar, \n    label: 'Calendar',\n    description: 'Schedule and event management',\n    defaultTitle: 'Calendar'\n  },\n  { \n    type: 'NOTES', \n    icon: StickyNote, \n    label: 'Notes',\n    description: 'Quick notes and documentation',\n    defaultTitle: 'Notes'\n  },\n  { \n    type: 'EMAIL', \n    icon: Mail, \n    label: 'Email',\n    description: 'Email management and communication',\n    defaultTitle: 'Email'\n  },\n  { \n    type: 'CONTACTS', \n    icon: Users, \n    label: 'Contacts',\n    description: 'Contact and customer management',\n    defaultTitle: 'Contacts'\n  }\n] as const\n\nexport default function WorkspaceHeaderConsolidated({\n  workspaceId,\n  panels = [],\n  currentPanel,\n  onNavigate,\n  onCreatePanel,\n  onAction,\n  className\n}: WorkspaceHeaderConsolidatedProps) {\n  const [isCommandPaletteOpen, setIsCommandPaletteOpen] = useState(false)\n  const [isKeyboardShortcutsOpen, setIsKeyboardShortcutsOpen] = useState(false)\n  const [isCustomPanelOpen, setIsCustomPanelOpen] = useState(false)\n  const [isOnline, setIsOnline] = useState(navigator.onLine)\n  const [searchQuery, setSearchQuery] = useState('')\n  const [selectedType, setSelectedType] = useState<string | null>(null)\n  const [customTitle, setCustomTitle] = useState('')\n  const { user } = useAuthStore()\n\n  // tRPC hooks\n  const utils = trpc.useUtils()\n  const { data: workspaces = [] } = trpc.workspace.list.useQuery()\n  const { data: currentWorkspace } = trpc.workspace.findById.useQuery(\n    { id: workspaceId },\n    { enabled: !!workspaceId }\n  )\n  const { data: notifications = [] } = trpc.notification.list.useQuery(\n    { workspaceId, unreadOnly: true },\n    { enabled: !!workspaceId }\n  )\n  const { data: kanbans = [] } = trpc.kanban.list.useQuery({ workspaceId })\n  const { data: chatThreads = [] } = trpc.chat.listThreads.useQuery({ workspaceId })\n\n  // Panel mutations\n  const createPanel = trpc.panel.create.useMutation({\n    onSuccess: () => {\n      utils.panel.list.invalidate({ workspaceId })\n      setIsCustomPanelOpen(false)\n      setSelectedType(null)\n      setCustomTitle('')\n    }\n  })\n\n  const toggleMinimizeAll = trpc.panel.toggleMinimizeAll.useMutation({\n    onSuccess: () => utils.panel.list.invalidate({ workspaceId })\n  })\n\n  const toggleLockAll = trpc.panel.toggleLockAll.useMutation({\n    onSuccess: () => utils.panel.list.invalidate({ workspaceId })\n  })\n\n  const deleteAll = trpc.panel.deleteAll.useMutation({\n    onSuccess: () => utils.panel.list.invalidate({ workspaceId })\n  })\n\n  const exitAllFullscreen = trpc.panel.exitAllFullscreen.useMutation({\n    onSuccess: () => utils.panel.list.invalidate({ workspaceId })\n  })\n\n  // Monitor online status\n  useEffect(() => {\n    const handleOnline = () => setIsOnline(true)\n    const handleOffline = () => setIsOnline(false)\n    \n    window.addEventListener('online', handleOnline)\n    window.addEventListener('offline', handleOffline)\n    \n    return () => {\n      window.removeEventListener('online', handleOnline)\n      window.removeEventListener('offline', handleOffline)\n    }\n  }, [])\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if ((e.metaKey || e.ctrlKey) && e.key === 'k') {\n        e.preventDefault()\n        setIsCommandPaletteOpen(true)\n      }\n      if ((e.metaKey || e.ctrlKey) && e.key === 'n') {\n        e.preventDefault()\n        handleQuickCreate('KANBAN')\n      }\n      if ((e.metaKey || e.ctrlKey) && e.key === '?') {\n        e.preventDefault()\n        setIsKeyboardShortcutsOpen(true)\n      }\n    }\n\n    document.addEventListener('keydown', handleKeyDown)\n    return () => document.removeEventListener('keydown', handleKeyDown)\n  }, [])\n\n  // Panel creation handlers\n  const handleQuickCreate = (type: string) => {\n    const panelType = PANEL_TYPES.find(p => p.type === type)\n    if (!panelType) return\n\n    let data: Record<string, any> = { workspaceId }\n    let size = { width: 4, height: 3 }\n\n    if (type === 'KANBAN') {\n      size = { width: 8, height: 6 }\n      // Create new empty Kanban board - don't reference existing ones\n      data = { workspaceId, createNew: true }\n    } else if (type === 'CHAT') {\n      size = { width: 4, height: 5 }\n      // Create new chat thread - don't reference existing ones\n      data = { workspaceId, createNew: true }\n    } else if (type === 'NOTES') {\n      size = { width: 6, height: 5 }\n      // Notes panel starts empty by default\n      data = { workspaceId, createNew: true }\n    }\n\n    createPanel.mutate({\n      type: type as any,\n      title: panelType.defaultTitle,\n      workspaceId,\n      position: { x: 0, y: 0 },\n      size,\n      data\n    })\n\n    onCreatePanel?.(type)\n  }\n\n  const handleCustomCreate = () => {\n    if (!selectedType) return\n\n    const panelType = PANEL_TYPES.find(p => p.type === selectedType)\n    if (!panelType) return\n\n    const title = customTitle.trim() || panelType.defaultTitle\n\n    let data: Record<string, any> = { workspaceId, createNew: true }\n    let size = { width: 4, height: 3 }\n    \n    if (selectedType === 'KANBAN') {\n      size = { width: 8, height: 6 }\n    } else if (selectedType === 'CHAT') {\n      size = { width: 4, height: 5 }\n    } else if (selectedType === 'NOTES') {\n      size = { width: 6, height: 5 }\n    }\n\n    createPanel.mutate({\n      type: selectedType as any,\n      title,\n      workspaceId,\n      position: { x: 0, y: 0 },\n      size,\n      data\n    })\n  }\n\n  // Panel control handlers\n  const handleMinimizeAll = () => {\n    const hasMinimized = panels.some((panel: any) => panel.is_minimized)\n    toggleMinimizeAll.mutate({ \n      workspaceId, \n      minimize: !hasMinimized\n    })\n  }\n\n  const handleLockAll = () => {\n    const hasLocked = panels.some((panel: any) => panel.is_locked)\n    toggleLockAll.mutate({ \n      workspaceId, \n      lock: !hasLocked\n    })\n  }\n\n  const handleDeleteAll = () => {\n    if (confirm(`Delete all ${panels.length} panels in this workspace?`)) {\n      deleteAll.mutate({ workspaceId })\n    }\n  }\n\n  const handleExitAllFullscreen = () => {\n    exitAllFullscreen.mutate({ workspaceId })\n  }\n\n  // Panel state checks\n  const hasMinimizedPanels = panels.some((panel: any) => panel.is_minimized)\n  const hasLockedPanels = panels.some((panel: any) => panel.is_locked)\n  const hasFullscreenPanels = panels.some((panel: any) => {\n    try {\n      const panelData = typeof panel.data === 'string' ? JSON.parse(panel.data) : panel.data\n      return panelData?.isFullscreen === true\n    } catch {\n      return false\n    }\n  })\n\n  return (\n    <TooltipProvider>\n      <header className={cn(\n        \"h-16 bg-white border-b border-gray-200 px-4 flex items-center justify-between shadow-sm\",\n        className\n      )}>\n        {/* Left Section - Workspace + Layout Manager */}\n        <div className=\"flex items-center space-x-4\">\n          {/* Workspace Switcher */}\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"ghost\" className=\"h-10 px-3 hover:bg-gray-50\">\n                <div className=\"flex items-center space-x-2\">\n                  <FolderIcon className=\"w-4 h-4 text-krushr-primary\" />\n                  <span className=\"font-semibold text-gray-900 max-w-32 truncate\">\n                    {currentWorkspace?.name || 'Workspace'}\n                  </span>\n                  <ChevronDownIcon className=\"w-4 h-4 text-gray-500\" />\n                </div>\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"start\" className=\"w-64\">\n              <DropdownMenuLabel>Switch Workspace</DropdownMenuLabel>\n              <DropdownMenuSeparator />\n              {workspaces.map((workspace: any) => (\n                <DropdownMenuItem\n                  key={workspace.id}\n                  onClick={() => onNavigate?.(`/workspace/${workspace.id}`)}\n                  className=\"flex items-center space-x-3 p-3\"\n                >\n                  <FolderIcon className=\"w-4 h-4 text-gray-500\" />\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"font-medium text-sm truncate\">{workspace.name}</div>\n                    <div className=\"text-xs text-gray-500\">\n                      {workspace.memberCount || 0} members\n                    </div>\n                  </div>\n                  {workspace.id === workspaceId && (\n                    <Badge variant=\"secondary\" className=\"text-xs\">Current</Badge>\n                  )}\n                </DropdownMenuItem>\n              ))}\n              <DropdownMenuSeparator />\n              <DropdownMenuItem onClick={() => onNavigate?.('/workspaces/new')}>\n                <PlusIcon className=\"w-4 h-4 mr-2\" />\n                Create Workspace\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n\n          {/* Layout Manager */}\n          <LayoutManager \n            workspaceId={workspaceId}\n            panels={panels}\n          />\n        </div>\n\n        {/* Center Section - Smart Search */}\n        <div className=\"flex-1 max-w-2xl mx-8\">\n          <div className=\"relative\">\n            <SearchIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\n            <Input\n              placeholder=\"Search workspace or type \u2318K for commands...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"pl-10 pr-20 h-9 bg-gray-50 border-gray-200 focus:bg-white focus:border-krushr-primary\"\n              onFocus={() => setIsCommandPaletteOpen(true)}\n            />\n            <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-1\">\n              <kbd className=\"px-1.5 py-0.5 text-xs font-medium bg-gray-100 border border-gray-200 rounded\">\n                \u2318K\n              </kbd>\n            </div>\n          </div>\n        </div>\n\n        {/* Right Section - Panel Controls + Quick Actions + Global Controls */}\n        <div className=\"flex items-center space-x-2\">\n          {/* Quick Panel Creation */}\n          <div className=\"flex items-center space-x-1\">\n            {PANEL_TYPES.slice(0, 4).map(({ type, icon: Icon, label }) => (\n              <Tooltip key={type}>\n                <TooltipTrigger asChild>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handleQuickCreate(type)}\n                    disabled={createPanel.isLoading}\n                    className=\"h-8 w-8 p-0 hover:bg-krushr-secondary hover:text-white\"\n                  >\n                    <Icon className=\"w-4 h-4\" />\n                  </Button>\n                </TooltipTrigger>\n                <TooltipContent>\n                  <span className=\"text-xs\">Add {label}</span>\n                </TooltipContent>\n              </Tooltip>\n            ))}\n            \n            {/* More panels dropdown */}\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button variant=\"outline\" size=\"sm\" className=\"h-8 w-8 p-0\">\n                  <PlusIcon className=\"w-4 h-4\" />\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\">\n                <DropdownMenuLabel>More Panels</DropdownMenuLabel>\n                <DropdownMenuSeparator />\n                {PANEL_TYPES.slice(4).map(({ type, icon: Icon, label }) => (\n                  <DropdownMenuItem\n                    key={type}\n                    onClick={() => handleQuickCreate(type)}\n                    className=\"flex items-center gap-2\"\n                  >\n                    <Icon className=\"w-4 h-4\" />\n                    {label}\n                  </DropdownMenuItem>\n                ))}\n                <DropdownMenuSeparator />\n                <DropdownMenuItem onClick={() => setIsCustomPanelOpen(true)}>\n                  <Settings2 className=\"w-4 h-4 mr-2\" />\n                  Custom Panel...\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          </div>\n\n          {/* Panel Controls (when panels exist) */}\n          {panels.length > 0 && (\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button variant=\"outline\" size=\"sm\" className=\"h-8 w-8 p-0\">\n                  <Settings2 className=\"w-4 h-4\" />\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\" className=\"w-48\">\n                <DropdownMenuLabel>Panel Controls</DropdownMenuLabel>\n                <DropdownMenuSeparator />\n                <DropdownMenuItem \n                  onClick={handleMinimizeAll}\n                  disabled={toggleMinimizeAll.isPending}\n                  className=\"flex items-center gap-2\"\n                >\n                  {hasMinimizedPanels ? (\n                    <>\n                      <Maximize2 className=\"w-4 h-4\" />\n                      Restore All\n                    </>\n                  ) : (\n                    <>\n                      <Minimize2 className=\"w-4 h-4\" />\n                      Minimize All\n                    </>\n                  )}\n                </DropdownMenuItem>\n                \n                <DropdownMenuItem \n                  onClick={handleLockAll}\n                  disabled={toggleLockAll.isPending}\n                  className=\"flex items-center gap-2\"\n                >\n                  {hasLockedPanels ? (\n                    <>\n                      <Unlock className=\"w-4 h-4\" />\n                      Unlock All\n                    </>\n                  ) : (\n                    <>\n                      <Lock className=\"w-4 h-4\" />\n                      Lock All\n                    </>\n                  )}\n                </DropdownMenuItem>\n\n                {hasFullscreenPanels && (\n                  <DropdownMenuItem \n                    onClick={handleExitAllFullscreen}\n                    disabled={exitAllFullscreen.isPending}\n                    className=\"flex items-center gap-2\"\n                  >\n                    <Minimize2 className=\"w-4 h-4\" />\n                    Exit All Fullscreen\n                  </DropdownMenuItem>\n                )}\n\n                <DropdownMenuSeparator />\n\n                <DropdownMenuItem \n                  onClick={handleDeleteAll}\n                  disabled={deleteAll.isPending}\n                  className=\"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50\"\n                >\n                  <Trash2 className=\"w-4 h-4\" />\n                  Delete All Panels\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          )}\n\n          {/* Quick Actions */}\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                size=\"sm\"\n                onClick={() => setIsCommandPaletteOpen(true)}\n                className=\"h-8 w-8 p-0 bg-krushr-info hover:bg-krushr-info/90 text-white\"\n              >\n                <CommandIcon className=\"w-4 h-4\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>\n              <div className=\"text-center\">\n                <div className=\"font-medium\">Command Palette</div>\n                <div className=\"text-xs opacity-70\">\u2318K</div>\n              </div>\n            </TooltipContent>\n          </Tooltip>\n\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                size=\"sm\"\n                onClick={() => onAction?.('ai-assistant')}\n                className=\"h-8 w-8 p-0 bg-krushr-success hover:bg-krushr-success/90 text-white\"\n              >\n                <ZapIcon className=\"w-4 h-4\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>\n              <div className=\"text-center\">\n                <div className=\"font-medium\">AI Assistant</div>\n                <div className=\"text-xs opacity-70\">\u2318\u21E7A</div>\n              </div>\n            </TooltipContent>\n          </Tooltip>\n\n          {/* Sync Status */}\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n                {isOnline ? (\n                  <WifiIcon className=\"w-4 h-4 text-krushr-success\" />\n                ) : (\n                  <WifiIcon className=\"w-4 h-4 text-krushr-warning\" />\n                )}\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>\n              <span className=\"text-xs\">{isOnline ? 'Connected' : 'Offline'}</span>\n            </TooltipContent>\n          </Tooltip>\n\n          {/* Notifications */}\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0 relative\">\n                <BellIcon className=\"w-4 h-4\" />\n                {notifications.length > 0 && (\n                  <Badge className=\"absolute -top-1 -right-1 h-4 w-4 p-0 text-xs bg-krushr-secondary\">\n                    {notifications.length > 9 ? '9+' : notifications.length}\n                  </Badge>\n                )}\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>\n              <span className=\"text-xs\">\n                {notifications.length > 0 ? \n                  `${notifications.length} new notifications` : \n                  'No notifications'\n                }\n              </span>\n            </TooltipContent>\n          </Tooltip>\n\n          {/* Global Controls */}\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n                <MoreHorizontalIcon className=\"w-4 h-4\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\" className=\"w-56\">\n              <DropdownMenuLabel>Global Controls</DropdownMenuLabel>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem onClick={() => onAction?.('save-layout')}>\n                Save Layout\n                <DropdownMenuShortcut>\u2318S</DropdownMenuShortcut>\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={() => onAction?.('load-layout')}>\n                Load Layout\n                <DropdownMenuShortcut>\u2318L</DropdownMenuShortcut>\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={() => onAction?.('focus-mode')}>\n                Focus Mode\n                <DropdownMenuShortcut>\u2318\u21E7F</DropdownMenuShortcut>\n              </DropdownMenuItem>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem onClick={() => setIsKeyboardShortcutsOpen(true)}>\n                Keyboard Shortcuts\n                <DropdownMenuShortcut>\u2318?</DropdownMenuShortcut>\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n\n          {/* Settings */}\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"h-8 w-8 p-0\"\n                onClick={() => onNavigate?.('/settings')}\n              >\n                <SettingsIcon className=\"w-4 h-4\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>\n              <span className=\"text-xs\">Settings</span>\n            </TooltipContent>\n          </Tooltip>\n\n          {/* User Menu */}\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"ghost\" className=\"h-8 w-8 p-0 rounded-full\">\n                <Avatar className=\"h-8 w-8\">\n                  <AvatarImage src={user?.avatar} />\n                  <AvatarFallback className=\"text-xs bg-krushr-primary text-white\">\n                    {user?.name?.charAt(0)?.toUpperCase() || 'U'}\n                  </AvatarFallback>\n                </Avatar>\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\" className=\"w-56\">\n              <DropdownMenuLabel>\n                <div className=\"flex flex-col space-y-1\">\n                  <p className=\"text-sm font-medium\">{user?.name || 'User'}</p>\n                  <p className=\"text-xs text-gray-500\">{user?.email}</p>\n                </div>\n              </DropdownMenuLabel>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem onClick={() => onNavigate?.('/profile')}>\n                Profile Settings\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={() => onNavigate?.('/preferences')}>\n                Preferences\n              </DropdownMenuItem>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem onClick={() => onAction?.('logout')}>\n                Sign Out\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n\n        {/* Custom Panel Creation Dialog */}\n        <Dialog open={isCustomPanelOpen} onOpenChange={setIsCustomPanelOpen}>\n          <DialogContent className=\"sm:max-w-md\">\n            <DialogHeader>\n              <DialogTitle>Create Custom Panel</DialogTitle>\n              <DialogDescription>\n                Choose a panel type and customize its settings.\n              </DialogDescription>\n            </DialogHeader>\n            \n            <div className=\"space-y-4\">\n              {/* Panel type selection */}\n              <div>\n                <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                  Panel Type\n                </label>\n                <div className=\"grid grid-cols-2 gap-2\">\n                  {PANEL_TYPES.map(({ type, icon: Icon, label, description }) => (\n                    <button\n                      key={type}\n                      onClick={() => setSelectedType(type)}\n                      className={cn(\n                        \"p-3 border rounded-lg text-left transition-all\",\n                        selectedType === type\n                          ? \"border-krushr-primary bg-krushr-primary/5\"\n                          : \"border-gray-200 hover:border-gray-300\"\n                      )}\n                    >\n                      <div className=\"flex items-center gap-2 mb-1\">\n                        <Icon className=\"w-4 h-4 text-krushr-secondary\" />\n                        <span className=\"font-medium text-sm\">{label}</span>\n                      </div>\n                      <p className=\"text-xs text-gray-600\">{description}</p>\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Custom title */}\n              {selectedType && (\n                <div>\n                  <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                    Panel Title\n                  </label>\n                  <FloatingInput\n                    label=\"Panel Title\"\n                    placeholder={PANEL_TYPES.find(p => p.type === selectedType)?.defaultTitle}\n                    value={customTitle}\n                    onChange={(e) => setCustomTitle(e.target.value)}\n                  />\n                </div>\n              )}\n\n              {/* Create button */}\n              <div className=\"flex justify-end gap-2\">\n                <Button \n                  variant=\"outline\" \n                  onClick={() => setIsCustomPanelOpen(false)}\n                >\n                  Cancel\n                </Button>\n                <Button \n                  onClick={handleCustomCreate}\n                  disabled={!selectedType || createPanel.isLoading}\n                  className=\"bg-krushr-primary hover:bg-krushr-primary/90\"\n                >\n                  {createPanel.isLoading ? (\n                    <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                  ) : (\n                    <PlusIcon className=\"w-4 h-4 mr-2\" />\n                  )}\n                  Create Panel\n                </Button>\n              </div>\n            </div>\n          </DialogContent>\n        </Dialog>\n\n        {/* Command Palette */}\n        <CommandPalette\n          isOpen={isCommandPaletteOpen}\n          onOpenChange={setIsCommandPaletteOpen}\n          workspaceId={workspaceId}\n          onNavigate={onNavigate}\n          onCreatePanel={onCreatePanel}\n          onAction={onAction}\n        />\n\n        {/* Keyboard Shortcuts Dialog */}\n        <KeyboardShortcuts\n          isOpen={isKeyboardShortcutsOpen}\n          onOpenChange={setIsKeyboardShortcutsOpen}\n        />\n      </header>\n    </TooltipProvider>\n  )\n}", "\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Portal>\n    <TooltipPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </TooltipPrimitive.Portal>\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n", "import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { DismissableLayer } from '@radix-ui/react-dismissable-layer';\nimport { useId } from '@radix-ui/react-id';\nimport * as PopperPrimitive from '@radix-ui/react-popper';\nimport { createPopperScope } from '@radix-ui/react-popper';\nimport { Portal as PortalPrimitive } from '@radix-ui/react-portal';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { createSlottable } from '@radix-ui/react-slot';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport * as VisuallyHiddenPrimitive from '@radix-ui/react-visually-hidden';\n\nimport type { Scope } from '@radix-ui/react-context';\n\ntype ScopedProps<P = {}> = P & { __scopeTooltip?: Scope };\nconst [createTooltipContext, createTooltipScope] = createContextScope('Tooltip', [\n  createPopperScope,\n]);\nconst usePopperScope = createPopperScope();\n\n/* -------------------------------------------------------------------------------------------------\n * TooltipProvider\n * -----------------------------------------------------------------------------------------------*/\n\nconst PROVIDER_NAME = 'TooltipProvider';\nconst DEFAULT_DELAY_DURATION = 700;\nconst TOOLTIP_OPEN = 'tooltip.open';\n\ntype TooltipProviderContextValue = {\n  isOpenDelayedRef: React.MutableRefObject<boolean>;\n  delayDuration: number;\n  onOpen(): void;\n  onClose(): void;\n  onPointerInTransitChange(inTransit: boolean): void;\n  isPointerInTransitRef: React.MutableRefObject<boolean>;\n  disableHoverableContent: boolean;\n};\n\nconst [TooltipProviderContextProvider, useTooltipProviderContext] =\n  createTooltipContext<TooltipProviderContextValue>(PROVIDER_NAME);\n\ninterface TooltipProviderProps {\n  children: React.ReactNode;\n  /**\n   * The duration from when the pointer enters the trigger until the tooltip gets opened.\n   * @defaultValue 700\n   */\n  delayDuration?: number;\n  /**\n   * How much time a user has to enter another trigger without incurring a delay again.\n   * @defaultValue 300\n   */\n  skipDelayDuration?: number;\n  /**\n   * When `true`, trying to hover the content will result in the tooltip closing as the pointer leaves the trigger.\n   * @defaultValue false\n   */\n  disableHoverableContent?: boolean;\n}\n\nconst TooltipProvider: React.FC<TooltipProviderProps> = (\n  props: ScopedProps<TooltipProviderProps>\n) => {\n  const {\n    __scopeTooltip,\n    delayDuration = DEFAULT_DELAY_DURATION,\n    skipDelayDuration = 300,\n    disableHoverableContent = false,\n    children,\n  } = props;\n  const isOpenDelayedRef = React.useRef(true);\n  const isPointerInTransitRef = React.useRef(false);\n  const skipDelayTimerRef = React.useRef(0);\n\n  React.useEffect(() => {\n    const skipDelayTimer = skipDelayTimerRef.current;\n    return () => window.clearTimeout(skipDelayTimer);\n  }, []);\n\n  return (\n    <TooltipProviderContextProvider\n      scope={__scopeTooltip}\n      isOpenDelayedRef={isOpenDelayedRef}\n      delayDuration={delayDuration}\n      onOpen={React.useCallback(() => {\n        window.clearTimeout(skipDelayTimerRef.current);\n        isOpenDelayedRef.current = false;\n      }, [])}\n      onClose={React.useCallback(() => {\n        window.clearTimeout(skipDelayTimerRef.current);\n        skipDelayTimerRef.current = window.setTimeout(\n          () => (isOpenDelayedRef.current = true),\n          skipDelayDuration\n        );\n      }, [skipDelayDuration])}\n      isPointerInTransitRef={isPointerInTransitRef}\n      onPointerInTransitChange={React.useCallback((inTransit: boolean) => {\n        isPointerInTransitRef.current = inTransit;\n      }, [])}\n      disableHoverableContent={disableHoverableContent}\n    >\n      {children}\n    </TooltipProviderContextProvider>\n  );\n};\n\nTooltipProvider.displayName = PROVIDER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * Tooltip\n * -----------------------------------------------------------------------------------------------*/\n\nconst TOOLTIP_NAME = 'Tooltip';\n\ntype TooltipContextValue = {\n  contentId: string;\n  open: boolean;\n  stateAttribute: 'closed' | 'delayed-open' | 'instant-open';\n  trigger: TooltipTriggerElement | null;\n  onTriggerChange(trigger: TooltipTriggerElement | null): void;\n  onTriggerEnter(): void;\n  onTriggerLeave(): void;\n  onOpen(): void;\n  onClose(): void;\n  disableHoverableContent: boolean;\n};\n\nconst [TooltipContextProvider, useTooltipContext] =\n  createTooltipContext<TooltipContextValue>(TOOLTIP_NAME);\n\ninterface TooltipProps {\n  children?: React.ReactNode;\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  /**\n   * The duration from when the pointer enters the trigger until the tooltip gets opened. This will\n   * override the prop with the same name passed to Provider.\n   * @defaultValue 700\n   */\n  delayDuration?: number;\n  /**\n   * When `true`, trying to hover the content will result in the tooltip closing as the pointer leaves the trigger.\n   * @defaultValue false\n   */\n  disableHoverableContent?: boolean;\n}\n\nconst Tooltip: React.FC<TooltipProps> = (props: ScopedProps<TooltipProps>) => {\n  const {\n    __scopeTooltip,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    disableHoverableContent: disableHoverableContentProp,\n    delayDuration: delayDurationProp,\n  } = props;\n  const providerContext = useTooltipProviderContext(TOOLTIP_NAME, props.__scopeTooltip);\n  const popperScope = usePopperScope(__scopeTooltip);\n  const [trigger, setTrigger] = React.useState<HTMLButtonElement | null>(null);\n  const contentId = useId();\n  const openTimerRef = React.useRef(0);\n  const disableHoverableContent =\n    disableHoverableContentProp ?? providerContext.disableHoverableContent;\n  const delayDuration = delayDurationProp ?? providerContext.delayDuration;\n  const wasOpenDelayedRef = React.useRef(false);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: (open) => {\n      if (open) {\n        providerContext.onOpen();\n\n        // as `onChange` is called within a lifecycle method we\n        // avoid dispatching via `dispatchDiscreteCustomEvent`.\n        document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN));\n      } else {\n        providerContext.onClose();\n      }\n      onOpenChange?.(open);\n    },\n    caller: TOOLTIP_NAME,\n  });\n  const stateAttribute = React.useMemo(() => {\n    return open ? (wasOpenDelayedRef.current ? 'delayed-open' : 'instant-open') : 'closed';\n  }, [open]);\n\n  const handleOpen = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = 0;\n    wasOpenDelayedRef.current = false;\n    setOpen(true);\n  }, [setOpen]);\n\n  const handleClose = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = 0;\n    setOpen(false);\n  }, [setOpen]);\n\n  const handleDelayedOpen = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = window.setTimeout(() => {\n      wasOpenDelayedRef.current = true;\n      setOpen(true);\n      openTimerRef.current = 0;\n    }, delayDuration);\n  }, [delayDuration, setOpen]);\n\n  React.useEffect(() => {\n    return () => {\n      if (openTimerRef.current) {\n        window.clearTimeout(openTimerRef.current);\n        openTimerRef.current = 0;\n      }\n    };\n  }, []);\n\n  return (\n    <PopperPrimitive.Root {...popperScope}>\n      <TooltipContextProvider\n        scope={__scopeTooltip}\n        contentId={contentId}\n        open={open}\n        stateAttribute={stateAttribute}\n        trigger={trigger}\n        onTriggerChange={setTrigger}\n        onTriggerEnter={React.useCallback(() => {\n          if (providerContext.isOpenDelayedRef.current) handleDelayedOpen();\n          else handleOpen();\n        }, [providerContext.isOpenDelayedRef, handleDelayedOpen, handleOpen])}\n        onTriggerLeave={React.useCallback(() => {\n          if (disableHoverableContent) {\n            handleClose();\n          } else {\n            // Clear the timer in case the pointer leaves the trigger before the tooltip is opened.\n            window.clearTimeout(openTimerRef.current);\n            openTimerRef.current = 0;\n          }\n        }, [handleClose, disableHoverableContent])}\n        onOpen={handleOpen}\n        onClose={handleClose}\n        disableHoverableContent={disableHoverableContent}\n      >\n        {children}\n      </TooltipContextProvider>\n    </PopperPrimitive.Root>\n  );\n};\n\nTooltip.displayName = TOOLTIP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TooltipTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'TooltipTrigger';\n\ntype TooltipTriggerElement = React.ComponentRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface TooltipTriggerProps extends PrimitiveButtonProps {}\n\nconst TooltipTrigger = React.forwardRef<TooltipTriggerElement, TooltipTriggerProps>(\n  (props: ScopedProps<TooltipTriggerProps>, forwardedRef) => {\n    const { __scopeTooltip, ...triggerProps } = props;\n    const context = useTooltipContext(TRIGGER_NAME, __scopeTooltip);\n    const providerContext = useTooltipProviderContext(TRIGGER_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const ref = React.useRef<TooltipTriggerElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref, context.onTriggerChange);\n    const isPointerDownRef = React.useRef(false);\n    const hasPointerMoveOpenedRef = React.useRef(false);\n    const handlePointerUp = React.useCallback(() => (isPointerDownRef.current = false), []);\n\n    React.useEffect(() => {\n      return () => document.removeEventListener('pointerup', handlePointerUp);\n    }, [handlePointerUp]);\n\n    return (\n      <PopperPrimitive.Anchor asChild {...popperScope}>\n        <Primitive.button\n          // We purposefully avoid adding `type=button` here because tooltip triggers are also\n          // commonly anchors and the anchor `type` attribute signifies MIME type.\n          aria-describedby={context.open ? context.contentId : undefined}\n          data-state={context.stateAttribute}\n          {...triggerProps}\n          ref={composedRefs}\n          onPointerMove={composeEventHandlers(props.onPointerMove, (event) => {\n            if (event.pointerType === 'touch') return;\n            if (\n              !hasPointerMoveOpenedRef.current &&\n              !providerContext.isPointerInTransitRef.current\n            ) {\n              context.onTriggerEnter();\n              hasPointerMoveOpenedRef.current = true;\n            }\n          })}\n          onPointerLeave={composeEventHandlers(props.onPointerLeave, () => {\n            context.onTriggerLeave();\n            hasPointerMoveOpenedRef.current = false;\n          })}\n          onPointerDown={composeEventHandlers(props.onPointerDown, () => {\n            if (context.open) {\n              context.onClose();\n            }\n            isPointerDownRef.current = true;\n            document.addEventListener('pointerup', handlePointerUp, { once: true });\n          })}\n          onFocus={composeEventHandlers(props.onFocus, () => {\n            if (!isPointerDownRef.current) context.onOpen();\n          })}\n          onBlur={composeEventHandlers(props.onBlur, context.onClose)}\n          onClick={composeEventHandlers(props.onClick, context.onClose)}\n        />\n      </PopperPrimitive.Anchor>\n    );\n  }\n);\n\nTooltipTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TooltipPortal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'TooltipPortal';\n\ntype PortalContextValue = { forceMount?: true };\nconst [PortalProvider, usePortalContext] = createTooltipContext<PortalContextValue>(PORTAL_NAME, {\n  forceMount: undefined,\n});\n\ntype PortalProps = React.ComponentPropsWithoutRef<typeof PortalPrimitive>;\ninterface TooltipPortalProps {\n  children?: React.ReactNode;\n  /**\n   * Specify a container element to portal the content into.\n   */\n  container?: PortalProps['container'];\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst TooltipPortal: React.FC<TooltipPortalProps> = (props: ScopedProps<TooltipPortalProps>) => {\n  const { __scopeTooltip, forceMount, children, container } = props;\n  const context = useTooltipContext(PORTAL_NAME, __scopeTooltip);\n  return (\n    <PortalProvider scope={__scopeTooltip} forceMount={forceMount}>\n      <Presence present={forceMount || context.open}>\n        <PortalPrimitive asChild container={container}>\n          {children}\n        </PortalPrimitive>\n      </Presence>\n    </PortalProvider>\n  );\n};\n\nTooltipPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TooltipContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'TooltipContent';\n\ntype TooltipContentElement = TooltipContentImplElement;\ninterface TooltipContentProps extends TooltipContentImplProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst TooltipContent = React.forwardRef<TooltipContentElement, TooltipContentProps>(\n  (props: ScopedProps<TooltipContentProps>, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeTooltip);\n    const { forceMount = portalContext.forceMount, side = 'top', ...contentProps } = props;\n    const context = useTooltipContext(CONTENT_NAME, props.__scopeTooltip);\n\n    return (\n      <Presence present={forceMount || context.open}>\n        {context.disableHoverableContent ? (\n          <TooltipContentImpl side={side} {...contentProps} ref={forwardedRef} />\n        ) : (\n          <TooltipContentHoverable side={side} {...contentProps} ref={forwardedRef} />\n        )}\n      </Presence>\n    );\n  }\n);\n\ntype Point = { x: number; y: number };\ntype Polygon = Point[];\n\ntype TooltipContentHoverableElement = TooltipContentImplElement;\ninterface TooltipContentHoverableProps extends TooltipContentImplProps {}\n\nconst TooltipContentHoverable = React.forwardRef<\n  TooltipContentHoverableElement,\n  TooltipContentHoverableProps\n>((props: ScopedProps<TooltipContentHoverableProps>, forwardedRef) => {\n  const context = useTooltipContext(CONTENT_NAME, props.__scopeTooltip);\n  const providerContext = useTooltipProviderContext(CONTENT_NAME, props.__scopeTooltip);\n  const ref = React.useRef<TooltipContentHoverableElement>(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  const [pointerGraceArea, setPointerGraceArea] = React.useState<Polygon | null>(null);\n\n  const { trigger, onClose } = context;\n  const content = ref.current;\n\n  const { onPointerInTransitChange } = providerContext;\n\n  const handleRemoveGraceArea = React.useCallback(() => {\n    setPointerGraceArea(null);\n    onPointerInTransitChange(false);\n  }, [onPointerInTransitChange]);\n\n  const handleCreateGraceArea = React.useCallback(\n    (event: PointerEvent, hoverTarget: HTMLElement) => {\n      const currentTarget = event.currentTarget as HTMLElement;\n      const exitPoint = { x: event.clientX, y: event.clientY };\n      const exitSide = getExitSideFromRect(exitPoint, currentTarget.getBoundingClientRect());\n      const paddedExitPoints = getPaddedExitPoints(exitPoint, exitSide);\n      const hoverTargetPoints = getPointsFromRect(hoverTarget.getBoundingClientRect());\n      const graceArea = getHull([...paddedExitPoints, ...hoverTargetPoints]);\n      setPointerGraceArea(graceArea);\n      onPointerInTransitChange(true);\n    },\n    [onPointerInTransitChange]\n  );\n\n  React.useEffect(() => {\n    return () => handleRemoveGraceArea();\n  }, [handleRemoveGraceArea]);\n\n  React.useEffect(() => {\n    if (trigger && content) {\n      const handleTriggerLeave = (event: PointerEvent) => handleCreateGraceArea(event, content);\n      const handleContentLeave = (event: PointerEvent) => handleCreateGraceArea(event, trigger);\n\n      trigger.addEventListener('pointerleave', handleTriggerLeave);\n      content.addEventListener('pointerleave', handleContentLeave);\n      return () => {\n        trigger.removeEventListener('pointerleave', handleTriggerLeave);\n        content.removeEventListener('pointerleave', handleContentLeave);\n      };\n    }\n  }, [trigger, content, handleCreateGraceArea, handleRemoveGraceArea]);\n\n  React.useEffect(() => {\n    if (pointerGraceArea) {\n      const handleTrackPointerGrace = (event: PointerEvent) => {\n        const target = event.target as HTMLElement;\n        const pointerPosition = { x: event.clientX, y: event.clientY };\n        const hasEnteredTarget = trigger?.contains(target) || content?.contains(target);\n        const isPointerOutsideGraceArea = !isPointInPolygon(pointerPosition, pointerGraceArea);\n\n        if (hasEnteredTarget) {\n          handleRemoveGraceArea();\n        } else if (isPointerOutsideGraceArea) {\n          handleRemoveGraceArea();\n          onClose();\n        }\n      };\n      document.addEventListener('pointermove', handleTrackPointerGrace);\n      return () => document.removeEventListener('pointermove', handleTrackPointerGrace);\n    }\n  }, [trigger, content, pointerGraceArea, onClose, handleRemoveGraceArea]);\n\n  return <TooltipContentImpl {...props} ref={composedRefs} />;\n});\n\nconst [VisuallyHiddenContentContextProvider, useVisuallyHiddenContentContext] =\n  createTooltipContext(TOOLTIP_NAME, { isInside: false });\n\ntype TooltipContentImplElement = React.ComponentRef<typeof PopperPrimitive.Content>;\ntype DismissableLayerProps = React.ComponentPropsWithoutRef<typeof DismissableLayer>;\ntype PopperContentProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Content>;\ninterface TooltipContentImplProps extends Omit<PopperContentProps, 'onPlaced'> {\n  /**\n   * A more descriptive label for accessibility purpose\n   */\n  'aria-label'?: string;\n\n  /**\n   * Event handler called when the escape key is down.\n   * Can be prevented.\n   */\n  onEscapeKeyDown?: DismissableLayerProps['onEscapeKeyDown'];\n  /**\n   * Event handler called when the a `pointerdown` event happens outside of the `Tooltip`.\n   * Can be prevented.\n   */\n  onPointerDownOutside?: DismissableLayerProps['onPointerDownOutside'];\n}\n\nconst Slottable = createSlottable('TooltipContent');\n\nconst TooltipContentImpl = React.forwardRef<TooltipContentImplElement, TooltipContentImplProps>(\n  (props: ScopedProps<TooltipContentImplProps>, forwardedRef) => {\n    const {\n      __scopeTooltip,\n      children,\n      'aria-label': ariaLabel,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      ...contentProps\n    } = props;\n    const context = useTooltipContext(CONTENT_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const { onClose } = context;\n\n    // Close this tooltip if another one opens\n    React.useEffect(() => {\n      document.addEventListener(TOOLTIP_OPEN, onClose);\n      return () => document.removeEventListener(TOOLTIP_OPEN, onClose);\n    }, [onClose]);\n\n    // Close the tooltip if the trigger is scrolled\n    React.useEffect(() => {\n      if (context.trigger) {\n        const handleScroll = (event: Event) => {\n          const target = event.target as HTMLElement;\n          if (target?.contains(context.trigger)) onClose();\n        };\n        window.addEventListener('scroll', handleScroll, { capture: true });\n        return () => window.removeEventListener('scroll', handleScroll, { capture: true });\n      }\n    }, [context.trigger, onClose]);\n\n    return (\n      <DismissableLayer\n        asChild\n        disableOutsidePointerEvents={false}\n        onEscapeKeyDown={onEscapeKeyDown}\n        onPointerDownOutside={onPointerDownOutside}\n        onFocusOutside={(event) => event.preventDefault()}\n        onDismiss={onClose}\n      >\n        <PopperPrimitive.Content\n          data-state={context.stateAttribute}\n          {...popperScope}\n          {...contentProps}\n          ref={forwardedRef}\n          style={{\n            ...contentProps.style,\n            // re-namespace exposed content custom properties\n            ...{\n              '--radix-tooltip-content-transform-origin': 'var(--radix-popper-transform-origin)',\n              '--radix-tooltip-content-available-width': 'var(--radix-popper-available-width)',\n              '--radix-tooltip-content-available-height': 'var(--radix-popper-available-height)',\n              '--radix-tooltip-trigger-width': 'var(--radix-popper-anchor-width)',\n              '--radix-tooltip-trigger-height': 'var(--radix-popper-anchor-height)',\n            },\n          }}\n        >\n          <Slottable>{children}</Slottable>\n          <VisuallyHiddenContentContextProvider scope={__scopeTooltip} isInside={true}>\n            <VisuallyHiddenPrimitive.Root id={context.contentId} role=\"tooltip\">\n              {ariaLabel || children}\n            </VisuallyHiddenPrimitive.Root>\n          </VisuallyHiddenContentContextProvider>\n        </PopperPrimitive.Content>\n      </DismissableLayer>\n    );\n  }\n);\n\nTooltipContent.displayName = CONTENT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TooltipArrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst ARROW_NAME = 'TooltipArrow';\n\ntype TooltipArrowElement = React.ComponentRef<typeof PopperPrimitive.Arrow>;\ntype PopperArrowProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Arrow>;\ninterface TooltipArrowProps extends PopperArrowProps {}\n\nconst TooltipArrow = React.forwardRef<TooltipArrowElement, TooltipArrowProps>(\n  (props: ScopedProps<TooltipArrowProps>, forwardedRef) => {\n    const { __scopeTooltip, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeTooltip);\n    const visuallyHiddenContentContext = useVisuallyHiddenContentContext(\n      ARROW_NAME,\n      __scopeTooltip\n    );\n    // if the arrow is inside the `VisuallyHidden`, we don't want to render it all to\n    // prevent issues in positioning the arrow due to the duplicate\n    return visuallyHiddenContentContext.isInside ? null : (\n      <PopperPrimitive.Arrow {...popperScope} {...arrowProps} ref={forwardedRef} />\n    );\n  }\n);\n\nTooltipArrow.displayName = ARROW_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype Side = NonNullable<TooltipContentProps['side']>;\n\nfunction getExitSideFromRect(point: Point, rect: DOMRect): Side {\n  const top = Math.abs(rect.top - point.y);\n  const bottom = Math.abs(rect.bottom - point.y);\n  const right = Math.abs(rect.right - point.x);\n  const left = Math.abs(rect.left - point.x);\n\n  switch (Math.min(top, bottom, right, left)) {\n    case left:\n      return 'left';\n    case right:\n      return 'right';\n    case top:\n      return 'top';\n    case bottom:\n      return 'bottom';\n    default:\n      throw new Error('unreachable');\n  }\n}\n\nfunction getPaddedExitPoints(exitPoint: Point, exitSide: Side, padding = 5) {\n  const paddedExitPoints: Point[] = [];\n  switch (exitSide) {\n    case 'top':\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y + padding },\n        { x: exitPoint.x + padding, y: exitPoint.y + padding }\n      );\n      break;\n    case 'bottom':\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y - padding },\n        { x: exitPoint.x + padding, y: exitPoint.y - padding }\n      );\n      break;\n    case 'left':\n      paddedExitPoints.push(\n        { x: exitPoint.x + padding, y: exitPoint.y - padding },\n        { x: exitPoint.x + padding, y: exitPoint.y + padding }\n      );\n      break;\n    case 'right':\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y - padding },\n        { x: exitPoint.x - padding, y: exitPoint.y + padding }\n      );\n      break;\n  }\n  return paddedExitPoints;\n}\n\nfunction getPointsFromRect(rect: DOMRect) {\n  const { top, right, bottom, left } = rect;\n  return [\n    { x: left, y: top },\n    { x: right, y: top },\n    { x: right, y: bottom },\n    { x: left, y: bottom },\n  ];\n}\n\n// Determine if a point is inside of a polygon.\n// Based on https://github.com/substack/point-in-polygon\nfunction isPointInPolygon(point: Point, polygon: Polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const ii = polygon[i]!;\n    const jj = polygon[j]!;\n    const xi = ii.x;\n    const yi = ii.y;\n    const xj = jj.x;\n    const yj = jj.y;\n\n    // prettier-ignore\n    const intersect = ((yi > y) !== (yj > y)) && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n    if (intersect) inside = !inside;\n  }\n\n  return inside;\n}\n\n// Returns a new array of points representing the convex hull of the given set of points.\n// https://www.nayuki.io/page/convex-hull-algorithm\nfunction getHull<P extends Point>(points: Readonly<Array<P>>): Array<P> {\n  const newPoints: Array<P> = points.slice();\n  newPoints.sort((a: Point, b: Point) => {\n    if (a.x < b.x) return -1;\n    else if (a.x > b.x) return +1;\n    else if (a.y < b.y) return -1;\n    else if (a.y > b.y) return +1;\n    else return 0;\n  });\n  return getHullPresorted(newPoints);\n}\n\n// Returns the convex hull, assuming that each points[i] <= points[i + 1]. Runs in O(n) time.\nfunction getHullPresorted<P extends Point>(points: Readonly<Array<P>>): Array<P> {\n  if (points.length <= 1) return points.slice();\n\n  const upperHull: Array<P> = [];\n  for (let i = 0; i < points.length; i++) {\n    const p = points[i]!;\n    while (upperHull.length >= 2) {\n      const q = upperHull[upperHull.length - 1]!;\n      const r = upperHull[upperHull.length - 2]!;\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) upperHull.pop();\n      else break;\n    }\n    upperHull.push(p);\n  }\n  upperHull.pop();\n\n  const lowerHull: Array<P> = [];\n  for (let i = points.length - 1; i >= 0; i--) {\n    const p = points[i]!;\n    while (lowerHull.length >= 2) {\n      const q = lowerHull[lowerHull.length - 1]!;\n      const r = lowerHull[lowerHull.length - 2]!;\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) lowerHull.pop();\n      else break;\n    }\n    lowerHull.push(p);\n  }\n  lowerHull.pop();\n\n  if (\n    upperHull.length === 1 &&\n    lowerHull.length === 1 &&\n    upperHull[0]!.x === lowerHull[0]!.x &&\n    upperHull[0]!.y === lowerHull[0]!.y\n  ) {\n    return upperHull;\n  } else {\n    return upperHull.concat(lowerHull);\n  }\n}\n\nconst Provider = TooltipProvider;\nconst Root = Tooltip;\nconst Trigger = TooltipTrigger;\nconst Portal = TooltipPortal;\nconst Content = TooltipContent;\nconst Arrow = TooltipArrow;\n\nexport {\n  createTooltipScope,\n  //\n  TooltipProvider,\n  Tooltip,\n  TooltipTrigger,\n  TooltipPortal,\n  TooltipContent,\n  TooltipArrow,\n  //\n  Provider,\n  Root,\n  Trigger,\n  Portal,\n  Content,\n  Arrow,\n};\nexport type {\n  TooltipProviderProps,\n  TooltipProps,\n  TooltipTriggerProps,\n  TooltipPortalProps,\n  TooltipContentProps,\n  TooltipArrowProps,\n};\n", "import React, { useState, useEffect, useCallback } from 'react'\nimport { Command, CommandDialog, CommandEmpty, CommandGroup, CommandInput, CommandItem, CommandList, CommandShortcut } from '../ui/command'\nimport { \n  PlusIcon, \n  SearchIcon, \n  CalendarIcon, \n  MessageSquareIcon, \n  FileTextIcon, \n  LayoutGridIcon,\n  ZapIcon,\n  UserIcon,\n  SettingsIcon,\n  LogOutIcon,\n  FolderIcon,\n  TagIcon,\n  ClockIcon,\n  TrendingUpIcon,\n  BarChart3Icon,\n  UsersIcon,\n  BellIcon,\n  StarIcon,\n  BookmarkIcon,\n  ArchiveIcon,\n  TrashIcon,\n  FilterIcon,\n  SortAscIcon,\n  DownloadIcon,\n  UploadIcon,\n  ShareIcon,\n  CopyIcon,\n  RefreshCwIcon,\n  MaximizeIcon,\n  MinimizeIcon,\n  LayoutIcon,\n  GridIcon,\n  ListIcon,\n  MapIcon,\n  PieChartIcon,\n  BarChartIcon,\n  LineChartIcon,\n  CommandIcon\n} from 'lucide-react'\nimport { trpc } from '../../lib/trpc'\nimport { useAuthStore } from '../../stores/auth-store'\nimport { Badge } from '../ui/badge'\n\ninterface CommandPaletteProps {\n  isOpen: boolean\n  onOpenChange: (open: boolean) => void\n  workspaceId: string\n  onNavigate?: (path: string) => void\n  onCreatePanel?: (type: string) => void\n  onAction?: (action: string) => void\n}\n\ninterface CommandItem {\n  id: string\n  title: string\n  subtitle?: string\n  icon: React.ComponentType<{ className?: string }>\n  shortcut?: string\n  action: () => void\n  group: string\n  keywords?: string[]\n  priority?: number\n}\n\nexport default function CommandPalette({\n  isOpen,\n  onOpenChange,\n  workspaceId,\n  onNavigate,\n  onCreatePanel,\n  onAction\n}: CommandPaletteProps) {\n  const [searchQuery, setSearchQuery] = useState('')\n  const { user } = useAuthStore()\n  \n  // Fetch recent items and workspaces\n  const { data: recentItems = [] } = trpc.activity.getRecent.useQuery(\n    { workspaceId, limit: 10 },\n    { enabled: !!workspaceId }\n  )\n  \n  const { data: workspaces = [] } = trpc.workspace.list.useQuery()\n  \n  // Command categories with AI-powered suggestions\n  const commands: CommandItem[] = [\n    // Quick Actions\n    {\n      id: 'quick-task',\n      title: 'Create Task',\n      subtitle: 'Add new task to Kanban',\n      icon: PlusIcon,\n      shortcut: '\u2318N',\n      action: () => onCreatePanel?.('KANBAN'),\n      group: 'Quick Actions',\n      keywords: ['task', 'todo', 'create', 'add', 'kanban'],\n      priority: 10\n    },\n    {\n      id: 'quick-note',\n      title: 'Create Note',\n      subtitle: 'Start writing immediately',\n      icon: FileTextIcon,\n      shortcut: '\u2318\u21E7N',\n      action: () => onCreatePanel?.('NOTES'),\n      group: 'Quick Actions',\n      keywords: ['note', 'write', 'document', 'create'],\n      priority: 9\n    },\n    {\n      id: 'quick-event',\n      title: 'Schedule Event',\n      subtitle: 'Add to calendar',\n      icon: CalendarIcon,\n      shortcut: '\u2318\u21E7C',\n      action: () => onCreatePanel?.('CALENDAR'),\n      group: 'Quick Actions',\n      keywords: ['event', 'meeting', 'schedule', 'calendar'],\n      priority: 8\n    },\n    {\n      id: 'quick-chat',\n      title: 'Start Chat',\n      subtitle: 'Message team members',\n      icon: MessageSquareIcon,\n      shortcut: '\u2318/',\n      action: () => onCreatePanel?.('CHAT'),\n      group: 'Quick Actions',\n      keywords: ['chat', 'message', 'communicate', 'talk'],\n      priority: 7\n    },\n    \n    // AI Assistant\n    {\n      id: 'ai-analyze',\n      title: 'AI Task Analysis',\n      subtitle: 'Get insights on your tasks',\n      icon: TrendingUpIcon,\n      action: () => onAction?.('ai-analyze'),\n      group: 'AI Assistant',\n      keywords: ['ai', 'analyze', 'insights', 'smart', 'assistant'],\n      priority: 6\n    },\n    {\n      id: 'ai-schedule',\n      title: 'Smart Scheduling',\n      subtitle: 'AI-powered time blocking',\n      icon: ZapIcon,\n      action: () => onAction?.('ai-schedule'),\n      group: 'AI Assistant',\n      keywords: ['ai', 'schedule', 'smart', 'time', 'block'],\n      priority: 5\n    },\n    {\n      id: 'ai-suggest',\n      title: 'Task Suggestions',\n      subtitle: 'Get AI recommendations',\n      icon: StarIcon,\n      action: () => onAction?.('ai-suggest'),\n      group: 'AI Assistant',\n      keywords: ['ai', 'suggest', 'recommend', 'smart'],\n      priority: 4\n    },\n    \n    // Navigation\n    {\n      id: 'nav-dashboard',\n      title: 'Go to Dashboard',\n      subtitle: 'Overview of all projects',\n      icon: LayoutGridIcon,\n      shortcut: '\u23181',\n      action: () => onNavigate?.('/dashboard'),\n      group: 'Navigation',\n      keywords: ['dashboard', 'home', 'overview'],\n      priority: 3\n    },\n    {\n      id: 'nav-projects',\n      title: 'View Projects',\n      subtitle: 'All workspace projects',\n      icon: FolderIcon,\n      shortcut: '\u23182',\n      action: () => onNavigate?.('/projects'),\n      group: 'Navigation',\n      keywords: ['projects', 'folders', 'workspace'],\n      priority: 2\n    },\n    {\n      id: 'nav-team',\n      title: 'Team Members',\n      subtitle: 'View and manage team',\n      icon: UsersIcon,\n      shortcut: '\u23183',\n      action: () => onNavigate?.('/team'),\n      group: 'Navigation',\n      keywords: ['team', 'members', 'users', 'people'],\n      priority: 1\n    },\n    \n    // Panel Management\n    {\n      id: 'panel-layout-save',\n      title: 'Save Layout',\n      subtitle: 'Save current panel arrangement',\n      icon: BookmarkIcon,\n      shortcut: '\u2318S',\n      action: () => onAction?.('save-layout'),\n      group: 'Panel Management',\n      keywords: ['save', 'layout', 'panels', 'arrangement']\n    },\n    {\n      id: 'panel-layout-load',\n      title: 'Load Layout',\n      subtitle: 'Switch to saved layout',\n      icon: LayoutIcon,\n      shortcut: '\u2318L',\n      action: () => onAction?.('load-layout'),\n      group: 'Panel Management',\n      keywords: ['load', 'layout', 'switch', 'panels']\n    },\n    {\n      id: 'panel-focus',\n      title: 'Focus Mode',\n      subtitle: 'Hide all but current panel',\n      icon: MaximizeIcon,\n      shortcut: '\u2318\u21E7F',\n      action: () => onAction?.('focus-mode'),\n      group: 'Panel Management',\n      keywords: ['focus', 'hide', 'minimize', 'distraction-free']\n    },\n    {\n      id: 'panel-minimize-all',\n      title: 'Minimize All',\n      subtitle: 'Collapse all panels',\n      icon: MinimizeIcon,\n      shortcut: '\u2318\u21E7M',\n      action: () => onAction?.('minimize-all'),\n      group: 'Panel Management',\n      keywords: ['minimize', 'collapse', 'hide', 'panels']\n    },\n    \n    // View Options\n    {\n      id: 'view-grid',\n      title: 'Grid View',\n      subtitle: 'Arrange panels in grid',\n      icon: GridIcon,\n      action: () => onAction?.('view-grid'),\n      group: 'View Options',\n      keywords: ['grid', 'view', 'arrange', 'layout']\n    },\n    {\n      id: 'view-list',\n      title: 'List View',\n      subtitle: 'Vertical panel layout',\n      icon: ListIcon,\n      action: () => onAction?.('view-list'),\n      group: 'View Options',\n      keywords: ['list', 'view', 'vertical', 'layout']\n    },\n    \n    // Settings & Account\n    {\n      id: 'settings-workspace',\n      title: 'Workspace Settings',\n      subtitle: 'Configure workspace',\n      icon: SettingsIcon,\n      action: () => onNavigate?.('/settings'),\n      group: 'Settings',\n      keywords: ['settings', 'configure', 'workspace', 'options']\n    },\n    {\n      id: 'settings-profile',\n      title: 'Profile Settings',\n      subtitle: 'Update your profile',\n      icon: UserIcon,\n      action: () => onNavigate?.('/profile'),\n      group: 'Settings',\n      keywords: ['profile', 'account', 'user', 'settings']\n    },\n    {\n      id: 'logout',\n      title: 'Sign Out',\n      subtitle: 'Log out of workspace',\n      icon: LogOutIcon,\n      action: () => onAction?.('logout'),\n      group: 'Settings',\n      keywords: ['logout', 'sign out', 'exit', 'leave']\n    }\n  ]\n  \n  // Add workspace switching commands\n  const workspaceCommands: CommandItem[] = workspaces.map((workspace: any) => ({\n    id: `workspace-${workspace.id}`,\n    title: `Switch to ${workspace.name}`,\n    subtitle: `${workspace.memberCount || 0} members`,\n    icon: FolderIcon,\n    action: () => onNavigate?.(`/workspace/${workspace.id}`),\n    group: 'Workspaces',\n    keywords: ['workspace', 'switch', workspace.name.toLowerCase()],\n    priority: workspace.id === workspaceId ? 10 : 1\n  }))\n  \n  // Add recent items as commands\n  const recentCommands: CommandItem[] = recentItems.map((item: any) => ({\n    id: `recent-${item.id}`,\n    title: item.title || item.name,\n    subtitle: `${item.type} \u2022 ${item.updatedAt}`,\n    icon: item.type === 'TASK' ? PlusIcon : item.type === 'NOTE' ? FileTextIcon : CalendarIcon,\n    action: () => onNavigate?.(`/${item.type.toLowerCase()}/${item.id}`),\n    group: 'Recent',\n    keywords: ['recent', item.title?.toLowerCase(), item.type.toLowerCase()],\n    priority: 5\n  }))\n  \n  // Combine all commands\n  const allCommands = [...commands, ...workspaceCommands, ...recentCommands]\n  \n  // Filter commands based on search\n  const filteredCommands = allCommands.filter(command => {\n    if (!searchQuery) return true\n    \n    const query = searchQuery.toLowerCase()\n    const titleMatch = command.title.toLowerCase().includes(query)\n    const subtitleMatch = command.subtitle?.toLowerCase().includes(query)\n    const keywordMatch = command.keywords?.some(keyword => keyword.includes(query))\n    \n    return titleMatch || subtitleMatch || keywordMatch\n  })\n  \n  // Group filtered commands\n  const groupedCommands = filteredCommands.reduce((acc, command) => {\n    if (!acc[command.group]) acc[command.group] = []\n    acc[command.group].push(command)\n    return acc\n  }, {} as Record<string, CommandItem[]>)\n  \n  // Sort groups by priority\n  const sortedGroups = Object.entries(groupedCommands).sort(([a], [b]) => {\n    const priority = { 'Quick Actions': 1, 'AI Assistant': 2, 'Recent': 3, 'Navigation': 4, 'Workspaces': 5, 'Panel Management': 6, 'View Options': 7, 'Settings': 8 }\n    return (priority[a as keyof typeof priority] || 9) - (priority[b as keyof typeof priority] || 9)\n  })\n  \n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if ((e.metaKey || e.ctrlKey) && e.key === 'k') {\n        e.preventDefault()\n        onOpenChange(true)\n      }\n      if (e.key === 'Escape') {\n        onOpenChange(false)\n      }\n    }\n    \n    document.addEventListener('keydown', handleKeyDown)\n    return () => document.removeEventListener('keydown', handleKeyDown)\n  }, [onOpenChange])\n  \n  return (\n    <CommandDialog open={isOpen} onOpenChange={onOpenChange}>\n      <CommandInput \n        placeholder=\"Search commands, create items, or ask AI...\"\n        value={searchQuery}\n        onValueChange={setSearchQuery}\n      />\n      <CommandList>\n        <CommandEmpty>\n          <div className=\"text-center py-6\">\n            <CommandIcon className=\"w-8 h-8 mx-auto mb-2 text-gray-400\" />\n            <p className=\"text-gray-500\">No commands found.</p>\n            <p className=\"text-sm text-gray-400 mt-1\">Try searching for actions, panels, or navigation</p>\n          </div>\n        </CommandEmpty>\n        \n        {sortedGroups.map(([group, commands]) => (\n          <CommandGroup key={group} heading={group}>\n            {commands\n              .sort((a, b) => (b.priority || 0) - (a.priority || 0))\n              .map((command) => (\n                <CommandItem\n                  key={command.id}\n                  onSelect={() => {\n                    command.action()\n                    onOpenChange(false)\n                  }}\n                  className=\"flex items-center gap-3 px-3 py-2 hover:bg-gray-50\"\n                >\n                  <command.icon className=\"w-4 h-4 text-gray-500\" />\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"font-medium text-sm\">{command.title}</div>\n                    {command.subtitle && (\n                      <div className=\"text-xs text-gray-500 truncate\">{command.subtitle}</div>\n                    )}\n                  </div>\n                  {command.shortcut && (\n                    <CommandShortcut className=\"text-xs\">{command.shortcut}</CommandShortcut>\n                  )}\n                  {group === 'AI Assistant' && (\n                    <Badge variant=\"secondary\" className=\"text-xs px-1.5 py-0.5\">\n                      AI\n                    </Badge>\n                  )}\n                </CommandItem>\n              ))}\n          </CommandGroup>\n        ))}\n      </CommandList>\n    </CommandDialog>\n  )\n}", "\"use client\"\n\nimport * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n", "import React from 'react'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '../ui/dialog'\nimport { Badge } from '../ui/badge'\nimport { \n  CommandIcon, \n  PlusIcon, \n  SearchIcon, \n  ZapIcon, \n  MaximizeIcon, \n  MinimizeIcon, \n  LayoutGridIcon, \n  BookmarkIcon, \n  RefreshCwIcon, \n  CalendarIcon, \n  FileTextIcon, \n  MessageSquareIcon, \n  SettingsIcon, \n  UserIcon, \n  LogOutIcon,\n  KeyboardIcon,\n  FolderIcon,\n  TrendingUpIcon,\n  StarIcon,\n  FilterIcon,\n  SortAscIcon,\n  GridIcon,\n  ListIcon,\n  CopyIcon,\n  ShareIcon,\n  DownloadIcon,\n  UploadIcon,\n  ArchiveIcon,\n  TrashIcon\n} from 'lucide-react'\n\ninterface KeyboardShortcutsProps {\n  isOpen: boolean\n  onOpenChange: (open: boolean) => void\n}\n\ninterface ShortcutGroup {\n  title: string\n  shortcuts: Array<{\n    key: string\n    description: string\n    icon: React.ComponentType<{ className?: string }>\n  }>\n}\n\nexport default function KeyboardShortcuts({ isOpen, onOpenChange }: KeyboardShortcutsProps) {\n  const shortcutGroups: ShortcutGroup[] = [\n    {\n      title: 'Essential Commands',\n      shortcuts: [\n        { key: '\u2318K', description: 'Open command palette', icon: CommandIcon },\n        { key: '\u2318N', description: 'Quick add task', icon: PlusIcon },\n        { key: '\u2318/', description: 'Focus search', icon: SearchIcon },\n        { key: '\u2318\u21E7F', description: 'Focus mode', icon: MaximizeIcon },\n        { key: '\u2318\u21E7A', description: 'AI assistant', icon: ZapIcon },\n        { key: '\u2318?', description: 'Show shortcuts', icon: KeyboardIcon }\n      ]\n    },\n    {\n      title: 'Panel Creation',\n      shortcuts: [\n        { key: '\u2318\u21E7N', description: 'Create note', icon: FileTextIcon },\n        { key: '\u2318\u21E7C', description: 'Create calendar event', icon: CalendarIcon },\n        { key: '\u2318\u21E7M', description: 'Start chat', icon: MessageSquareIcon },\n        { key: '\u2318\u21E7K', description: 'Create kanban board', icon: LayoutGridIcon }\n      ]\n    },\n    {\n      title: 'Layout Management',\n      shortcuts: [\n        { key: '\u2318S', description: 'Save layout', icon: BookmarkIcon },\n        { key: '\u2318L', description: 'Load layout', icon: LayoutGridIcon },\n        { key: '\u2318\u21E7M', description: 'Minimize all panels', icon: MinimizeIcon },\n        { key: '\u2318\u21E7R', description: 'Refresh workspace', icon: RefreshCwIcon }\n      ]\n    },\n    {\n      title: 'Navigation',\n      shortcuts: [\n        { key: '\u23181', description: 'Go to dashboard', icon: LayoutGridIcon },\n        { key: '\u23182', description: 'View projects', icon: FolderIcon },\n        { key: '\u23183', description: 'Team members', icon: UserIcon },\n        { key: '\u23184', description: 'Settings', icon: SettingsIcon }\n      ]\n    },\n    {\n      title: 'Content Actions',\n      shortcuts: [\n        { key: '\u2318D', description: 'Duplicate item', icon: CopyIcon },\n        { key: '\u2318\u21E7S', description: 'Share item', icon: ShareIcon },\n        { key: '\u2318\u21E7D', description: 'Download/Export', icon: DownloadIcon },\n        { key: '\u2318\u21E7U', description: 'Upload file', icon: UploadIcon }\n      ]\n    },\n    {\n      title: 'Organization',\n      shortcuts: [\n        { key: '\u2318F', description: 'Filter items', icon: FilterIcon },\n        { key: '\u2318\u21E7O', description: 'Sort items', icon: SortAscIcon },\n        { key: '\u2318G', description: 'Grid view', icon: GridIcon },\n        { key: '\u2318\u21E7L', description: 'List view', icon: ListIcon }\n      ]\n    },\n    {\n      title: 'Quick Actions',\n      shortcuts: [\n        { key: '\u2318\u21E7\u2B50', description: 'Star/Favorite', icon: StarIcon },\n        { key: '\u2318\u21E7A', description: 'Archive item', icon: ArchiveIcon },\n        { key: '\u2318\u21E7\u232B', description: 'Delete item', icon: TrashIcon },\n        { key: '\u2318\u21E7Q', description: 'Sign out', icon: LogOutIcon }\n      ]\n    },\n    {\n      title: 'AI & Analytics',\n      shortcuts: [\n        { key: '\u2318\u21E7I', description: 'AI insights', icon: TrendingUpIcon },\n        { key: '\u2318\u21E7T', description: 'Task suggestions', icon: ZapIcon },\n        { key: '\u2318\u21E7P', description: 'Performance analytics', icon: TrendingUpIcon }\n      ]\n    }\n  ]\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-4xl max-h-[80vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center space-x-2\">\n            <KeyboardIcon className=\"w-5 h-5\" />\n            <span>Keyboard Shortcuts</span>\n          </DialogTitle>\n        </DialogHeader>\n        \n        <div className=\"mt-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n            {shortcutGroups.map((group, groupIndex) => (\n              <div key={groupIndex} className=\"space-y-3\">\n                <h3 className=\"text-sm font-semibold text-gray-900 uppercase tracking-wide\">\n                  {group.title}\n                </h3>\n                <div className=\"space-y-2\">\n                  {group.shortcuts.map((shortcut, shortcutIndex) => (\n                    <div \n                      key={shortcutIndex}\n                      className=\"flex items-center justify-between p-2 rounded-lg hover:bg-gray-50 group\"\n                    >\n                      <div className=\"flex items-center space-x-3\">\n                        <shortcut.icon className=\"w-4 h-4 text-gray-500 group-hover:text-gray-700\" />\n                        <span className=\"text-sm text-gray-700 group-hover:text-gray-900\">\n                          {shortcut.description}\n                        </span>\n                      </div>\n                      <Badge variant=\"outline\" className=\"text-xs font-mono\">\n                        {shortcut.key}\n                      </Badge>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            ))}\n          </div>\n          \n          <div className=\"mt-8 p-4 bg-blue-50 rounded-lg border border-blue-200\">\n            <h4 className=\"text-sm font-semibold text-blue-900 mb-2\">Pro Tips</h4>\n            <ul className=\"text-sm text-blue-800 space-y-1\">\n              <li>\u2022 Use \u2318K to access the command palette for any action</li>\n              <li>\u2022 Hold \u2318 and click to open items in new panels</li>\n              <li>\u2022 Use \u2318\u21E7F to enter focus mode and eliminate distractions</li>\n              <li>\u2022 Create custom shortcuts in Settings \u2192 Keyboard</li>\n              <li>\u2022 Most shortcuts work across all panels and contexts</li>\n            </ul>\n          </div>\n          \n          <div className=\"mt-4 text-center\">\n            <p className=\"text-xs text-gray-500\">\n              Press <Badge variant=\"outline\" className=\"text-xs\">ESC</Badge> to close this dialog\n            </p>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}", "\nimport React, { useState } from 'react'\nimport { Button } from '../ui/button'\nimport { FloatingInput } from '../ui/floating-input'\nimport { Label } from '../ui/label'\nimport { Textarea } from '../ui/textarea'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogFooter,\n} from '../ui/dialog'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '../ui/dropdown-menu'\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n} from '../ui/alert-dialog'\nimport { Badge } from '../ui/badge'\nimport {\n  Save,\n  FolderOpen,\n  Settings2,\n  Star,\n  Trash2,\n  Download,\n  Upload,\n  Loader2,\n  CheckCircle\n} from 'lucide-react'\nimport { useLayoutPersistence } from '../../hooks/use-layout-persistence'\nimport { cn } from '../../lib/utils'\n\ninterface LayoutManagerProps {\n  workspaceId: string\n  panels: any[]\n  className?: string\n}\n\nexport default function LayoutManager({ workspaceId, panels, className }: LayoutManagerProps) {\n  const [saveDialogOpen, setSaveDialogOpen] = useState(false)\n  const [loadDialogOpen, setLoadDialogOpen] = useState(false)\n  const [saveForm, setSaveForm] = useState({\n    name: '',\n    description: '',\n    isDefault: false\n  })\n\n  const {\n    presets,\n    savePreset,\n    loadPreset,\n    deletePreset,\n    setDefaultPreset,\n    performAutoSave,\n    isSaving,\n    isLoading,\n    isDeleting,\n    isSettingDefault,\n    isAutoSaving,\n    refetchPresets\n  } = useLayoutPersistence({\n    workspaceId,\n    panels,\n    enabled: true\n  })\n\n  const handleSavePreset = () => {\n    if (!saveForm.name.trim()) return\n\n    savePreset(saveForm.name.trim(), saveForm.description.trim() || undefined, saveForm.isDefault)\n    \n    setSaveForm({ name: '', description: '', isDefault: false })\n    setSaveDialogOpen(false)\n  }\n\n  const handleLoadPreset = (presetId: string) => {\n    loadPreset(presetId)\n    setLoadDialogOpen(false)\n  }\n\n  const handleDeletePreset = (presetId: string) => {\n    deletePreset(presetId)\n  }\n\n  const handleSetDefault = (presetId: string) => {\n    setDefaultPreset(presetId)\n  }\n\n  const handleManualSave = () => {\n    performAutoSave()\n  }\n\n  const formatDate = (date: string) => {\n    return new Date(date).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    })\n  }\n\n  const hasUnsavedChanges = panels.length > 0\n\n  return (\n    <div className={cn('flex items-center gap-2', className)}>\n      {/* Auto-save indicator */}\n      {isAutoSaving && (\n        <div className=\"flex items-center gap-1 text-xs text-gray-500\">\n          <Loader2 className=\"w-3 h-3 animate-spin\" />\n          <span>Saving...</span>\n        </div>\n      )}\n\n\n      {/* Save as preset */}\n      <Dialog open={saveDialogOpen} onOpenChange={setSaveDialogOpen}>\n        <DialogTrigger asChild>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            disabled={panels.length === 0}\n            className=\"flex items-center gap-2\"\n          >\n            <Download className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Save Layout</span>\n          </Button>\n        </DialogTrigger>\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle>Save Layout Preset</DialogTitle>\n            <DialogDescription>\n              Save your current panel arrangement as a reusable layout preset.\n            </DialogDescription>\n          </DialogHeader>\n          \n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"preset-name\">Preset Name</Label>\n              <FloatingInput\n                id=\"preset-name\"\n                label=\"Preset Name\"\n                value={saveForm.name}\n                onChange={(e) => setSaveForm(prev => ({ ...prev, name: e.target.value }))}\n                className=\"mt-1\"\n              />\n            </div>\n            \n            <div>\n              <Label htmlFor=\"preset-description\">Description (Optional)</Label>\n              <Textarea\n                id=\"preset-description\"\n                value={saveForm.description}\n                onChange={(e) => setSaveForm(prev => ({ ...prev, description: e.target.value }))}\n                placeholder=\"Describe this layout arrangement...\"\n                className=\"mt-1\"\n                rows={3}\n              />\n            </div>\n\n            <div className=\"flex items-center space-x-2\">\n              <input\n                type=\"checkbox\"\n                id=\"is-default\"\n                checked={saveForm.isDefault}\n                onChange={(e) => setSaveForm(prev => ({ ...prev, isDefault: e.target.checked }))}\n                className=\"rounded border-gray-300\"\n              />\n              <Label htmlFor=\"is-default\" className=\"text-sm\">\n                Set as default layout for this workspace\n              </Label>\n            </div>\n          </div>\n\n          <DialogFooter>\n            <Button \n              variant=\"outline\" \n              onClick={() => setSaveDialogOpen(false)}\n            >\n              Cancel\n            </Button>\n            <Button \n              onClick={handleSavePreset}\n              disabled={!saveForm.name.trim() || isSaving}\n            >\n              {isSaving ? (\n                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n              ) : (\n                <Save className=\"w-4 h-4 mr-2\" />\n              )}\n              Save Preset\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Load preset */}\n      <Dialog open={loadDialogOpen} onOpenChange={setLoadDialogOpen}>\n        <DialogTrigger asChild>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            disabled={presets.length === 0}\n            className=\"flex items-center gap-2\"\n          >\n            <Upload className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Load Layout</span>\n          </Button>\n        </DialogTrigger>\n        <DialogContent className=\"sm:max-w-lg\">\n          <DialogHeader>\n            <DialogTitle>Load Layout Preset</DialogTitle>\n            <DialogDescription>\n              Choose a saved layout to restore your panel arrangement.\n            </DialogDescription>\n          </DialogHeader>\n          \n          <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n            {presets.length === 0 ? (\n              <div className=\"text-center py-8 text-gray-500\">\n                <FolderOpen className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n                <p>No saved layout presets yet.</p>\n                <p className=\"text-sm\">Save your current layout to get started.</p>\n              </div>\n            ) : (\n              presets.map((preset) => (\n                <div\n                  key={preset.id}\n                  className=\"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50\"\n                >\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center gap-2\">\n                      <h4 className=\"font-medium truncate\">{preset.name}</h4>\n                      {preset.isDefault && (\n                        <Badge variant=\"secondary\" className=\"flex items-center gap-1\">\n                          <Star className=\"w-3 h-3\" />\n                          Default\n                        </Badge>\n                      )}\n                    </div>\n                    {preset.description && (\n                      <p className=\"text-sm text-gray-600 truncate mt-1\">\n                        {preset.description}\n                      </p>\n                    )}\n                    <p className=\"text-xs text-gray-500 mt-1\">\n                      Created {formatDate(preset.createdAt)}\n                    </p>\n                  </div>\n                  \n                  <div className=\"flex items-center gap-1 ml-3\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={() => handleLoadPreset(preset.id)}\n                      disabled={isLoading}\n                      className=\"text-blue-600 hover:text-blue-700\"\n                    >\n                      {isLoading ? (\n                        <Loader2 className=\"w-4 h-4 animate-spin\" />\n                      ) : (\n                        <Upload className=\"w-4 h-4\" />\n                      )}\n                    </Button>\n                    \n                    {!preset.isDefault && (\n                      <>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={() => handleSetDefault(preset.id)}\n                          disabled={isSettingDefault}\n                          className=\"text-orange-600 hover:text-orange-700\"\n                          title=\"Set as default\"\n                        >\n                          <Star className=\"w-4 h-4\" />\n                        </Button>\n                        \n                        <AlertDialog>\n                          <AlertDialogTrigger asChild>\n                            <Button\n                              variant=\"ghost\"\n                              size=\"sm\"\n                              className=\"text-red-600 hover:text-red-700\"\n                            >\n                              <Trash2 className=\"w-4 h-4\" />\n                            </Button>\n                          </AlertDialogTrigger>\n                          <AlertDialogContent>\n                            <AlertDialogHeader>\n                              <AlertDialogTitle>Delete Layout Preset</AlertDialogTitle>\n                              <AlertDialogDescription>\n                                Are you sure you want to delete \"{preset.name}\"? This action cannot be undone.\n                              </AlertDialogDescription>\n                            </AlertDialogHeader>\n                            <AlertDialogFooter>\n                              <AlertDialogCancel>Cancel</AlertDialogCancel>\n                              <AlertDialogAction\n                                onClick={() => handleDeletePreset(preset.id)}\n                                className=\"bg-red-600 hover:bg-red-700\"\n                              >\n                                Delete\n                              </AlertDialogAction>\n                            </AlertDialogFooter>\n                          </AlertDialogContent>\n                        </AlertDialog>\n                      </>\n                    )}\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n\n          <DialogFooter>\n            <Button \n              variant=\"outline\" \n              onClick={() => setLoadDialogOpen(false)}\n            >\n              Close\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n    </div>\n  )\n}", "\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n", "import * as React from 'react';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport * as DialogPrimitive from '@radix-ui/react-dialog';\nimport { createDialogScope } from '@radix-ui/react-dialog';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createSlottable } from '@radix-ui/react-slot';\n\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * AlertDialog\n * -----------------------------------------------------------------------------------------------*/\n\nconst ROOT_NAME = 'AlertDialog';\n\ntype ScopedProps<P> = P & { __scopeAlertDialog?: Scope };\nconst [createAlertDialogContext, createAlertDialogScope] = createContextScope(ROOT_NAME, [\n  createDialogScope,\n]);\nconst useDialogScope = createDialogScope();\n\ntype DialogProps = React.ComponentPropsWithoutRef<typeof DialogPrimitive.Root>;\ninterface AlertDialogProps extends Omit<DialogProps, 'modal'> {}\n\nconst AlertDialog: React.FC<AlertDialogProps> = (props: ScopedProps<AlertDialogProps>) => {\n  const { __scopeAlertDialog, ...alertDialogProps } = props;\n  const dialogScope = useDialogScope(__scopeAlertDialog);\n  return <DialogPrimitive.Root {...dialogScope} {...alertDialogProps} modal={true} />;\n};\n\nAlertDialog.displayName = ROOT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * AlertDialogTrigger\n * -----------------------------------------------------------------------------------------------*/\nconst TRIGGER_NAME = 'AlertDialogTrigger';\n\ntype AlertDialogTriggerElement = React.ComponentRef<typeof DialogPrimitive.Trigger>;\ntype DialogTriggerProps = React.ComponentPropsWithoutRef<typeof DialogPrimitive.Trigger>;\ninterface AlertDialogTriggerProps extends DialogTriggerProps {}\n\nconst AlertDialogTrigger = React.forwardRef<AlertDialogTriggerElement, AlertDialogTriggerProps>(\n  (props: ScopedProps<AlertDialogTriggerProps>, forwardedRef) => {\n    const { __scopeAlertDialog, ...triggerProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return <DialogPrimitive.Trigger {...dialogScope} {...triggerProps} ref={forwardedRef} />;\n  }\n);\n\nAlertDialogTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * AlertDialogPortal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'AlertDialogPortal';\n\ntype DialogPortalProps = React.ComponentPropsWithoutRef<typeof DialogPrimitive.Portal>;\ninterface AlertDialogPortalProps extends DialogPortalProps {}\n\nconst AlertDialogPortal: React.FC<AlertDialogPortalProps> = (\n  props: ScopedProps<AlertDialogPortalProps>\n) => {\n  const { __scopeAlertDialog, ...portalProps } = props;\n  const dialogScope = useDialogScope(__scopeAlertDialog);\n  return <DialogPrimitive.Portal {...dialogScope} {...portalProps} />;\n};\n\nAlertDialogPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * AlertDialogOverlay\n * -----------------------------------------------------------------------------------------------*/\n\nconst OVERLAY_NAME = 'AlertDialogOverlay';\n\ntype AlertDialogOverlayElement = React.ComponentRef<typeof DialogPrimitive.Overlay>;\ntype DialogOverlayProps = React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>;\ninterface AlertDialogOverlayProps extends DialogOverlayProps {}\n\nconst AlertDialogOverlay = React.forwardRef<AlertDialogOverlayElement, AlertDialogOverlayProps>(\n  (props: ScopedProps<AlertDialogOverlayProps>, forwardedRef) => {\n    const { __scopeAlertDialog, ...overlayProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return <DialogPrimitive.Overlay {...dialogScope} {...overlayProps} ref={forwardedRef} />;\n  }\n);\n\nAlertDialogOverlay.displayName = OVERLAY_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * AlertDialogContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'AlertDialogContent';\n\ntype AlertDialogContentContextValue = {\n  cancelRef: React.MutableRefObject<AlertDialogCancelElement | null>;\n};\n\nconst [AlertDialogContentProvider, useAlertDialogContentContext] =\n  createAlertDialogContext<AlertDialogContentContextValue>(CONTENT_NAME);\n\ntype AlertDialogContentElement = React.ComponentRef<typeof DialogPrimitive.Content>;\ntype DialogContentProps = React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>;\ninterface AlertDialogContentProps\n  extends Omit<DialogContentProps, 'onPointerDownOutside' | 'onInteractOutside'> {}\n\nconst Slottable = createSlottable('AlertDialogContent');\n\nconst AlertDialogContent = React.forwardRef<AlertDialogContentElement, AlertDialogContentProps>(\n  (props: ScopedProps<AlertDialogContentProps>, forwardedRef) => {\n    const { __scopeAlertDialog, children, ...contentProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    const contentRef = React.useRef<AlertDialogContentElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    const cancelRef = React.useRef<AlertDialogCancelElement | null>(null);\n\n    return (\n      <DialogPrimitive.WarningProvider\n        contentName={CONTENT_NAME}\n        titleName={TITLE_NAME}\n        docsSlug=\"alert-dialog\"\n      >\n        <AlertDialogContentProvider scope={__scopeAlertDialog} cancelRef={cancelRef}>\n          <DialogPrimitive.Content\n            role=\"alertdialog\"\n            {...dialogScope}\n            {...contentProps}\n            ref={composedRefs}\n            onOpenAutoFocus={composeEventHandlers(contentProps.onOpenAutoFocus, (event) => {\n              event.preventDefault();\n              cancelRef.current?.focus({ preventScroll: true });\n            })}\n            onPointerDownOutside={(event) => event.preventDefault()}\n            onInteractOutside={(event) => event.preventDefault()}\n          >\n            {/**\n             * We have to use `Slottable` here as we cannot wrap the `AlertDialogContentProvider`\n             * around everything, otherwise the `DescriptionWarning` would be rendered straight away.\n             * This is because we want the accessibility checks to run only once the content is actually\n             * open and that behaviour is already encapsulated in `DialogContent`.\n             */}\n            <Slottable>{children}</Slottable>\n            {process.env.NODE_ENV === 'development' && (\n              <DescriptionWarning contentRef={contentRef} />\n            )}\n          </DialogPrimitive.Content>\n        </AlertDialogContentProvider>\n      </DialogPrimitive.WarningProvider>\n    );\n  }\n);\n\nAlertDialogContent.displayName = CONTENT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * AlertDialogTitle\n * -----------------------------------------------------------------------------------------------*/\n\nconst TITLE_NAME = 'AlertDialogTitle';\n\ntype AlertDialogTitleElement = React.ComponentRef<typeof DialogPrimitive.Title>;\ntype DialogTitleProps = React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>;\ninterface AlertDialogTitleProps extends DialogTitleProps {}\n\nconst AlertDialogTitle = React.forwardRef<AlertDialogTitleElement, AlertDialogTitleProps>(\n  (props: ScopedProps<AlertDialogTitleProps>, forwardedRef) => {\n    const { __scopeAlertDialog, ...titleProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return <DialogPrimitive.Title {...dialogScope} {...titleProps} ref={forwardedRef} />;\n  }\n);\n\nAlertDialogTitle.displayName = TITLE_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * AlertDialogDescription\n * -----------------------------------------------------------------------------------------------*/\n\nconst DESCRIPTION_NAME = 'AlertDialogDescription';\n\ntype AlertDialogDescriptionElement = React.ComponentRef<typeof DialogPrimitive.Description>;\ntype DialogDescriptionProps = React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>;\ninterface AlertDialogDescriptionProps extends DialogDescriptionProps {}\n\nconst AlertDialogDescription = React.forwardRef<\n  AlertDialogDescriptionElement,\n  AlertDialogDescriptionProps\n>((props: ScopedProps<AlertDialogDescriptionProps>, forwardedRef) => {\n  const { __scopeAlertDialog, ...descriptionProps } = props;\n  const dialogScope = useDialogScope(__scopeAlertDialog);\n  return <DialogPrimitive.Description {...dialogScope} {...descriptionProps} ref={forwardedRef} />;\n});\n\nAlertDialogDescription.displayName = DESCRIPTION_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * AlertDialogAction\n * -----------------------------------------------------------------------------------------------*/\n\nconst ACTION_NAME = 'AlertDialogAction';\n\ntype AlertDialogActionElement = React.ComponentRef<typeof DialogPrimitive.Close>;\ntype DialogCloseProps = React.ComponentPropsWithoutRef<typeof DialogPrimitive.Close>;\ninterface AlertDialogActionProps extends DialogCloseProps {}\n\nconst AlertDialogAction = React.forwardRef<AlertDialogActionElement, AlertDialogActionProps>(\n  (props: ScopedProps<AlertDialogActionProps>, forwardedRef) => {\n    const { __scopeAlertDialog, ...actionProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return <DialogPrimitive.Close {...dialogScope} {...actionProps} ref={forwardedRef} />;\n  }\n);\n\nAlertDialogAction.displayName = ACTION_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * AlertDialogCancel\n * -----------------------------------------------------------------------------------------------*/\n\nconst CANCEL_NAME = 'AlertDialogCancel';\n\ntype AlertDialogCancelElement = React.ComponentRef<typeof DialogPrimitive.Close>;\ninterface AlertDialogCancelProps extends DialogCloseProps {}\n\nconst AlertDialogCancel = React.forwardRef<AlertDialogCancelElement, AlertDialogCancelProps>(\n  (props: ScopedProps<AlertDialogCancelProps>, forwardedRef) => {\n    const { __scopeAlertDialog, ...cancelProps } = props;\n    const { cancelRef } = useAlertDialogContentContext(CANCEL_NAME, __scopeAlertDialog);\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    const ref = useComposedRefs(forwardedRef, cancelRef);\n    return <DialogPrimitive.Close {...dialogScope} {...cancelProps} ref={ref} />;\n  }\n);\n\nAlertDialogCancel.displayName = CANCEL_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype DescriptionWarningProps = {\n  contentRef: React.RefObject<AlertDialogContentElement | null>;\n};\n\nconst DescriptionWarning: React.FC<DescriptionWarningProps> = ({ contentRef }) => {\n  const MESSAGE = `\\`${CONTENT_NAME}\\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \\`${CONTENT_NAME}\\` by passing a \\`${DESCRIPTION_NAME}\\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \\`id\\` and passing the same value to the \\`aria-describedby\\` prop in \\`${CONTENT_NAME}\\`. If the description is confusing or duplicative for sighted users, you can use the \\`@radix-ui/react-visually-hidden\\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;\n\n  React.useEffect(() => {\n    const hasDescription = document.getElementById(\n      contentRef.current?.getAttribute('aria-describedby')!\n    );\n    if (!hasDescription) console.warn(MESSAGE);\n  }, [MESSAGE, contentRef]);\n\n  return null;\n};\n\nconst Root = AlertDialog;\nconst Trigger = AlertDialogTrigger;\nconst Portal = AlertDialogPortal;\nconst Overlay = AlertDialogOverlay;\nconst Content = AlertDialogContent;\nconst Action = AlertDialogAction;\nconst Cancel = AlertDialogCancel;\nconst Title = AlertDialogTitle;\nconst Description = AlertDialogDescription;\n\nexport {\n  createAlertDialogScope,\n  //\n  AlertDialog,\n  AlertDialogTrigger,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogContent,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  //\n  Root,\n  Trigger,\n  Portal,\n  Overlay,\n  Content,\n  Action,\n  Cancel,\n  Title,\n  Description,\n};\nexport type {\n  AlertDialogProps,\n  AlertDialogTriggerProps,\n  AlertDialogPortalProps,\n  AlertDialogOverlayProps,\n  AlertDialogContentProps,\n  AlertDialogActionProps,\n  AlertDialogCancelProps,\n  AlertDialogTitleProps,\n  AlertDialogDescriptionProps,\n};\n", "import React from 'react'\n\ninterface SimpleEnhancedHeaderProps {\n  workspaceId: string\n}\n\nexport default function SimpleEnhancedHeader({ workspaceId }: SimpleEnhancedHeaderProps) {\n  return (\n    <header className=\"h-16 bg-white border-b border-gray-200 px-4 flex items-center justify-between shadow-sm\">\n      <div className=\"flex items-center space-x-4\">\n        <div className=\"text-lg font-semibold text-blue-600\">\n          \uD83D\uDE80 Enhanced Workspace Header\n        </div>\n        <button className=\"px-3 py-1 bg-blue-500 text-white rounded text-sm\">\n          Quick Add\n        </button>\n        <button className=\"px-3 py-1 bg-green-500 text-white rounded text-sm\">\n          Command \u2318K\n        </button>\n      </div>\n      \n      <div className=\"flex-1 max-w-md mx-8\">\n        <input \n          type=\"text\" \n          placeholder=\"Search workspace or press \u2318K...\"\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm\"\n        />\n      </div>\n      \n      <div className=\"flex items-center space-x-3\">\n        <button className=\"px-3 py-1 bg-gray-500 text-white rounded text-sm\">\n          Sync\n        </button>\n        <button className=\"px-3 py-1 bg-purple-500 text-white rounded text-sm\">\n          Notifications\n        </button>\n        <div className=\"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm\">\n          U\n        </div>\n      </div>\n    </header>\n  )\n}", "/**\n * Workspace Page - Modern panel-based workspace\n * Replaces traditional app switching with unlimited panels\n */\n\nimport React from 'react'\nimport { useNavigate, useParams } from 'react-router'\nimport Layout from '../components/project/Layout'\nimport PanelWorkspace from '../components/workspace/PanelWorkspace'\nimport WorkspaceHeaderConsolidated from '../components/workspace/WorkspaceHeaderConsolidated'\nimport SimpleEnhancedHeader from '../components/workspace/SimpleEnhancedHeader'\nimport { trpc } from '../lib/trpc'\nimport { Loader2 } from 'lucide-react'\n\nexport default function Workspace() {\n  const navigate = useNavigate()\n  const { workspaceId } = useParams()\n  \n  const { data: workspaces, isLoading } = trpc.workspace.list.useQuery(undefined, {\n    staleTime: 300000, // Cache for 5 minutes\n    cacheTime: 600000, // Keep in cache for 10 minutes\n  })\n  \n  // Use workspace from URL params, or fallback to first workspace\n  const activeWorkspace = workspaceId \n    ? workspaces?.find(w => w.id === workspaceId)\n    : workspaces?.find(w => w._count.projects > 0 || w._count.teams > 0 || w._count.kanbans > 0) || workspaces?.[0]\n\n  const { data: panels = [] } = trpc.panel.list.useQuery(\n    { workspaceId: activeWorkspace?.id ?? '' },\n    { \n      enabled: !!activeWorkspace?.id,\n      staleTime: 60000, // Cache for 1 minute\n      cacheTime: 300000, // Keep in cache for 5 minutes\n    }\n  )\n\n  if (isLoading) {\n    return (\n      <Layout>\n        <div className=\"flex items-center justify-center h-full\">\n          <div className=\"text-center\">\n            <Loader2 className=\"w-8 h-8 mx-auto mb-2 animate-spin text-krushr-primary\" />\n            <p className=\"text-gray-600\">Loading workspace...</p>\n          </div>\n        </div>\n      </Layout>\n    )\n  }\n\n  if (!activeWorkspace) {\n    return (\n      <Layout>\n        <div className=\"flex flex-col min-h-full\" style={{ backgroundColor: 'hsl(0deg 0% 96.47%)' }}>\n          {/* Simple Enhanced Header for testing */}\n          <SimpleEnhancedHeader workspaceId=\"demo-workspace-id\" />\n          \n          <div className=\"flex items-center justify-center flex-1\">\n            <div className=\"text-center\">\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">No Workspace Found</h2>\n              <p className=\"text-gray-600\">\n                You need to create or join a workspace to use the panel system.\n              </p>\n              <p className=\"text-sm text-gray-500 mt-2\">\n                (Enhanced header shown above for testing)\n              </p>\n            </div>\n          </div>\n        </div>\n      </Layout>\n    )\n  }\n\n  const handleNavigate = (path: string) => {\n    console.log('Navigate to:', path)\n    navigate(path)\n  }\n\n  const handleCreatePanel = (type: string) => {\n    // Handle panel creation\n    console.log('Create panel:', type)\n  }\n\n  const handleAction = (action: string) => {\n    // Handle various actions\n    console.log('Action:', action)\n  }\n\n  return (\n    <Layout>\n      <div className=\"flex flex-col min-h-full\" style={{ backgroundColor: 'hsl(0deg 0% 96.47%)' }}>\n        {/* Consolidated Workspace Header */}\n        <WorkspaceHeaderConsolidated\n          workspaceId={activeWorkspace.id}\n          panels={panels}\n          onNavigate={handleNavigate}\n          onCreatePanel={handleCreatePanel}\n          onAction={handleAction}\n        />\n        \n        {/* Drag-and-Drop Panel Workspace */}\n        <PanelWorkspace \n          workspaceId={activeWorkspace.id} \n          className=\"flex-1\"\n        />\n      </div>\n    </Layout>\n  )\n}", "import React from 'react'\nimport { Link } from 'react-router'\nimport { ArrowRight, CheckCircle } from 'lucide-react'\nimport { Button } from '../components/ui/button'\nimport KrushrLogo from '../components/common/KrushrLogo'\n\nexport default function SimpleLanding() {\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-white to-gray-50\">\n      {/* Header */}\n      <header className=\"px-6 py-4 border-b\">\n        <div className=\"max-w-6xl mx-auto flex items-center justify-between\">\n          <KrushrLogo size=\"lg\" />\n          <div className=\"flex items-center gap-4\">\n            <Link to=\"/login\">\n              <Button variant=\"ghost\">Sign In</Button>\n            </Link>\n            <Link to=\"/register\">\n              <Button>Get Started</Button>\n            </Link>\n          </div>\n        </div>\n      </header>\n\n      {/* Hero Section */}\n      <section className=\"px-6 py-20\">\n        <div className=\"max-w-4xl mx-auto text-center\">\n          <h1 className=\"text-5xl font-bold text-gray-900 mb-6\">\n            Project Management\n            <span className=\"text-krushr-primary\"> Made Simple</span>\n          </h1>\n          <p className=\"text-xl text-gray-600 mb-8 max-w-2xl mx-auto\">\n            Organize tasks, collaborate with teams, and ship projects faster with Krushr's \n            intuitive workspace platform.\n          </p>\n          <div className=\"flex items-center justify-center gap-4\">\n            <Link to=\"/register\">\n              <Button size=\"lg\" className=\"bg-krushr-primary hover:bg-krushr-primary/90\">\n                Start Free Trial\n                <ArrowRight className=\"w-4 h-4 ml-2\" />\n              </Button>\n            </Link>\n            <Link to=\"/workspace\">\n              <Button size=\"lg\" variant=\"outline\">\n                View Demo\n              </Button>\n            </Link>\n          </div>\n        </div>\n      </section>\n\n      {/* Features */}\n      <section className=\"px-6 py-16 bg-white\">\n        <div className=\"max-w-6xl mx-auto\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">\n              Everything you need to stay organized\n            </h2>\n          </div>\n          \n          <div className=\"grid md:grid-cols-3 gap-8\">\n            {[\n              {\n                title: \"Kanban Boards\",\n                description: \"Visual task management with drag-and-drop simplicity\"\n              },\n              {\n                title: \"Real-time Collaboration\", \n                description: \"Work together seamlessly with live updates and chat\"\n              },\n              {\n                title: \"AI Assistant\",\n                description: \"Get smart suggestions and automate routine tasks\"\n              }\n            ].map((feature, index) => (\n              <div key={index} className=\"text-center p-6\">\n                <div className=\"w-12 h-12 bg-krushr-primary/10 rounded-lg flex items-center justify-center mx-auto mb-4\">\n                  <CheckCircle className=\"w-6 h-6 text-krushr-primary\" />\n                </div>\n                <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">\n                  {feature.title}\n                </h3>\n                <p className=\"text-gray-600\">\n                  {feature.description}\n                </p>\n              </div>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* CTA */}\n      <section className=\"px-6 py-20 bg-krushr-primary\">\n        <div className=\"max-w-4xl mx-auto text-center\">\n          <h2 className=\"text-3xl font-bold text-white mb-4\">\n            Ready to get organized?\n          </h2>\n          <p className=\"text-krushr-primary/80 mb-8\">\n            Join thousands of teams already using Krushr to ship better projects.\n          </p>\n          <Link to=\"/register\">\n            <Button size=\"lg\" variant=\"secondary\">\n              Start Your Free Trial\n            </Button>\n          </Link>\n        </div>\n      </section>\n\n      {/* Footer */}\n      <footer className=\"px-6 py-8 bg-gray-900 text-white\">\n        <div className=\"max-w-6xl mx-auto text-center\">\n          <KrushrLogo size=\"md\" className=\"mb-4 justify-center\" />\n          <p className=\"text-gray-400\">\n            \u00A9 2025 Krushr. Built for teams that ship.\n          </p>\n        </div>\n      </footer>\n    </div>\n  )\n}"],
  "mappings": "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",
  "names": ["m", "parse", "serialize", "max", "min", "isDate", "areArraysEqual", "areDatesEqual", "areMapsEqual", "areObjectsEqual", "areRegExpsEqual", "areSetsEqual", "e", "t", "max", "compactType", "collides", "id", "isFunction", "t", "e", "React", "t", "e", "React", "t", "e", "require_utils", "cloneElement", "React", "_getRequireWildcardCache", "nodeInterop", "p", "_setPrototypeOf", "o", "Resizable", "React", "_getRequireWildcardCache", "nodeInterop", "p", "_setPrototypeOf", "o", "ResizableBox", "data", "t", "data", "React", "t", "e", "l", "React", "t", "e", "global", "index", "isBrowser", "ResizeObserverController", "observers", "ResizeObservation", "ResizeObserverEntry", "ResizeObserverSPI", "ResizeObserver", "React", "t", "e", "node", "navigator", "navigator", "navigator", "m", "m", "id", "navigator", "id", "composeEventHandlers", "m", "m2", "Link", "navigator", "data", "import_react", "import_react", "import_react", "import_react", "React", "import_jsx_runtime", "Portal", "React", "React", "import_jsx_runtime", "Root", "import_jsx_runtime", "Label", "Root", "React", "import_jsx_runtime", "lastDayOfMonth", "__assign", "t", "p", "toDate", "_jsx", "formatCaption", "_jsxs", "formatMonthCaption", "labelMonthDropdown", "m", "formatYearCaption", "labelYearDropdown", "year", "setMonth", "month", "_a", "NavigationContext", "useNavigation", "Button", "labelPrevious", "labelNext", "_Fragment", "formatWeekdayName", "labelWeekday", "formatDay", "min", "max", "_b", "InternalModifier", "labelWeekNumber", "formatWeekNumber", "useIsomorphicLayoutEffect", "useId", "id", "Root", "import_jsx_runtime", "Calendar", "className", "props", "React", "React", "import_jsx_runtime", "Content", "Root", "Trigger", "Portal", "Content", "import_jsx_runtime", "Popover", "Root2", "PopoverTrigger", "Trigger", "PopoverContent", "Portal", "Content2", "React", "React", "import_jsx_runtime", "getState", "Root", "import_jsx_runtime", "Switch", "Root", "React", "React", "import_jsx_runtime", "TRIGGER_NAME", "getState", "BUBBLE_INPUT_NAME", "import_jsx_runtime", "Checkbox", "React", "React", "import_jsx_runtime", "NAME", "Root", "import_jsx_runtime", "Separator", "Root", "ContentType", "import_jsx_runtime", "data", "validation", "t", "Label", "Switch", "Popover", "PopoverTrigger", "PopoverContent", "Calendar", "Separator", "Checkbox", "import_jsx_runtime", "data", "import_react", "import_jsx_runtime", "data", "t", "count", "Label", "Popover", "PopoverTrigger", "PopoverContent", "Calendar", "Switch", "import_react", "import_jsx_runtime", "data", "import_react", "import_react", "import_react", "import_jsx_runtime", "priority", "status", "labels", "m", "comment", "import_jsx_runtime", "e", "import_jsx_runtime", "import_jsx_runtime", "data", "import_react", "React", "import_jsx_runtime", "import_jsx_runtime", "import_jsx_runtime", "data", "error", "Link", "import_react", "import_jsx_runtime", "data", "error", "Link", "import_react", "import_react", "import_react", "import_jsx_runtime", "workspaces", "import_jsx_runtime", "notifications", "import_react", "import_react", "React", "React", "React", "import_jsx_runtime", "id", "Root", "import_jsx_runtime", "Root", "TRIGGER_NAME", "CONTENT_NAME", "List", "Trigger", "Content", "import_jsx_runtime", "Tabs", "Root2", "TabsList", "List", "TabsTrigger", "Trigger", "TabsContent", "Content", "import_jsx_runtime", "notifications", "Tabs", "TabsList", "TabsTrigger", "import_jsx_runtime", "notifications", "Popover", "PopoverTrigger", "PopoverContent", "import_react", "import_react", "import_jsx_runtime", "import_jsx_runtime", "notifications", "t", "toast", "import_react", "X", "P", "T", "L", "N", "Y", "K", "u", "p", "m", "$", "k", "J", "W", "U", "X", "B", "Portal", "import_jsx_runtime", "t", "p", "import_jsx_runtime", "import_jsx_runtime", "import_jsx_runtime", "import_jsx_runtime", "tasks", "import_jsx_runtime", "workspaces", "notifications", "data", "import_react", "import_react", "import_jsx_runtime", "import_jsx_runtime", "import_jsx_runtime", "import_jsx_runtime", "workspaces", "kanbans", "k", "import_react", "import_jsx_runtime", "tasks", "import_react", "data", "id", "import_jsx_runtime", "Calendar", "import_react", "import_jsx_runtime", "import_jsx_runtime", "import_react", "import_jsx_runtime", "k", "formatDate", "import_jsx_runtime", "formatFileSize", "k", "import_jsx_runtime", "import_react", "import_jsx_runtime", "teams", "workspaces", "import_react", "import_jsx_runtime", "teams", "formatDate", "p", "import_jsx_runtime", "import_react", "import_jsx_runtime", "Settings", "import_jsx_runtime", "import_react", "import_react", "React", "genId", "t", "toast", "id", "props", "React", "React", "React", "import_jsx_runtime", "Collection", "useCollection", "createCollectionScope", "usePopperScope", "useRovingFocusGroupScope", "Menu", "ANCHOR_NAME", "PORTAL_NAME", "PortalProvider", "usePortalContext", "CONTENT_NAME", "Slot", "Root", "Content", "focusFirst", "GROUP_NAME", "ITEM_NAME", "isIndeterminate", "ARROW_NAME", "wrapArray", "Anchor", "Portal", "Label", "Item", "Separator", "Arrow", "import_jsx_runtime", "Root3", "TRIGGER_NAME", "PORTAL_NAME", "Portal", "CONTENT_NAME", "Content2", "GROUP_NAME", "LABEL_NAME", "Label", "ITEM_NAME", "CHECKBOX_ITEM_NAME", "RADIO_GROUP_NAME", "RADIO_ITEM_NAME", "INDICATOR_NAME", "SEPARATOR_NAME", "Separator", "ARROW_NAME", "SUB_TRIGGER_NAME", "SUB_CONTENT_NAME", "Root", "Trigger", "Portal", "Content", "Label", "Item", "CheckboxItem", "RadioItem", "ItemIndicator", "Separator", "SubTrigger", "SubContent", "import_jsx_runtime", "DropdownMenu", "Root2", "DropdownMenuTrigger", "Trigger", "DropdownMenuSubTrigger", "DropdownMenuSubContent", "DropdownMenuContent", "Portal2", "Content2", "DropdownMenuItem", "Item2", "DropdownMenuCheckboxItem", "DropdownMenuRadioItem", "DropdownMenuLabel", "Label2", "DropdownMenuSeparator", "Separator2", "import_jsx_runtime", "KanbanBoard", "Chat", "React", "toast", "DropdownMenu", "DropdownMenuTrigger", "DropdownMenuContent", "DropdownMenuItem", "DropdownMenuSeparator", "import_react", "toast", "data", "import_jsx_runtime", "GridLayout", "p", "layout", "import_react", "React", "React", "import_jsx_runtime", "usePopperScope", "open", "TRIGGER_NAME", "PORTAL_NAME", "PortalProvider", "usePortalContext", "CONTENT_NAME", "isPointInPolygon", "Content", "Root", "ARROW_NAME", "p", "Trigger", "Portal", "import_jsx_runtime", "TooltipProvider", "Tooltip", "Root3", "TooltipTrigger", "Trigger", "TooltipContent", "Portal", "Content2", "import_react", "React", "import_jsx_runtime", "Command", "import_jsx_runtime", "workspaces", "commands", "import_jsx_runtime", "import_react", "React", "React", "import_jsx_runtime", "TRIGGER_NAME", "PORTAL_NAME", "Portal", "CONTENT_NAME", "Slottable", "Root", "Trigger", "Overlay", "Content", "Action", "Title", "Description", "import_jsx_runtime", "AlertDialog", "Root2", "AlertDialogTrigger", "Trigger2", "AlertDialogPortal", "Portal2", "AlertDialogOverlay", "AlertDialogContent", "Content2", "AlertDialogTitle", "AlertDialogDescription", "AlertDialogAction", "Action", "AlertDialogCancel", "import_jsx_runtime", "formatDate", "Label", "AlertDialog", "AlertDialogTrigger", "AlertDialogContent", "AlertDialogTitle", "AlertDialogDescription", "AlertDialogCancel", "AlertDialogAction", "import_jsx_runtime", "workspaces", "notifications", "kanbans", "p", "data", "TooltipProvider", "DropdownMenu", "DropdownMenuTrigger", "DropdownMenuContent", "DropdownMenuLabel", "DropdownMenuSeparator", "DropdownMenuItem", "Tooltip", "TooltipTrigger", "TooltipContent", "import_jsx_runtime", "import_jsx_runtime", "workspaces", "import_jsx_runtime", "Link", "import_jsx_runtime", "Calendar", "Settings", "import_jsx_runtime", "registration"]
}
